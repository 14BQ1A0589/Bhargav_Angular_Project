(function(){function RO(){this.aW={};this.TR={}}RO.pu=[];RO.br=function(Q){var S=RO.pu;if(S.length!=0){var B=new b(P.E.WW);
for(var y=0;y<S.length;y++)S[y].B(B)}window.requestAnimationFrame(RO.br)};window.requestAnimationFrame(RO.br);
RO.prototype.bQ=function(Q){var S=this.aW[Q];if(S==null)return!1;return S.length>0};RO.prototype.addEventListener=function(Q,S){this.w(Q,S,null)};
RO.prototype.w=function(Q,S,B){if(this.aW[Q]==null){this.aW[Q]=[];this.TR[Q]=[]}this.aW[Q].push(S);this.TR[Q].push(B);
if(Q==P.E.WW){var y=RO.pu;if(y.indexOf(this)==-1)y.push(this)}};RO.prototype.removeEventListener=function(Q,S){var B=this.aW[Q];
if(B==null)return;var y=B.indexOf(S);if(y<0)return;var l=this.TR[Q];B.splice(y,1);l.splice(y,1);if(Q==P.E.WW&&B.length==0){var D=RO.pu;
D.splice(D.indexOf(this),1)}};RO.prototype.B=function(Q){Q.currentTarget=this;if(Q.target==null)Q.target=this;
var S=this.aW[Q.type];if(S==null)return;var B=this.TR[Q.type];for(var y=0;y<S.length;y++){if(B[y]==null)S[y](Q);
else S[y].call(B[y],Q)}};function NZ(){RO.call(this);this.Yi={};this.aI={};this.mCq={};NZ.op=this}NZ.prototype=new RO;
NZ.mFX=function(Q,S){var B=0,y=NZ.lj;while(B<y.length){if((S>>>B&1)==1)break;B++}if(S==0||y[B][1]==""){if((S&15)!=0&&NZ.by(Q,[33,126])>.7)B=0;
else if(S==0)B=0;else{B=0}}return y[B][1]};NZ.pX=120;NZ.l$=20;NZ.cols=16;NZ.Rj=function(Q){var S=Q.name.postScriptName;
if(S==null)return null;return S.replace(/ /g,"-")};NZ.bL=function(Q){var S=Q.name,B=S.typoFamilyName?S.typoFamilyName:S.fontFamily,y=S.typoSubfamilyName?S.typoSubfamilyName:S.fontSubfamily,l=NZ.mGs,D=B.toLowerCase();
for(var R=0;R<l.length;R++){if(l[R]=="roman")continue;if(D.endsWith(" "+l[R])||D.endsWith("-"+l[R])){var p=B.length-l[R].length,O=B.slice(p);
B=B.slice(0,p-1);if(O!=""){if(y=="Regular"||y==B+" Regular")y=O;else y=O+" "+y}break}}var M="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var R=0;R<M.length;R++)if(B.startsWith(M[R])){var O=B.slice(M[R].length);B=M[R];if(O.startsWith(" ")||O.startsWith("-"))O=O.slice(1);
if(O!=""){if(y=="Regular")y=O;else y=O+" "+y}break}var U={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},m=U[NZ.Rj(Q)];
if(m)y=m;return[B,y]};NZ.prototype.aq=function(Q,S){if(this.Yi[Q])return this.Yi[Q];if(this.aI[Q])return null;
var B=null,y=this.Wo();if(y[Q]!=null)B=y[Q][5];if(B==null){var l=NZ.mGe[Q];if(l==null){var D="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),R=Q.toLowerCase(),p=0;
if(R.indexOf("sans")!=-1)p=0;else if(R.indexOf("serif")!=-1)p=4;var O=R.indexOf("bold")!=-1||R.indexOf("-black")!=-1,M=R.indexOf("italic")!=-1||R.indexOf("oblique")!=-1||R.endsWith("-it");
if(O&&M)p+=3;else if(M)p+=2;else if(O)p+=1;l=D[p]}if(S!=null&&S>128)l=this.bd(S,l);if(this.mCq[l]==null)alert(Nd.get([22,6,0])+" "+Q+" "+Nd.get([22,6,1])+". "+Nd.get([22,6,2])+" "+l+".");
this.mCq[l]=!0;return this.aq(l,S)}this.aI[Q]="a";var U=new b(P.E.T,!0);U.data={H:P.l.fd,yQ:{url:"rsrc/fonts/"+B}};
this.B(U)};NZ.prototype.bd=function(Q,S,B){var y=this.Yi[S];if(y&&Typr.U.codeToGlyph(y,Q)!=0)return S;
var l=this.Wo(),D=NZ.mFA(Q),R=D[0];if(l[S]&&(l[S][3]&R)==0){if(B)for(var p=0;p<B.length;p++){var O=B[p].Name,M=l[O];
if(M&&(M[3]&R)!=0)return O}var O=NZ.lj[D[1]][4];if(l[O])return O}return S};NZ.mFA=function(Q){var S=NZ.lj,B=[0];
for(var y=0;y<S.length;y++){var l=S[y][2];for(var D=0;D<l.length;D+=2)if(l[D]<=Q&&Q<=l[D+1]){B[0]+=1<<y;
B.push(y)}}if(B.length==1)B.push(0);return B};NZ.prototype.m_e=function(Q,S){if(S!=!0)alert(Nd.get([22,6,0])+" "+Q.name.fullName+" "+Nd.get([23,0])+".");
var B=NZ.Rj(Q),y=this.Wo(),l=y[B],D=NZ.m_s(Q);if(l==null){var R=document.createElement("canvas"),p=R.getContext("2d");
R.width=NZ.pX;R.height=NZ.l$;var O=NZ.l$*1.2/Q.head.unitsPerEm;p.translate(4,NZ.l$*.9);p.scale(O,-O);
p.fillStyle="#000000";var M=Typr.U.shape(Q,NZ.mFX(Q,D[3]),!0);Typr.U.pathToContext(Typr.U.shapeToPath(Q,M),p);
p.fill();D.mCV=R.toDataURL();this.bV(D)}delete this.aI[B];this.Yi[B]=Q};NZ.mNW=function(){var Q=NZ.lj,S=[];
for(var B=0;B<Q.length;B++)S.push(Q[B][0]);return S};NZ.lj=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"]];
NZ.m_s=function(Q,S,B){var y=Q.name,M=0;if(NZ.Rj(Q)==null){console.log(Q);throw"No postScriptName!"}var l=NZ.lj,D=[];
for(var R=0;R<l.length;R++){var p=l[R][2],O=l[R][3];D[R]=NZ.by(Q,p)>O?1:0}for(var R=0;R<D.length;R++)M+=D[R]<<R;
var U=NZ.bL(Q);return[U[0],U[1],NZ.Rj(Q),M,B,S]};NZ.by=function(Q,S){var B=0,y=0;for(var l=0;l<S.length;
l+=2){for(var D=S[l];D<=S[l+1];D++){var R=Typr.U.codeToGlyph(Q,D);if(R==0)y++;else B++}}return B/(B+y)};
NZ.mNF=function(Q,S){if(Q[2]<S[2])return-1;if(Q[2]>S[2])return 1;return 0};NZ.mN_=function(Q,S){if(Q[5]=="fs/"+Q[2]+".otf")Q[5]="";
else if(Q[5]=="gf/"+Q[2]+".otf")Q[5]="a";if(Q[2]==(Q[0]+"-"+Q[1]).replace(/\s/g,"")){Q[2]=""}else if(Q[2]==Q[0].replace(/\s/g,"")){Q[2]="a"}if(S){if(Q[0]==S[0])Q[0]="";
if(Q[1]==S[1])Q[1]="";if(Q[3]==S[3])Q[3]="";if(Q[4]==S[4])Q[4]=""}return Q.join(",")};NZ.mGp=function(Q,S){Q=Q.split(",");
if(Q[0]=="")Q[0]=S[0];if(Q[1]=="")Q[1]=S[1];if(Q[3]=="")Q[3]=S[3];else Q[3]=parseInt(Q[3]);if(Q[4]=="")Q[4]=S[4];
else Q[4]=parseInt(Q[4]);if(Q[2]=="")Q[2]=(Q[0]+"-"+Q[1]).replace(/\s/g,"");else if(Q[2]=="a")Q[2]=Q[0].replace(/\s/g,"");
if(Q[5]=="")Q[5]="fs/"+Q[2]+".otf";else if(Q[5]=="a")Q[5]="gf/"+Q[2]+".otf";return Q};NZ.mGe={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""};
NZ.prototype.Wo=function(){if(FNTS.map==null){var Q=FNTS.list,S=[];for(var B=0;B<Q.length;B++){S[B]=NZ.mGp(Q[B],S[B-1]);
S[B].d_=B;this.bV(S[B])}}return FNTS.map};NZ.prototype.bV=function(Q){var S=Q[0],B=Q[1],y=Q[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[Q[2]]=Q;if(FNTS.mapFS==null)FNTS.mapFS={};var l=FNTS.mapFS[S+"---"+B];FNTS.mapFS[S+"---"+B]=Q;
if(FNTS.mapSub==null)FNTS.mapSub={};var D=FNTS.mapSub[S];if(D==null)D=FNTS.mapSub[S]=[];var R=D.indexOf(B);
if(R==-1)D.push(B);else D[R]=B};NZ.mGU=function(Q,S){return NZ.aJ(Q)-NZ.aJ(S)};NZ.aJ=function(Q){Q=Q.toLowerCase();
var S=NZ.mGE(Q)+(NZ.mv_(Q)<<1);if(Q.indexOf("cond")==-1)S+=1<<25;return S};NZ.mGE=function(Q){return Q.indexOf("italic")!=-1||Q.indexOf("oblique")!=-1?1:0};
NZ.mGs="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
NZ.mGY=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
NZ.mv_=function(Q){var S=NZ.mGY,B=-1,y=-1;for(var l=0;l<S.length;l++){var D=S[l];if(D instanceof Array)for(var R=0;
R<D.length;R++){var p=D[R];if(Q.indexOf(p)!=-1&&(B==-1||y<p.length)){B=l;y=p.length}}else if(Q.indexOf(D)!=-1&&(B==-1||y<D.length)){B=l;
y=D.length}}if(B==-1)B=8;return B};NZ.bh=function(Q,S){var B=1e9,y=null,l=NZ.aJ(S);for(var D=0;D<Q.length;
D++){var R=Math.abs(NZ.aJ(Q[D])-l);if(R<B){B=R;y=Q[D]}}return y};NZ.prototype.pT=function(Q,S){this.Wo();
return FNTS.mapFS[Q+"---"+S]};NZ.prototype.bg=function(Q){this.Wo();return FNTS.mapSub[Q]};NZ.prototype.mwr=function(){this.Wo();
return FNTS.mapSub};var N_={Vb:0,RS:null,jM:null,ba:null,bv:null,pI:null,bw:!0,bf:0,pS:!1},mq=0;N_.vX=function(){return N_.vk()!=null&&N_.vk()[P.Nw("!&|'&50")]*200>Date.now()/5};
N_.qR=function(){return N_.mfP()!=null};N_.vk=function(){return N_.pI};N_.SZ=function(Q){window.addEventListener("message",N_.mfO,!1);
setInterval(N_.bn,5e3);if(N_.qR()){N_.RS=Q;N_.ah()}else setTimeout(Q,1)};N_.bn=function(){if(N_.qR()&&N_.pS){N_.bE(N_.rq());
N_.pS=!1}};N_.rc=function(Q){N_.RS=Q;var S="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
N_.ba=window.open(S,"_blank")};N_.mfM=function(){localStorage.removeItem(N_.Vb+"_uid");localStorage.removeItem(N_.Vb+"_provider");
localStorage.removeItem(N_.Vb+"_token");N_.pI=null};N_.mfO=function(Q){if(Q.data instanceof ArrayBuffer||Q.data instanceof Object)return;
if(Q.data.charAt(0)!="{")return;var S=JSON.parse(Q.data);if(S.prms==null)return;var B=S.prms.split(",");
if(B[0]=="papi_logged_in"){localStorage[N_.Vb+"_uid"]=B[1];N_.aV(B[2]);localStorage[N_.Vb+"_provider"]=B[3];
N_.ba.close();N_.ah()}if(B[0]=="payment_complete"){N_.bv.close();N_.ah()}};N_.mfP=function(){var Q=localStorage[N_.Vb+"_token"];
if(Q!=null&&Date.now()*.001+10<parseInt(Q.split("-")[0]))return Q;return null};N_.aV=function(Q){var S=localStorage[N_.Vb+"_token"];
if(S!=null&&parseInt(Q.split("-")[0])<parseInt(S.split("-")[0]))return;localStorage[N_.Vb+"_token"]=Q;
clearTimeout(N_.bf);N_.bf=setTimeout(N_.mUJ,Math.min(1e9,parseInt(Q.split("-")[0])*1e3-Date.now()-20*1e3))};
N_.mUJ=function(){var Q=new XMLHttpRequest;Q.open("POST","https://www.photopea.com/papi/record_new.php",!0);
Q.onload=N_.mUj;var S=N_.rd()+"&read=2";Q.setRequestHeader("Content-type","application/x-www-form-urlencoded");
Q.send(S)};N_.ah=function(){var Q=new XMLHttpRequest;Q.open("POST","https://www.photopea.com/papi/record_new.php",!0);
Q.onload=N_.mUU;var S=N_.rd()+"&read=1";Q.setRequestHeader("Content-type","application/x-www-form-urlencoded");
Q.send(S)};N_.bE=function(Q){var S=new XMLHttpRequest;S.open("POST","https://www.photopea.com/papi/record_new.php",!0);
S.onload=N_.mUP;var B=N_.rd()+"&read=0&score=0&spublic="+N_.bw+"&record="+encodeURIComponent(JSON.stringify(Q));
S.setRequestHeader("Content-type","application/x-www-form-urlencoded");S.send(B)};N_.mUU=function(Q){var S=JSON.parse(Q.target.response);
if(S.error){}else{N_.pI=S.user;var B=N_.rq(),y=S.record;if(S.record){N_.bw=S.spublic;N_.bX(y)}else if(B)N_.bE(B)}N_.aV(S.token);
if(N_.RS){N_.RS();N_.RS=null}if(N_.jM){N_.jM();N_.jM=null}};N_.mUj=function(Q){var S=JSON.parse(Q.target.response);
N_.aV(S.token)};N_.mUP=function(Q){var S=JSON.parse(Q.target.response);N_.aV(S.token);if(N_.jM)N_.ah()};
N_.rd=function(){return"app="+N_.Vb+"&uid="+localStorage[N_.Vb+"_uid"]+"&token="+localStorage[N_.Vb+"_token"]};
N_.Qz=function(){return N_.rq()};N_.ry=function(Q,S){N_.bX(Q);N_.pS=!0;if(S){N_.jM=S;N_.bn()}};N_.rq=function(){var Q=localStorage[N_.Vb+"_stateLocal"],S;
if(Q==null)return null;try{S=JSON.parse(Q)}catch(Rf){return null}return S};N_.bX=function(Q){var S=JSON.stringify(Q);
localStorage[N_.Vb+"_stateLocal"]=S};N_.order=function(Q,S,B){N_.RS=B;var y="https://www.photopea.com/papi/order.php?ptype="+S+"&param="+Q+"&uid="+localStorage[N_.Vb+"_uid"]+"&token="+localStorage[N_.Vb+"_token"];
N_.bv=window.open(y,"_blank")};var Nd={};Nd.aC=0;Nd.rV={};Nd.bD=function(Q){var S=LNG.tables,B=S[Q];
if(typeof B=="string"){B=S[Q]=Nd.aU(B)}return B};Nd.aU=function(Q){var S=[],B=0,y=0,l=[],D=Q.length;
while(y!=D){var R=Q[y];if(R=="["){S.push(l);l=[];y=B=y+1}else if(R=="]"){l.push(B==y?null:Q.substring(B,y));
var p=l;l=S.pop();l.push(p);y=B=y+1}else if(R==";"){if(Q[y-1]!="]")l.push(B==y?null:Q.substring(B,y));
y=B=y+1}else y++}return l};Nd.get=function(Q){if(typeof Q=="string")return Q;var S=JSON.stringify(Q),D=0;
if(Nd.rV[S]!=null)return Nd.rV[S];var B=Nd.bD(0),y=Nd.bD(Nd.aC),l=Nd.bT(Q,y);if(l==null)l=Nd.bT(Q,B);
for(var R=0;R<Q.length;R++){var p=Q[R];if(typeof p!="number"){var O=Nd.get(p),M=l.indexOf("VAR"+D);l=l.slice(0,M)+O+l.slice(M+4);
D++}}return l};Nd.bT=function(Q,S){for(var B=0;B<Q.length;B++){S=S[Q[B]];if(S==null)return null;else if(typeof S=="string")break}return S.split("::")[0]};
Nd.mnd=function(){var Q=function(B,y){var l=B.code,D=y.code;if(l=="en")return-1;if(D=="en")return 1;
var R=navigator.languages,p=R.indexOf(l)!=-1,O=R.indexOf(D)!=-1;if(p&&O)return l>D?1:-1;if(p)return-1;
if(O)return 1;return l>D?1:-1},S=LNG.langs.slice(0);S.sort(Q);return S};Nd.mnA=function(Q){Nd.aC=Q};
Nd.rh=function(Q){for(var S=0;S<LNG.langs.length;S++)if(LNG.langs[S].code==Q)Nd.aC=S};Nd.bY=function(){return LNG.langs[Nd.aC].code};
Nd.mnY=function(Q){for(var S=0;S<Q.length;S+=2)Nd.rV[JSON.stringify(Q[S])]=Q[S+1]};Nd.bS=function(Q){var S=-1,B=LNG.langs;
for(var y=0;y<B.length;y++)if(B[y].code==Q)S=y;return S};var LX={jQ:!1};LX.au=function(){return P.Xf[P.jJ("vrt",2)]!=P.Xf[P.jJ("xksn",5)]};
LX.xz=function(){var Q=P.Nw,S=P.Xf[Q("u#z/*%1:")],B=S[Q("s#{3")],y=Q("t&|{1%h2.94@I"),l=Q("xy+_)%0+7@qK~<"),D=Q("r$'\x7F+$f.283"),R=Q("#y$)3%f.283"),p=0,O=Q("$y+[145/+AC7"),M=Q("rx*\x7F+3("),U=P.lU("Y_5UDDB>&\x7F");
if(P.Xf[U]!=!0){p=1}var m=S[y](Q("u}-"));m[O](Q("zx"),M);m[O](Q("$(0&\""),Q("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
B[D](m);m=S[l](M);if(m==null){p=2}else{if(!B[Q("t#%.~)19")](m)){p=3}else if(Math.round(m[Q("xy+\\,51*2:6uAA@LU6LMa")]()[Q("(}{.%")]-500)>5){p=4}B[R](m)}return p};
LX.xM=function(){var Q=P.Xf[P.Nw("t#% &20")],S=P.Xf[P.Nw("$y+n&-(5>@")],B="FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\";
Q(P.lU(B));if(!N_.vX())S(LX.xM,Math.round(Math.PI*1e4))};LX.mEv=function(Q,S,B,y,l){P.EW(B);var D=P.Nw,R=D("r$'\x7F+$f.283"),p=D("$y+[145/+AC7"),O=D("rx{_3%1:u5BF:F@P"),M=D("#y'&~#("),U=D("$(0&\""),m=D("$&z"),Y=D("r'0( "),x=D("%y/.`/1:.:C"),T=D("u}-"),$=P.Xf[D("u#z/*%1:")],L=D("t&|{1%h2.94@I"),s=D("$w)#-4"),j=$[L](D("z!~")),Z="lor<%03.62D4=f?LFrX`aY{]okcwoxz7;54;&14/73E5>gAIVVUMhy{\\dt.kw~:qwC*%/759105DEmrtu~pu+rs\"7!.'lt%>{(/J\"(S:5?GEIA@ETU}#%&/{Z,^(p{~y\"}0 )R+82^DLMEgI[WOc[df#'! 'q| z#~1!*S-5BBA9TegHP`yWcj&]c/upz#!%|{!01Y^`ai\\av^_m#lyrX`p*gsz6ms?&!+315-,1@AinpqygFwJs\\gjemi{kt>v$}J0891S5GC;OGPRnrlkr]hkfnj|lu?x!..-%@QS4<LeCOVqIOza\\fnlphgl{|EJNPTHMbJKYnXe^DL\\uS_f\"Y_+qlv~|!xw|,-UZ^`dS2c6_HSVQYUgW`*boi6{$%|?!3/';3<>Z^XW^ITWRZVhXa+dlyyxp,=? (8Q/;B]5;fMHRZX\\TSXgh16:<A49N67EZDQJ08Ha?KRmEKv]XbjhldchwxAFJLQ?}O\"K4?B=EASCLuN[U\"goph+l~zr'~(*FJDCJ5@C>FBTDMvPXeed\\w)+ks$=z'.I!'R94>FDH@?DST|\"&). %:\"#1F0=6{$4M+7>Y17bIDNVTXPOTcd-269>+i;m7 +.)1-?/8a:GAmS[\\TvXjf^rjsu260/6!,/*2.@09b<DQQPHctvW_o)fry5lr>% *204,+0?@hmrorkp&mn|2{)\"go 9v#*E|#N50:B@D<;@OPx}# #vU'Y#kvyt|x+z$M&3-Y?GH@bDVRJ^V_a}\"{z\"lwzu}y,{%N(0==<4O`bCK[tR^e!X^*pku}{ wv{+,TY^[_W\\qYZh}gtmS[k%bnu1hn:!{&.,0(',;<dinkobArEnWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmXcfaiewgp:s{))( ;LN/7G`>JQlDJu\\Waigkcbgvw@EGNJCH]EFTiS`Y?GWpNZa|TZ&lgqyw{srw'(PUW^ZN-0aZjmFXP\"Yj+**5k7h7o{\"+|\"113<X<6HeJRBOO\\TTdh'kfpxvzrqv&'J-,4V6BS`YCRUTZ${~jmp*fqtows&u~.#3:0-2C`9HImVFOyXd#^jq.my+81)v+;&14/73E5>Yy_JUXS[WiYb}}!'&+K3}),'/+=-6_8E?]}cNY\\W_[m]f0huo..17uz[C=+?OC=,HNVw|~ ( gaPlrz<ACDMD,&t17?`egnjw_JUXS[WiYb,dqk8}&'~A#51)=5>@\\`ZY`TN=Y_g).01:%E+u!$~'#5%.W159?GA2NT\\rt ,'328768:AqVFNSUV_Xb0D?IQOSKJyRabWogfv8190nIKLKBE][,]T^?GWpNZa|TZ&lgqyw{srw'(PUWXaSX`7=@2GW^TQV{^ilgok}mv@&.} &8OSVkS>ILGOK]MV em]_ew/3;t|*z~,(n75C;6D'MBHnr(or]hkfnj|lu?y&{ -)y/?F<9>Ofj es)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgnb\\Kgmu7<>?G3S9$/2-51C3<e?CGMUO@\\bj!#.:5A@FEDFHO dT\\acdlfm>RMW_]aYX(`ope}ut%F?G>|U]ZYPifi:kblMUe~\\ho+bh4zu (&*\"!&56^cefnafnEKN@Uelb_d*lwzu}y,{%N4<,.4F]adyaLWZU]Yk[d.s{kms&=AI#+8)-:6|ECQIDR5[PV|!6}!kvyt|x+z$M(4*.;7(=MTJGL]tx.s\"7fqtows&u~H!.(T:BC;]?QMEYQZ\\x|vu|pjYu{$EJLSOAaG2=@;C?QAJsMQU[c]Njpx/1<HCONTSRTV].rbjoqxtt|L`[emkogf6n}~s,$#3TMUL+igpg^a}wHypz[cs-jv}9pvB)$.6480/4CDlqszvot|SY\\Ncszpmr8z&)$,(:*3\\BJ:<BTkor(oZehckgyir<v#x|*&v,<C96;Lcg|des)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgVad_gcuen8quy (\"r/5=SU`lgsrxwvxz\"R7'/48:>9Ep% *204,+Z3BC8PHGWxqypO**-,#<9<l>5? (8Q/;B]5;fMHRZX\\TSXgh16:<@49Aw}!r(8?527\\?JMHPL^NW!fn^`fx047L{'*%-);+4]7;?EMG8TZbxz&2-98>=<>@Gw\\LTY]_d^g6JEOWUYQP Xgh]uml|>7?6tOORQH]ca2cZdEM]vT`g#Z`,rmw }\"yx}-.V[_afY^f=CF8M]dZW\\\"dormuq$s|F,4$&,>UY\\qALOJRN`PY#\\`djrl]y (>@KWR^]cbacel=\"qy~#&+$-[ojt|z~vuE}-.#;32Bc\\d[:ttwvm#)'W) *jr#<y&-H &Q83=ECG?>CRS{!%(-~$,bhk]r#* |\"G*583;7I9BkQYIKQcz~\"7fqtows&u~H\"&*082#?EMcep|w$#)(')+2bG7?DIFIIR!50:B@D<;jCRSH`XWg)\"*!_::=<3HNL|NEO08Ha?KRmEKv]XbjhldchwxAFKHKDIQ(.1#8HOEBGlOZ]X`\\n^g1v~npv)@DG\\,7:5=9K;DmGKOU]WHdjr)+6B=IHNMLNPW(l\\dinkonwFZU_geia`0hwxm&}|-NGOF%__baXmsqBsjtU]m'dpw3jp<#}(0.2*).=>fkpmqinvMSVH]mtjgl2t #}&\"4$-V<D46<Neil\"Q\\_Zb^p`i3myos!|m#3:0-2CZ^s[^abp&oN";
j[p](U,D("t))-,2]685=F:Jv"));j[O](D("t  }("),y,!1);if(!LX.au()&&!LX.xz()){var e=P.Xf[D("[gfh")][D("!u)-\"")](P.mWS(Z)),E=!1;
if(!LX.jQ){LX.jQ=!0;var J=$[D("xy+_)%0+7@BtN,<E/ETO")](D("yyx~"))[0],N=$[L](s);N[p](m,e[1]);J[R](N);
var N=$[L](s);N[p](Y,Y);N[p](m,e[2]);J[R](N);var N=$[L](s);N[x]=e[3];J[R](N)}var h=e[0],o=[h[l]],V=h[5];
if(l==2){o=[h[3],h[4]];if(S>=3*260+20)o=[h[3],h[4],h[5]];if(S>=4*260+20)o=[h[3],h[4],h[5],h[6]]}for(var n=0;
n<o.length;n++){var t=o[n],q=$[L](T);q[p](D("zx"),t[1]);q[p](U,D("~u)!&.P(8@CABrlnQ\\"));B[R](q);var N=$[L](s);
N[x]=t[0];q[R](N)}if(l!=0){var u=$[L](T);u[p](U,D("~u)!&.]]9DOb"));u[p](D("zx"),D("$$&(0/59"));B[R](u)}if(E){var q=$[L](T);
q[p](D("zx"),V[1]);q[p](U,D("yy !%4]_Y<Gm"));var N=$[L](s);N[x]=V[0];return[q,N,R]}}else{j[p](m,D("z!~I-0\":*8;`EFB"));
B[R](j)}};var pv={vK:0,aG:{expires_at:0},rC:[]};pv.jy=function(Q){if(Q)pv.rC.splice(0,0,Q);if(pv.vK==1)return;
if(pv.aG.expires_at>Date.now()*.001+30){while(pv.rC.length>0)pv.rC.pop()()}else{if(pv.vK==0)pv.vK=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:pv.vK==2?!1:!0},pv.mze)}};
pv.mze=function(Q){if(Q&&!Q.error){pv.aG=Q;pv.vK=!1;pv.jy()}else if(pv.vK==1){pv.vK=2;pv.jy()}else alert("Error: "+Q.error)};
pv.rF=function(){return"access_token="+pv.aG.access_token+"&token_type="+pv.aG.token_type};function Np(){}Np.xp={mzq:["PNG","JPG","SVG","GIF","PDF"],mzl:"EMF WEBP BMP PPM TIFF ICO DDS TGA".split(" ")};
Np.Ge=function(Q){if(!(Q instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var S=new Uint8Array(Q),B=Np.xr,y,l=0;
while(l<S.length&&(S[l]==9||S[l]==10||S[l]==13||S[l]==32))l++;if(B(S,[56,66,80,83]))y="psd";if(B(S,[120,218,236]))y="pxd";
if(B(S,[103,105,109,112,32,120,99,102,32]))y="xcf";if(B(S,[137,80,78,71,13,10,26,10]))y="png";if(B(S,[87,76]))y="cdr";
if(B(S,[82,73,70,70])){var D=pT.fY(S),R=D.Uc;if(R=="WEBP")y="webp";else if(R.slice(0,3)=="CDR")y="cdr";
else y=R}if(B(S,[70,79,82,77])||B(S,[76,73,83,84])||B(S,[67,65,84,32])){var D=Mm.fY(S),R=D.Uc;if(R=="ILBM")y="ilbm";
else y=R}if(B(S,[255,216,255]))y="jpg";if(B(S,[0,0,0,12,106,80,32,32]))y="jpg";if(B(S,[48,0,1,0],4))y="jpg";
if(B(S,[71,73,70,56]))y="gif";if(B(S,[0,0,0,2,121,102,113,76]))y="msh";if(B(S,[0,0,0,3,121,102,113,76]))y="msh";
if(B(S,[0,0,0,16]))y="atn";if(B(S,[0,1]))y="aco";if(B(S,[0,2]))y="aco";if([0,1].indexOf(S[1])!=-1&&[1,2,3,9,10,11].indexOf(S[2])!=-1&&[0,16,24,32].indexOf(S[7])!=-1)y="tga";
if(B(S,[0,2,56,66,83,76]))y="asl";if(B(S,[0,1,0,-1,0,2,0]))y="abr";if(B(S,[0,2,0,-1,0,2,0]))y="abr";
if(B(S,[0,6,0,1]))y="abr";if(B(S,[0,6,0,2]))y="abr";if(B(S,[0,9,0,2]))y="abr";if(B(S,[0,10,0,2]))y="abr";
if(B(S,[56,66,70,83]))y="shc";if(B(S,[56,66,80,84]))y="pat";if(B(S,[56,66,71,82]))y="grd";if(B(S,[56,66,84,80]))y="tpl";
if(B(S,[0,4,0,5]))y="acv";if(B(S,[99,117,115,104]))y="csh";if(B(S,[0,1,0,0,0]))y="otf";if(B(S,[79,84,84,79]))y="otf";
if(B(S,[116,116,99,102]))y="otf";if(B(S,[68,68,83,32]))y="dds";if(B(S,[80,86,82,3]))y="pvr";if(B(S,[0,0,1,0]))y="ico";
if(B(S,[66,77]))y="bmp";if(B(S,[80,49]))y="ppm";if(B(S,[80,50]))y="ppm";if(B(S,[80,51]))y="ppm";if(B(S,[80,52]))y="ppm";
if(B(S,[80,53]))y="ppm";if(B(S,[80,54]))y="ppm";if(B(S,[73,73,42,0]))y="tiff";if(B(S,[77,77,0,42]))y="tiff";
if(B(S,[70,85,74,73,70,73,76,77]))y="raf";if(B(S,[112]))y="lif";if(B(S,[73,73,26,0]))y="ciff";if(B(S,[83,81,76,105]))y="sketch";
if(B(S,[80,75])){var p=UZIP.parse(Q,!0);if(p["document.json"])y="sketch";else if(p.manifest)y="xd";else y="zip"}if(B(S,[123]))y="json";
if(X.j(S,0)==S.length)y="icc";if(B(S,[35]))y="icc";if(B(S,[84,73,84,76]))y="icc";if(B(S,[60,63,120,109],l)){if(X.dm(S,"<look>")!=-1)y="icc";
else y="svg"}if(B(S,[60,115,118,103],l))y="svg";if(B(S,[60,33,100,111],l))y="html";if(B(S,[60,33,68,79],l))y="html";
if(B(S,[37,33])||B(S,[197,208,211,198])){y="eps"}if(B(S,[37,80,68,70],l))y="pdf";if(B(S,[215,205,198,154]))y="wmf";
if(B(S,[1,0,0,0]))y="emf";if(B(S,[239,187,191]))y="jsx";if(B(S,[10,10,10,10]))y="jsx";if(y==null&&k.raw.LK(S.length)!=null)return"tiff";
return y};Np.xr=function(Q,S,B){if(B==null)B=0;for(var y=0;y<S.length;y++)if(S[y]!=-1&&Q[B+y]!=S[y])return!1;
return!0};Np.hG=function(Q){return Np[Q.toUpperCase()]};Np.at=function(Q){var S=Np.xp.mzq,B=Np.xp.mzl,y,l=[];
if(Q==null)y=S.concat(B);else y=Q==0?S:B;for(var Q=0;Q<y.length;Q++)if(Np[y[Q]].Ba)l.push(y[Q]);return l};
Np.ra=function(Q,S,B,y,l){var D=Np.jq(Q,S,B,y,l),R=Np.xN(D);return R.buffer};Np.xN=function(Q){var S=atob(Q.split(",").pop()),B=new Uint8Array(S.length);
for(var y=0;y<S.length;y++)B[y]=S.charCodeAt(y);return B};Np.jq=function(Q,S,B,y,l,D){if(!(Q instanceof ArrayBuffer))throw"e";
if(y==null)y="png";if(y=="png"&&D==!0){var R=Np.PNG.Ba([[Q,0]],S,B);return"data:image/png;base64,"+Np.aa(R)}var p=new Uint8Array(Q),O=Np.vr;
if(O==null)O=Np.vr=P.P("canvas");if(O.width!=S||O.height!=B){O.width=S;O.height=B}var M=O.getContext("2d"),U=new ImageData(new Uint8ClampedArray(Q,0,S*B*4),S,B);
M.putImageData(U,0,0);return O.toDataURL("image/"+y,l)};Np.mmm=function(Q,S,B,y,l){if(l==null)l=0;var D="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",R="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+D+"<g transform=\"translate(64 64) scale("+.25*Math.round(P._())+")\">";
if(Q==1)R+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
R+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+l+")\" xlink:href=\""+S+"\" x=\""+80*B+"\" y=\""+80*y+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var p=new Uint8Array(R.length);X.cb(R,p,0);var O="data:image/svg+xml;base64,"+Np.aa(p.buffer);return{Pb:O,q:new w(0,0,128,128),lC:new v(64,64)}};
Np.aa=function(Q){var S=new Uint8Array(Q),B="";for(var y=0;y<S.length;y++)B+=String.fromCharCode(S[y]);
return btoa(B)};Np.xR=function(Q){var S=[],B=[];for(var y=0;y<Q.G.length;y++){var l=Q.G[y];if(l.getName().slice(0,3)=="_a_"){S.push(y);
B.push(l.qm())}}return[S,B]};Np.jw=function(Q,S,B,y,l,D){if(B==null)B=Q.r;if(y==null)y=Q.O;S=S.toUpperCase();
var R=Np[S],p;if(R.oc){p=R.Ba(Q,B,y,l,D)}else{var O=Np.xR(Q),M=O[0],U=O[1];if(M.length<2){var m;if(B==Q.r&&y==Q.O)m=Q.qB().buffer;
else{var Y=K.Sj.Hg([Q.qB(),new w(0,0,Q.r,Q.O)],new Nu(B/(Q.r+.001),0,0,y/(Q.O+.001),0,0));m=Y.buffer.buffer}p=R.Ba([[m,0,Q.LY]],B,y,l)}else{var x=[];
for(var T=0;T<M.length;T++){var $=M[T],m;for(var L=0;L<M.length;L++)Q.G[M[L]].SO(M[L]==$);Q.Jc();Q.s();
Q.re();if(B==Q.r&&y==Q.O)m=Q.qB().buffer.slice(0);else{var Y=K.Sj.Hg([Q.qB(),new w(0,0,Q.r,Q.O)],new Nu(B/(Q.r+.001),0,0,y/(Q.O+.001),0,0));
m=Y.buffer}var s=Q.G[$].getName().split(",");x.push([m,s[1]?parseInt(s[1]):50,Q.LY])}for(var T=0;T<M.length;
T++)Q.G[M[T]].SO(U[T]);Q.s();Q.re();if(l&&l[l.length-1])x.reverse();p=R.Ba(x,B,y,l)}}return p};Np.PNG={};
Np.PNG.Ba=function(Q,S,B,y){if(y==null)y=[100,!1,0];var l={sRGB:1,loop:y[2]};if(Q[0][2]!=null){var D=Math.round(Q[0][2]*(1e4/254));
l.pHYs=[D,D,1]}var R=y[0],p=R==100?0:Math.max(2,Math.floor(R*5));if(p==5)p=4;var O=[],M=[];for(var U=0;
U<Q.length;U++){O.push(Q[U][0]);M.push(Q[U][1])}var m=UPNG.encode(O,S,B,p,M,l,y[1]);return m};Np.PNG.mmd=function(Q,S,B){return UPNG.encodeLL([Q],S,B,3,1,8)};
Np.PNG.tm=function(Q){var S=Date.now(),B=UPNG.decode(Q),y=UPNG.toRGBA8(B),l=B.width,D=B.height,R=0;if(B.tabs.pHYs)R=Math.round(B.tabs.pHYs[0]*254/1e4);
if(y.length==1)return[{iQ:new w(0,0,l,D),data:y[0],LY:R}];var p=[];for(var O=0;O<y.length;O++){p.push({Uk:"_a_frm"+O+","+B.frames[O].delay,iQ:new w(0,0,l,D),data:y[O],LY:R})}return p};
Np.PPM={};Np.PPM.Ba=function(Q,S,B,y){var l=new Uint8Array(Q[0][0]),D=S*B,R=D*3,p="P6\n"+S+" "+B+"\n255\n",O=p.length,M=k.Q(O+R,!0);
for(var U=0;U<O;U++)M[U]=p.charCodeAt(U);for(var U=0;U<D;U++){var m=U*4,Y=U*3+O;M[Y]=l[m];M[Y+1]=l[m+1];
M[Y+2]=l[m+2]}return M.buffer};Np.PPM.tm=function(Q){Q=new Uint8Array(Q);var S=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],B=0,y=String.fromCharCode(Q[0])+String.fromCharCode(Q[1]),l=[],D=0,R=y=="P1"||y=="P4"?2:3;
for(B=2;B<Q.length;B++){var p=Q[B],O=String.fromCharCode(p);if(p=="#".charCodeAt(0)){while(Q[B]!="\n".charCodeAt(0))B++;
continue}var M=S.indexOf(p)!=-1;if(D==0&&!M){l.push(O);D=1;continue}if(D==1&&!M){l[l.length-1]+=O;continue}if(D==1&&M){D=0;
if(l.length==R)break;continue}}var U=parseInt(l[0]),m=parseInt(l[1]),Y=U*m*4,x=y=="P1"||y=="P4"?1:255/parseInt(l[2]),T=k.Q(Y);
if(y=="P1"||y=="P2"||y=="P3"){var $="",L=0,D=0,s="#".charCodeAt(0);for(var j=B;j<Q.length;j++){var p=Q[j],O=String.fromCharCode(p),M=S.indexOf(p)!=-1;
if(p==s){while(Q[j]!="\n".charCodeAt(0))j++}else if(D==0&&!M){$=O;D=1}else if(D==1){if(M){D=0;var Z=parseInt($);
$="";if(y=="P1"){T[L]=T[L+1]=T[L+2]=(1-Z)*255;T[L+3]=255;L+=4}if(y=="P2"){T[L]=T[L+1]=T[L+2]=Math.round(Z*x);
T[L+3]=255;L+=4}if(y=="P3"){T[L]=Math.round(Z*x);L++;if((L&3)==3){T[L]=255;L++}}}else $+=O}}}var e=U*m;
if(y=="P4")for(var J=0;J<m;J++){var N=J*8*Math.ceil(U/8);for(var E=0;E<U;E++){var j=N+E,h=Q[B+1+(j>>3)];
h=h>>7-(j&7)&1;var o=J*U+E<<2;T[o]=T[o+1]=T[o+2]=(1-h)*255;T[o+3]=255}}if(y=="P5")for(var j=0;j<e;j++){var o=4*j;
T[o]=T[o+1]=T[o+2]=Math.round(Q[B+1+j]*x);T[o+3]=255}if(y=="P6")for(var j=0;j<e;j++){var o=4*j,V=B+1+3*j;
T[o]=Math.round(Q[V]*x);T[o+1]=Math.round(Q[V+1]*x);T[o+2]=Math.round(Q[V+2]*x);T[o+3]=255}return[{iQ:new w(0,0,U,m),data:T.buffer}]};
Np.DDS={};Np.DDS.Ba=function(Q,S,B,y){var l=new Uint8Array(Q[0][0]);if((S&3)!=0||(B&3)!=0){var D=S+(4-(S&3)),R=B+(4-(B&3)),p=new Uint8Array(D*R*4);
k.St(p,4278190080);k.oD(l,new w(0,0,S,B),p,new w(0,0,D,R));l=p;S=D;B=R}return UTEX.DDS.encode(l.buffer,S,B)};
Np.DDS.tm=function(Q){var S=UTEX.DDS.decode(Q)[0];return[{iQ:new w(0,0,S.width,S.height),data:S.image}]};
Np.JPG={};Np.JPG.Ba=function(Q,S,B,y){if(y==null)y=[70];var l=new Uint8Array(Q[0][0]),D=255,R=l.length,p;
for(var O=0;O<R;O+=4)D=D&l[O+3];if(D==255)p=l;else{p=new Uint8Array(l.length);var M=new w(0,0,S,B);k.St(p,4294967295);
k.X.Rc("norm",l,M,p,M,M,1)}var U=new Uint8Array(Np.ra(p.buffer,S,B,"jpeg",y[0]/100));if(Q[0][2]!=null){var m=Np.JPG.rv(U)[224][0]+2;
m+=9;U[m]=1;X.nD(U,m+1,Q[0][2]);X.nD(U,m+3,Q[0][2])}return U.buffer};Np.JPG.rv=function(Q){var S=0,B=[];
while(S<Q.length){while(Q[S]==255)S++;var y=Q[S];S++;if(B[y]==null)B[y]=[];B[y].push(S-2);if(y==216)continue;
if(y==217)break;if(224<=y&&y<=239||y==218||y==219||y==192||y==194||y==196||y==221||y==254){var l=X.Si(Q,S);
S+=l;if(y==218)while(Q[S]!=255||(Q[S+1]==0||208<=Q[S+1]&&Q[S+1]<=215))S++;continue}console.log("unknown marker ",y.toString(16),S)}if(B[217]==null){console.log("EOI marker missing");
var D=Q.length-2;Q[D]=255;Q[D+1]=217;B[217]=[D]}return B};Np.JPG.mMZ=function(Q){Q=new Uint8Array(Q);
if(Q[0]!=255)return Q.buffer;var S=Np.JPG.xL(Q,Np.JPG.rv(Q));if(S.numComponents!=4)return Q.buffer;var B=S.width,y=S.height,l=Np.JPG.xc(S,!0);
return Np.JPG.Ba([[l[0].data]],B,y,[85])};Np.JPG.xL=function(Q,S){var B=new PDFJS.JpegImage;B.parse(Q);
var y=S[225];if(y){y=y[0]+2;var l="";while(!0){var D=y,R=X.Si(Q,D);D+=2;var p=X.Ly(Q,D,4);if(p=="Exif"){D+=6;
var O=Q.slice(D,D+R-8);B.exif=UTIF.decode(O.buffer,{parseMN:!1,debug:!1})}else if(p=="http"){var M=0;
while(Q[D+M]!=0)M++;var U=X.Ly(Q,D,M);D+=M+1;if(U=="http://ns.adobe.com/xmp/extension/"){var m=X.Ly(Q,D,32);
D+=32;D+=8;var Y=y+R-D;while(Q[D+Y-1]==0)Y--;l+=X.nl(Q,D,Y)}}else break;y+=R+2}if(l!="")B.xmp_extn=l}var x=S[217][0]+2;
if(x!=Q.length)B.suffix=Q.slice(x);return B};Np.JPG.xc=function(Q,S){var B=Q.width,y=Q.height,l=B*y,D=Q.getData({width:B,height:y,forceRGB:!0,isSourcePDF:S}),R=k.Q(l*4),U=72;
for(var p=0;p<l;p++){var O=p<<2,M=O-p;R[O]=D[M+0];R[O+1]=D[M+1];R[O+2]=D[M+2];R[O+3]=255}if(Q.jfif&&Q.jfif.densityUnits!=0)U=Math.round([72,1,2.54][Q.jfif.densityUnits]*Q.jfif.xDensity);
else if(Q.exif&&Q.exif[0].t282!=null)U=Q.exif[0].t282[0];var m=[{iQ:new w(0,0,B,y),data:R.buffer,LY:U}],Y=Q.xmp_extn;
if(Y){var x=new DOMParser,T=x.parseFromString(Y,"image/svg+xml").firstChild.children[0].children[0],$=[T.getAttribute("GImage:Data"),T.getAttribute("GDepth:Data")];
for(var p=0;p<$.length;p++)if($[p]){var L=atob($[p]),s=new Uint8Array(L.length);X.dW(s,0,L);s=s.buffer;
var j=Np.Ge(s),Z=Np.hG(j).tm(s);m.push(Z[0])}}if(Q.suffix){var e=Q.suffix;if(Np.xr(e,[0,0,1,10,14,0,0,0]))e=e.slice(78);
var J=X.Ly(e,4,4),N=X.dm(e,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(J=="ftyp")alert("Photopea found a "+QE.jU(e.length)+" MP4 video inside your image.",4e3);else if(X.Ly(e,0,4)=="fixe"){alert("Unknown data - "+e.length+" B - at the end of the file",3e3);
var E=4,h=X.qj(e,E);E+=4;var o=X.qj(e,E);E+=4;var V=X.qj(e,E);E+=4;console.log(h,o,V,e.slice(E,E+84));
E+=84;var n=X.Ly(e,E,32);E+=32;E+=8;var n=X.Ly(e,E,32);E+=32}else if(J=="edof"){var t=e[8+7];console.log(t.toString(16));
var E=8+16,q=X.ng(e,E),u=X.ng(e,E+2),l=q*u;E+=4;E+=32+16;var g=k.Q(l*4);for(var p=0;p<l;p++){var O=p<<2;
g[O]=g[O+1]=g[O+2]=e[E+p];g[O+3]=255}if(t==16){}else if(t==19){var r=g.slice(0);k.W.Qk(g,r,q,u);var f=q;
q=u;u=f;k.W.mae(r,g,q,u)}else throw"Unknown orientation of a depth map";m.push({iQ:new w(0,0,q,u),data:g.buffer})}else if(N!=-1){if(N!=0)e=e.slice(N);
var Z=Np.hG("jpg").tm(e.buffer);for(var p=0;p<Z.length;p++)m.push(Z[p])}}if(m.length>1){var I=m[0].iQ;
m[0].Uk="Main";for(var p=1;p<m.length;p++){var d=m[p].iQ;if(!d.UH(I)){var a=I.r/d.r,c=I.O/d.O,_=new Nu;
_.scale(a,c);var C=K.Sj.L$([new Uint8Array(m[p].data),d],1,k.W.Tz(_));m[p]={iQ:C.rect,data:C.buffer}}m[p].Uk=p==1&&m.length==3?"Original":"Depth Map"}}return m};
Np.JPG.tm=function(Q,S,B){Q=new Uint8Array(Q);if(Q[0]==255){var y=Np.JPG.rv(Q);if(y[195]==null){var l=Np.JPG.xL(Q,y),D=Np.JPG.xc(l,!1);
return D}var R=X.Si(Q,y[195][0]+5),p=X.Si(Q,y[195][0]+7),O=UTIF.LosslessJpegDecode(Q),M=p*R,U=k.Q(M*4);
for(var m=0;m<M;m++){var Y=m<<2,x=Y-m;U[Y]=O[x];U[Y+1]=O[x+1];U[Y+2]=O[x+2];U[Y+3]=255}return[{iQ:new w(0,0,p,R),data:U.buffer}]}else if(Q[0]==0&&Q[4]==48&&Q[6]==1){var T=Q,l=new PDFJS.Jbig2Image,$=[];
if(S)$.push({data:S,start:0,end:S.length});$.push({data:T,start:0,end:T.length});var O=l.parseChunks($);
if(!B)for(var m=0;m<O.length;m++)O[m]=~O[m];var p=X.j(Q,11),R=X.j(Q,15),L=Math.ceil(p/8),s=k.Q(p*R*4);
for(var j=0;j<R;j++){var Z=j*L;for(var e=0;e<p;e++){var Y=(j*p+e)*4,J=O[Z+(e>>>3)]>>>7-(e&7)&1,N=J*255;
s[Y]=N;s[Y+1]=N;s[Y+2]=N;s[Y+3]=255}}return[{iQ:new w(0,0,p,R),data:s.buffer}]}else{var l=new PDFJS.JpxImage;
l.parse(Q);var p=l.width,R=l.height,E=l.tiles,h=l.componentsCount,o=new Uint8Array(p*R*4),V=new w(0,0,p,R);
for(var l=0;l<E.length;l++){var n=E[l],t=n.width,q=n.height,u=t*q,mq=n.items,g=new w(n.left,n.top,t,q),r=new Uint8Array(u*4);
if(h==1)for(var m=0;m<u;m++){var f=mq[m],Y=m*4;r[Y]=f;r[Y+1]=f;r[Y+2]=f;r[Y+3]=255}else if(h==3)for(var m=0;
m<u;m++){var x=m*3,Y=m*4;r[Y]=mq[x];r[Y+1]=mq[x+1];r[Y+2]=mq[x+2];r[Y+3]=255}else console.log("Unknown number of components: "+h);
k.oD(r,g,o,V)}return[{iQ:V,data:o.buffer}]}};Np.WEBP={};Np.WEBP.Ba=function(Q,S,B,y){if(y==null)y=[70,0];
var l=y[0]/100,O=0;if(Q.length==1)return Np.ra(Q[0][0],S,B,"webp",l);var D=X.NF,R=X.Nm,p=new R_;D(p,O,"RIFF    WEBPVP8X");
O+=16;R(p,O,10);O+=4;R(p,O,18);O+=4;R(p,O,S-1);O+=3;R(p,O,B-1);O+=3;D(p,O,"ANIM");O+=4;R(p,O,6);O+=4;
p.vq(O,4);p.data[O+3]=255;X.da(p,O+4,y[1]);O+=6;var M=[];for(var U=0;U<Q.length;U++){M.push(Q[U][0])}var m=UPNG.encode.compress(M,S,B,l==1?0:Math.max(2,Math.floor(l*500)),[!1,!0,!0,0,!0]).frames,Y=new WebPDecoder;
for(var U=0;U<Q.length;U++){D(p,O,"ANMF");O+=4;var x=O;O+=4;var T=m[U],$=T.rect,L=[$.x>>>1,$.y>>>1,$.width-1,$.height-1,Q[U][1]];
for(var s=0;s<5;s++)R(p,O+3*s,L[s]);O+=15;p.vq(O,1);p.data[O]=1-T.blend<<1|T.dispose;O++;var j=new Uint8Array(Np.ra(T.img.buffer,$.width,$.height,"webp",1)),Z=pT.fY(j.buffer).sub,e=X.Ly(j,12,4);
if(e!="VP8L"&&e!="VP8 "&&e!="VP8X")throw"e";var J=e=="VP8 "?0:e=="VP8L"?12:30,N=j.length-J;p.vq(O,N);
for(var s=0;s<N;s++)p.data[O+s]=j[J+s];O+=N;var E=O-x-4;R(p,x,E);if((E&1)==1){p.vq(O,1);O++}}R(p,4,O-8);
return p.data.slice(0,O).buffer};Np.WEBP.tm=function(Q){var S=new Uint8Array(Q),B=Np.WEBP.mpV(S),y=Np.WEBP.mpe,l=new WebPDecoder,D=pT.fY(Q).sub;
if(D[0].LB!="VP8X")return[y(l,B,D[0])];var R={};for(var p=0;p<D.length;p++)R[D[p].LB]=D[p];if(R.ANIM==null){var O=R.ALPH?"ALPH":R["VP8 "]?"VP8 ":"VP8L";
return[y(l,B,{a:R[O].a-8})]}var M=R.VP8X.a,U=1+(X.qj(S,M+4)&16777215),m=1+(X.qj(S,M+7)&16777215),Y=[],x=new w(0,0,U,m),T=k.Q(U*m*4);
for(var p=0;p<D.length;p++){var $=D[p];if($.LB!="ANMF")continue;var L=[];for(var s=0;s<5;s++)L.push(X.qj(S,$.a+s*3)&16777215);
var j=new w(L[0]*2,L[1]*2,L[2]+1,L[3]+1),Z=L[4],e=y(l,B,{a:$.a+16}),J=new Uint8Array(e.data),N=S[$.a+15];
if(N>>>1==0)k.X.Rc("norm",J,j,T,x,j,1);else k.oD(J,j,T,x);Y.push({Uk:"_a_"+Y.length+","+Z,iQ:x.clone(),data:T.buffer.slice(0)});
if((N&1)==1){k.St(J,0);k.oD(J,j,T,x)}}return Y};Np.WEBP.mpe=function(Q,S,B){var y=[0],l=[0],D=Q.WebPDecodeRGBA(S,B.a,S.length-B.a,y,l),R=D.length,p=new Uint8Array(R);
for(var O=0;O<R;O++)p[O]=D[O];return{iQ:new w(0,0,y[0],l[0]),data:p.buffer}};Np.WEBP.mpV=function(Q){var S=[],B=Q.length;
for(var y=0;y<B;y++)S.push(Q[y]);return S};Np.BMP={};Np.BMP.Ba=function(Q,S,B,y){var l=new Uint8Array(Q[0][0]),D=!1,R={QP:S,Kj:B,TQ:1,tZ:D?32:24,Qx:D?3:0,mgX:0},p=4*Math.floor((R.tZ*R.QP+31)/32),M=0;
R.size=p*R.Kj+2;var O=new R_;X.NF(O,M,"BM");M+=2;X.Nm(O,M,p*B+16+40);M+=4;X.Nm(O,M,0);M+=4;X.Nm(O,M,54);
M+=4;O.vq(M,40);X.Nm(O,M,40);M+=4;Np.BMP.mrm(O.data,M,R,p);M+=36;O.vq(M,p*B);for(var U=0;U<B;U++){var m=M+(B-1-U)*p;
for(var Y=0;Y<S;Y++){var x=(U*S+Y)*4,T=l[x+3]*(1/255);if(D){O.data[m+Y*4+2]=l[x];O.data[m+Y*4+1]=l[x+1];
O.data[m+Y*4+0]=l[x+2];O.data[m+Y*4+3]=l[x+3]}else{O.data[m+Y*3+2]=l[x];O.data[m+Y*3+1]=l[x+1];O.data[m+Y*3+0]=l[x+2]}}}M+=p*B+2;
return O.data.slice(0,M).buffer};Np.BMP.tm=function(Q){Q=new Uint8Array(Q);var S=0,B=X.Ly(Q,S,2);S+=2;
if(B!="BM"){alert("Unsupported BMP format: "+B);return}var y=X.qj(Q,S);S+=4;S+=4;var l=X.qj(Q,S);S+=4;
return[Np.BMP.xd(Q.buffer,S)]};Np.BMP.xd=function(Q,S){Q=new Uint8Array(Q);var B=X.qj(Q,S);S+=4;var y=Np.BMP.mpZ(Q,S);
if(y.TQ!=1)alert("unsupported number of color planes: "+y.TQ);if(y.Qx!=0&&y.Qx!=3){alert("Unsupported BMP compression: "+y.Qx);
return}S+=B-4;var l=S,D=4*Math.floor((y.tZ*y.QP+31)/32),R=y.QP,p=Math.abs(y.Kj),O=new Uint8Array(R*p*4);
k.set(O,255);var M=S;if(y.tZ<24)M+=4*Math.pow(2,y.tZ);if(y.tZ==32)for(var U=0;U<p;U++){var m=M+(p-1-U)*D;
for(var Y=0;Y<R;Y++){var x=(U*R+Y)*4;O[x]=Q[m+Y*4+2];O[x+1]=Q[m+Y*4+1];O[x+2]=Q[m+Y*4+0];O[x+3]=Q[m+Y*4+3]}}else if(y.tZ==24)for(var U=0;
U<p;U++){var m=M+(p-1-U)*D;for(var Y=0;Y<R;Y++){var x=(U*R+Y)*4;O[x]=Q[m+Y*3+2];O[x+1]=Q[m+Y*3+1];O[x+2]=Q[m+Y*3+0]}}else if(y.tZ==8)for(var U=0;
U<p;U++){var m=M+(p-1-U)*D;for(var Y=0;Y<R;Y++){var x=(U*R+Y)*4,T=Q[m+Y];O[x]=Q[l+4*T+2];O[x+1]=Q[l+4*T+1];
O[x+2]=Q[l+4*T+0]}}else if(y.tZ==4)for(var U=0;U<p;U++){var m=M+(p-1-U)*D;for(var Y=0;Y<R;Y++){var x=(U*R+Y)*4,T=Q[m+(Y>>1)];
T=T>>4-4*(Y&1);T=T&15;O[x]=Q[l+4*T+2];O[x+1]=Q[l+4*T+1];O[x+2]=Q[l+4*T+0]}}else if(y.tZ==1)for(var U=0;
U<p;U++){var m=M+(p-1-U)*D;for(var Y=0;Y<R;Y++){var x=(U*R+Y)*4,$=Q[m+(Y>>3)];$=$>>7-(Y&7);$=$&1;O[x]=Q[l+4*$+2];
O[x+1]=Q[l+4*$+1];O[x+2]=Q[l+4*$+0]}}else throw"Unknown bit depth "+y.tZ;if(y.Kj<0){var L=new Uint32Array(O.buffer),s=p>>>1;
for(var U=0;U<s;U++){var j=U*R,Z=(p-U-1)*R;for(var Y=0;Y<R;Y++){var e=L[j+Y];L[j+Y]=L[Z+Y];L[Z+Y]=e}}}return{iQ:new w(0,0,R,p),data:O.buffer}};
Np.BMP.mpZ=function(Q,S){var B=X.Yc,l=X.qj,D=X.ng,R={};R.QP=B(Q,S);S+=4;R.Kj=B(Q,S);S+=4;R.TQ=D(Q,S);
S+=2;R.tZ=D(Q,S);S+=2;R.Qx=l(Q,S);S+=4;R.size=l(Q,S);S+=4;var p=B(Q,S);S+=4;var O=B(Q,S);S+=4;R.mgX=l(Q,S);
S+=4;S+=4;return R};Np.BMP.mrm=function(Q,S,B,y){X.sI(Q,S,B.QP);S+=4;X.sI(Q,S,B.Kj);S+=4;X.dF(Q,S,B.TQ);
S+=2;X.dF(Q,S,B.tZ);S+=2;X.sI(Q,S,B.Qx);S+=4;X.sI(Q,S,B.size);S+=4;X.sI(Q,S,2834);S+=4;X.sI(Q,S,2834);
S+=4;X.sI(Q,S,B.mgX);S+=4;S+=4};Np.GIF={};Np.GIF.Ba=function(Q,S,B,y){if(y==null)y=[100,0];var l=[],D=[],R=S*B*4,L=null;
for(var p=0;p<Q.length;p++){var O=new Uint8Array(Q[p][0].slice(0));for(var M=0;M<R;M+=4){var U=O[M+3]=O[M+3]>127?255:0;
if(U==0)O[M]=O[M+1]=O[M+2]=0}l.push(O.buffer);D.push(Q[p][1])}var m=Math.round(2+254*y[0]/100),Y=UPNG.encode.compress(l,S,B,m,[!0,!1,!1,8,!1]),x=Y.plte,T=new Uint8Array(4),$=new Uint32Array(T.buffer);
for(var M=0;M<x.length;M++){$[0]=x[M];var s=T[0];T[0]=T[2];T[2]=s;x[M]=$[0];if($[0]==0)L=M}while(x.length<256)x.push(0);
var j=new Uint8Array(2e3+S*B*Q.length),Z=y[1],e={palette:x};if(Z!=1)e.loop=Z==0?0:Z-1;var J=new GifWriter(j,S,B,e);
for(var M=0;M<Q.length;M++){var N=Y.frames[M],E=N.rect,h=N.blend,o=N.dispose;J.addFrame(E.x,E.y,E.width,E.height,N.img,{transparent:L,disposal:o+1,delay:Math.round(D[M]/10)})}return j.slice(0,J.end()).buffer};
Np.GIF.tm=function(Q){var S=new Uint8Array(Q),B=new GifReader(S),y=[],l=B.numFrames(),D=B.width,R=B.height,p=k.Q(D*R*4),O=new w(0,0,D,R);
for(var M=0;M<l;M++){var U=B.frameInfo(M),m=U.disposal,Y=m==3?p.slice(0):null;B.decodeAndBlitFrameRGBA(M,p);
y.push({iQ:O.clone(),Uk:"_a_frm"+M+","+U.delay*10,data:p.slice(0).buffer});if(U.disposal==2){var x=k.Q(U.width*U.height*4);
k.oD(x,new w(U.x,U.y,U.width,U.height),p,O)}if(m==3){for(var T=0;T<p.length;T++)p[T]=Y[T]}}return y};
Np.ICO={};Np.ICO.Ba=function(Q,S,B,y){console.log(Q);if(S>256||B>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var l=Math.min(S,256),D=Math.min(B,256),R=new w(0,0,l,D),p=k.Q(R.Z()*4),O=new w(0,0,S,B),M=new Uint8Array(Q[0][0]);
k.oD(M,O,p,R);Q[0][0]=p.buffer;S=l;B=D}var U=new R_,m=0,Y=y&&y[0]==!0;X.da(U,m,0);m+=2;X.da(U,m,Y?2:1);
m+=2;X.da(U,m,1);m+=2;var x=new Uint8Array(Np.PNG.Ba(Q,S,B));U.vq(m,16);U.data[m]=S==256?0:S;m++;U.data[m]=B==256?0:B;
m++;m+=2;X.da(U,m,Y?Math.round(S/2):1);m+=2;X.da(U,m,Y?Math.round(B/2):32);m+=2;X.Nm(U,m,x.length);m+=4;
X.Nm(U,m,6+16);m+=4;U.vq(m,x.length);for(var T=0;T<x.length;T++)U.data[m+T]=x[T];m+=x.length;var $=new Uint8Array(m);
for(var T=0;T<m;T++)$[T]=U.data[T];return $.buffer};Np.ICO.tm=function(Q){Q=new Uint8Array(Q);var S=4,B=X.ng(Q,S);
S+=2;var y=[];for(var l=0;l<B;l++){var D=Np.ICO.mrh(Q,S+l*16),R=Q.buffer.slice(D.offset,D.offset+D.size),p=Np.Ge(R);
p=p?p:"bmp";if(p=="png"){var O=Np.hG(p);return O.tm(R)}else{var M=Np.BMP.xd(R,0),R=k.Q(D.QP*D.Kj*4);
k.oD(new Uint8Array(M.data),new w(0,0,M.iQ.r,M.iQ.O),R,new w(0,D.Kj,D.QP,D.Kj));M.data=R.buffer;M.iQ.O=D.Kj;
D.vN=M;y.push(D)}}y.sort(function(U,m){if(U.QP!=m.QP)return U.QP-m.QP;return U.m_o-m.m_o});return[y.pop().vN]};
Np.ICO.mrh=function(Q,S){var B={};B.QP=Q[S];S++;if(B.QP==0)B.QP=256;B.Kj=Q[S];S++;if(B.Kj==0)B.Kj=256;
B.mEu=Q[S];S++;S++;B.mEF=X.ng(Q,S);S+=2;B.m_o=X.ng(Q,S);S+=2;B.size=X.qj(Q,S);S+=4;B.offset=X.qj(Q,S);
S+=4;return B};Np.TIFF={};Np.TIFF.tm=function(Q){var S=Date.now(),y;if(k.raw.LK(Q.byteLength))return[k.raw.muZ(Q)];
var B=UTIF.decode(Q);if(B[0].t33421)y=B[0];else if(B[0].subIFD&&B[0].subIFD[0].t33421){y=B[0].subIFD[0];
if(y.t50706==null){if(y.t258[0]==8)y.t258[0]=12}}else if(B[0].subIFD&&B[0].subIFD[0]&&B[0].subIFD[0].t262&&B[0].subIFD[0].t262[0]==34892)y=B[0].subIFD[0];
else if(B[0].subIFD&&B[0].subIFD[1]&&B[0].subIFD[1].t33421)y=B[0].subIFD[1];else if(B[0].subIFD&&B[0].subIFD[2]&&B[0].subIFD[2].t33421)y=B[0].subIFD[2];
else if(B[3]&&B[3].t50648){var l=B[0].exifIFD,D=l.makerNote;y=B[3];var R=D.t224[1],p=D.t224[2];y.t256=[R];
y.t257=[p];y.t258=[16];y.t259=[7];y.t262=[32803];y.t277=[1];y.t33421=[2,2];var O=y.t50656[0],M=k.raw.Hw[O];
if(M==null)throw"e";y.t33422=M}if(y){UTIF.decodeImage(Q,y,B);for(var U in B[0])if((U[0]=="t"||U[0]=="e"||U[0]=="d")&&y[U]==null)y[U]=B[0][U];
y.QY=B[0].t274?B[0].t274[0]:1;return[y]}var m=[];for(var Y=0;Y<B.length;Y++){var x=B[Y],T=72;UTIF.decodeImage(Q,x,B);
var $=x.t282,L=x.t296;if($!=null&&L!=null){T=$[0];if(L[0]==3)T=Math.round(T/2.54)}if(x.width==null)continue;
var s=UTIF.toRGBA8(x).buffer;m.push({iQ:new w(0,0,x.width,x.height),data:s,LY:T})}return m};Np.TIFF.Ba=function(Q,S,B,y){var l={};
if(Q[0][2]!=null){l.t282=l.t283=[Q[0][2]];l.t296=[2]}return UTIF.encodeImage(Q[0][0],S,B,l)};Np.PSD={};
Np.PSD.oc=!0;Np.PSD.tm=function(Q,S){Me.fY(Q,S)};Np.PSD.mrC=function(Q,S,B,y){if(y==null)y=[!1,!1];if(!y[0])Q.qB();
var l=new R_,D=Me.iP(Q,l,y);return[l.data.buffer,D]};Np.PSD.Ba=function(Q,S,B,y){var l=Np.PSD.mrC(Q,S,B,y),D=l[0],R=l[1];
return D.byteLength==R?D:D.slice(0,R)};Np.PXD={};Np.PXD.oc=!0;Np.PXD.tm=function(Q,S){var B=pako.inflate(new Uint8Array(Q)),y=4;
S.r=X.j(B,y);y+=4;S.O=X.j(B,y);y+=4;var l=X.Si(B,y);y+=2;y+=4;for(var D=0;D<l;D++){var R=S.oz();S.G.push(R);
var p=X.j(B,y),O=y+4,M=X.Si(B,O);O+=2;var U=X.nl(B,O,M);O+=M;R.pM(U);O++;R.rect.x=X.$I(B,O);O+=4;R.rect.y=X.$I(B,O);
O+=4;R.rect.r=X.j(B,O);O+=4;R.rect.O=X.j(B,O);O+=4;R.opacity=Math.round(255*B[O]/100);O++;R.SO(B[O]!=0);
O++;R.wk="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[B[O]];O++;
O++;var m=X.j(B,O);O+=4;if(m!=R.rect.Z()*4)throw"e";R.buffer=k.Q(m);for(var Y=0;Y<m;Y+=4){R.buffer[Y]=B[O+Y+1];
R.buffer[Y+1]=B[O+Y+2];R.buffer[Y+2]=B[O+Y+3];R.buffer[Y+3]=B[O+Y+0]}O+=m;var x=X.j(B,O);O+=4;var T=B[O];
O++;var $=X.Si(B,O);O+=2;if(x!=0){R.k=new z.oW;R.k.rect=R.rect.clone();R.k.channel=k.Q(R.rect.Z());for(var Y=0;
Y<x;Y+=4)R.k.channel[Y>>>2]=B[O+Y+1];O+=x}if(T!=0){var L=JSON.parse(rx.default);R.add.lmfx=L;for(var Y=0;
Y<rx.order.length;Y++)L[rx.or[Y]]={t:"VlLs",v:[]};var s={"102":9,"101":2,"103":0,"104":3,"105":8};for(var Y=0;
Y<T;Y++){var j=X.Si(B,O),Z=O+j+4,e=B.slice(O,Z),J=B[O+2];O+=3;var N=s[J+""],E=JSON.parse(rx.Pf[N]);L[rx.or[N]].v.push({t:"Objc",v:E});
if(N!=0){E.Md.v.BlnM=No.KN("norm");E.Opct.v.val=B[O];O++;if(N==9||N==2){E.Dstn.v.val=B[O+1];O+=2}else O+=2;
E.blur.v.val=Math.round(B[O]*1.2);O++;if(N==9||N==2){E.uglg.v=!1;E.lagl.v.val=180-X.Si(B,O);O+=2}E.Clr.v=k.Kg.Od({t:B[O+1],e:B[O+2],R:B[O+3]})}else{E.hglM.v.BlnM=E.sdwM.v.BlnM=No.KN("norm");
O+=2;var h=B[O++],o=B[O++];E.blur.v.val=Math.round(Math.sqrt(o*h)*1.3);E.srgR.v.val=Math.round(100*h/o);
E.uglg.v=!1;E.lagl.v.val=180-X.Si(B,O);O+=2;E.hglO.v.val=B[O++];E.hglC.v=k.Kg.Od({t:B[O+1],e:B[O+2],R:B[O+3]});
O+=4;E.sdwO.v.val=B[O++];E.sdwC.v=k.Kg.Od({t:B[O+1],e:B[O+2],R:B[O+3]});O+=4}O=Z}}if(O!=y+4+p){var V=X.j(B,O),r=0;
O+=4;O++;var M=X.Si(B,O);O+=2;var n=X.nl(B,O,M);O+=M;n=n.replace(/\r/g,"\n");var M=X.Si(B,O);O+=2;var t=X.nl(B,O,M);
O+=M;var q=X.Si(B,O);O+=2;var u=R.rect.x,g=R.rect.r;if(V&4)r=1;if(V&2)r=2;var f=Math.round(q*.4);if(r==0||r==2)g+=f;
if(r==1||r==2){g+=f;u-=f}R.add.lnsr="rend";R.add.TySh=rA.Xq(0,0);R.add.TySh._Q=new w(0,0,100,100);R.add.TySh.V=new Nu(1,0,0,1,u,R.rect.y+q*.25);
var I=R.add.TySh.Nd;rA.XG(I,1);rA.vl(I,[0,0,g,R.rect.O]);rA.MS(I,0,n);var d=rA.$d(I,0,1);d.EQ.FontSize=q;
d.EQ.FillColor={Type:1,Values:[1,B[O+1]/255,B[O+2]/255,B[O+3]/255]};O+=4;if(B[O+5])t+="-Bold";if(B[O+6])t+="-Italic";
rA.sU(d,t);d.Kb.Justification=r;O+=8;rA.Dh(I,0,n.length,d)}y+=4+p}};Np.SKETCH={};Np.SKETCH.oc=!0;Np.SKETCH.tm=function(Q,S){NH.fY(Q,S)};
Np.XD={};Np.XD.oc=!0;Np.XD.tm=function(Q,S){Mp.fY(Q,S)};Np.XCF={};Np.XCF.oc=!0;Np.XCF.tm=function(Q,S){r$.fY(Q,S)};
Np.SVG={};Np.SVG.oc=!0;Np.SVG.Ba=function(Q,S,B,y,l){if(y==null)y=[!0,!1,!1,!1,!0,!0];var D=Nj.Oo(Q,{mV_:y[0],hidden:y[1],mVj:y[2],mhM:y[3],names:y[4],m_i:y[5],mhN:S,mhR:B},l.Tt);
return D};Np.SVG.tm=function(Q,S){Nj.fY(Q,S)};Np.EPS={};Np.EPS.oc=!0;Np.EPS.tm=function(Q,S){var B=150,y=new Nu(1,0,0,-1,0,0);
y.scale(B/72,B/72);S.LY=B;var l=new Rq(S,y,!0);FromPS.Parse(Q,l)};Np.PDF={};Np.PDF.oc=!0;Np.PDF.Ba=function(Q,S,B,y,l){if(y==null)y=["",!1,!1,!1];
y[4]=["jpg"];var D=new ToPDF;Qd.Oo(Q,y,D,l.Tt);return D.buffer};Np.PDF.tm=function(Q,S,B){var y=(B?2:1)*72,l=new Nu(1,0,0,-1,0,0);
l.scale(y/72,y/72);S.LY=y;var D=new Rq(S,l,!0);FromPDF.Parse(Q,D)};Np.WMF={};Np.WMF.oc=!0;Np.WMF.tm=function(Q,S){var B=72,y=new Nu(1,0,0,1,0,0);
y.scale(B/72,B/72);S.LY=B;var l=new Rq(S,y,!1);FromWMF.Parse(Q,l)};Np.EMF={};Np.EMF.wm=!0;Np.EMF.oc=!0;
Np.EMF.Ba=function(Q,S,B,y,l){if(y==null)y=["",!1,!1,!1];y[4]=[];var D=new ToEMF;Qd.Oo(Q,y,D,l.Tt);return D.buffer};
Np.EMF.tm=function(Q,S){var B=72,y=new Nu(1,0,0,1,0,0);y.scale(B/72,B/72);S.LY=B;var l=new Rq(S,y,!1);
FromEMF.Parse(Q,l)};Np.CDR={};Np.CDR.oc=!0;Np.CDR.tm=function(Q,S){return Nb.fY(Q,S)};Np.ILBM={};Np.ILBM.tm=function(Q,S){var B=Mm.fY(Q),y=new Uint8Array(Q),l=0,D,R,p,O,M,U,m,Y,x=0,T=0,$=0,L=0,s=0;
for(var j=0;j<B.sub.length;j++){var Z=B.sub[j],l=Z.a;if(Z.LB=="BMHD"){var e=[];for(var J=0;J<4;J++)e[J]=X.Si(y,l+2*J);
l+=8;O=e[2];M=e[3];R=e[0];p=e[1];D=k.Q(R*p*4);U=y[l++];m=y[l++];Y=y[l++]}else if(Z.LB=="CMAP")x=l;else if(Z.LB=="CAMG"){var N=X.j(y,l);
T=N&32768,$=N&4,L=N&2048;s=N&128}else if(Z.LB=="BODY"){var E=R+15>>>4<<1,h=U+m,o=k.Q(E*p*h),q,u,g;Rr.cl(y,l,Z.size,o,0,o.length);
var V=U-2,n=(1<<V)-1,t=Math.round(255/n);for(var M=0;M<p;M++)for(var O=0;O<R;O++){var r=0;for(var f=0;
f<h;f++){var I=(M*h+f)*E*8+O,d=o[I>>>3]>>>7-(I&7)&1;r|=d<<f}var a=r>>>U,r=r&(1<<U)-1,J=M*R+O,c=J<<2;
if(x!=0){if(L!=0&&r>>>V!=0){var _=r>>>V,C=(r&n)*t;if(_==1)g=C;else if(_==2)q=C;else if(_==3)u=C}else{var C=x+r*3;
q=y[C+0];u=y[C+1];g=y[C+2]}}else{q=r>>>0&255;u=r>>>8&255;g=r>>>16&255}D[c+0]=q;D[c+1]=u;D[c+2]=g;D[c+3]=255}}}return[{iQ:new w(0,0,R,p),data:D.buffer}]};
Np.TGA={};Np.TGA.oc=!1;Np.TGA.Ba=function(Q,S,B,y){var l=new Uint8Array(Q[0][0]),D=2,R=k.xl(l),T=0,L=0,s=0;
console.log(R);var p=R?4:3,O=new Uint8Array(S*B*p);for(var M=0;M<B;M++)for(var U=0;U<S;U++){var m=M*S+U<<2,Y=((B-M-1)*S+U)*p;
O[Y]=l[m+2];O[Y+1]=l[m+1];O[Y+2]=l[m+0];if(R)O[Y+3]=l[m+3]}var x=O.length,$=new Uint8Array(x*2);while(s<x){var j=s,Z=0;
while(j<x&&Z<128){var e=!0;for(var J=0;J<p;J++)e=e&O[s+J]==O[j+J];if(!e)break;j+=p;Z++}if(Z==1){var N=1;
while(N<128&&s+(N+1)*p<x){var e=!0,E=s+N*p;for(var J=0;J<p;J++)e=e&O[E+J]==O[E+p+J];if(e)break;N++}$[L++]=N-1;
for(var h=0;h<N;h++)for(var J=0;J<p;J++)$[L++]=O[s++]}else{$[L++]=127+Z;for(var J=0;J<p;J++)$[L+J]=O[s+J];
L+=p;s+=p*Z;T+=Z}}O=$.slice(0,L);D+=8;var o=new Uint8Array(18+O.length);o[2]=D;X.dF(o,12,S);X.dF(o,14,B);
o[16]=p*8;o[17]=p==4?8:0;o.set(O,18);return o.buffer};Np.TGA.tm=function(Q){var S=new Uint8Array(Q),B=0,y=S[0],l=S[1],D=S[2],R=S[4]*256+S[3],p=S[6]*256+S[5],O=S[7],M=S[9]*256+S[8],U=S[11]*256+S[10],m=S[13]*256+S[12],Y=S[15]*256+S[14],x=S[16],T=S[17],$=T>>>4,L=X.Ly(S,18,y),s=k.Q(m*Y*4),B=18+y+(p*O>>>3),j=new Uint8Array(S.buffer,B);
if(D>3){var Z=S,e=new Uint8Array(m*Y*x>>>3),J=B,N=0,E=S.length,h=x>>>3;while(J<E){var o=Z[J];J++;if(o<128)for(var V=0;
V<o+1;V++){for(var n=0;n<h;n++){e[N]=Z[J];N++;J++}}else{for(var V=0;V<o-127;V++){for(var n=0;n<h;n++){e[N]=Z[J+n];
N++}}J+=h}}D-=8;j=e}var t=new Uint8Array(4),q=Np.TGA.mrP;for(var u=0;u<Y;u++)for(var g=0;g<m;g++){var r=($&2)==0?(Y-u-1)*m+g:u*m+g,f=u*m+g,I,d,a,c=255,_=r*x>>>3;
if(D==1){var C=0;if(x==8)C=j[_];else throw"e";q(S,18+y+R+(C*O>>>3),O,t);I=t[0];d=t[1];a=t[2];c=t[3]}else if(D==2){q(j,_,x,t);
I=t[0];d=t[1];a=t[2];c=t[3]}else if(D==3){if(x==8)I=d=a=j[_];else throw"e"}var F=f*4;s[F]=I;s[F+1]=d;
s[F+2]=a;s[F+3]=c}return[{iQ:new w(0,0,m,Y),data:s.buffer,Uk:L}]};Np.TGA.mrP=function(Q,S,B,y){var l,D,R,p=255;
if(B==24||B==32){R=Q[S];D=Q[S+1];l=Q[S+2];if(B==32)p=Q[S+3]}else if(B==16){var O=Q[S+1]<<8|Q[S+0];l=O>>>10&31;
D=O>>>5&31;R=O>>>0&31;l=Math.round(l*(255/31));D=Math.round(D*(255/31));R=Math.round(R*(255/31))}else throw"e";
y[0]=l;y[1]=D;y[2]=R;y[3]=p};Np.LIF={};Np.LIF.tm=function(Q){var S=new Uint8Array(Q),B=0,y=112,l=42,D=X.qj,U;
B+=8;var R=S[B];B++;if(R!=l)throw"e";var p=D(S,B);B+=4;var O=X.AK(S,B,p);B+=p*2;var M=[];while(B<S.length){U=D(S,B);
B+=4;if(U!=y)throw U;B+=4;U=S[B];B++;if(U!=l)throw U;var m=D(S,B);B+=4;var Y=S[B];B++;if(Y!=l){B-=5;
m=D(S,B);B+=8;U=S[B];B++;if(U!=l)throw U}var x=D(S,B)*2;B+=4;if(m>0)M.push(B+x);B+=x+m}var T=new DOMParser,$=T.parseFromString(O,"image/svg+xml").firstChild.firstChild,L=[];
Np.LIF.xg($,S,M,L);return L};Np.LIF.xg=function(Q,S,B,y){var l=Q.firstChild.firstChild;if(l.tagName=="Image"){var D=l.getElementsByTagName("ImageDescription")[0],R=D.children[0].children,p=D.children[1].children,O=B.shift(),M=[];
for(var U=0;U<p.length;U++)M.push(parseInt(p[U].getAttribute("NumberOfElements")));while(M.length>3)M[2]*=M.pop();
var m=R.length,Y=M[0],x=M[1],T=M[2],$=parseInt(p[0].getAttribute("BytesInc"));for(var L=0;L<T;L++){var s=k.Q(Y*x*4);
k.St(s,4278190080);for(var j=0;j<m;j++){var Z=k.Q(Y*x);if($==1)for(var e=0;e<Z.length;e++)Z[e]=S[O+e];
else if($==2)for(var e=0;e<Z.length;e++)Z[e]=Math.min(255,(S[O+e*2+1]<<8|S[O+e*2])>>>2);else throw $;
if(j!=3)k.KF(Z,s,j);if(m==1){k.KF(Z,s,1);k.KF(Z,s,2)}O+=Y*x*$}y.push({iQ:new w(0,0,Y,x),data:s.buffer})}}else{var J=Q.children,N=0;
while(N<J.length&&J[N].tagName!="Children")N++;if(N==J.length)throw"e";J=J[N].children;for(var E=0;E<J.length;
E++)Np.LIF.xg(J[E],S,B,y)}};Np.RAF={};Np.RAF.tm=function(Q){var S=new Uint8Array(Q),B=16,y=X.Ly(S,B,4),D=32,s=0,j=0,Z=!1,d;
B+=4;var l=X.Ly(S,B,8);B+=8;while(S[B+D-1]==0)D--;var R=X.Ly(S,B,D);B+=32;var p=X.Ly(S,B,4);B+=4;B+=20;
var O=X.j(S,B);B+=4;var M=X.j(S,B);B+=4;var U=X.j(S,B);B+=4;var m=X.j(S,B);B+=4;var Y=X.j(S,B);B+=4;
var x=X.j(S,B);B+=4;var T="FujiFilm "+R,$=[0,1,1,2];if(T=="FujiFilm X10"){T="FujiFilm FinePix X10";$=[2,1,1,0]}var L={t271:["FujiFilm"],t272:[T],t277:[1],t33421:[2,2],t33422:$,QY:1};
B=U;var e=[],J=X.Si,N=X.j(S,B);B+=4;for(var E=0;E<N;E++){var h=J(S,B);B+=2;var o=J(S,B);B+=2;if(h==256){j=J(S,B);
s=J(S,B+2)}else if(h==272){e=[J(S,B),J(S,B+2)]}else if(h==273){e.push(J(S,B),J(S,B+2))}else if(h==304){Z=!(S[B]>>>7)}else if(h==305){var V=Math.round(Math.sqrt(o)),n=[];
for(var t=0;t<o;t++)n.push(S[B+t]);n.reverse();L.t33421=[V,V];L.t33422=n}else if(h==12272){var q=J(S,B),u=J(S,B+2),g=J(S,B+6);
L.t50728=[q/u,1,q/g]}B+=o}var r=s<j,f=S.slice(Y,Y+x),I=Math.round(x*8/(s*j));if(f[0]==73&&f[1]==73&&f[2]==42){d=UTIF.decode(f.buffer)[0].fujiIFD;
I=d.t61443[0];var a=d.t61454;L.t50728=[a[0]/a[1],1,a[0]/a[2]];var c=d.t61447[0];f=f.slice(c,c+d.t61448[0])}var x=f.length,_=x*8<s*j*I;
if(_)alert("Compressed RAF is not supported yet :(");function C(rK,rY,Nc){Nc=Nc<<8-(rY&7);var G=rY>>>3;
rK[G]|=Nc>>>16;rK[G+1]|=Nc>>>8;rK[G+2]|=Nc}var F=x*8/(s*j);if(F==16)for(var E=0;E<x;E+=2){var i=f[E];
f[E]=f[E+1];f[E+1]=i}else if(F==14){for(var E=0;E<x;E+=4){var i=f[E];f[E]=f[E+3];f[E+3]=i;i=f[E+1];f[E+1]=f[E+2];
f[E+2]=i}}else if(F==12)for(var E=0;E<x;E+=3){var rP=f[E+2]<<16|f[E+1]<<8|f[E+0];rP=rP>>>12|(rP&4095)<<12;
f[E]=rP>>>16&255;f[E+1]=rP>>>8&255;f[E+2]=rP&255}if(r)f=Np.RAF.mNM(f,s,j);var rH=r?2:1;s*=rH;L.t256=[s];
L.t257=[j];L.t258=[I];L.t50719=[e[1],e[0]*rH];L.t50720=[e[3],e[2]*rH];L.width=s;L.height=j;L.data=new Uint8Array(f.buffer);
return[L]};Np.RAF.mNM=function(Q,S,B){Q=new Uint16Array(Q.buffer);var y=new Uint16Array(S*B*2);for(var l=0;
l<B;l+=2)for(var D=0;D<S;D++){var R=l*S+D,p=R*2,O=Q[R],M=Q[R+S];y[p+1]=y[p+2*S]=M;if(((l>>>1)+D&1)==0){y[p]=O;
y[p+2*S+1]=Q[R+1]}else{y[p]=Q[R-1];y[p+2*S+1]=O}}return y};function k(){}k.yt=document.createElement("canvas");
k.S=k.yt.getContext("2d");k.rw=function(Q,S,B,y){y=Math.log(y)/Math.log(2);y=Math.round(y);for(var l=0;
l<B;l++)for(var D=0;D<S;D++){var R=l*S+D<<2,p=k.xW(l,D,y);Q[R]=Q[R+1]=Q[R+2]=p;Q[R+3]=255}};k.xW=function(Q,S,B){return 255-((Q>>>B)+(S>>>B)&1)*51};
k.eb=function(Q){var S=Q.toString(16);while(S.length<6)S="0"+S;return S};k.mRW=function(Q){return parseInt(Q,16)};
k.ob=function(Q){return.3*Q.t+.59*Q.e+.11*Q.R};k.aE=function(Q){return Math.max(Q.t,Q.e,Q.R)-Math.min(Q.t,Q.e,Q.R)};
k.wc=function(Q,S,B){return.3*Q+.59*S+.11*B};k.mNv=function(Q,S,B){return Math.max(Q,S,B)-Math.min(Q,S,B)};
k.aT=function(Q,S){var B=S-Q,y=Math.abs(B),l=B-1,D=B+1;if(Math.abs(l)<y)B=l;else if(Math.abs(D)<y)B=D;
return B};k.Qm=function(Q,S,B,y){return(S-B)*y/(Q-B)};k.rf=function(Q){return Q<.0031308?12.92*Q:1.055*Math.pow(Q,1/2.4)-.055};
k.mRn=function(Q){return Q<.04045?Q/12.92:Math.pow((Q+.055)/1.055,2.4)};k.mNU=function(Q,S,B,y){if(B<S)B+=y;
if(Q<S)Q+=y;return(Q-S)/(B-S)};k.mQd=function(Q,S){var B=Math.min(Q.length,S.length);for(var y=0;y<B;
y+=4){var l=Q[y],D=Q[y+1],R=Q[y+2];S[y]=16+Math.floor(65.481/255*l+128.553/255*D+24.966/255*R+.5);S[y+1]=128-Math.floor(37.797/255*l-74.203/255*D+112/255*R+.5);
S[y+2]=128+Math.floor(112/255*l-93.786/255*D-18.214/255*R+.5);S[y+3]=Q[y+3]}};k.hl=function(Q,S,B){var y=Math.max(Q,S,B),l=Math.min(Q,S,B),D=0,R=0,p=(y+l)*.5;
if(y!=l){var O=y-l;R=p>.5?O/(2-(y+l)):O/(y+l);switch(y){case Q:D=(S-B)/O+(S<B?6:0);break;case S:D=(B-Q)/O+2;
break;case B:D=(Q-S)/O+4;break}D*=1/6}return{Kj:D,YZ:R,io:p}};k.qd=function(Q,S,B){var y,l,D;if(S==0)y=l=D=B;
else{var R=B<.5?B*(1+S):B+S-B*S,p=2*B-R;y=k.qF(p,R,Q+1/3);l=k.qF(p,R,Q);D=k.qF(p,R,Q-1/3)}return{t:y,e:l,R:D}};
k.qF=function(Q,S,B){if(B<0)B+=1;if(B>1)B-=1;if(B<1/6)return Q+(S-Q)*6*B;if(B<1/2)return S;if(B<2/3)return Q+(S-Q)*(2/3-B)*6;
return Q};k.pU=function(Q,S,B){var y=Math.max(Q,S,B),l=Math.min(Q,S,B),D,R,p=y,O=y-l;R=y==0?0:O/y;if(y==l)D=0;
else{switch(y){case Q:D=(S-B)/O+(S<B?6:0);break;case S:D=(B-Q)/O+2;break;case B:D=(Q-S)/O+4;break}D*=1/6}return{Kj:D,YZ:R,Kh:p}};
k.OS=function(Q,S,B){var y,l,D,R,p,O,M,U;R=Math.floor(Q*6);p=Q*6-R;O=B*(1-S);M=B*(1-p*S);U=B*(1-(1-p)*S);
switch(R%6){case 0:y=B,l=U,D=O;break;case 1:y=M,l=B,D=O;break;case 2:y=O,l=B,D=U;break;case 3:y=O,l=M,D=B;
break;case 4:y=U,l=O,D=B;break;case 5:y=B,l=O,D=M;break}return{t:y,e:l,R:D}};k.rn=function(){var Q=[],S=[];
for(var B=0;B<2e3;B++){var y=B/1e3;Q[B]=k.mRn(y);S[B]=y>.008856?Math.pow(y,1/3):(903.3*y+16)*(1/116)}return[Q,S]}();
k.we=function(Q,S,B){var y=k.rn[0],l=k.rn[1];Q=y[~~(Q*(1e3/255))];S=y[~~(S*(1e3/255))];B=y[~~(B*(1e3/255))];
var D=k.Sl.mny,R=D[0]*Q+D[1]*S+D[2]*B,p=D[4]*Q+D[5]*S+D[6]*B,O=D[8]*Q+D[9]*S+D[10]*B;R=R*(100/96.72);
p=p*(100/100);O=O*(100/81.427);return k.xa(R,p,O)};k.xa=function(Q,S,B){var y=k.rn[1],l=y[~~(Q*1e3)],D=y[~~(S*1e3)],R=y[~~(B*1e3)];
return{iu:116*D-16,n:500*(l-D),R:200*(D-R)}};k.xw=function(Q,S,B){var y=903.3,l=.008856,D=(Q+16)/116,R=D*D*D,p=D-B/200,O=p*p*p,M=S/500+D,U=M*M*M,m=O>l?O:(116*p-16)/y,Y=R>l?R:(116*D-16)/y,x=U>l?U:(116*M-16)/y,T=x*96.72,$=Y*100,L=m*81.427,s=k.Sl.vx(k.Sl.RP,[T/100,$/100,L/100,0]);
for(var j=0;j<4;j++)s[j]=Math.max(0,Math.min(255,k.rf(s[j])*255));return{t:s[0],e:s[1],R:s[2]}};k.xn=function(Q,S,B,y,l){var D=Q.iu,R=Q.n,p=Q.R,O=(D<S.iu?S.iu-D:B.iu<D?B.iu-D:0)*(1/100),M=(R<S.n?S.n-R:B.n<R?B.n-R:0)*(1/116),U=(p<S.R?S.R-p:B.R<p?B.R-p:0)*(1/116),m=Math.sqrt(O*O+M*M+U*U)*1.35;
return m<=y?Math.min(1,1.17*(1-m*l)):0};k.Qr=function(Q,S,B){var y=S-k.ob(Q);B.t=Q.t+y;B.e=Q.e+y;B.R=Q.R+y;
k.mQy(B)};k.ai=function(Q,S,B){var y=Q.t,l=Q.e,D=Q.R;if(y==l&&l==D){B.t=B.e=B.R=0}else if(y>l){if(y>D){if(l>D){B.t=S;
B.e=k.Qm(y,l,D,S);B.R=0}else{B.t=S;B.R=k.Qm(y,D,l,S);B.e=0}}else{B.R=S;B.t=k.Qm(D,y,l,S);B.e=0}}else{if(y<D){if(l>D){B.e=S;
B.R=k.Qm(l,D,y,S);B.t=0}else{B.R=S;B.e=k.Qm(D,l,y,S);B.t=0}}else{B.e=S;B.t=k.Qm(l,y,D,S);B.R=0}}};k.mQy=function(Q){var S=Q.t,B=Q.e,y=Q.R,l=k.wc(S,B,y),D=Math.min(S,B,y),R=Math.max(S,B,y);
if(D<0){var p=l/(l-D);S=l+(S-l)*p;B=l+(B-l)*p;y=l+(y-l)*p}if(R>1){var p=(1-l)/(R-l);S=l+(S-l)*p;B=l+(B-l)*p;
y=l+(y-l)*p}Q.t=S;Q.e=B;Q.R=y};k.jk=function(Q,S,B,y,l,D){var R=new Uint32Array(Q.buffer),p=0;y=Math.log(y)/Math.log(2);
y=Math.round(y);for(var O=0;O<B;O++)for(var M=0;M<S;M++){R[p++]=(O+D>>y)+(M+l>>y)&1==1?4291348680:4294967295}};
k.mNn=function(Q,S,B){return(Q>>B)+(S>>B)&1==1?200:255};k.pE=function(Q,S){var B=Q.length;for(var y=0;
y<B;y+=4)S[y>>2]=Math.floor(Q[y+0]*.3+Q[y+1]*.59+Q[y+2]*.11+.5)};k.r$=function(Q,S){var B=S.length;for(var y=0;
y<B;y+=4){var l=Q[y>>>2];S[y]=l;S[y+1]=l;S[y+2]=l}};k.Cc=function(Q,S){var B=Q.n,y=Q.t,l=Q.e,D=Q.R,R=Math.min(Q.n.length,S.buffer.byteLength>>>2),p=4*Math.floor(R/4),O=new Uint32Array(S.buffer),M=new Uint32Array(B.buffer),U=new Uint32Array(y.buffer),m=new Uint32Array(l.buffer),Y=new Uint32Array(D.buffer);
for(var x=0;x<p;x+=4){var T=M[x>>2],$=Y[x>>2],L=m[x>>2],s=U[x>>2];O[x]=T<<24|($&255)<<16|(L&255)<<8|s&255;
O[x+1]=(T&65280)<<16|($&65280)<<8|L&65280|(s&65280)>>>8;O[x+2]=(T&16711680)<<8|$&16711680|(L&16711680)>>>8|(s&16711680)>>>16;
O[x+3]=T&4278190080|($&4278190080)>>>8|(L&4278190080)>>>16|(s&4278190080)>>>24}for(var x=p;x<R;x++)O[x]=B[x]<<24|D[x]<<16|l[x]<<8|y[x]};
k.mNs=function(Q,S,B,y){var l=Q.n,D=Q.t,R=Q.e,p=Q.R,O=new Uint32Array(S.buffer),M=y.x-B.x,U=M+y.r,m=y.y-B.y,Y=m+y.O;
for(var x=m;x<Y;x++){var T=x*B.r+M;for(var $=M;$<U;$++){O[T]=l[T]<<24|p[T]<<16|R[T]<<8|D[T];T++}}};k.Cd=function(Q,S){var B=S.n,y=S.t,l=S.e,D=S.R,R=Math.min(S.n.length,Q.buffer.byteLength>>>2),p=4*Math.floor(R/4),O=new Uint32Array(Q.buffer),M=new Uint32Array(B.buffer),U=new Uint32Array(y.buffer),m=new Uint32Array(l.buffer),Y=new Uint32Array(D.buffer);
for(var x=0;x<p;x+=4){var T=O[x],$=O[x+1],L=O[x+2],s=O[x+3];U[x>>2]=T&255|($&255)<<8|(L&255)<<16|s<<24;
m[x>>2]=(T&65280)>>8|$&65280|(L&65280)<<8|(s&65280)<<16;Y[x>>2]=(T&16711680)>>16|($&16711680)>>8|L&16711680|(s&16711680)<<8;
M[x>>2]=T>>>24|$>>>24<<8|L>>>24<<16|s&4278190080}for(var x=p;x<R;x++){var j=O[x];y[x]=j>>0&255;l[x]=j>>8&255;
D[x]=j>>16&255;B[x]=j>>24&255}};k.MA=function(Q,S,B){var y=new Uint8Array(Q.buffer),l=Math.min(y.length/4,S.length);
for(var D=0;D<l;D++){S[D]=y[(D<<2)+B]}};k.KF=function(Q,S,B){var y=new Uint8Array(S.buffer),l=new Uint32Array(Q.buffer),D=Math.min(y.length/4,Q.length),R=0;
while(R+4<D){var p=l[R>>>2];y[(R<<2)+B]=p&255;y[(R<<2)+B+4]=p>>>8&255;y[(R<<2)+B+8]=p>>>16&255;y[(R<<2)+B+12]=p>>>24;
R+=4}while(R<D){y[(R<<2)+B]=Q[R];R++}};k.clone=function(Q){return Q.slice(0)};k.oJ=function(Q,S){k.set(Q.n,S);
k.set(Q.t,S);k.set(Q.e,S);k.set(Q.R,S)};k.set=function(Q,S){S=Math.round(S);var B=S<<24|S<<16|S<<8|S,y=new Uint32Array(Q.buffer),l=y.length;
for(var D=0;D<l;D++)y[D]=B};k.St=function(Q,S,B){if(B==null)B=0;var y=new Uint32Array(Q.buffer),l=y.length;
for(var D=0;D<l;D++)y[D]=y[D]&B|S};k.mRv=function(Q,S,B,y,l){if(l==null)l=0;var D=new Uint32Array(Q.buffer);
B=B.nG(S);var R=B.x-S.x,p=B.y-S.y,O=B.r,M=B.O,U=S.r;for(var m=0;m<M;m++){var Y=(p+m)*U+R;for(var x=0;
x<O;x++){D[Y]=D[Y]&l|y;Y++}}};k.mRX=function(Q,S){k.MK(Q.n,S.n);k.MK(Q.t,S.t);k.MK(Q.e,S.e);k.MK(Q.R,S.R)};
k.MK=function(Q,S){var B=Math.min(Q.buffer.byteLength,S.buffer.byteLength),y=B>>>2,Q=new Uint32Array(Q.buffer,0,y),S=new Uint32Array(S.buffer,0,y);
S.set(Q)};k.mRo=function(Q,S){return k.UH(Q.n,S.n)&&k.UH(Q.t,S.t)&&k.UH(Q.e,S.e)&&k.UH(Q.R,S.R)};k.UH=function(Q,S){var B=Q.buffer.byteLength,y=S.buffer.byteLength,l=new Uint32Array(Q.buffer,0,B>>2),D=new Uint32Array(S.buffer,0,y>>2);
if(B!=y)return!1;var R=l.length;for(var p=0;p<R;p++)if(D[p]!=l[p])return!1;return!0};k.SD=function(Q){var S=new Uint32Array(Q.buffer),B=S.length;
for(var y=0;y<B;y++)S[y]=~S[y]};k.mRT=function(Q){var S=Q.length;for(var B=3;B<S;B+=4)Q[B]=~Q[B]};k.mQn=function(Q){return Q+(Q%4==0?0:4-Q%4)};
k.Q=function(Q,S){if(S==null)S=!1;if(!S)Q=k.mQn(Q);try{var B=new Uint8Array(Q)}catch(Rf){alert("Not enough RAM! (need "+Math.round(Q/(1<<20))+" MB)",7e3);
throw"low_ram"}return B};k.rt=function(Q){var S=Q.length,B=Q[S-2],y=Q[S-1];while(y.r>=2||y.O>=2){var l=k.QL(B,y);
Q.push(l.Ko,l.rect);B=l.Ko;y=l.rect}};k.QL=function(Q,S,B){var y=S.r,l=S.O,D=y>>1,R=l>>1,p=new w(S.x,S.y,D,R),O=B&&B.length==D*R*4?B:k.Q(D*R*4),M=new Uint32Array(Q.buffer),U=new Uint32Array(O.buffer);
for(var m=0;m<R;m++)for(var Y=0;Y<D;Y++){var x=m*D+Y,T=(m<<1)*y+(Y<<1),$=M[T],L=M[T+1],s=M[T+y],j=M[T+y+1],Z=$>>>24,e=L>>>24,J=s>>>24,N=j>>>24,E=Z+e+J+N;
if(E==1020){var h=($>>>0&255)+(L>>>0&255)+(s>>>0&255)+(j>>>0&255)+2>>>2,o=($>>>8&255)+(L>>>8&255)+(s>>>8&255)+(j>>>8&255)+2>>>2,V=($>>>16&255)+(L>>>16&255)+(s>>>16&255)+(j>>>16&255)+2>>>2;
U[x]=255<<24|V<<16|o<<8|h}else if(E==0)U[x]=0;else{var h=($>>>0&255)*Z+(L>>>0&255)*e+(s>>>0&255)*J+(j>>>0&255)*N,o=($>>>8&255)*Z+(L>>>8&255)*e+(s>>>8&255)*J+(j>>>8&255)*N,V=($>>>16&255)*Z+(L>>>16&255)*e+(s>>>16&255)*J+(j>>>16&255)*N,n=1/E;
h=~~(h*n+.5);o=~~(o*n+.5);V=~~(V*n+.5);U[x]=E+2>>>2<<24|V<<16|o<<8|h}}return{rect:p,Ko:O}};k.xO=function(Q,S,B){var y=S.r,l=S.O,D=y>>1,R=l>>1,p=new w(S.x,S.y,D,R),O=B&&B.length==D*R*4?B:k.Q(D*R*4),M=new Uint32Array(Q.buffer),U=new Uint32Array(O.buffer);
for(var m=0;m<R;m++)for(var Y=0;Y<D;Y++){var x=m*D+Y,T=(m<<1)*y+(Y<<1),$=M[T],L=M[T+1],s=M[T+y],j=M[T+y+1],Z=2+($>>>0&255)+(L>>>0&255)+(s>>>0&255)+(j>>>0&255)>>>2,e=2+($>>>8&255)+(L>>>8&255)+(s>>>8&255)+(j>>>8&255)>>>2,J=2+($>>>16&255)+(L>>>16&255)+(s>>>16&255)+(j>>>16&255)>>>2;
U[x]=4278190080|J<<16|e<<8|Z}return{rect:p,Ko:O}};k.mQE=function(Q,S,B){var y=S.r,l=S.O,D=2*Math.floor(y/3),R=2*Math.floor(l/3),p=new w(S.x,S.y,D,R),O=B&&B.length==D*R*4?B:k.Q(D*R*4),M=new Uint32Array(Q.buffer),U=new Uint32Array(O.buffer);
for(var m=0;m<R;m+=2)for(var Y=0;Y<D;Y+=2){var x=m*D+Y,T=(m*3>>>1)*y+(Y*3>>>1),$=M[T],L=M[T+1],s=M[T+2],j=M[T+y],Z=M[T+1+y],e=M[T+2+y],J=M[T+y+y],N=M[T+1+y+y],E=M[T+2+y+y],h=$>>>24<<2,o=($>>>16&255)*h,V=($>>>8&255)*h,n=($&255)*h,t=L>>>24<<1,q=(L>>>16&255)*t,u=(L>>>8&255)*t,g=(L&255)*t,r=s>>>24<<2,f=(s>>>16&255)*r,I=(s>>>8&255)*r,d=(s&255)*r,a=j>>>24<<1,c=(j>>>16&255)*a,_=(j>>>8&255)*a,C=(j&255)*a,F=Z>>>24,i=(Z>>>16&255)*F,rP=(Z>>>8&255)*F,rH=(Z&255)*F,rK=e>>>24<<1,rY=(e>>>16&255)*rK,Nc=(e>>>8&255)*rK,G=(e&255)*rK,rI=J>>>24<<2,rb=(J>>>16&255)*rI,Nr=(J>>>8&255)*rI,Nz=(J&255)*rI,NL=N>>>24<<1,Nm=(N>>>16&255)*NL,NN=(N>>>8&255)*NL,Ne=(N&255)*NL,Ny=E>>>24<<2,NG=(E>>>16&255)*Ny,NC=(E>>>8&255)*Ny,Ng=(E&255)*Ny,NM=h+t+a+F,NQ=r+t+rK+F,NR=rI+NL+a+F,NV=Ny+NL+rK+F,md=NM==0?0:1/NM,NW=NQ==0?0:1/NQ,Nh=NR==0?0:1/NR,Nt=NV==0?0:1/NV,NU=0,Mw=0,mp=0,Na=0;
NU=~~(.5+(n+g+C+rH)*md);Mw=~~(.5+(V+u+_+rP)*md);mp=~~(.5+(o+q+c+i)*md);Na=~~(.5+NM*(1/9));U[x]=Na<<24|mp<<16|Mw<<8|NU;
NU=~~(.5+(d+g+G+rH)*NW);Mw=~~(.5+(I+u+Nc+rP)*NW);mp=~~(.5+(f+q+rY+i)*NW);Na=~~(.5+NQ*(1/9));U[x+1]=Na<<24|mp<<16|Mw<<8|NU;
NU=~~(.5+(Nz+Ne+C+rH)*Nh);Mw=~~(.5+(Nr+NN+_+rP)*Nh);mp=~~(.5+(rb+Nm+c+i)*Nh);Na=~~(.5+NR*(1/9));U[x+D]=Na<<24|mp<<16|Mw<<8|NU;
NU=~~(.5+(Ng+Ne+G+rH)*Nt);Mw=~~(.5+(NC+NN+Nc+rP)*Nt);mp=~~(.5+(NG+Nm+rY+i)*Nt);Na=~~(.5+NV*(1/9));U[x+D+1]=Na<<24|mp<<16|Mw<<8|NU}return{rect:p,Ko:O}};
k.mQZ=function(Q,S,B){var y=S.r,l=S.O,D=2*Math.floor(y/3),R=2*Math.floor(l/3),p=new w(S.x,S.y,D,R),O=B&&B.length==D*R*4?B:k.Q(D*R*4),M=new Uint32Array(Q.buffer),U=new Uint32Array(O.buffer);
for(var m=0;m<R;m+=2)for(var Y=0;Y<D;Y+=2){var x=m*D+Y,T=(m*3>>>1)*y+(Y*3>>>1),$=M[T],L=M[T+1],s=M[T+2],j=M[T+y],Z=M[T+1+y],e=M[T+2+y],J=M[T+y+y],N=M[T+1+y+y],E=M[T+2+y+y],h=($>>>16&255)<<2,o=($>>>8&255)<<2,V=($&255)<<2,n=(L>>>16&255)<<1,t=(L>>>8&255)<<1,q=(L&255)<<1,u=(s>>>16&255)<<2,g=(s>>>8&255)<<2,r=(s&255)<<2,f=(j>>>16&255)<<1,I=(j>>>8&255)<<1,d=(j&255)<<1,a=Z>>>16&255,c=Z>>>8&255,_=Z&255,C=(e>>>16&255)<<1,F=(e>>>8&255)<<1,i=(e&255)<<1,rP=(J>>>16&255)<<2,rH=(J>>>8&255)<<2,rK=(J&255)<<2,rY=(N>>>16&255)<<1,Nc=(N>>>8&255)<<1,G=(N&255)<<1,rI=(E>>>16&255)<<2,rb=(E>>>8&255)<<2,Nr=(E&255)<<2,Nz=0,NL=0,Nm=0;
Nz=~~(.5+(V+q+d+_)*(1/9));NL=~~(.5+(o+t+I+c)*(1/9));Nm=~~(.5+(h+n+f+a)*(1/9));U[x]=255<<24|Nm<<16|NL<<8|Nz;
Nz=~~(.5+(r+q+i+_)*(1/9));NL=~~(.5+(g+t+F+c)*(1/9));Nm=~~(.5+(u+n+C+a)*(1/9));U[x+1]=255<<24|Nm<<16|NL<<8|Nz;
Nz=~~(.5+(rK+G+d+_)*(1/9));NL=~~(.5+(rH+Nc+I+c)*(1/9));Nm=~~(.5+(rP+rY+f+a)*(1/9));U[x+D]=255<<24|Nm<<16|NL<<8|Nz;
Nz=~~(.5+(Nr+G+i+_)*(1/9));NL=~~(.5+(rb+Nc+F+c)*(1/9));Nm=~~(.5+(rI+rY+C+a)*(1/9));U[x+D+1]=255<<24|Nm<<16|NL<<8|Nz}return{rect:p,Ko:O}};
k.xl=function(Q){var S=255,B=Q.length;B-=B&31;for(var y=3;y<B;y+=32)S=S&Q[y]&Q[y+4]&Q[y+8]&Q[y+12]&Q[y+16]&Q[y+20]&Q[y+24]&Q[y+28];
return S!=255};k.rX=function(Q,S,B,y){var l=k.QL,D=k.mQE,p=0;if(!k.xl(Q)){l=k.xO;D=k.mQZ}var R={Ko:Q,rect:S},O=B;
while(O<.499){p++;O*=2}for(var M=0;M<p;M++)R=l(R.Ko,R.rect,y);if(O<.5001)R=l(R.Ko,R.rect,y);else R=D(R.Ko,R.rect,y);
return R};k.xb=function(Q,S,B,y){var l=k.mLU,D=k.mLl,R={Ko:Q,rect:S},p=0,O=B;while(O<.499){p++;O*=2}for(var M=0;
M<p;M++)R=l(R.Ko,R.rect,y);if(O<.5001)R=l(R.Ko,R.rect,y);else R=D(R.Ko,R.rect,y);return R};k.mLU=function(Q,S,B){var y=S.r,l=S.O,D=y>>1,R=l>>1,p=new w(S.x,S.y,D,R);
if(Q==null)return{rect:p};var O=B&&B.length>=D*R?B:k.Q(D*R);for(var M=0;M<R;M++){var U=M*D;for(var m=0;
m<D;m++){var Y=(M<<1)*y+(m<<1);O[U+m]=2+Q[Y]+Q[Y+1]+Q[Y+y]+Q[Y+y+1]>>>2}}return{rect:p,Ko:O}};k.mLl=function(Q,S,B){var y=S.r,l=S.O,D=2*Math.floor(y/3),R=2*Math.floor(l/3),p=new w(S.x,S.y,D,R);
if(Q==null)return{rect:p};var O=B&&B.length>=D*R?B:k.Q(D*R);for(var M=0;M<R;M+=2)for(var U=0;U<D;U+=2){var m=M*D+U,Y=(M*3>>>1)*y+(U*3>>>1),x=Q[Y]<<2,T=Q[Y+1]<<1,$=Q[Y+2]<<2,L=Q[Y+y]<<1,s=Q[Y+1+y],j=Q[Y+2+y]<<1,Z=Q[Y+y+y]<<2,e=Q[Y+1+y+y]<<1,J=Q[Y+2+y+y]<<2;
O[m]=~~(.5+(x+T+L+s)*(1/9));O[m+1]=~~(.5+($+T+j+s)*(1/9));O[m+D]=~~(.5+(Z+e+L+s)*(1/9));O[m+D+1]=~~(.5+(J+e+j+s)*(1/9))}return{rect:p,Ko:O}};
k.ht=function(Q,S,B,y,l){var D=S.nG(y);if(l)D=D.nG(l);var R=Math.max(0,D.x-S.x),p=Math.max(0,D.x-y.x),O=Math.max(0,D.y-S.y),M=Math.max(0,D.y-y.y),U=D.r,m=D.O;
for(var Y=0;Y<m;Y++){var x=(O+Y)*S.r+R,T=(M+Y)*y.r+p;for(var $=0;$<U;$++){B[T+$]=Q[x+$]}}};k.xx=function(Q,S,B,y){if(S.UH(y)){k.KF(Q,B,3);
return}var l=S.nG(y),D=Math.max(0,l.x-S.x),R=Math.max(0,l.x-y.x),p=Math.max(0,l.y-S.y),O=Math.max(0,l.y-y.y),M=l.r,U=l.O;
for(var m=0;m<U;m++){var Y=(p+m)*S.r+D,x=(O+m)*y.r+R;for(var T=0;T<M;T++)B[(x+T<<2)+3]=Q[Y+T]}};k.xA=function(Q,S,B,y){var l=S.nG(y),D=Math.max(0,l.x-S.x),R=Math.max(0,l.x-y.x),p=Math.max(0,l.y-S.y),O=Math.max(0,l.y-y.y),M=l.r,U=l.O;
for(var m=0;m<U;m++){var Y=(p+m)*S.r+D,x=(O+m)*y.r+R;for(var T=0;T<M;T++)B[x+T]=Q[(Y+T<<2)+3]}};k.mRZ=function(Q,S,B,y){var l=S.nG(y),D=Math.max(0,l.x-S.x),R=Math.max(0,l.x-y.x),p=Math.max(0,l.y-S.y),O=Math.max(0,l.y-y.y),M=l.r,U=l.O;
for(var m=0;m<U;m++){var Y=(p+m)*S.r+D,x=(O+m)*y.r+R;for(var T=0;T<M;T++)B[x++]=Q[Y++]}};k.oD=function(Q,S,B,y,l){if(S.UH(y)&&(l==null||l.UH(y))){k.MK(Q,B);
return}Q=new Uint32Array(Q.buffer),B=new Uint32Array(B.buffer);var D=S.nG(y);if(l)D=D.nG(l);var R=Math.max(0,D.x-S.x),p=Math.max(0,D.x-y.x),O=Math.max(0,D.y-S.y),M=Math.max(0,D.y-y.y),U=D.r,m=D.O,Y=U&3,x=Y==0?U:U-Y;
for(var T=0;T<m;T++){var $=(O+T)*S.r+R,L=(M+T)*y.r+p,s=0;while(s<x){B[L+s]=Q[$+s];B[L+s+1]=Q[$+s+1];
B[L+s+2]=Q[$+s+2];B[L+s+3]=Q[$+s+3];s+=4}if(Y==1){B[L+s]=Q[$+s]}else if(Y==2){B[L+s]=Q[$+s];B[L+s+1]=Q[$+s+1]}else if(Y==3){B[L+s]=Q[$+s];
B[L+s+1]=Q[$+s+1];B[L+s+2]=Q[$+s+2]}}};k.rk=function(Q,S,B,y){var l=S.nG(y),D=Math.max(0,l.x-S.x),R=Math.max(0,l.x-y.x),p=Math.max(0,l.y-S.y),O=Math.max(0,l.y-y.y),M=l.r,U=l.O,m=Q.n,Y=Q.t,x=Q.e,T=Q.R,$=B.n,L=B.t,s=B.e,j=B.R;
for(var Z=0;Z<U;Z++){var e=(p+Z)*S.r+D,J=(O+Z)*y.r+R;for(var N=0;N<M;N++){$[J+N]=m[e+N];L[J+N]=Y[e+N];
s[J+N]=x[e+N];j[J+N]=T[e+N]}}};k.rA=function(Q){var S=Q.length;for(var B=0;B<S;B+=4){var y=Q[B+3];Q[B]=~~(Q[B]*y*(1/255)+.5);
Q[B+1]=~~(Q[B+1]*y*(1/255)+.5);Q[B+2]=~~(Q[B+2]*y*(1/255)+.5)}};k.rY=function(Q){var S=Q.length;for(var B=0;
B<S;B+=4){var y=Q[B+3];if(y==0||y==255)continue;var l=255/y;Q[B]=~~(Q[B]*l+.5);Q[B+1]=~~(Q[B+1]*l+.5);
Q[B+2]=~~(Q[B+2]*l+.5)}};k.mRP=function(){var Q=new Uint8Array(256*256);for(var S=0;S<256;S++)for(var B=0;
B<256;B++)Q[B*256+S]=Math.round(255*S/B);return Q}();k.aZ=function(Q,S){for(var B=0;B<Q.length;B++)if(Q[B]!=S)return!1;
return!0};k.EY=function(Q){return Q+1+(Q>>>8)>>>8};k.round=function(Q,S){if(S==null)S=128;var B=Q.length;
for(var y=0;y<B;y++)Q[y]=Q[y]<S?0:255};k.ax=function(Q,S){var B=Q.length;for(var y=0;y<B;y++)Q[y]=Math.round(Q[y]*S)};
k.mRY=function(Q,S){var B=Q.length;for(var y=0;y<B;y+=4)Q[y+3]=Math.round(Q[y+3]*S)};k.aP=function(Q,S){var B=new Uint32Array(Q.buffer),y=new Uint32Array(S.buffer),l=B.length;
for(var D=0;D<l;D++){var R=B[D],p=y[D];y[D]=k.EY((R>>>24)*(p>>>24))<<24|k.EY((R>>>16&255)*(p>>>16&255))<<16|k.EY((R>>>8&255)*(p>>>8&255))<<8|k.EY((R&255)*(p&255))}};
k.xY=function(Q,S){var B=Q.length;for(var y=0;y<B;y++)S[(y<<2)+3]=k.EY(S[(y<<2)+3]*Q[y])};k.mcN=function(Q,S,B,y){var l=Math.max(0,y.x-S.x),D=Math.max(0,S.x-y.x),R=Math.max(0,y.y-S.y),p=Math.max(0,S.y-y.y),O=Math.min(S.x+S.r,y.x+y.r)-Math.max(S.x,y.x),M=Math.min(S.y+S.O,y.y+y.O)-Math.max(S.y,y.y);
for(var U=0;U<M;U++){var m=(R+U)*S.r+l,Y=(p+U)*y.r+D;for(var x=0;x<O;x++){B[Y]=k.EY(B[Y]*Q[m]);m++;Y++}}};
k.BX=function(Q,S,B,y){var l=Math.max(0,y.x-S.x),D=Math.max(0,S.x-y.x),R=Math.max(0,y.y-S.y),p=Math.max(0,S.y-y.y),O=Math.min(S.x+S.r,y.x+y.r)-Math.max(S.x,y.x),M=Math.min(S.y+S.O,y.y+y.O)-Math.max(S.y,y.y);
for(var U=0;U<M;U++){var m=(R+U)*S.r+l,Y=((p+U)*y.r+D<<2)+3;for(var x=0;x<O;x++){B[Y]=k.EY(B[Y]*Q[m]);
m++;Y+=4}}};k.rS=function(Q,S,B,y){var l=Math.max(0,y.x-S.x),D=Math.max(0,S.x-y.x),R=Math.max(0,y.y-S.y),p=Math.max(0,S.y-y.y),O=Math.min(S.x+S.r,y.x+y.r)-Math.max(S.x,y.x),M=Math.min(S.y+S.O,y.y+y.O)-Math.max(S.y,y.y);
for(var U=0;U<M;U++){var m=((R+U)*S.r+l<<2)+3,Y=((p+U)*y.r+D<<2)+3;for(var x=0;x<O;x++){B[Y]=k.EY(B[Y]*Q[m]);
m+=4;Y+=4}}};k.mcy=function(Q,S,B,y){var l=1/255,D=Math.max(0,y.x-S.x),R=Math.max(0,S.x-y.x),p=Math.max(0,y.y-S.y),O=Math.max(0,S.y-y.y),M=Math.min(S.x+S.r,y.x+y.r)-Math.max(S.x,y.x),U=Math.min(S.y+S.O,y.y+y.O)-Math.max(S.y,y.y);
for(var m=0;m<U;m++){var Y=(p+m)*S.r+D,x=(O+m)*y.r+R;for(var T=0;T<M;T++){B[x]=l*B[x]*(255-Q[Y]);Y++;
x++}}};k.mcf=function(Q,S){var B=[];for(var y=0;y<256;y++)B.push(0);var l=Q.length,D=1/255;for(var y=0;
y<l;y++)B[Q[y]]+=S[y]*D;return B};k.Qd=function(Q){var S=new Float64Array(256),B=new Float64Array(256),y=new Float64Array(256),l=new Float64Array(256),D=Q.length;
for(var R=0;R<D;R+=4){var p=Q[R+3]*(1/255);B[Q[R+0]]+=p;y[Q[R+1]]+=p;l[Q[R+2]]+=p}for(var R=0;R<256;
R++)S[R]=B[R]+y[R]+l[R];return[S,B,y,l,D>>>2]};k.ve=function(Q,S){var B=new Uint32Array(Q.buffer),y=B.length;
for(var l=0;l<y;l++){var D=B[l],R=D&255,p=D>>8&255,O=D>>16&255,M=D>>24&255;B[l]=S[R]|S[p]<<8|S[O]<<16|S[M]<<24}};
k.mcR=function(Q,S,B,y,l,D,R){var p=new Uint32Array(Q.buffer),O=new Uint32Array(S.buffer),M=p.length,U=0;
while(256<<U<B.length)U++;if(!R&&!D){for(var m=0;m!=M;m++){var Y=p[m],x=(Y&255)<<U,T=(Y>>>8&255)<<U,$=(Y>>>16&255)<<U,L=B[x],s=y[T],j=l[$];
O[m]=L|s<<8|j<<16|Y&4278190080}return}for(var m=0;m<M;m++){var Y=p[m],x=(Y&255)<<U,T=(Y>>>8&255)<<U,$=(Y>>>16&255)<<U;
if(D)x=T=$=Math.round(x*.3+T*.59+$*.11);var L=B[x],s=y[T],j=l[$];if(R){var Z=k.wc(x,T,$),e=k.wc(L,s,j);
if(Z>e){var J=(Z-e)/(255-e);L+=J*(255-L);s+=J*(255-s);j+=J*(255-j)}else if(e==0)L=s=j=0;else{var J=Z/e;
L=J*L;s=J*s;j=J*j}}O[m]=L|s<<8|j<<16|Y&4278190080}};k.mcI=function(Q){var S=new Uint32Array(256),y=0;
for(var B=0;B<Q.length;B++)S[Q[B]]++;for(var B=0;B<256;B++)if(S[B]>S[y])y=B;return y};k.p$=function(Q,S){var B=S.r,y=S.O,top=0,l=0,D=0,R=0,p=0;
p=0;for(var O=0;O<y;O++){var M=O*B;for(var U=0;U<B;U++)p|=Q[M+U];if(p!=0)break;top++}if(top==y)return new w(0,0,0,0);
p=0;for(var O=y-1;O>=0;O--){var M=O*B;for(var U=0;U<B;U++)p|=Q[M+U];if(p!=0)break;D++}var m=y-D;p=0;
for(var U=0;U<B;U++){for(var O=top;O<m;O++)p|=Q[O*B+U];if(p!=0)break;l++}p=0;for(var U=B-1;U>=0;U--){for(var O=top;
O<m;O++)p|=Q[O*B+U];if(p!=0)break;R++}var Y=new w(S.x+l,S.y+top,B-l-R,y-top-D);return Y};k.Nr=function(Q,S,B,y){if(y==null)y=[!0,!0,!0,!0];
if(B==null)B=0;var l=new Uint32Array(Q.buffer),D=S.r,R=S.O,top=0,p=0,O=0,M=0,U=!1,m=[l[0],l[l.length-1],0][B];
U=!1;if(y[0])for(var Y=0;Y<R;Y++){var x=Y*D;for(var T=0;T<D;T++)if(l[x+T]!=m)U=!0;if(U)break;top++}U=!1;
if(y[2])for(var Y=R-1;Y>=0;Y--){var x=Y*D;for(var T=0;T<D;T++)if(l[x+T]!=m)U=!0;if(U)break;O++}U=!1;
if(y[1])for(var T=0;T<D;T++){for(var Y=0;Y<R;Y++)if(l[Y*D+T]!=m)U=!0;if(U)break;p++}U=!1;if(y[3])for(var T=D-1;
T>=0;T--){for(var Y=0;Y<R;Y++)if(l[Y*D+T]!=m)U=!0;if(U)break;M++}var $=new w(S.x+p,S.y+top,D-p-M,R-top-O);
return $.Kq()?new w(0,0,0,0):$};k.mdQ=function(Q){var S=255,B=Q.length;for(var y=3;y<B;y+=4)S=S&Q[y];
return S};k.On=function(Q){var S=k.p$(Q.channel,Q.rect);if(S.UH(Q.rect))return;var B=k.Q(S.Z());k.ht(Q.channel,Q.rect,B,S);
Q.channel=B;Q.rect=S};k.aH=function(Q){var S=k.Q(Q.buffer.length>>2);k.MA(Q.buffer,S,3);var B=k.p$(S,Q.rect);
if(B.UH(Q.rect))return;var y=new k.Q(B.Z()*4);k.oD(Q.buffer,Q.rect,y,B);Q.buffer=y;Q.rect=B};k.extend=function(Q,S,B){if(Q.rect.vM(S))return;
var y=Q.rect.wM(S),l=k.Q(y.Z());if(B!=null)k.set(l,B);k.ht(Q.channel,Q.rect,l,y);Q.rect=y;Q.channel=l};
k.mch=function(Q,S){if(S.Kq()||Q.rect.vM(S))return;var B=Q.rect.wM(S),y=k.Q(B.Z()*4);k.oD(Q.buffer,Q.rect,y,B);
Q.rect=B;Q.buffer=y};k.mdd=function(Q,S,B){var y=S.clone(),l=B.Z(),D=Q.wM(y);while(D.Z()/Q.Z()<2&&D.Z()<l){y.Jq(16,16);
D=D.wM(y).nG(B)}if(l/D.Z()<2)D=B.clone();return D};k.Pm=function(Q){var S=Q.length;for(var B=0;B<S;B+=4){var y=Q[B+3];
if(Q[B]>y)Q[B]=y;if(Q[B+1]>y)Q[B+1]=y;if(Q[B+2]>y)Q[B+2]=y}};k.CM=function(Q,S,B){if(!B._D(Q))return!1;
var y=Math.floor(Q.x)-B.x,l=Math.floor(Q.y)-B.y,D=l*B.r+y;return S[D]>128};k.mdD=function(Q,S,B){if(!B._D(Q))return!1;
var y=Math.floor(Q.x)-B.x,l=Math.floor(Q.y)-B.y,D=l*B.r+y;return S[4*D+3]>128};k.PM=function(Q){if(k.aY.length<Q){k.aY=k.Q(Q);
k.set(k.aY,255)}return k.aY};k.aY=k.Q(0);k.VE=function(Q){if(k.NR.length<Q)k.NR=k.Q(Q);return k.NR};
k.NR=k.Q(0);k.rp=function(Q){this.n=k.Q(Q);this.t=k.Q(Q);this.e=k.Q(Q);this.R=k.Q(Q)};k.rp.prototype.clone=function(){var Q=this.n.length,S=new k.rp(1);
S.n=k.clone(this.n);S.t=k.clone(this.t);S.e=k.clone(this.e);S.R=k.clone(this.R);return S};k.X={};k.X.vm=new Float64Array(256);
k.X.wy=new Uint8Array(256*256);k.X.NQ=new Uint8Array(256*256);(function(){for(var Q=0;Q<256;Q++)k.X.vm[Q]=255/Q;
for(var Q=0;Q<256;Q++)for(var S=0;S<256;S++)k.X.wy[Q*256+S]=Q==0?0:Math.round(S*255/Q);for(var Q=0;Q<256;
Q++)for(var S=0;S<256;S++)k.X.NQ[Q*256+S]=Math.round(Q*(255-S)/255)}());k.X.Rc=function(Q,S,B,y,l,D,R,p){if(p==null)p=Nq.gU();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(Q)==-1){R=R*p.fill;p.fill=1;p.style=!1}var O="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),M="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),U=k.X[Q+"F"];
if(p.Lf==null&&Q=="norm")k.X.myK(S,B,y,l,D,R,U,p.Lv?1:0);else if(Q=="diss")k.X.mVy(S,B,y,l,D,R,U,p.Lv?1:0);
else if(O.indexOf(Q)!=-1)k.X.mqP(S,B,y,l,D,R,U,p);else if(M.indexOf(Q)!=-1)k.X.mqI(S,B,y,l,D,R,U,p)};
k.X.myy=function(Q,S,B){return Q==0?0:1-Math.min(1,(1-S)/(Q*B+1-B))};k.X.myE=function(Q,S,B){return Q*B==1?1:Math.min(1,S/(1-Q*B))};
k.X.jA=function(Q){return Q<=.25?((16*Q-12)*Q+4)*Q:Math.sqrt(Q)};k.X.normF=function(Q,S,B){return Q};
k.X.darkF=function(Q,S,B){return Math.min(Q,S)};k.X["mul F"]=function(Q,S,B){return Q*S};k.X.idivF=function(Q,S,B){var y=Q*B+1-B;
return S==1?1:1-S>=y?0:1-(1-S)/y};k.X.lbrnF=function(Q,S,B){return Math.max(0,Q*B+S-B)};k.X.dkClF=function(Q,S,B){var y=k.ob(Q)<k.ob(S)?Q:S;
B.t=y.t;B.e=y.e;B.R=y.R;return B};k.X.liteF=function(Q,S,B){return Math.max(Q,S)};k.X.scrnF=function(Q,S,B){return S+Q-S*Q};
k.X["div F"]=function(Q,S,B){Q*=B;return S==0?0:S>=1-Q?1:S/(1-Q)};k.X.lddgF=function(Q,S,B){Q*=B;return Math.min(1,Q+S)};
k.X.lgClF=function(Q,S,B){var y=k.ob(Q)>k.ob(S)?Q:S;B.t=y.t;B.e=y.e;B.R=y.R;return B};k.X.overF=function(Q,S,B){return k.X.hLitF(S,Q,B)};
k.X.sLitF=function(Q,S,B){return Q<=.5?S-(1-2*Q)*S*(1-S):S+(2*Q-1)*(k.X.jA(S)-S)};k.X.hLitF=function(Q,S,B){return Q<=.5?k.X["mul F"](2*Q,S,B):k.X.scrnF(2*Q-1,S,B)};
k.X.vLitF=function(Q,S,B){return Q<=.5?k.X.myy(2*Q,S,B):k.X.myE(2*Q-1,S,B)};k.X.lLitF=function(Q,S,B){return Q<=.5?k.X.lbrnF(2*Q,S,B):k.X.lddgF(2*Q-1,S,B)};
k.X.pLitF=function(Q,S,B){return Q<=.5?k.X.darkF(2*Q,S,B):k.X.liteF(2*Q-1,S,B)};k.X.hMixF=function(Q,S,B){if(B>.99)return Q+S<1?0:1;
return Math.min(1,Math.max(0,(S+Q*B-B)/(1-B+1e-6)))};k.X.diffF=function(Q,S,B){Q*=B;return Math.abs(Q-S)};
k.X.smudF=function(Q,S,B){return Q+S-2*Q*S};k.X.fsubF=function(Q,S,B){return Math.max(S-Q,0)};k.X.fdivF=function(Q,S,B){return Math.min(S/Q,1)};
k.X["hue F"]=function(Q,S,B){k.ai(Q,k.aE(S),B);k.Qr(B,k.ob(S),B)};k.X["sat F"]=function(Q,S,B){k.ai(S,k.aE(Q),B);
k.Qr(B,k.ob(S),B)};k.X.colrF=function(Q,S,B){k.Qr(Q,k.ob(S),B)};k.X["lum F"]=function(Q,S,B){k.Qr(S,k.ob(Q),B)};
k.X.myK=function(Q,S,B,y,l,D,R,p){var O=S.nG(y).nG(l),M=Math.max(0,O.x-S.x),U=Math.max(0,O.x-y.x),m=Math.max(0,O.y-S.y),Y=Math.max(0,O.y-y.y),x=O.r,T=O.O,$=S.r,L=y.r,s=k.X.wy,j=k.X.NQ,Z=new Uint32Array(Q.buffer),e=new Uint32Array(B.buffer);
for(var J=0;J<T;J++){var N=(m+J)*$+M,E=(Y+J)*L+U;for(var h=0;h<x;h++){var o=Z[N+h],t=255;if(o>>>24==0)continue;
if(o>>>24==255&&D==1&&p==0){e[E+h]=Z[N+h];continue}var V=e[E+h],n=255*D&255;if(p==0){n=(o>>>24)*D&255;
t=V>>>24}var q=j[t<<8|n],u=n+q,g=o&255,r=o>>>8&255,f=o>>>16&255,I=V&255,d=V>>>8&255,a=V>>>16&255;e[E+h]=p*(V>>>24)+(1-p)*u<<24|s[u<<8|k.EY(f*n+a*q)]<<16|s[u<<8|k.EY(r*n+d*q)]<<8|s[u<<8|k.EY(g*n+I*q)]}}};
k.X.mqE=function(Q,S,B,y,l,D){var R=S.nG(y).nG(l),p=Math.max(0,R.x-S.x),O=Math.max(0,R.x-y.x),M=Math.max(0,R.y-S.y),U=Math.max(0,R.y-y.y),m=R.r,Y=R.O,x=S.r,T=y.r,$=k.X.wy,L=k.X.NQ,s=new Uint32Array(Q.buffer),j=new Uint32Array(B.buffer),Z=Math.floor(Math.random()*16777215),e=0;
for(var J=0;J<Y;J++){var N=(M+J)*x+p,E=(U+J)*T+O;for(var h=0;h<m;h++){var o=s[N+h];if(o>>>24==0)continue;
if(o>>24==255&&D==1){j[E+h]=o;continue}var V=j[E+h],n=(o>>>24)*D*(1/255),t=(V>>>24)*(1/255),q=t*(1-n),u=n+q,g=o&255,r=o>>>8&255,f=o>>>16&255,I=V&255,d=V>>>8&255,a=V>>>16&255;
e>>>=8;if((h&3)==0)e=k.X.ol(E+h+Z);var c=u==0?0:1/u,_=Math.floor(u*(256*255))+(e&255)>>>8,C=Math.floor((f*n+a*q)*c+.5),F=Math.floor((r*n+d*q)*c+.5),i=Math.floor((g*n+I*q)*c+.5);
j[E+h]=_<<24|C<<16|F<<8|i}}};k.X.vp=function(Q,S,B,y,l,D,R,p){var O=k.wc(Q,S,B),M=k.wc(y,l,D),U=Math.min,m=k.X.mqZ,Y=m(O,p,0);
Y=U(Y,m(Q,p,8));Y=U(Y,m(S,p,16));Y=U(Y,m(B,p,24));var x=m(M,p,4);x=U(x,m(y,p,12));x=U(x,m(l,p,20));x=U(x,m(D,p,28));
x=Math.max(x,1-R);var T=Math.min(Y,x);return T<0?0:T>1?1:T};k.X.mqZ=function(Q,S,B){return Math.min((Q-S[B])*S[B+1],(Q-S[B+3])*S[B+2])};
k.X.mqP=function(Q,S,B,y,l,D,R,p){var O=1/255,M=O*D,U=p.Lv?1:0,m=p.fill,Y=p.style,x=S.nG(y).nG(l),T=Math.max(0,x.x-S.x),$=Math.max(0,x.x-y.x),L=Math.max(0,x.y-S.y),s=Math.max(0,x.y-y.y),j=x.r,Z=x.O,e=S.r,J=y.r,N=new Uint32Array(Q.buffer),E=new Uint32Array(B.buffer);
for(var h=0;h<Z;h++){var o=(L+h)*e+T,V=(s+h)*J+$;for(var n=0;n<j;n++,o++,V++){var t=N[o],c=1;if(t>>>24==0)continue;
var q=E[V],u=(t&255)*O,g=(t>>>8&255)*O,r=(t>>>16&255)*O,f=(q&255)*O,I=(q>>>8&255)*O,d=(q>>>16&255)*O,a=D;
if(U==0){a=(t>>>24)*M;c=(q>>>24)*O}if(p.Lf)a*=k.X.vp(u,g,r,f,I,d,c,p.Lf);var _=c*(1-a),C=a+_,F=255/C,i=Y?1:a,rP=((1-c)*a*u+(1-i)*c*f+i*c*R(u,f,(1+a-i)*m))*F,rH=((1-c)*a*g+(1-i)*c*I+i*c*R(g,I,(1+a-i)*m))*F,rK=((1-c)*a*r+(1-i)*c*d+i*c*R(r,d,(1+a-i)*m))*F;
C=a*m+c*(1-a*m);var rY=Math.round(C*255);E[V]=U*(q>>>24)+(1-U)*rY<<24|rK<<16|rH<<8|rP}}};k.X.mqI=function(Q,S,B,y,l,D,R,p){var O=1/255,M=O*D,U=p.Lv?1:0,m=S.nG(y).nG(l),Y=Math.max(0,m.x-S.x),x=Math.max(0,m.x-y.x),T=Math.max(0,m.y-S.y),$=Math.max(0,m.y-y.y),L=m.r,s=m.O,j=new Uint32Array(Q.buffer),Z=new Uint32Array(B.buffer),e={t:0,e:0,R:0},J={t:0,e:0,R:0},N={t:0,e:0,R:0};
for(var E=0;E<s;E++){var h=(T+E)*S.r+Y,o=($+E)*y.r+x;for(var V=0;V<L;V++,h++,o++){var n=j[h],t=Z[o],q=(n&255)*O,u=(n>>>8&255)*O,g=(n>>>16&255)*O,r=(t&255)*O,f=(t>>>8&255)*O,I=(t>>>16&255)*O,d=D,a=1;
if(U==0){d=(n>>>24)*M;a=(t>>>24)*O}if(p.Lf)d*=k.X.vp(q,u,g,r,f,I,a,p.Lf);var c=a*(1-d),_=d+c,C=255/_;
e.t=q;e.e=u;e.R=g;J.t=r;J.e=f;J.R=I;R(e,J,N);var F=(((1-a)*q+a*N.t)*d+r*c)*C,i=(((1-a)*u+a*N.e)*d+f*c)*C,rP=(((1-a)*g+a*N.R)*d+I*c)*C,rH=U*(t>>>24)+(1-U)*Math.round(_*255);
Z[o]=rH<<24|rP<<16|i<<8|F}}};k.X.oi=function(Q){Q=Q^61^Q>>>16;Q=Q+(Q<<3);Q=Q^Q>>>4;Q=Q*668265261;Q=Q^Q>>15;
return(Q&16777215)*(1/16777215)};k.X.ol=function(Q){Q=Q^61^Q>>>16;Q=Q+(Q<<3);Q=Q^Q>>>4;Q=Q*668265261;
Q=Q^Q>>>15;return Q};k.X.NL=function(Q){this.iF=Q};k.X.NL.prototype.get=function(){var Q=this.iF=k.X.ol(this.iF);
return(Q&16777215)*(1/16777215)};k.X.mVy=function(Q,S,B,y,l,D,R,p){var O=1/255,M=O*D,U=Math.round(D*(256*256*256/255)),m=S.nG(y).nG(l),Y=Math.max(0,m.x-S.x),x=Math.max(0,m.x-y.x),T=Math.max(0,m.y-S.y),$=Math.max(0,m.y-y.y),L=m.r,s=m.O,j=new Uint32Array(Q.buffer),Z=new Uint32Array(B.buffer);
for(var e=0;e<s;e++){var J=(T+e)*S.r+Y,N=($+e)*y.r+x;for(var E=0;E<L;E++,J++,N++){var h=j[J],o=Z[N],V=p*255+(1-p)*(h>>>24);
if((k.X.ol(J)&16777215)>=V*U)continue;Z[N]=h&16777215|p*(o>>>24)+(1-p)*255<<24}}};k.X.mdh=function(Q,S,B){for(var y=0;
y<Q.length;y+=4){var l=B[y>>>2];if(l==0)continue;var D=l*(1/255),R=1/D,p=S[y],O=S[y+1],M=S[y+2],U=Q[y],m=Q[y+1],Y=Q[y+2];
S[y]=Math.min(255,Math.max(0,Math.round((p-(1-D)*U)*R)));S[y+1]=Math.min(255,Math.max(0,Math.round((O-(1-D)*m)*R)));
S[y+2]=Math.min(255,Math.max(0,Math.round((M-(1-D)*Y)*R)));S[y+3]=255}};k.X.ia=function(Q,S,B,y,l,D,R,p,O,M){if(M==null)M=!1;
if(l&&!S.UH(D)){var U=k.Q(S.Z()*4);k.set(U,R);k.ht(l,D,U,S);l=U;D=S}if(M){if(l==null)k.X.mhV(Q,S,B,y,l,p,O);
else k.X.mCz(Q,S,B,y,l,p,O)}else{if(l==null)k.X.mV$(Q,S,B,y,l,p,O);else k.X.mh$(Q,S,B,y,l,p,O)}};k.X.mV$=function(Q,S,B,y,l,D,R){var p=1/255,O=S.nG(y).nG(D),M=Math.max(0,O.x-S.x),U=Math.max(0,O.x-y.x),m=Math.max(0,O.y-S.y),Y=Math.max(0,O.y-y.y),x=O.r,T=O.O,$=new Uint32Array(Q.buffer),L=new Uint32Array(B.buffer),s=k.X.wy,j=R*255&255;
for(var Z=0;Z<T;Z++){var e=(m+Z)*S.r+M,J=(Y+Z)*y.r+U;for(var N=0;N<x;N++,e++,J++){var E=$[e],h=L[J],o=E>>>24,V=h>>>24,n=k.EY(j*o+(255-j)*V),t=k.EY(o*j),q=k.EY(V*(255-j)),u=E&255,g=E>>>8&255,r=E>>>16&255,f=h&255,I=h>>>8&255,d=h>>>16&255,a=t*u+f*q,c=t*g+I*q,_=t*r+d*q;
a=s[n<<8|k.EY(a)];c=s[n<<8|k.EY(c)];_=s[n<<8|k.EY(_)];L[J]=n<<24|_<<16|c<<8|a}}};k.X.mhV=function(Q,S,B,y,l,D,R){var p=1/255,O=S.nG(y).nG(D),M=Math.max(0,O.x-S.x),U=Math.max(0,O.x-y.x),m=Math.max(0,O.y-S.y),Y=Math.max(0,O.y-y.y),x=O.r,T=O.O,$=new Uint32Array(Q.buffer),L=new Uint32Array(B.buffer),s=k.X.wy,j=R*16777215&16777215;
for(var Z=0;Z<T;Z++){var e=(m+Z)*S.r+M,J=(Y+Z)*y.r+U;for(var N=0;N<x;N++,e++,J++){if((k.X.ol(e)&16777215)<j)L[J]=$[e]}}};
k.X.mh$=function(Q,S,B,y,l,D,R){var p=1/255,O=S.nG(y).nG(D),M=Math.max(0,O.x-S.x),U=Math.max(0,O.x-y.x),m=Math.max(0,O.y-S.y),Y=Math.max(0,O.y-y.y),x=O.r,T=O.O,$=new Uint32Array(Q.buffer),L=new Uint32Array(B.buffer),s=k.X.wy;
for(var j=0;j<T;j++){var Z=(m+j)*S.r+M,e=(Y+j)*y.r+U;for(var J=0;J<x;J++,Z++,e++){var N=l[Z]*R&255;if(N==0)continue;
if(N==255){L[e]=$[Z];continue}var E=$[Z],h=L[e],o=E>>>24,V=h>>>24,n=k.EY(N*o+(255-N)*V),t=k.EY(o*N),q=k.EY(V*(255-N)),u=E&255,g=E>>>8&255,r=E>>>16&255,f=h&255,I=h>>>8&255,d=h>>>16&255,a=s[n<<8|k.EY(t*u+f*q)],c=s[n<<8|k.EY(t*g+I*q)],_=s[n<<8|k.EY(t*r+d*q)];
L[e]=n<<24|_<<16|c<<8|a}}};k.X.mCz=function(Q,S,B,y,l,D,R){var p=1/255,O=S.nG(y).nG(D),M=Math.max(0,O.x-S.x),U=Math.max(0,O.x-y.x),m=Math.max(0,O.y-S.y),Y=Math.max(0,O.y-y.y),x=O.r,T=O.O,$=new Uint32Array(Q.buffer),L=new Uint32Array(B.buffer),s=k.X.wy,j=Math.round(R*257);
for(var Z=0;Z<T;Z++){var e=(m+Z)*S.r+M,J=(Y+Z)*y.r+U;for(var N=0;N<x;N++,e++,J++){var E=l[e]*j;if((k.X.ol(e)&65535)<E)L[J]=$[e]}}};
k.X.Pr=function(Q,S,B,y,l,D,R){var p=1/255,O=S.nG(y).nG(D),M=Math.max(0,O.x-S.x),U=Math.max(0,O.x-y.x),m=Math.max(0,O.y-S.y),Y=Math.max(0,O.y-y.y),x=O.r,T=O.O,$=new Uint32Array(Q.buffer),L=new Uint32Array(B.buffer),s=Math.floor(Math.random()*y.Z()),j=k.X.mCQ;
for(var Z=0;Z<T;Z++){var e=(m+Z)*S.r+M,J=(Y+Z)*y.r+U;for(var N=0;N<x;N++){var E=l[e+N]*R;if(E==0)continue;
if(E==255){L[J+N]=$[e+N];continue}var h=$[e+N],o=L[J+N],V=h>>>24,n=o>>>24,t=V*E*(1/255),q=n*(255-E)*(1/255),u=h&255,g=h>>>8&255,r=h>>>16&255,f=o&255,I=o>>>8&255,d=o>>>16&255,a=k.X.ol(J+N+s),c=Math.floor((t+q)*256+.5)+(a>>>0&255)>>>8,_=c==0?0:256/(t+q),C=u*t+f*q,F=g*t+I*q,i=r*t+d*q,rP=Math.floor(C*_+.5)+(a>>>8&255)>>>8,rH=Math.floor(F*_+.5)+(a>>>16&255)>>>8,rK=Math.floor(i*_+.5)+(a>>>21&248)>>>8;
L[J+N]=c<<24|rK<<16|rH<<8|rP}}};k.X.mCQ=function(Q){return Math.floor(Q+Math.random())};k.X.Qh=function(Q,S,B,y,l,D,R){var p=1/255,O=S.nG(y).nG(D),M=Math.max(0,O.x-S.x),U=Math.max(0,O.x-y.x),m=Math.max(0,O.y-S.y),Y=Math.max(0,O.y-y.y),x=O.r,T=O.O;
for(var $=0;$<T;$++){var L=(m+$)*S.r+M,s=(Y+$)*y.r+U;for(var j=0;j<x;j++,L++,s++){var Z=R*l[L]*p;if(Z==0)continue;
if(Z==1){B[s]=Q[L];continue}B[s]=Q[L]*Z+B[s]*(1-Z)}}};k.wj={};k.wj.mCX=function(Q,S,B,y,l,D){k.wj.Nc(Q,S,B,y,l,D,null,0)};
k.wj.mCY=function(Q,S,B,y,l){k.wj.Nc(Q,S,B,y,l,null,null,0)};k.wj.mCS=function(Q,S,B,y,l,D,R){k.wj.Nc(Q,S,B,y,l,null,D,R*.5)};
k.wj.Nc=function(Q,S,B,y,l,D,R,p){var O=0,q=0,u=1e9,g=0,r=1e9,f=0,I=1e9,d=0,a=0,c=0,_=0;if(D){O=l*.5;
l=3+Math.round((l-3)*.75)}if(R){l=Math.round(l*2.2)}var M=1/l,U=Math.floor(S*M)+1,m=Math.floor(B*M)+1,Y=[],x=new Uint8Array(U*m*4),T=R?.5:1,$=D?64:0;
for(var L=0;L<m;L++){var s=R?.5*(L&1):0;for(var j=0;j<U;j++){var Z=(j+Math.random()*T+s)*l,e=(L+Math.random()*T)*l;
Y.push(Z,e);var J=Math.min(S-1,Math.floor(Z)),N=Math.min(B-1,Math.floor(e)),E=(N*S+J)*4,h=(L*U+j)*4;
for(var o=0;o<4;o++)x[h+o]=Math.max(0,Math.min(255,Math.floor(Q[E+o]+(Math.random()-.5)*$)))}}var V=D?D:R?R:[0,0,0],n=U*m*2,t=[-U-1,-U,-U+1,-1,0,1,U-1,U,U+1];
for(var L=0;L<B;L++){c=0;for(var j=0;j<S;j++){var C=j+.5,F=L+.5,i=Math.floor(F*M),rP=Math.floor(C*M),rH=i*U+rP,Nc=0,G=0;
if(c>1+p){u=k.wj.PN(Y,q,C,F);d=Math.sqrt(u);c--;_++}else{u=r=I=1e9;for(var o=0;o<t.length;o++){var rK=(rH+t[o])*2;
if(rK<0||rK>=n)continue;var rY=k.wj.PN(Y,rK,C,F);if(rY<I){if(rY<r){if(rY<u){f=g;I=r;g=q;r=u;q=rK;u=rY}else{f=g;
I=r;g=rK;r=rY}}else{f=rK;I=rY}}}d=Math.sqrt(u);a=Math.sqrt(r);c=a-(d+a)*.5}if(R==null){var rI=(d+a)*.5,rb=D?Math.max(0,rI-O):0;
Nc=Math.max(0,Math.min(1,.5+rI-d-rb));G=Math.max(0,Math.min(1,1-(.5+rI-d)-rb))}else{var Nr=Math.min(k.wj.PR(Y,q,g,C,F),k.wj.PR(Y,q,f,C,F));
Nc=Math.max(0,Math.min(1,Nr-p*.5));if(C<p||S-p<C||F<p||B-p<F)Nc=0;G=0}var Nz=1-G-Nc,h=L*S+j<<2,NL=q<<1,Nm=g<<1;
y[h+0]=Math.floor(.5+Nc*x[NL+0]+G*x[Nm+0]+Nz*V[0]);y[h+1]=Math.floor(.5+Nc*x[NL+1]+G*x[Nm+1]+Nz*V[1]);
y[h+2]=Math.floor(.5+Nc*x[NL+2]+G*x[Nm+2]+Nz*V[2]);y[h+3]=Q[h+3]}}};k.wj.PN=function(Q,S,B,y){var l=B-Q[S],D=y-Q[S+1];
return l*l+D*D};k.wj.PR=function(Q,S,B,y,l){var D=Q[S],R=Q[S+1],p=Q[B],O=Q[B+1],M=(D+p)*.5,U=(R+O)*.5,m=M+(O-R),Y=U-(p-D),x=Y-U,T=m-M;
return Math.abs(x*y-T*l+m*U-Y*M)/Math.sqrt(T*T+x*x)};k.blur={};k.blur.oS=function(Q){if(k.blur.vy.length<Q)k.blur.vy=k.Q(Q);
return k.blur.vy};k.blur.vy=k.Q(0);k.blur.PL=function(Q){if(k.blur.Ny.length<Q)k.blur.Ny=new Float32Array(Q);
return k.blur.Ny};k.blur.Ny=new Float32Array(0);k.blur.UQ=function(Q,S,B,y){var l=B.r,D=B.O;k.blur.muh(Q,S,l,D,y)};
k.blur.mCK=function(Q,S,B){var y=S.r,l=S.O;k.blur.mu_(Q,y,l,B)};k.blur.vJ=function(Q,S,B,y){var l=B.r,D=B.O;
k.blur.muf(Q,S,l,D,y)};k.blur.Pc=function(Q,S,B,y){var l=B.r,D=B.O;y=Math.round(y);var R=k.blur.oS(l*D);
k.MK(Q,S);k.blur.vV(S,R,l,D,y)};k.blur.Pd=function(Q,S,B){var y=S.r,l=S.O;B=Math.round(B);var D=k.blur.oS(y*l*4);
k.blur.vu(Q,D,y,l,B)};k.blur.NJ=function(Q,S,B,y){var l=B.r,D=B.O;y=Math.round(y);var R=k.blur.PL(l*D);
k.MK(Q,S);k.blur.vW(S,R,l,D,y)};k.blur.Py=function(Q,S,B){var y=S.r,l=S.O;B=Math.round(B);var D=k.blur.oS(y*l*4);
k.blur.Pq(Q,D,y,l,B);k.MK(D,Q)};k.blur.NG=function(Q,S){var B=Math.sqrt(12*Q*Q/S+1),y=Math.floor(B);
if(y%2==0)y--;var l=y+2,D=(12*Q*Q-S*y*y-4*S*y-3*S)/(-4*y-4),R=Math.round(D),p=[];for(var O=0;O<S;O++)p.push(O<R?y:l);
return p};k.blur.muh=function(Q,S,B,y,l){var D=k.blur.NG(l,3),R=k.blur.oS(B*y);k.MK(Q,S);k.blur.vV(S,R,B,y,D[0]-1>>1);
k.blur.vV(S,R,B,y,D[1]-1>>1);k.blur.vV(S,R,B,y,D[2]-1>>1)};k.blur.mu_=function(Q,S,B,y){var l=k.blur.NG(y,3),D=k.blur.oS(S*B*4);
k.blur.vu(Q,D,S,B,l[0]-1>>1);k.blur.vu(Q,D,S,B,l[1]-1>>1);k.blur.vu(Q,D,S,B,l[2]-1>>1)};k.blur.muf=function(Q,S,B,y,l){var D=k.blur.NG(l,3),R=k.blur.PL(B*y);
k.MK(Q,S);k.blur.vW(S,R,B,y,(D[0]-1)/2);k.blur.vW(S,R,B,y,(D[1]-1)/2);k.blur.vW(S,R,B,y,(D[2]-1)/2)};
k.blur.vV=function(Q,S,B,y,l){k.blur.muX(Q,S,B,y,l);k.blur.mgQ(S,Q,B,y,l)};k.blur.vu=function(Q,S,B,y,l){k.blur.Pq(Q,S,B,y,l);
k.blur.mge(S,Q,B,y,l)};k.blur.vW=function(Q,S,B,y,l){k.blur.muj(Q,S,B,y,l);k.blur.mgy(S,Q,B,y,l)};k.blur.Na=[];
k.blur.vw=function(Q){if(k.blur.Na[Q])return k.blur.Na[Q];var S=1/(Q+Q+1),B=(Q+Q+1)*256,y=k.Q(B);for(var l=0;
l<B;l++)y[l]=Math.round(l*S);k.blur.Na[Q]=y;return y};k.blur.muX=function(Q,S,B,y,l){var D=1/(l+l+1),R=B-l-l-1,p=k.blur.vw(l);
for(var O=0;O<y;O++){var M=O*B,U=M,m=M+l,Y=Q[M],x=Q[M+B-1],T=(l+1)*Y;for(var $=0;$<l;$++)T+=Q[M+$];for(var $=0;
$<=l;$++){T+=Q[m+$]-Y;S[M+$]=p[T]}m+=l+1;M+=l+1;for(var $=0;$<R;$++){T+=Q[m+$]-Q[U+$];S[M+$]=p[T]}m+=R;
U+=R;M+=R;for(var $=B-l;$<B;$++){T+=x-Q[U++];S[M++]=p[T]}}};k.blur.Pq=function(Q,S,B,y,l){var D=B<<2,R=l<<2,p=1/(l+l+1),O=B-l-l-1,M=O<<2,U=k.blur.vw(l);
for(var m=0;m<y;m++){var Y=m*D,x=Y,T=Y+R,$=Y+D,L=Q[Y],s=Q[Y+1],j=Q[Y+2],Z=Q[Y+3],e=(l+1)*L,J=(l+1)*s,N=(l+1)*j,E=(l+1)*Z;
for(var h=0;h<R;h+=4){e+=Q[Y+h];J+=Q[Y+h+1];N+=Q[Y+h+2];E+=Q[Y+h+3]}for(var h=0;h<=R;h+=4){e+=Q[T]-L;
S[Y]=U[e];J+=Q[T+1]-s;S[Y+1]=U[J];N+=Q[T+2]-j;S[Y+2]=U[N];E+=Q[T+3]-Z;S[Y+3]=U[E];T+=4;Y+=4}for(var h=0;
h<M;h+=4){e+=Q[T+h]-Q[x+h];S[Y+h]=U[e];J+=Q[T+h+1]-Q[x+h+1];S[Y+h+1]=U[J];N+=Q[T+h+2]-Q[x+h+2];S[Y+h+2]=U[N];
E+=Q[T+h+3]-Q[x+h+3];S[Y+h+3]=U[E]}T+=M;x+=M;Y+=M;L=Q[$-4];s=Q[$-3];j=Q[$-2];Z=Q[$-1];for(var h=B-l;
h<B;h++){e+=L-Q[x];S[Y]=U[e];J+=s-Q[x+1];S[Y+1]=U[J];N+=j-Q[x+2];S[Y+2]=U[N];E+=Z-Q[x+3];S[Y+3]=U[E];
x+=4;Y+=4}}};k.blur.muj=function(Q,S,B,y,l){var D=1/(l+l+1),R=B-l-l-1,p=0,O=0,M=0;for(var U=0;U<y;U++){p=U*B;
O=p;M=p+l;var m=Q[p],Y=Q[p+B-1],x=(l+1)*m;for(var T=0;T<l;T++){x+=Q[p+T]}for(var T=0;T<=l;T++){x+=Q[M++]-m;
S[p++]=x*D}for(var T=0;T<R;T++){x+=Q[M+T]-Q[O+T];S[p+T]=x*D}M+=R;O+=R;p+=R;for(var T=B-l;T<B;T++){x+=Y-Q[O++];
S[p++]=x*D}}};k.blur.mgQ=function(Q,S,B,y,l){var D=1/(l+l+1),R=y-l-l-1,p=k.blur.vw(l);for(var O=0;O<B;
O++){var M=O,U=M,m=M+l*B,Y=Q[M],x=Q[M+B*(y-1)],T=(l+1)*Y;for(var $=0;$<l;$++)T+=Q[M+$*B];for(var $=0;
$<=l;$++){T+=Q[m]-Y;S[M]=p[T];m+=B;M+=B}for(var $=0;$<R;$++){var L=$*B;T+=Q[m+L]-Q[U+L];S[M+L]=p[T]}U+=R*B;
m+=R*B;M+=R*B;for(var $=y-l;$<y;$++){T+=x-Q[U];S[M]=p[T];U+=B;M+=B}}};k.blur.mge=function(Q,S,B,y,l){var D=B<<2,R=l<<2,p=1/(l+l+1),O=y-l-l-1,M=O<<2,U=k.blur.vw(l);
for(var m=0;m<B;m++){var Y=m<<2,x=Y,T=Y+l*D,$=Y+D*(y-1),L=Q[Y],s=Q[Y+1],j=Q[Y+2],Z=Q[Y+3],e=(l+1)*L,J=(l+1)*s,N=(l+1)*j,E=(l+1)*Z;
for(var h=0;h<l;h++){var o=Y+h*D;e+=Q[o];J+=Q[o+1];N+=Q[o+2];E+=Q[o+3]}for(var h=0;h<=l;h++){e+=Q[T]-L;
S[Y]=U[e];J+=Q[T+1]-s;S[Y+1]=U[J];N+=Q[T+2]-j;S[Y+2]=U[N];E+=Q[T+3]-Z;S[Y+3]=U[E];T+=D;Y+=D}for(var h=0;
h<O;h++){var V=h*D;e+=Q[T+V]-Q[x+V];S[Y+V]=U[e];J+=Q[T+V+1]-Q[x+V+1];S[Y+V+1]=U[J];N+=Q[T+V+2]-Q[x+V+2];
S[Y+V+2]=U[N];E+=Q[T+V+3]-Q[x+V+3];S[Y+V+3]=U[E]}x+=O*D;T+=O*D;Y+=O*D;L=Q[$];s=Q[$+1];j=Q[$+2];Z=Q[$+3];
for(var h=y-l;h<y;h++){e+=L-Q[x];S[Y]=U[e];J+=s-Q[x+1];S[Y+1]=U[J];N+=j-Q[x+2];S[Y+2]=U[N];E+=Z-Q[x+3];
S[Y+3]=U[E];x+=D;Y+=D}}};k.blur.mgy=function(Q,S,B,y,l){var D=1/(l+l+1),R=y-l-l-1;for(var p=0;p<B;p++){var O=p,M=O,U=O+l*B,m=Q[O],Y=Q[O+B*(y-1)],x=(l+1)*m;
for(var T=0;T<l;T++)x+=Q[O+T*B];for(var T=0;T<=l;T++){x+=Q[U]-m;S[O]=x*D;U+=B;O+=B}for(var T=0;T<R;T++){var $=T*B;
x+=Q[U+$]-Q[M+$];S[O+$]=x*D}M+=R*B;U+=R*B;O+=R*B;for(var T=y-l;T<y;T++){x+=Y-Q[M];S[O]=x*D;M+=B;O+=B}}};
k.Tx={};k.Tx.Q=function(Q,S,B,y){var l=[];for(var D=0;D<4;D++)for(var R=0;R<4;R++)l.push(Q+B*R/3,S+y*D/3);
return l};k.Tx.PJ=function(Q,S){var B=Q.slice(0);for(var y=0;y<4;y++)for(var l=0;l<4;l++){var D=2*(y*4+l),R=2*(l*4+(3-y));
if(S){var p=D;D=R;R=p}B[R]=Q[D];B[R+1]=Q[D+1]}return B};k.Tx.mgH=new Float64Array(16);k.Tx.drawImage=function(Q,S,B,y,l,D,R){if(R==null)R=!1;
var p=D.r,O=D.O,Y=2;l=new Uint32Array(l.buffer);S=new Uint32Array(S.buffer);var M=k.Tx.K.P_(Q,0,1,0,1,B,y),U=M.LQ,m=M.TL,x=1/Y,T=k.Tx.vf,$=new Float64Array(2),L=new Uint32Array(30);
for(var s=0;s<O;s++)for(var j=0;j<p;j++){var Z=j+D.x+.5,e=s+D.y+.5,J=k.Tx.K.mWX(U,m,Z,e,L),t=0,q=0,u=0,g=0;
if(J==0)continue;var N=s*p+j,E=k.Tx.CM(Q,Z,e,U,L,J,!0),h=T[0]*B,o=T[1]*y;if(R){if(E!=-1&&0<h&&h<B&&0<o&&o<y){var V=Math.floor(o)*B+Math.floor(h);
l[N]=S[V]}continue}var n=E!=-1&&(1<h&&h<B-1)&&(1<o&&o<y-1);if(U[E+8]<.95){k.W.Lr(h,o,S,B,y,l,N,0);continue}for(var r=0;
r<Y;r++)for(var f=0;f<Y;f++){var Z=j+D.x+(r+.5)*x,e=s+D.y+(f+.5)*x,E=0;E=k.Tx.CM(Q,Z,e,U,L,J,!0);if(E!=-1){var h=T[0],o=T[1],h=Math.floor(h*B);
o=Math.floor(o*y);var I=S[o*B+h],d=I>>>24;t+=(I&255)*d;q+=(I>>>8&255)*d;u+=(I>>>16&255)*d;g+=d}}if(g!=0){var a=1/g;
t=~~(t*a+.5);q=~~(q*a+.5);u=~~(u*a+.5);g=~~(g*x*x+.5);l[N]=g<<24|u<<16|q<<8|t}}};k.Tx.vf=new Float64Array(5*20);
k.Tx.mWz=new Uint32Array(5*5*20);k.Tx.CM=function(Q,S,B,y,l,D,R){var p=k.Tx.vf,O=k.Tx.mWz,M=0,U=0;for(var m=0;
m<D;m++){var Y=l[m],x=M;M=k.Tx.Nv(Q,S,B,y,Y+4,R,p,M);if(M!=x){O[U]=Y;U+=5}}if(M==0)return-1;else if(M==5)return O[0];
else{var T=0;for(var m=0;m<M;m+=5)if(p[m+4]<p[T+4])T=m;p[0]=p[T];p[1]=p[T+1];p[2]=p[T+2];p[3]=p[T+3];
return O[T]}};k.Tx.QG=new Array(10);k.Tx.Nv=function(Q,S,B,y,l,D,R,p){var O=k.Tx.QG,M=0,U=0,m=0,Y=0,x=0,T=0,$=0,L=y[l],s=y[l+1],j=y[l+2],Z=y[l+3],e=(j-S)*(j-S)+(Z-B)*(Z-B);
for(var J=0;J<5&&e>.05;J++){k.Tx.pP(O,0,s);k.Tx.Qa(O,4,L);k.Tx.UL(Q,O);M=O[8];U=O[9];k.Tx.Qa(O,0,s);
k.Tx.pP(O,4,L);k.Tx.UL(Q,O);m=O[8];Y=O[9];x=1/(M*Y-U*m);T=(j-S)*x;$=(Z-B)*x;L+=-Y*T+m*$;s+=+U*T-M*$;
k.Tx.N$(Q,L,s,O);j=O[8];Z=O[9];e=(j-S)*(j-S)+(Z-B)*(Z-B)}if(D&&(L<0||L>1||s<0||s>1||e>.25))return p;
R[p]=L;R[p+1]=s;R[p+2]=j;R[p+3]=Z;R[p+4]=M*Y-U*m;return p+5};k.Tx.apply=function(Q,S,B){var y=B.x,l=B.y,D=1/B.r,R=1/B.O,p=k.Tx.QG;
for(var O=0;O<S.length;O+=2){var M=(S[O]-y)*D,U=(S[O+1]-l)*R;k.Tx.N$(Q,M,U,p);S[O]=p[8];S[O+1]=p[9]}};
k.Tx.N$=function(Q,S,B,y){k.Tx.pP(y,0,B);k.Tx.pP(y,4,S);k.Tx.UL(Q,y)};k.Tx.Qa=function(Q,S,B){var y=1-B;
Q[S]=-3*(y*y);Q[S+1]=3*(y*y)-6*(B*y);Q[S+2]=6*(B*y)-3*(B*B);Q[S+3]=3*(B*B)};k.Tx.pP=function(Q,S,B){var y=1-B;
Q[S]=y*(y*y);Q[S+1]=3*B*(y*y);Q[S+2]=3*(B*B)*y;Q[S+3]=B*B*B};k.Tx.UL=function(Q,S){var B=0,y=0,l=0;l=S[0]*S[4];
B+=Q[0]*l;y+=Q[1]*l;l=S[0]*S[5];B+=Q[2]*l;y+=Q[3]*l;l=S[0]*S[6];B+=Q[4]*l;y+=Q[5]*l;l=S[0]*S[7];B+=Q[6]*l;
y+=Q[7]*l;l=S[1]*S[4];B+=Q[8]*l;y+=Q[9]*l;l=S[1]*S[5];B+=Q[10]*l;y+=Q[11]*l;l=S[1]*S[6];B+=Q[12]*l;y+=Q[13]*l;
l=S[1]*S[7];B+=Q[14]*l;y+=Q[15]*l;l=S[2]*S[4];B+=Q[16]*l;y+=Q[17]*l;l=S[2]*S[5];B+=Q[18]*l;y+=Q[19]*l;
l=S[2]*S[6];B+=Q[20]*l;y+=Q[21]*l;l=S[2]*S[7];B+=Q[22]*l;y+=Q[23]*l;l=S[3]*S[4];B+=Q[24]*l;y+=Q[25]*l;
l=S[3]*S[5];B+=Q[26]*l;y+=Q[27]*l;l=S[3]*S[6];B+=Q[28]*l;y+=Q[29]*l;l=S[3]*S[7];B+=Q[30]*l;y+=Q[31]*l;
S[8]=B;S[9]=y};k.Tx.K={};k.Tx.K.jA=12;k.Tx.K.Ph=new Uint32Array(50);k.Tx.K.mWX=function(Q,S,B,y,l){var D=0,R=k.Tx.K.Ph,p=1;
R[0]=0;while(p!=0){var O=R[--p];if(Q[O+0]<=B&&Q[O+1]<=y&&B<Q[O+2]&&y<Q[O+3]){if(S[O+O+18]==0){l[D]=O;
D++}else{R[p]=S[O+O+18];R[p+1]=S[O+O+19];p+=2}}}return D};k.Tx.K.mWB=function(Q,S,B,y,l){var D=0,R=k.Tx.K.mWj,p=k.Tx.K.Ph,O=1,M=0,U=999999999999;
p[0]=0;while(O!=0){var m=p[--O],Y=R(B,y,Q[m+0],Q[m+1]),x=R(B,y,Q[m+0],Q[m+3]),T=R(B,y,Q[m+2],Q[m+1]),$=R(B,y,Q[m+2],Q[m+3]),L=Math.min(Y,Math.min(x,Math.min(T,$))),s=Math.max(Y,Math.max(x,Math.max(T,$)));
if(L>U)continue;if(S[m+m+18]==0){if(s<U){U=s;M=m}}else{p[O]=S[m+m+18];p[O+1]=S[m+m+19];O+=2}}l[D]=M;
D++;return D};k.Tx.K.mWj=function(Q,S,B,y){return(B-Q)*(B-Q)+(y-S)*(y-S)};k.Tx.K.TN=null;k.Tx.K.PF=null;
k.Tx.K.P_=function(Q,S,B,y,l,D,R){if(D==null){D=1;R=1}k.Tx.K.PF=Q;if(k.Tx.K.TN==null){k.Tx.K.TN={LQ:new Float64Array(15e3*8),TL:null};
k.Tx.K.TN.TL=new Uint32Array(k.Tx.K.TN.LQ.buffer)}var p=k.Tx.K.TN;k.Tx.K.Nt(Q,S,B,y,l,0,p.LQ,p.TL,0,D,R);
return p};k.Tx.K.Nt=function(Q,S,B,y,l,D,R,p,O,M,U){var m=k.i.vQ(Q),Y=O,x=k.Tx.K.PF,T=(S+B)/2,$=(y+l)/2,L=k.Tx.QG,s=k.Tx.vf,j=k.Tx.mgH,rP,rH,rK;
k.Tx.N$(x,T,$,L);var Z=L[8],e=L[9];j[0]=T;j[1]=$;j[2]=Z;j[3]=e;k.Tx.Nv(x,Z+1,e,j,0,!1,s,0);var J=(T-s[0])*M,N=($-s[1])*U,E=Math.sqrt(J*J+N*N);
k.Tx.Nv(x,Z,e+1,j,0,!1,s,0);var h=(T-s[0])*M,o=($-s[1])*U,V=Math.sqrt(h*h+o*o);R[Y]=m.x;R[Y+1]=m.y;R[Y+2]=m.x+m.r;
R[Y+3]=m.y+m.O;R[Y+4]=T;R[Y+5]=$;R[Y+6]=Z;R[Y+7]=e;R[Y+8]=.5*(E+V);p[Y+Y+18]=0;p[Y+Y+19]=0;O+=10;k.Tx.pP(L,0,.1);
k.Tx.Qa(L,4,.1);k.Tx.UL(Q,L);var n=L[8],t=L[9];k.Tx.Qa(L,0,.1);k.Tx.pP(L,4,.7);k.Tx.UL(Q,L);var q=L[8],u=L[9];
k.Tx.pP(L,0,.8);k.Tx.Qa(L,4,.8);k.Tx.UL(Q,L);var g=L[8],r=L[9];k.Tx.Qa(L,0,.9);k.Tx.pP(L,4,.2);k.Tx.UL(Q,L);
var f=L[8],I=L[9],d=(g-n)*(g-n)+(f-q)*(f-q)+(r-t)*(r-t)+(I-u)*(I-u);if(O>=R.length){console.log("Buffer not long enough");
throw"e"}if(D==k.Tx.K.jA||d<2)return O;var a=k.Tx.K.PG(Q,!0),c=k.i.vQ(a[0]),_=k.i.vQ(a[1]),C=k.Tx.K.PG(Q,!1),F=k.i.vQ(C[0]),i=k.i.vQ(C[1]);
if(c.r+c.O+_.r+_.O<F.r+F.O+i.r+i.O){rK=!0;rP=a[0];rH=a[1]}else{rK=!1;rP=C[0];rH=C[1]}var rY=(S+B)/2,Nc=(y+l)/2,G=S,rI=y,rb=B,Nr=l,Nz=S,NL=y,Nm=B,NN=l;
if(rK){rb=Nz=rY}else{Nr=NL=Nc}p[Y+Y+18]=O;O=k.Tx.K.Nt(rP,G,rb,rI,Nr,D+1,R,p,O,M,U);p[Y+Y+19]=O;O=k.Tx.K.Nt(rH,Nz,Nm,NL,NN,D+1,R,p,O,M,U);
var Ne=p[Y+Y+18],Ny=p[Y+Y+19];R[Y]=Math.min(R[Ne],R[Ny]);R[Y+1]=Math.min(R[Ne+1],R[Ny+1]);R[Y+2]=Math.max(R[Ne+2],R[Ny+2]);
R[Y+3]=Math.max(R[Ne+3],R[Ny+3]);return O};k.Tx.K.PG=function(Q,S){var B=0,y=0,l=0,D=0,R=0,p=0,O=0,M=0,U=Q.slice(0),m=Q.slice(0);
for(var Y=0;Y<4;Y++){B=S?Q[Y*8+2*0]:Q[0*8+2*Y];y=S?Q[Y*8+2*0+1]:Q[0*8+2*Y+1];l=S?Q[Y*8+2*1]:Q[1*8+2*Y];
D=S?Q[Y*8+2*1+1]:Q[1*8+2*Y+1];R=S?Q[Y*8+2*2]:Q[2*8+2*Y];p=S?Q[Y*8+2*2+1]:Q[2*8+2*Y+1];O=S?Q[Y*8+2*3]:Q[3*8+2*Y];
M=S?Q[Y*8+2*3+1]:Q[3*8+2*Y+1];var x=(B+l)/2,T=(y+D)/2,$=(l+R)/2,L=(D+p)/2,s=(R+O)/2,j=(p+M)/2,Z=(x+$)/2,e=(T+L)/2,J=($+s)/2,N=(L+j)/2,E=(Z+J)/2,h=(e+N)/2;
if(S){U[Y*8+2*0]=B;U[Y*8+2*0+1]=y;U[Y*8+2*1]=x;U[Y*8+2*1+1]=T;U[Y*8+2*2]=Z;U[Y*8+2*2+1]=e;U[Y*8+2*3]=E;
U[Y*8+2*3+1]=h;m[Y*8+2*0]=E;m[Y*8+2*0+1]=h;m[Y*8+2*1]=J;m[Y*8+2*1+1]=N;m[Y*8+2*2]=s;m[Y*8+2*2+1]=j;m[Y*8+2*3]=O;
m[Y*8+2*3+1]=M}else{U[0*8+2*Y]=B;U[0*8+2*Y+1]=y;U[1*8+2*Y]=x;U[1*8+2*Y+1]=T;U[2*8+2*Y]=Z;U[2*8+2*Y+1]=e;
U[3*8+2*Y]=E;U[3*8+2*Y+1]=h;m[0*8+2*Y]=E;m[0*8+2*Y+1]=h;m[1*8+2*Y]=J;m[1*8+2*Y+1]=N;m[2*8+2*Y]=s;m[2*8+2*Y+1]=j;
m[3*8+2*Y]=O;m[3*8+2*Y+1]=M}}return[U,m]};k._Y={};k._Y.mWk=function(Q,S,B){var y=k._Y.m_C(S,B),l=k._Y.m_N(y,Q,S,B);
return{fX:y,io:l}};k._Y.mWb=function(Q,S,B){var y=Math.round(Q.length/8),l=new Uint32Array(y),D=new Uint8Array(y),R=new Uint32Array(y);
k.St(l,4294967295,0);l[B]=0;var p=new Qy(y);p.push(B,l[B]);var O={fX:Q,io:S,h$:l,Td:D,LT:R,iu:p,mzd:B};
return O};k._Y.NB=function(Q,S){var B=Q.fX,y=Q.io,l=Q.h$,D=Q.Td,R=Q.LT,p=Q.iu;while(!p.Kq()&&(S==null||D[S]==0)){var O=p.pop();
D[O]=1;for(var M=0;M<8;M++){var U=B[8*O+M];if(U==-1||D[U])continue;var m=l[O]+y[8*O+M];if(p.contains(U)&&m<l[U])p.remove(U,l[U]);
if(!p.contains(U)){l[U]=m;R[U]=O;p.push(U,l[U])}}}};function Qy(Q){this.a$=new Uint32Array(Q);this.list=[];
this.Ld=0;this.aj=4294967295}Qy.prototype.Kq=function(){return this.Ld==0};Qy.prototype.push=function(Q,S){var B=this.list;
if(B[S]==null)B[S]=[];B[S].push(Q);this.Ld++;this.a$[Q]=B[S].length-1+1;this.aj=Math.min(this.aj,S)};
Qy.prototype.pop=function(){this.Ld--;var Q=this.list,S=this.aj,B=Q[S].pop();if(Q[S].length==0)Q[S]=null;
this.Pn();this.a$[B]=0;return B};Qy.prototype.contains=function(Q){return this.a$[Q]!=0};Qy.prototype.remove=function(Q,S){this.Ld--;
var B=this.list,y=this.a$[Q]-1;if(y==B[S].length-1)B[S].pop();else{var l=B[S].pop();B[S][y]=l;this.a$[l]=y+1}if(B[S].length==0)B[S]=null;
this.a$[Q]=0;this.Pn()};Qy.prototype.Pn=function(){if(this.Ld==0){this.aj=4294967295;return}var Q=this.aj,S=this.list;
while(S[Q]==null)Q++;this.aj=Q};k._Y.mFJ=function(Q,S,B){var y=new Float32Array(S*B);for(var l=0;l<B;
l++)for(var D=0;D<S;D++){var R=l*S+D,p=-16*Q[R];if(1<D&&D<S-2&&1<l&&l<B-2){p+=Q[R-S-S];p+=Q[R-S-1]+2*Q[R-S]+Q[R-S+1];
p+=Q[R-2]+2*Q[R-1]+2*Q[R+1]+Q[R+2];p+=Q[R+S-1]+2*Q[R+S]+Q[R+S+1];p+=Q[R+S+S]}y[R]=p/16}return y};k._Y.mFa=function(Q,S,B){var y=new Float32Array(S*B),l=0,D=0;
for(var R=0;R<B;R++)for(var p=0;p<S;p++){var O=0,M=0;if(0<p&&p<S-1)O=Q[l+1]-Q[l-1];if(0<R&&R<B-1)M=Q[l+S]-Q[l-S];
y[l]=Math.sqrt(O*O+M*M);if(y[l]>D)D=y[l];l++}var U=S*B,m=D==0?0:1/D;for(var l=0;l<U;l++)y[l]=1-y[l]*m;
return y};k._Y.mFb=function(Q,S,B){var y=new Float32Array(S*B*2),l=0;for(var D=0;D<B;D++)for(var R=0;
R<S;R++){var p=0,O=0;if(0<R&&R<S-1&&0<D&&D<B-1){p=2*Q[l+1]-2*Q[l-1];O=2*Q[l+S]-2*Q[l-S]}var M=Math.sqrt(p*p+O*O);
if(M!=0){y[2*l]=p/M;y[2*l+1]=O/M}else{y[2*l]=p;y[2*l+1]=O}l++}return y};k._Y.m_N=function(Q,S,B,y){var l=k._Y.mFJ(S,B,y),D=k._Y.mFa(S,B,y),R=k._Y.mFb(S,B,y),p=256,O=new Float32Array(p);
for(var M=0;M<p;M++)O[M]=Math.acos(-1+2*M/(p-1));var U=[-1,0,1,1,1,0,-1,-1],m=[-1,-1,-1,0,1,1,1,0],Y=1/Math.sqrt(2),x=new Uint8Array(B*y*8),T=B*y;
for(var $=0;$<T;$++){var L=l[$],s=R[2*$+1],j=-R[2*$];for(var Z=0;Z<8;Z++){var e=8*$+Z,J=Q[e];if(J==-1)x[e]=-1;
else{var N=(Z&1)==0,E=L*l[J]>=0?0:1,h=D[J]*(N?1:Y),o=1,V=R[2*J+1],n=-R[2*J];if(!(s==0&&j==0||V==0&&n==0)){var t=U[Z],q=m[Z];
if(s*U[Z]+j*m[Z]<0){t=-t;q=-q}if(N){t*=Y;q*=Y}var u=s*t+j*q,g=V*t+n*q,r=2/(3*Math.PI)*(O[Math.floor((.5+.5*u)*(p-1))]+O[Math.floor((.5+.5*g)*(p-1))]);
o=r}var f=Math.round(20*(.43*E+.43*o+.14*h));x[e]=Math.max(1,Math.min(255,f))}}}console.log(x);return x};
k._Y.m_C=function(Q,S){var B=new Int32Array(Q*S*8),y=B,l=0,D=0;y.fill(-1);for(var R=0;R<S;R++)for(var p=0;
p<Q;p++){if(R>0&&p>0)y[D+0]=l-Q-1;if(R>0)y[D+1]=l-Q;if(R>0&&p<Q-1)y[D+2]=l-Q+1;if(p<Q-1)y[D+3]=l+1;if(R<S-1&&p<Q-1)y[D+4]=l+Q+1;
if(R<S-1)y[D+5]=l+Q;if(R<S-1&&p>0)y[D+6]=l+Q-1;if(p>0)y[D+7]=l-1;l++;D+=8}return B};k.ns={};k.ns.mdF=function(Q,S){var B=Q.slice(0);
for(var y=0;y<Q.length;y++)B[y]*=S;return B};k.ns.Qs=function(Q){var S=Q.slice(0),B=0;for(var y=0;y<Q.length;
y++)B+=Q[y];for(var y=0;y<Q.length;y++)S[y]/=B;return S};k.ns.m_k=function(Q,S,B,y,l){var D=[-B-1,-B,-B+1,-1,0,1,B-1,B,B+1],R=y-1,p=B-1;
for(var O=1;O<R;O++)for(var M=1;M<p;M++){var U=O*B+M,m=Q[U-B-1]*l[0]+Q[U-B]*l[1]+Q[U-B+1]*l[2]+Q[U-1]*l[3]+Q[U]*l[4]+Q[U+1]*l[5]+Q[U+B-1]*l[6]+Q[U+B]*l[7]+Q[U+B+1]*l[8];
S[U]=~~(m+.5)}};k.ns.Uq=function(Q,S,B,y,l,D,R){if(R==null)R=!1;var p=Math.floor(Math.sqrt(l.length)),O=p-1>>>1,M=new Uint32Array(Q.buffer),S=new Uint8ClampedArray(S.buffer);
for(var U=0;U<y;U++)for(var m=0;m<B;m++){var Y=0,x=0,T=0,$=0;for(var L=0;L<p;L++)for(var s=0;s<p;s++){var j=l[L*p+s];
if(j==0)continue;var Z=Math.min(B-1,Math.max(0,m-O+s)),e=Math.min(y-1,Math.max(0,U-O+L)),J=M[e*B+Z];
Y+=(J&255)*j;x+=(J>>>8&255)*j;T+=(J>>>16&255)*j;$+=(J>>>24&255)*j}if(R){if(Y<0)Y=-Y;if(x<0)x=-x;if(T<0)T=-T;
if($<0)$=-$}var N=U*B+m<<2;S[N]=~~(.5+Y);S[N+1]=~~(.5+x);S[N+2]=~~(.5+T);S[N+3]=255-D&S[N+3]|D&~~(.5+$)}};
k.ns.VT=function(Q,S,B,y,l,D,R,p){if(D<=10)k.ns.mGc(Q,S,B,y,l,D,R,p);else k.ns.mGm(Q,S,B,y,l,D,R,p)};
k.ns.mGm=function(Q,S,B,y,l,D,R,p){var O=0,M=new Uint32Array(16),U=new Uint32Array(256),m=new Uint32Array(1*y),Y=new Uint32Array(16*y),x=new Uint32Array(256*y),T=Math.min(D,y),$=Math.min(D,l);
for(var L=0;L<$;L++)k.ns.v$(x,Y,m,Q,S,y,L);for(var L=0;L<l;L++){if(L+D<l)k.ns.v$(x,Y,m,Q,S,y,L+D);if(L-D-1>=0)k.ns.mGg(x,Y,m,Q,S,y,L-D-1);
k.set(U,0);k.set(M,0);O=0;for(var s=0;s<T;s++){k.ns.Ps(U,M,x,Y,s);O+=m[s]}for(var s=0;s<y;s++){if(s+D<y&&m[s+D]!=0){O+=m[s+D];
k.ns.Ps(U,M,x,Y,s+D)}if(s-D-1>=0&&m[s-D-1]!=0){O-=m[s-D-1];k.ns.mGW(U,M,x,Y,s-D-1)}var j=O==0?0:R(U,M,Q[L*y+s],O,p);
B[L*y+s]=j}}};k.ns.mGc=function(Q,S,B,y,l,D,R,p){var O=0,M=new Uint32Array(16),U=new Uint32Array(256);
for(var m=0;m<l;m++){k.set(U,0);k.set(M,0);O=0;var Y=Math.max(m-D,0),x=Math.min(l,m+D+1);for(var T=0;
T<D;T++)O+=k.ns.Nl(U,M,Q,S,Y*y+T,y,x*y+T,1);for(var T=0;T<y;T++){if(T+D<y)O+=k.ns.Nl(U,M,Q,S,Y*y+T+D,y,x*y+T+D,1);
if(T-D-1>=0)O+=k.ns.Nl(U,M,Q,S,Y*y+T-D-1,y,x*y+T-D-1,-1);var $=O==0?0:R(U,M,Q[m*y+T],O,p);B[m*y+T]=$}}};
k.ns.Nl=function(Q,S,B,y,l,D,R,p){var O=0;while(l<R){var M=y[l]*p,U=B[l];Q[U]+=M;S[U>>>4]+=M;O+=M;l+=D}return O};
k.ns.PE=function(Q,S,B,y,l){var D=15;while(S[D]==0&&D>0)D--;D=(D<<4)+15;while(Q[D]==0&&D>0)D--;return D};
k.ns.mGy=function(Q,S,B,y,l){var D=0;while(S[D]==0&&D<15)D++;D=D<<4;while(Q[D]==0&&D<255)D++;return D};
k.ns.vs=.5;k.ns.Nj=function(Q,S,B,y,l){var D=Math.floor(.5+k.ns.vs*y),R=0,p=0;while(R<=D)R+=S[p++];if(p>0){p--;
R-=S[p]}p=p<<4;while(R<=D)R+=Q[p++];return p-1};k.ns.Ql=function(Q,S,B,y,l){var D=l[0],R=0,p=0,O=Math.max(0,B-D),M=Math.min(256,B+D+1);
while(O<M){R+=O*Q[O];p+=Q[O];O++}return p==0?0:R/p};k.ns.v$=function(Q,S,B,y,l,D,R){var p=R*D;for(var O=0;
O<D;O++,p++){var M=l[p],U=y[p];Q[O<<8|U]+=M;S[O<<4|U>>>4]+=M;B[O]+=M}};k.ns.mGg=function(Q,S,B,y,l,D,R){var p=R*D;
for(var O=0;O<D;O++,p++){var M=l[p],U=y[p];Q[O<<8|U]-=M;S[O<<4|U>>>4]-=M;B[O]-=M}};k.ns.vU=function(Q){var S=Q.length,B=0;
for(var y=0;y<S;y++)B+=Q[y];return B};k.ns.Ps=function(Q,S,B,y,l){for(var D=0;D<16;D++){if(y[l<<4|D]==0)continue;
S[D]+=y[l<<4|D];var R=D<<4,p=l<<8|R;Q[R]+=B[p];Q[R+1]+=B[p+1];Q[R+2]+=B[p+2];Q[R+3]+=B[p+3];Q[R+4]+=B[p+4];
Q[R+5]+=B[p+5];Q[R+6]+=B[p+6];Q[R+7]+=B[p+7];Q[R+8]+=B[p+8];Q[R+9]+=B[p+9];Q[R+10]+=B[p+10];Q[R+11]+=B[p+11];
Q[R+12]+=B[p+12];Q[R+13]+=B[p+13];Q[R+14]+=B[p+14];Q[R+15]+=B[p+15]}};k.ns.mGW=function(Q,S,B,y,l){for(var D=0;
D<16;D++){if(y[l<<4|D]==0)continue;S[D]-=y[l<<4|D];var R=D<<4,p=l<<8|R;Q[R]-=B[p];Q[R+1]-=B[p+1];Q[R+2]-=B[p+2];
Q[R+3]-=B[p+3];Q[R+4]-=B[p+4];Q[R+5]-=B[p+5];Q[R+6]-=B[p+6];Q[R+7]-=B[p+7];Q[R+8]-=B[p+8];Q[R+9]-=B[p+9];
Q[R+10]-=B[p+10];Q[R+11]-=B[p+11];Q[R+12]-=B[p+12];Q[R+13]-=B[p+13];Q[R+14]-=B[p+14];Q[R+15]-=B[p+15]}};
k.W={};k.W.P$=function(Q){var S=K.Sj.so(Q.Trnf),B=Q.Sz.v,y=k.W.aX(S,new w(0,0,B.Wdth.v,B.Hght.v));return k.W.FE(y)};
k.W.aX=function(Q,S){var Q=Q.slice(0),B=Q[0],y=Q[1],l=Q[2],D=Q[3],R=Q[6],p=Q[7],O=Q[4],M=Q[5],U=0,m=0,Y=1,x=0,T=0,$=1,L=1,s=1;
if(S){U=S.x;m=S.y;Y=S.x+S.r;x=S.y;T=S.x;$=S.y+S.O;L=S.x+S.r;s=S.y+S.O}var j=[[U,m,1,0,0,0,-U*B,-m*B,B],[0,0,0,U,m,1,-U*y,-m*y,y],[Y,x,1,0,0,0,-Y*l,-x*l,l],[0,0,0,Y,x,1,-Y*D,-x*D,D],[T,$,1,0,0,0,-T*R,-$*R,R],[0,0,0,T,$,1,-T*p,-$*p,p],[L,s,1,0,0,0,-L*O,-s*O,O],[0,0,0,L,s,1,-L*M,-s*M,M]],Z=[0,0,0,0,0,0,0,0],e=k.$T.rz.vI(j,Z);
if(e!=0)Z=[0,0,0,0,0,0,0,0];return Z};k.W.vD=function(Q){return Math.abs(Q[6])<1e-10&&Math.abs(Q[7])<1e-10};
k.W.FE=function(Q){return new Nu(Q[0],Q[3],Q[1],Q[4],Q[2],Q[5])};k.W.Tz=function(Q){return[Q.n,Q.ce,Q.Ni,Q.R,Q.en,Q.pg,0,0]};
k.W.apply=function(Q,S){var B=new Float64Array(2);for(var y=0;y<S.length;y+=2){var l=S[y],D=S[y+1];k.W.No(l,D,Q,B);
S[y]=B[0];S[y+1]=B[1]}};k.W.No=function(Q,S,B,y){var l=1/(B[6]*Q+B[7]*S+1);y[0]=(B[0]*Q+B[1]*S+B[2])*l;
y[1]=(B[3]*Q+B[4]*S+B[5])*l};k.W.Pt=function(Q,S){var B=new Float64Array(2);k.W.No(S.x,S.y,Q,B);return new v(B[0],B[1])};
k.W.Qk=function(Q,S,B,y){Q=new Uint32Array(Q.buffer);S=new Uint32Array(S.buffer);for(var l=0;l<y;l++){for(var D=0;
D<B;D++){S[D*y+l]=Q[l*B+D]}}};k.W.mae=function(Q,S,B,y){Q=new Uint32Array(Q.buffer);S=new Uint32Array(S.buffer);
for(var l=0;l<y;l++){for(var D=0;D<B;D++){S[l*B+D]=Q[l*B+B-1-D]}}};k.W.PX=function(Q){return Math.abs(Q[6])<1e-9&&Math.abs(Q[7])<1e-9};
k.W.PO=function(Q){return Math.abs(Q[0])<1e-9&&Math.abs(Q[4])<1e-9||Math.abs(Q[1])<1e-9&&Math.abs(Q[3])<1e-9};
k.W.drawImage=function(Q,S,B,y,l,D,R,p){if(R==null)R=!1;if(p==null)p=!1;var O=k.W.SD(Q),M=!0,U=0,m=1/Math.sqrt(Math.abs(Q[0]/B*Q[4]/y-Q[1]/B*Q[3]/y));
for(var Y=0;Y<8;Y++){var x=Math.round(Q[Y]);if(Y!=2&&Y!=5)U+=Math.abs(x);if(Math.abs(x-Q[Y])>1e-9)M=!1}var T=k.W.PX(Q),$=k.W.PO(Q)&&T,L=$?1:0;
if(R||M&&U==B+y&&T){k.W.man(O,S,B,y,l,D,p,T);return}var s=D.r,j=D.O,Z=new Float64Array(2);l=new Uint32Array(l.buffer);
S=new Uint32Array(S.buffer);for(var e=0;e<j;e++)for(var J=0;J<s;J++){var N=e*s+J,E,h,o,V,i=0,rP=0,rH=0,rK=0;
l[N]=0;var n=J+D.x+.5,t=e+D.y+.5;E=n;h=t;o=O;V=1/(o[6]*E+o[7]*h+1);var q=(o[0]*E+o[1]*h+o[2])*V,u=(o[3]*E+o[4]*h+o[5])*V,g=q*B,r=u*y,f=g<-1||g>B+1||r<-1||r>y+1;
if(p){g=Math.max(.001,Math.min(B-1,g));r=Math.max(.001,Math.min(y-1,r))}else if(f)continue;var I=m;if(!T){var d=0,a=0;
o=Q;E=q+1/B;h=u;V=1/(o[6]*E+o[7]*h+1);d=(o[0]*E+o[1]*h+o[2])*V-n;a=(o[3]*E+o[4]*h+o[5])*V-t;var c=d*d+a*a;
E=q;h=u+1/y;V=1/(o[6]*E+o[7]*h+1);d=(o[0]*E+o[1]*h+o[2])*V-n;a=(o[3]*E+o[4]*h+o[5])*V-t;var _=d*d+a*a;
I=1/Math.sqrt(Math.max(c,_))}if(I<1.1){k.W.Lr(g,r,S,B,y,l,N,L);continue}var C=Math.round(I*2.3);if(!p&&(g<.6||g>B-.6||r<.6||r>y-.6)){C=Math.max(C,5)}if(p&&f)C=1;
var F=1/C,rY=D.x+J,Nc=D.y+e;o=O;for(var Y=0;Y<C;Y++)for(var G=0;G<C;G++){E=rY+(Y+.5)*F;h=Nc+(G+.5)*F;
V=1/(o[6]*E+o[7]*h+1);var g=(o[0]*E+o[1]*h+o[2])*V,r=(o[3]*E+o[4]*h+o[5])*V;if(p){g=Math.max(.001,Math.min(.999,g));
r=Math.max(.001,Math.min(.999,r))}else if(g<0||g>=1||r<0||r>=1)continue;g=Math.floor(g*B);r=Math.floor(r*y);
var rI=r*B+g,rb=S[rI],Nr=rb>>>24;i+=(rb&255)*Nr;rP+=(rb>>>8&255)*Nr;rH+=(rb>>>16&255)*Nr;rK+=Nr}if(rK!=0){var Nz=1/rK;
i=~~(i*Nz+.5);rP=~~(rP*Nz+.5);rH=~~(rH*Nz+.5);rK=~~(rK*F*F+.5);l[N]=rK<<24|rH<<16|rP<<8|i}}};k.W.man=function(Q,S,B,y,l,D,R,p){var O=D.x+D.r,M=D.y+D.O,U=0,m=new Uint32Array(l.buffer),Y=new Uint32Array(S.buffer),x=Q[0]*B,T=Q[1]*B,$=Q[2]*B,L=Q[3]*y,s=Q[4]*y,j=Q[5]*y,Z=Q[6],e=Q[7];
if(p&&!R)for(var J=D.y+.5;J<M;J++)for(var N=D.x+.5;N<O;N++){var E=x*N+T*J+$,h=L*N+s*J+j;if(0<E&&E<B&&0<h&&h<y){var o=~~h*B+~~E;
m[U]=Y[o]}else m[U]=0;U++}else for(var J=D.y+.5;J<M;J++)for(var N=D.x+.5;N<O;N++){var V=1/(Z*N+e*J+1),E=(x*N+T*J+$)*V,h=(L*N+s*J+j)*V;
if(R){E=Math.max(.001,Math.min(B-1,E));h=Math.max(.001,Math.min(y-1,h))}if(0<E&&E<B&&0<h&&h<y){var o=Math.floor(h)*B+Math.floor(E);
m[U]=Y[o]}else m[U]=0;U++}};k.W.SD=function(Q){var S=Q[4]-Q[5]*Q[7],B=Q[2]*Q[7]-Q[1],y=Q[1]*Q[5]-Q[2]*Q[4],l=Q[5]*Q[6]-Q[3],D=Q[0]-Q[2]*Q[6],R=Q[3]*Q[2]-Q[0]*Q[5],p=Q[3]*Q[7]-Q[4]*Q[6],O=Q[1]*Q[6]-Q[0]*Q[7],M=1/(Q[0]*Q[4]-Q[1]*Q[3]);
return[S*M,B*M,y*M,l*M,D*M,R*M,p*M,O*M]};k.W.Cr=function(Q,S){var B=Q[0],y=Q[1],l=Q[2],D=Q[3],R=Q[4],p=Q[5],O=Q[6],M=Q[7],U=S[0],m=S[1],Y=S[2],x=S[3],T=S[4],$=S[5],L=S[6],s=S[7],j=[B*U+y*x+l*L,B*m+y*T+l*s,B*Y+y*$+l,D*U+R*x+p*L,D*m+R*T+p*s,D*Y+R*$+p,O*U+M*x+L,O*m+M*T+s],Z=1/(O*Y+M*$+1);
for(var e=0;e<8;e++)j[e]*=Z;return j};k.W.Lr=function(Q,S,B,y,l,D,R,p){var O=Q,M=S,Y=0,x=0,T=0,$=0;Q-=.499999;
S-=.499999;var U=Math.floor(Q),m=Math.floor(S);if(p==0){var L=m*y+U,s=U>=0&&U<y,j=U+1>=0&&U+1<y,Z=m>=0&&m<l,e=m+1>=0&&m+1<l;
if(s&&Z)Y=B[L];if(j&&Z)x=B[L+1];if(s&&e)T=B[L+y];if(j&&e)$=B[L+y+1]}else if(p==1){var J=U<0?0:U>y-1?y-1:U,N=U<-1?0:U>y-2?y-1:U+1,E=m<0?0:m>l-1?l-1:m,h=m<-1?0:m>l-2?l-1:m+1;
Y=B[E*y+J];x=B[E*y+N];T=B[h*y+J];$=B[h*y+N]}else{var J=(U+50*y)%y,N=(U+50*y)%y,E=(m+50*l)%l,h=(m+50*l)%l;
Y=B[E*y+J];x=B[E*y+N];T=B[h*y+J];$=B[h*y+N]}var o=Q-U,V=S-m,n=(1-V)*(1-o)*(Y>>>24),t=(1-V)*o*(x>>>24),q=V*(1-o)*(T>>>24),u=V*o*($>>>24),g=n+t+q+u,r=n*(Y&255)+t*(x&255)+q*(T&255)+u*($&255),f=n*(Y>>>8&255)+t*(x>>>8&255)+q*(T>>>8&255)+u*($>>>8&255),I=n*(Y>>>16&255)+t*(x>>>16&255)+q*(T>>>16&255)+u*($>>>16&255);
if(g==0)D[R]=0;else{var d=1/g;r=~~(r*d+.5);f=~~(f*d+.5);I=~~(I*d+.5);g=~~(g+.5);D[R]=g<<24|I<<16|f<<8|r}};
k.W.PB=function(Q,S,B,y,l,D,R,p,O,M,U,m){var Y=new Uint32Array(Q.buffer),x=new Uint32Array(y.buffer),T=(1+2*M)/l,$=[],L=[];
for(var s=0;s<l;s++){var j=-.25+M-s*T;$.push(Math.cos(2*Math.PI*j)*m/U);$.push(Math.sin(2*Math.PI*j)/U)}R*=S;
p*=B;for(var Z=0;Z<D;Z++){var e=Math.pow(Z/D,O)*D;for(var s=0;s<l;s++){var J=R+$[s<<1]*e,N=p+$[(s<<1)+1]*e,E=~~(.5+(J<0?0:J>S-1?S-1:J)),h=~~(.5+(N<0?0:N>B-1?B-1:N));
x[Z*l+s]=Y[h*S+E]}}};k.W.Pl=function(Q,S,B,y,l,D,R,p,O,M,U,m){var Y=new Uint32Array(Q.buffer),x=new Uint32Array(y.buffer),T=1/m,$=[],L=B*4,s=1/L;
for(var j=0;j<L;j++)$.push(Math.pow(j*s,1/O)*B*U);R*=l;p*=D;for(var j=0;j<D;j++)for(var Z=0;Z<l;Z++){var e=T*(Z-R),J=j-p,N=1.75-Math.atan2(J,e)*(1/(2*Math.PI));
N=N-~~N;N=(N+M)*(1/(1+2*M));var E=Math.sqrt(e*e+J*J);E=$[~~(E*4)];k.W.Lr(N*S+.5,E+.5,Y,S,B,x,j*l+Z,1)}};
k.Kg={Th:function(Q,S){var B=~~(.499+Q*S);return B<0?0:B>S?S:B},K:[function(Q,S,B,y,l,D,R){var p=B[0],O=B[1],M=B[2],U=B[3],m=y.r,Y=y.O;
for(var x=0,T=0;x<Y;x++)for(var $=0;$<m;$++,T++){var L=$+l,s=x+D,j=p*L+O*s,Z=M*L+U*s,e=j+.5;Q[T]=S[k.Kg.Th(e,R)]}},function(Q,S,B,y,l,D,R){var p=B[0],O=B[1],M=B[2],U=B[3],m=y.r,Y=y.O;
for(var x=0,T=0;x<Y;x++)for(var $=0;$<m;$++,T++){var L=$+l,s=x+D,j=p*L+O*s,Z=M*L+U*s,e=2*Math.sqrt(j*j+Z*Z);
Q[T]=S[k.Kg.Th(e,R)]}},function(Q,S,B,y,l,D,R){var p=B[0],O=B[1],M=B[2],U=B[3],m=y.r,Y=y.O;for(var x=0,T=0;
x<Y;x++)for(var $=0;$<m;$++,T++){var L=$+l,s=x+D,j=p*L+O*s,Z=M*L+U*s,e=(Math.PI+Math.atan2(-Z,-j))/(2*Math.PI);
Q[T]=S[k.Kg.Th(e,R)]}},function(Q,S,B,y,l,D,R){var p=B[0],O=B[1],M=B[2],U=B[3],m=y.r,Y=y.O;for(var x=0,T=0;
x<Y;x++)for(var $=0;$<m;$++,T++){var L=$+l,s=x+D,j=p*L+O*s,Z=M*L+U*s,e=Math.abs(j*2);Q[T]=S[k.Kg.Th(e,R)]}},function(Q,S,B,y,l,D,R){var p=B[0],O=B[1],M=B[2],U=B[3],m=y.r,Y=y.O;
for(var x=0,T=0;x<Y;x++)for(var $=0;$<m;$++,T++){var L=$+l,s=x+D,j=p*L+O*s,Z=M*L+U*s,e=2*(Math.abs(j)+Math.abs(Z));
Q[T]=S[k.Kg.Th(e,R)]}}]};k.Kg.md_=function(Q,S){return Q+.5};k.Kg.mdG=function(Q,S){return 2*Math.sqrt(Q*Q+S*S)};
k.Kg.mdK=function(Q,S){return(Math.PI+Math.atan2(-S,-Q))/(2*Math.PI)};k.Kg.mem=function(Q,S){return Math.abs(Q*2)};
k.Kg.meM=function(Q,S){return 2*(Math.abs(Q)+Math.abs(S))};k.Kg.TC=function(Q,S,B,y,l,D,R,p,O,M,U){if(Q.Clrs==null)return;
var m=new Uint32Array(S.buffer),Y=1023,x=k.Kg.vj(Q.Clrs.v,O,M),T=k.Kg.Pj(Q,x,Y+1,R),$=new Uint8Array(T.buffer);
if(p<5){k.Kg.K[p](m,T,y,B,B.x-l,B.y-D,Y)}else{var L=B.r,s=B.O,j=U.Gm-U._V,Z=1/j,e=U.JF.r-B.r>>1,J=U.JF.O-B.O>>1,N=U.JF.r,E=-.6*Z,h=(-.6+.4)*Z,o=(-.6+2*.4)*Z,V=(-.6+3*.4)*Z;
for(var n=0,t=0;n<s;n++)for(var q=0;q<L;q++,t+=4){var u=0,g=0,r=0,f=0,I=(n+J)*N+q+e,d=(U.Lq[I]-U._V)*Z,a=0;
if(d<=0||d>=1){a=(d<=0?0:Y)<<2;S[t]=$[a];S[t+1]=$[a+1];S[t+2]=$[a+2];S[t+3]=$[a+3];continue}a=Math.max(0,Math.min(Y-1,Math.round((d+E)*Y)))<<2;
g+=$[a];r+=$[a+1];f+=$[a+2];u+=$[a+3];a=Math.max(0,Math.min(Y-1,Math.round((d+h)*Y)))<<2;g+=$[a];r+=$[a+1];
f+=$[a+2];u+=$[a+3];a=Math.max(0,Math.min(Y-1,Math.round((d+o)*Y)))<<2;g+=$[a];r+=$[a+1];f+=$[a+2];u+=$[a+3];
a=Math.max(0,Math.min(Y-1,Math.round((d+V)*Y)))<<2;g+=$[a];r+=$[a+1];f+=$[a+2];u+=$[a+3];S[t]=g>>>2;
S[t+1]=r>>>2;S[t+2]=f>>>2;S[t+3]=u>>>2}}};k.Kg.vj=function(Q,S,B){var y=[];for(var l=0;l<Q.length;l++){var D;
if(Q[l].v.Type.v.Clry=="FrgC")D={t:S>>16&255,e:S>>8&255,R:S&255};else if(Q[l].v.Type.v.Clry=="BckC")D={t:B>>16&255,e:B>>8&255,R:B&255};
else D=k.Kg.RT(Q[l].v.Clr.v);y.push(D)}return y};k.Kg.RT=function(Q){var S,B=Q.classID;if(B=="RGBC")S={t:Q.Rd.v,e:Q.Grn.v,R:Q.Bl.v};
else if(B=="HSBC"){S=k.OS(Q.H.v.val/360,Q.Strt.v/100,Q.Brgh.v/100);S.t*=255;S.e*=255;S.R*=255}else if(B=="CMYC"){var y=100-Q.Cyn.v,l=100-Q.Mgnt.v,D=100-Q.Ylw.v,R=100-Q.Blck.v,p=255*y*R*1e-4,O=255*(.2*y+.8*l)*R*1e-4,M=255*(.2*l+.8*D)*R*1e-4;
S={t:p,e:O,R:M}}else if(B=="Grsc")S={t:255-Q.Gry.v,e:255-Q.Gry.v,R:255-Q.Gry.v};else if(B=="LbCl"){S=k.xw(Q.Lmnc.v,Q.A.v,Q.B.v)}else console.log(Q);
if(isNaN(S.t))S.t=S.e=S.R=0;return S};k.Kg.Od=function(Q){return{classID:"RGBC",Rd:{t:"doub",v:Q.t},Grn:{t:"doub",v:Q.e},Bl:{t:"doub",v:Q.R}}};
k.Kg.Pj=function(Q,S,B,y){var l=new Uint32Array(B),D=1/(B-0);if(y)for(var R=0;R<B;R++)l[R]=k.Kg.mo(Q,S,(B-1-R)*D);
else for(var R=0;R<B;R++)l[R]=k.Kg.mo(Q,S,R*D);return l};k.Kg.mo=function(Q,S,B){var y=Q.Intr.v/4096,l=4096,D=1/l,R=Q.Clrs.v.length-1,p=Q.Trns.v.length-1,O=-1,M=0,U=0,m=0,Y=0;
while(O<p&&Q.Trns.v[O+1].v.Lctn.v<=B*l)O++;if(O==-1){M=Q.Trns.v[0].v.Opct.v.val*(255/100)}else if(O==p){M=Q.Trns.v[O].v.Opct.v.val*(255/100)}else{var x=k.Kg.Po(Q.Trns.v,D,O,B,y);
M=(x*Q.Trns.v[O].v.Opct.v.val+(1-x)*Q.Trns.v[O+1].v.Opct.v.val)*(255/100)}O=-1;while(O<R&&Q.Clrs.v[O+1].v.Lctn.v<=B*l)O++;
if(O==-1){var T=S[0];U=T.t;m=T.e;Y=T.R}else if(O==R){var T=S[O];U=T.t;m=T.e;Y=T.R}else{var $=S[O],L=S[O+1],s=k.Kg.Po(Q.Clrs.v,D,O,B,y);
U=s*$.t+(1-s)*L.t;m=s*$.e+(1-s)*L.e;Y=s*$.R+(1-s)*L.R}M+=.5;U+=.5;m+=.5;Y+=.5;return M<<24|Y<<16|m<<8|U};
k.Kg.Po=function(Q,S,B,y,l){if(Q.length==2)l*=.5;var D=Q[B].v.Lctn.v*S,R=Q[B+1].v.Lctn.v*S,p=D+Q[B+1].v.Mdpn.v*.01*(R-D),O;
if(y<p)O=.5*(y-D)/(p-D);else O=.5+.5*(y-p)/(R-p);O=.5+.5*(l*Math.cos(Math.PI*O)+(1-l)*(1-2*O));return O};
k.Kg.NT=function(Q,S){var B=Math.PI*Q.Angl.v.val/180,y=Q.Scl.v.val/100,l=Q.Ofst.v,D=l.Hrzn.v.val/100,R=l.Vrtc.v.val/100,p=Math.cos(B),O=-Math.sin(B),M=.5*S.O,U=M*(p/O),m=Math.sqrt(M*M+U*U),Y=.5*S.r,x=Y*(O/p),T=Math.sqrt(Y*Y+x*x),$=Math.min(m,T)*y,L=S.x+S.r/2+D*S.r,s=S.y+S.O/2+R*S.O;
return[new v(L,s),new v(L+p*$,s+O*$)]};k.Kg.Nb=function(Q,S,B,y){var l=S.x-Q.x,D=-(S.y-Q.y),R=Math.sqrt(l*l+D*D),p=Math.atan2(D,l),O=Math.cos(p),M=-Math.sin(p),U=.5*B.O,m=U*(O/M),Y=Math.sqrt(U*U+m*m),x=.5*B.r,T=x*(M/O),$=Math.sqrt(x*x+T*T),L=R/Math.min(Y,$),s=(Q.x-B.x-B.r/2)/B.r,j=(Q.y-B.y-B.O/2)/B.O;
y.Angl.v.val=180*p/Math.PI;y.Scl.v.val=L*100;var Z=y.Ofst.v;Z.Hrzn.v.val=s*100;Z.Vrtc.v.val=j*100};k.Kg.vi=function(Q,S){for(var B=0;
B<Q.length;B++){var y=Q[B],l=Math.round(y[0]*4096),D=y[1],R=y[2];if(R==null)R=1;var p=k.Kg.Od({t:D[0]*255,e:D[1]*255,R:D[2]*255});
S.Clrs.v[B]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:l},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:p},Type:{t:"enum",v:{Clry:"UsrS"}}}};
S.Trns.v[B]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:l},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(R*100)}}}}}};
k.AO={};k.AO.TF=function(Q,S,B,y,l){var D=!1,T=1,u=0,g=0,C=0,Ne=0;if(!S.vM(l)){var R=S.wM(l),p=k.Q(R.Z()*4);
k.oD(Q,S,p,R);Q=p;S=R}var O=k.Q(S.Z());k.ht(B,l,O,S);k.round(O);l=l.nG(S);var M=l.r,U=l.O,m=M*3<U?2:1,Y=U*3<M?2:1;
if(l.Z()*(m*2+1)*(Y*2+1)<S.Z()){var R=new w(l.x-M*m,l.y-U*m,M*(m*2+1),U*(Y*2+1)).nG(S),p=k.Q(R.Z()*4);
k.oD(Q,S,p,R);var x=k.Q(R.Z());k.ht(O,S,x,R);S=R;Q=p;O=x}while((S.r+S.O)/2/T>400)T++;var $=Q,L=S,s=O,j=Math.floor(L.r/T),Z=Math.floor(L.O/T);
Q=k.Q(j*Z*4);k.scale.LR($,L.r,L.O,Q,j,Z,1/T);O=k.Q(j*Z);k.scale.ie(s,L.r,L.O,O,j,Z,1/T);k.round(O,1);
var e=k.p$(O,new w(0,0,j,Z));if(e.Kq())return;var J=Math.round((e.r+e.O)/2/15),N=Date.now(),E=k.Q(j*Z*4);
k.mQd(Q,E);var h=Int16Array,o=new h(j*Z*24),V=new h(64),n=new h(64),t=new h(64),q=new h(64);for(var r=3;
r<Z-4;r++)for(var f=3;f<j-4;f++){var I=r*j+f;if(O[I]==255)continue;if(k.AO.mwl(E,O,f,r,j,Z,V,n,t)!=0)continue;
k.AO.Rp(V,q);o[u]=f;o[u+1]=r;k.AO.MK(V,o,u+4,12);u+=16;k.AO.Rp(n,q);k.AO.MK(n,o,u,4);u+=4;k.AO.Rp(t,q);
k.AO.MK(t,o,u,4);u+=4;var d=o[u-24+5],a=o[u-24+6];o[u-24+5]=o[u-24+20];o[u-24+6]=o[u-24+16];o[u-24+16]=d;
o[u-24+20]=a;g++}if(g==0)return;if(D)console.log(Date.now()-N,"FWHT computed");N=Date.now();var c=[];
k.AO.NI(0,g-1,c,o,new h(2*24));if(D)console.log(Date.now()-N,"KD tree computed");N=Date.now();var _=new Float32Array(j*Z*4);
for(var F=0;F<g;F++){var i=F,rP=k.AO.mwN(i,o,c,J);if(rP==-1)continue;var rH=i*24,rK=rP*24,rY=o[rH],Nc=o[rH+1],G=o[rK],rI=o[rK+1];
C+=k.AO.getError(rK,rH,o,1e99);var rb=G-rY,Nr=rI-Nc;_[(Z+Nr)*2*j+(j+rb)]+=1}if(D)console.log(Date.now()-N,"NN found");
N=Date.now();var Nz=[],NL=1/(2*j);for(var F=0;F<_.length;F++){if(_[F]>0){var r=Math.floor(F*NL),f=F-r*2*j;
Nz.push({x:f-j,y:r-Z,z:_[F],vd:-1})}}Nz.sort(function(Na,NX){return NX.z-Na.z});var Nm=new Int32Array(j*Z),NN=[];
for(var F=0;F<j*Z;F++){if(O[F]==255){Nm[F]=Ne;NN.push(F%j,Math.floor(F/j));Ne++}else if(Q[(F<<2)+3]<200){Nm[F]=-2}else{Nm[F]=-1}}var Ny=k.AO.mvD(j,Z,Nz,Nm,NN,Ne);
if(Ny==null){return}var NG=Ny.TM,top=Ny.top;NG=k.AO.maO(NG,Q,j,Z,top,Nm,NN,Ne);if(D)console.log(Date.now()-N,"optimal labeling found");
N=Date.now();var R=l.clone();R.Jq(1,1);R=R.nG(L);var NC=k.Q(R.Z()*4),Ng=k.Q(R.Z());k.oD($,L,NC,R);var NM=L.r,NQ=L.O;
for(var r=0;r<NQ;r++)for(var f=0;f<NM;f++){if(s[r*NM+f]==0)continue;var NR=Math.min(Math.floor(f/T),j-1),NV=Math.min(Math.floor(r/T),Z-1),md=Nm[NV*j+NR],NW=NG[md],Nh=top[NW],Nt=f+Nh.x*T,NU=r+Nh.y*T,Mw=NU*NM+Nt<<2,mp=(r-R.y+L.y)*R.r+(f-R.x+L.x)<<2;
NC[mp]=$[Mw];NC[mp+1]=$[Mw+1];NC[mp+2]=$[Mw+2];NC[mp+3]=$[Mw+3];NC[mp+3]=$[Mw+3];Ng[mp>>2]=NW+1}if(D)console.log(Date.now()-N,"copied back");
N=Date.now();k.wu.TF(NC,Ng,R,null,1e3);if(D)console.log(Date.now()-N,"poisson smooth");N=Date.now();
k.oD(NC,R,y,l)};k.AO.Pi=function(Q,S,B,y,l,D){return k.AO.vZ(Q+l.x,S+l.y,B,y)&&D[(S+l.y)*B+(Q+l.x)]==-1?0:1e9};
k.AO.maO=function(Q,S,B,y,top,l,D,R){var p=Date.now(),O=[-1,0,0,-1,1,0,0,1],M=1e99,U=[],m=[],Y=2*(R*2*3+R*2),x=null,T=0,$=0,L=0,s=1e99;
while(!0&&Date.now()<p+12e3){L++;var j=null,Z=M;for(var e=0;e<top.length;e++){var J=top[e],N=0,E=R+2,h=0;
for(var o=0;o<R;o++){var V=D[o*2],n=D[o*2+1],t=top[Q[o]],q=k.AO.Pi(V,n,B,y,J,l),u=Q[o]==e?1e9:k.AO.Pi(V,n,B,y,t,l);
for(var g=0;g<4;g++){if(g==0&&V==0||g==1&&n==0||g==2&&V==B-1||g==3&&n==y-1)continue;var r=O[2*g],f=O[2*g+1],I=V+r,d=n+f,a=l[d*B+I];
if(a==-2){}else if(a==-1){q+=3*k.AO.Co(I+J.x,d+J.y,I,d,B,y,S,l);q+=2*k.AO.Co(I+J.x+r,d+J.y+f,I+r,d+f,B,y,S,l);
u+=3*k.AO.Co(I+t.x,d+t.y,I,d,B,y,S,l);u+=2*k.AO.Co(I+t.x+r,d+t.y+f,I+r,d+f,B,y,S,l)}else if(g>1){if(Q[o]==Q[a]){var c=0;
c+=k.AO.Co(V+t.x,n+t.y,V+J.x,n+J.y,B,y,S,l);c+=k.AO.Co(I+t.x,d+t.y,I+J.x,d+J.y,B,y,S,l);U[N]=o;U[N+1]=a;
m[N]=c;m[N+1]=c;N+=2}else{var _=top[Q[a]],C=E,F=0,i=0,rP=0;E++;F+=k.AO.Co(V+t.x,n+t.y,V+J.x,n+J.y,B,y,S,l);
F+=k.AO.Co(I+t.x,d+t.y,I+J.x,d+J.y,B,y,S,l);i+=k.AO.Co(V+_.x,n+_.y,V+J.x,n+J.y,B,y,S,l);i+=k.AO.Co(I+_.x,d+_.y,I+J.x,d+J.y,B,y,S,l);
rP+=k.AO.Co(V+_.x,n+_.y,V+t.x,n+t.y,B,y,S,l);rP+=k.AO.Co(I+_.x,d+_.y,I+t.x,d+t.y,B,y,S,l);U[N]=o;U[N+1]=C;
m[N]=F;m[N+1]=F;N+=2;U[N]=a;U[N+1]=C;m[N]=i;m[N+1]=i;N+=2;U[N]=C;U[N+1]=R+1;m[N]=rP;m[N+1]=0;N+=2}}}U[N]=R;
U[N+1]=o;m[N]=q;m[N+1]=0;N+=2;U[N]=o;U[N+1]=R+1;m[N]=u;m[N+1]=0;N+=2;h+=Math.min(q,u)}if(h>Z)continue;
var rH=k.oR.vI(E,N,R,R+1,U,m,Z);if(rH.h$<Z){Z=rH.h$;var rK=Q.slice(0);k.AO.mvc(rK,N,U,rH.vh,e,R);j=rK}}if(Z*1>=M){break}M=Z;
Q=j;if((L&3)==0){if(Z*1.03>=s)break;s=Z}if((L&3)==0){var rY=0*top.length;for(var o=0;o<top.length&&top.length>rY;
o++){if(Q.indexOf(o)!=-1)continue;top.splice(o,1);for(var a=0;a<Q.length;a++)if(Q[a]>o)Q[a]--;o--}}}return Q};
k.AO.mvc=function(Q,S,B,y,l,D){for(var R=0;R<y.length;R++){var p=y[R]<<1,O=0,M=0;if(p<S){O=B[p];M=B[p+1]}else{M=B[p];
O=B[p+1]}if(O==D&&Q[M]!=l)Q[M]=l}};k.AO.Pk=function(top,Q,S,B,y,l,D,R,p){for(var O=0;O<S.length;O++){var M=S[O],U=!0;
if(R!=null&&!(k.AO.vZ(R+M.x,p+M.y,l,D)&&B[l*(p+M.y)+R+M.x]==-1))continue;if(M.vd==-1)M.vd=k.AO.mvt(M,B,y,l,D);
if(M.vd<=0)continue;for(var m=0;m<top.length;m++){var Y=top[m],x=M.x-Y.x,T=M.y-Y.y;if(x*x+T*T<Q){U=!1;
break}}if(U)return M}return null};k.AO.mvt=function(Q,S,B,y,l){var D=0;for(var R=0;R<B.length;R+=2){var p=B[R]+Q.x,O=B[R+1]+Q.y;
if(k.AO.vZ(p,O,y,l)&&S[y*O+p]==-1)D++}return D/(B.length>>1)};k.AO.mvD=function(Q,S,B,y,l,D){var top=[];
for(var R=0;R<60;R++){var p=k.AO.Pk(top,25,B,y,l,Q,S);if(p==null)break;else top.push(p)}if(top.length==0)return null;
var O=[];for(var R=0;R<D;R++){var M=l[R*2],U=l[R*2+1],m=-1,Y=0;while(!0){Y++;var x=Math.random();m=Math.floor(x*.99999*top.length);
var T=top[m],$=M+T.x,L=U+T.y;if(k.AO.vZ($,L,Q,S)&&y[L*Q+$]==-1)break;if(Y>100){var p;p=k.AO.Pk(top,0,B,y,l,Q,S,M,U);
if(p==null)return null;top.push(p);Y=0}}O.push(m)}return{top:top,TM:O}};k.AO.Co=function(Q,S,B,y,l,D,R,p){if(Q==B&&S==y)return 0;
if(Q<0||S<0||Q>=l||S>=D||B<0||y<0||B>=l||y>=D||p[S*l+Q]!=-1||p[y*l+B]!=-1)return 1e7;var O=S*l+Q<<2,M=y*l+B<<2,U=R[O]-R[M],m=R[O+1]-R[M+1],Y=R[O+2]-R[M+2];
return 1+(U*U+m*m+Y*Y)};k.AO.vZ=function(Q,S,B,y){return Q>=0&&Q<B&&S>=0&&S<y};k.AO.mwN=function(Q,S,B,y){var l=24*Q,D=S[l],R=S[l+1],p=y*y,O=0,Y=1e9;
while(B[O]!=99)if(S[l+B[O]]<B[O+1])O=B[O+2];else O=B[O+3];var M=B[O+1],U=B[O+2],m=-1;for(var x=M;x<=U;
x++){var O=x,T=O*24,$=S[T],L=S[T+1];if(($-D)*($-D)+(L-R)*(L-R)<p)continue;var s=k.AO.getError(T,l,S,Y);
if(s<Y){Y=s;m=O}}return m};k.AO.getError=function(Q,S,B,y){var l=0;for(var D=4;D<24;D+=4){var R=B[S+D]-B[Q+D],p=B[S+D+1]-B[Q+D+1],O=B[S+D+2]-B[Q+D+2],M=B[S+D+3]-B[Q+D+3];
l+=R*R+p*p+O*O+M*M;if(l>=y)return l+1}return l};k.AO.NI=function(Q,S,B,y,l){var D=16,x=0;if(S-Q<=D){B.push(99,Q,S);
return}k.AO.vQ(Q,S,y,l);var R=-1,p=-1;for(var O=4;O<24;O++){var M=l[2*O+1]-l[2*O];if(M>p){p=M;R=O}}var U=Q+S>>1,m=k.AO.mwJ(U,Q,S,y,R),Y=-1;
for(var O=Q;O<=S;O++)if(y[24*O+R]==m){if(Y==-1)Y=O;x=O}if(Q+8<Y&&Y-Q>S-x)U=Y;else if(x+1<S-8)U=x+1;else if(S-Q<64){B.push(99,Q,S);
return}else U=U;var T=B.length;B.push(R,m,0,0);B[T+2]=T+4;k.AO.NI(Q,U-1,B,y,l);B[T+3]=B.length;k.AO.NI(U,S,B,y,l)};
k.AO.vQ=function(Q,S,B,y){for(var l=0;l<48;l+=4){y[l]=3e4;y[l+1]=-3e4;y[l+2]=3e4;y[l+3]=-3e4}for(var l=Q;
l<=S;l++){var D=l*24;for(var R=0;R<24;R++){var p=B[D+R],O=y[R<<1],M=y[(R<<1)+1];if(p<O)y[R<<1]=p;if(p>M)y[(R<<1)+1]=p}}};
k.AO.NH=function(Q,S,B){var y=0,l=0;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;
l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;
l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;
l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;
l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;
l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;
l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;
l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;
l++;y=B[Q+l];B[Q+l]=B[S+l];B[S+l]=y;l++};k.AO.NS=function(Q,S,B,y){var l=B+y>>>1,D=Q[24*l+S];while(B<=y){while(Q[24*B+S]<D)B++;
while(Q[24*y+S]>D)y--;if(B<=y){if(Q[24*B+S]!=Q[24*y+S])k.AO.NH(B*24,y*24,Q);B++;y--}}return B};k.AO.mwJ=function(Q,S,B,y,l){var D=0;
while(S!=B){D=k.AO.NS(y,l,S,B);if(Q<D)B=D-1;else S=D}return y[Q*24+l]};k.AO.MK=function(Q,S,B,y){for(var l=0;
l<y;l++)S[B+l]=Q[l]};k.AO.mwl=function(Q,S,B,y,l,D,R,p,O){var M=(y-3)*l+(B-3),U=M<<2;for(var m=0;m<8;
m++){if(S[M]+S[M+1]+S[M+2]+S[M+3]+S[M+4]+S[M+5]+S[M+6]+S[M+7]!=0||Q[U+3]<200||Q[U+7]<200||Q[U+11]<200||Q[U+15]<200||Q[U+19]<200||Q[U+23]<200||Q[U+27]<200||Q[U+31]<200)return 1;
var Y=m<<3;R[Y+0]=Q[U+0];p[Y+0]=Q[U+1];O[Y+0]=Q[U+2];R[Y+1]=Q[U+4];p[Y+1]=Q[U+5];O[Y+1]=Q[U+6];R[Y+2]=Q[U+8];
p[Y+2]=Q[U+9];O[Y+2]=Q[U+10];R[Y+3]=Q[U+12];p[Y+3]=Q[U+13];O[Y+3]=Q[U+14];R[Y+4]=Q[U+16];p[Y+4]=Q[U+17];
O[Y+4]=Q[U+18];R[Y+5]=Q[U+20];p[Y+5]=Q[U+21];O[Y+5]=Q[U+22];R[Y+6]=Q[U+24];p[Y+6]=Q[U+25];O[Y+6]=Q[U+26];
R[Y+7]=Q[U+28];p[Y+7]=Q[U+29];O[Y+7]=Q[U+30];U+=l<<2;M+=l}return 0};k.AO.Rp=function(Q,S){S[0]=Q[32]+Q[0];
S[1]=Q[33]+Q[1];S[2]=Q[34]+Q[2];S[3]=Q[35]+Q[3];S[4]=Q[36]+Q[4];S[5]=Q[37]+Q[5];S[6]=Q[38]+Q[6];S[7]=Q[39]+Q[7];
S[8]=Q[40]+Q[8];S[9]=Q[41]+Q[9];S[10]=Q[42]+Q[10];S[11]=Q[43]+Q[11];S[12]=Q[44]+Q[12];S[13]=Q[45]+Q[13];
S[14]=Q[46]+Q[14];S[15]=Q[47]+Q[15];S[16]=Q[48]+Q[16];S[17]=Q[49]+Q[17];S[18]=Q[50]+Q[18];S[19]=Q[51]+Q[19];
S[20]=Q[52]+Q[20];S[21]=Q[53]+Q[21];S[22]=Q[54]+Q[22];S[23]=Q[55]+Q[23];S[24]=Q[56]+Q[24];S[25]=Q[57]+Q[25];
S[26]=Q[58]+Q[26];S[27]=Q[59]+Q[27];S[28]=Q[60]+Q[28];S[29]=Q[61]+Q[29];S[30]=Q[62]+Q[30];S[31]=Q[63]+Q[31];
S[32]=Q[0]-Q[32];S[33]=Q[1]-Q[33];S[34]=Q[2]-Q[34];S[35]=Q[3]-Q[35];S[36]=Q[4]-Q[36];S[37]=Q[5]-Q[37];
S[38]=Q[6]-Q[38];S[39]=Q[7]-Q[39];S[40]=Q[8]-Q[40];S[41]=Q[9]-Q[41];S[42]=Q[10]-Q[42];S[43]=Q[11]-Q[43];
S[44]=Q[12]-Q[44];S[45]=Q[13]-Q[45];S[46]=Q[14]-Q[46];S[47]=Q[15]-Q[47];S[48]=Q[16]-Q[48];S[49]=Q[17]-Q[49];
S[50]=Q[18]-Q[50];S[51]=Q[19]-Q[51];S[52]=Q[20]-Q[52];S[53]=Q[21]-Q[53];S[54]=Q[22]-Q[54];S[55]=Q[23]-Q[55];
S[56]=Q[24]-Q[56];S[57]=Q[25]-Q[57];S[58]=Q[26]-Q[58];S[59]=Q[27]-Q[59];S[60]=Q[28]-Q[60];S[61]=Q[29]-Q[61];
S[62]=Q[30]-Q[62];S[63]=Q[31]-Q[63];Q[0]=S[16]+S[0];Q[1]=S[17]+S[1];Q[2]=S[18]+S[2];Q[3]=S[19]+S[3];
Q[4]=S[20]+S[4];Q[5]=S[21]+S[5];Q[6]=S[22]+S[6];Q[7]=S[23]+S[7];Q[8]=S[24]+S[8];Q[9]=S[25]+S[9];Q[10]=S[26]+S[10];
Q[11]=S[27]+S[11];Q[12]=S[28]+S[12];Q[13]=S[29]+S[13];Q[14]=S[30]+S[14];Q[15]=S[31]+S[15];Q[16]=S[0]-S[16];
Q[17]=S[1]-S[17];Q[18]=S[2]-S[18];Q[19]=S[3]-S[19];Q[20]=S[4]-S[20];Q[21]=S[5]-S[21];Q[22]=S[6]-S[22];
Q[23]=S[7]-S[23];Q[24]=S[8]-S[24];Q[25]=S[9]-S[25];Q[26]=S[10]-S[26];Q[27]=S[11]-S[27];Q[28]=S[12]-S[28];
Q[29]=S[13]-S[29];Q[30]=S[14]-S[30];Q[31]=S[15]-S[31];S[0]=Q[8]+Q[0];S[1]=Q[9]+Q[1];S[2]=Q[10]+Q[2];
S[3]=Q[11]+Q[3];S[4]=Q[12]+Q[4];S[5]=Q[13]+Q[5];S[6]=Q[14]+Q[6];S[7]=Q[15]+Q[7];S[8]=Q[0]-Q[8];S[9]=Q[1]-Q[9];
S[10]=Q[2]-Q[10];S[11]=Q[3]-Q[11];S[12]=Q[4]-Q[12];S[13]=Q[5]-Q[13];S[14]=Q[6]-Q[14];S[15]=Q[7]-Q[15];
Q[0]=S[4]+S[0];Q[1]=S[5]+S[1];Q[2]=S[6]+S[2];Q[3]=S[7]+S[3];Q[4]=S[0]-S[4];Q[5]=S[1]-S[5];Q[6]=S[2]-S[6];
Q[7]=S[3]-S[7];Q[8]=S[12]+S[8];Q[9]=S[13]+S[9];Q[10]=S[14]+S[10];Q[11]=S[15]+S[11];Q[12]=S[8]-S[12];
Q[13]=S[9]-S[13];Q[14]=S[10]-S[14];Q[15]=S[11]-S[15];S[0]=Q[2]+Q[0];S[1]=Q[3]+Q[1];S[2]=Q[0]-Q[2];S[3]=Q[1]-Q[3];
S[4]=Q[6]+Q[4];S[5]=Q[7]+Q[5];S[6]=Q[4]-Q[6];S[7]=Q[5]-Q[7];S[8]=Q[10]+Q[8];S[9]=Q[11]+Q[9];S[10]=Q[8]-Q[10];
S[11]=Q[9]-Q[11];S[12]=Q[14]+Q[12];S[13]=Q[15]+Q[13];S[14]=Q[12]-Q[14];S[15]=Q[13]-Q[15];Q[0]=S[1]+S[0];
Q[1]=S[0]-S[1];Q[2]=S[3]+S[2];Q[3]=S[2]-S[3];Q[4]=S[5]+S[4];Q[5]=S[4]-S[5];Q[6]=S[7]+S[6];Q[7]=S[6]-S[7];
Q[8]=S[9]+S[8];Q[9]=S[8]-S[9];Q[10]=S[11]+S[10];Q[11]=S[10]-S[11];Q[12]=S[13]+S[12];Q[13]=S[12]-S[13];
Q[14]=S[15]+S[14];Q[15]=S[14]-S[15]};k.AO.meQ=function(){var Q="",S=64,B="v",y="t",l="a",D=5,R,p,O;for(R=S>>1;
R>0;R>>=1,D--){for(p=0;p<S;p++){O=(p>>D&1)!=0;if(O){Q+=y+"["+p+"] = "+B+"["+(-R+p)+"] - "+B+"["+p+"];  "}else{Q+=y+"["+p+"] = "+B+"["+(R+p)+"] + "+B+"["+p+"];  "}}l=B;
B=y;y=l;Q+="\n"}console.log(Q)};k.AO.meL=function(Q,S,B){var y=S,l=B,D=y,R=0,O,M,U;while(Q>>R!=2)R++;
var p=R;for(O=Q>>1;O>0;O>>=1,R--){for(M=0;M<Q;M++){U=(M>>R&1)!=0;if(U)l[M]=y[-O+M]-y[M];else l[M]=y[O+M]+y[M]}D=y;
y=l;l=D}if((p&1)==1)for(O=0;O<Q;O++)B[O]=y[O]};k.$X={};k.$X.RR=function(Q,S,B,y,l,D,R,p,O){var M=Date.now(),U=new Uint32Array(Q.buffer),m=new Uint32Array(S.buffer),Y=R/B,x=p/y,T=1/Y,$=1/x,L=new Float64Array(2),s=3,j=1/s,Z=1/(s*s),e=0,J=0,N=B,E=y;
if(l){e=l.x;J=l.y;N=l.r;E=l.O}for(var h=0;h<E;h++)for(var o=0;o<N;o++){var V=e+o,n=J+h,t=n*B+V,q=t<<1,u=t<<2;
k.$X.mwY(D,R,p,(V+.5)*Y,(n+.5)*x,L);var g=L[0]*T,r=L[1]*$;if(g==0&&r==0)m[t]=U[t];else{k.W.Lr(V+g+.5,n+r+.5,U,B,y,m,t,O)}}};
k.$X.mwY=function(Q,S,B,y,l,D){y-=.499999;l-=.499999;var R=~~y,p=~~l,O=y-R,M=l-p,U=(1-M)*(1-O),m=(1-M)*O,Y=M*(1-O),x=M*O,T=R<S-1?R+1:R,$=p<B-1?p+1:p,L=p*S+R<<1,s=p*S+T<<1,j=$*S+R<<1,Z=$*S+T<<1;
D[0]=U*Q[L]+m*Q[s]+Y*Q[j]+x*Q[Z];D[1]=U*Q[L+1]+m*Q[s+1]+Y*Q[j+1]+x*Q[Z+1]};k.$X.Rh=new Float32Array(512);
k.$X.PZ=function(Q){if(k.$X.Rh.length<Q)k.$X.Rh=new Float32Array(Q);return k.$X.Rh};k.$X.mfo=function(Q,S,B,y,l){var D=1/Q,R=[-1,1,-Q,Q],p=y.length,O=k.$X.PZ(p*2);
for(var M=0;M<2;M++){for(var U=0;U<p;U++){var m=y[U],Y=m<<1,x=U<<1,T=Math.floor(m*D),$=m-Q*T,L=B[Y],s=B[Y+1],j=0,Z=0;
if($!=0&&$!=Q-1){var e=m-1<<1,J=m+1<<1,N=B[e],E=B[J],h=B[e+1],o=B[J+1],V=L-(N+E)*.5,n=s-(h+o)*.5;j-=V*l;
Z-=n*l}if(T!=0&&T!=S-1){var e=m-Q<<1,J=m+Q<<1,N=B[e],E=B[J],h=B[e+1],o=B[J+1],V=L-(N+E)*.5,n=s-(h+o)*.5;
j-=V*l;Z-=n*l}O[x]=L+j;O[x+1]=s+Z}for(var U=0;U<p;U++){var Y=y[U]<<1,x=U<<1;B[Y]=O[x];B[Y+1]=O[x+1]}}};
k.$X.mfi=function(Q,S,B,y,l,D,R,p,O,M,U,m,Y){var x=Math.max(0,Math.floor(l-R*p-1)),T=Math.min(S,Math.ceil(l+R*p+1)),$=Math.max(0,Math.floor(D-R-1)),L=Math.min(B,Math.ceil(D+R+1)),s=2*S,j=R*R,Z=1/R,e=0,J=k.$X.PZ((T-x)*(L-$)*2);
for(var N=$;N<L;N++)for(var E=x;E<T;E++){var h=N*S+E,o=h<<1,V=(l-E)/p,n=D-N,t=V*V+n*n;if(t<j){m[e]=h;
var q=Math.sqrt(t),u=q*Z,g=q==0?1:u/q;V*=g;n*=g;var r=Math.exp(-4*u),f=.96*(1-u*u),I=M*((1-O)*r+O*f);
if(y==1){J[e<<1]=Q[o]*(1-I*.05);J[(e<<1)+1]=Q[o+1]*(1-I*.05)}else{var d=0,a=0,C,F,i,rP;if(y==0){d=U.x*I;
a=U.y*I}else if(y==2){}else if(y==3){if(Y)I=-I;d=I*n;a=-I*V}else if(y==4){d=I*V;a=I*n}else if(y==5){d=-I*V;
a=-I*n}else if(y==6){if(Y)I=-I;d=U.y*I;a=-U.x*I}var c=Q[o],_=Q[o+1];if(E==0||E!=S-1&&d<0){C=1+Q[o+2]-c;
i=Q[o+3]-_}else{C=c-Q[o-2]+1;i=_-Q[o-1]}if(N==0||N!=B-1&&a<0){F=Q[o+s]-c;rP=1+Q[o+s+1]-_}else{F=c-Q[o-s];
rP=_-Q[o-s+1]+1}J[e<<1]=-(C*d+F*a-c);J[(e<<1)+1]=-(i*d+rP*a-_)}e++}}for(var rH=0;rH<e;rH++){var o=m[rH]<<1,rK=rH<<1;
Q[o]=J[rK];Q[o+1]=J[rK+1]}};k.$X.mUq=function(Q){var S=Q[0],B=Q[0],y=Q[1],l=Q[1];for(var D=0;D<Q.length;
D+=2){var R=Q[D],p=Q[D+1];if(R<S)S=R;else if(R>B)B=R;if(p<y)y=p;else if(p>l)l=p}return[S,y,B,l]};k.$X.mew=function(Q,S){var B=[],y=Math.floor(S.length/3);
for(var l=0;l<y;l++)B.push(l);var D=k.$X.mUq(Q);return k.$X.Rg(Q,S,B,B.length,D)};k.$X.Rg=function(Q,S,B,y,l){if(y<60)return B;
var D=l,R=l.slice(0),p=[],O=[],M=0,U=0,m=0;if(l[3]-l[1]>l[2]-l[0])m=1;else m=0;var Y=(l[0+m]+l[2+m])*.5;
D[2+m]=R[0+m]=Y;for(var x=0;x<y;x++){var T=B[x],$=T*3,L=Q[(S[$+0]<<1)+m],s=Q[(S[$+1]<<1)+m],j=Q[(S[$+2]<<1)+m];
if(L<=Y||s<=Y||j<=Y){p[M++]=T}if(L>Y||s>Y||j>Y){O[U++]=T}}if(M==y||U==y||M+U>y*1.3)return B;return{axis:m,maE:Y,mvG:k.$X.Rg(Q,S,p,M,D),mhW:k.$X.Rg(Q,S,O,U,R)}};
k.$X.mef=function(Q,S,B,y,l){while(B.mvG!=null){if(B.axis==0&&y<=B.maE||B.axis==1&&l<=B.maE)B=B.mvG;
else B=B.mhW}return k.$X.mUK(Q,S,B,y,l)};k.$X.meU=function(Q,S,B){return B[0]<=Q&&Q<=B[2]&&B[1]<=S&&S<=B[3]};
k.$X.mUK=function(Q,S,B,y,l){for(var D=0;D<B.length;D++){var R=B[D],p=R*3,O=S[p+0]<<1,M=S[p+1]<<1,U=S[p+2]<<1,m=Q[O+0],Y=Q[O+1],x=Q[M+0],T=Q[M+1],$=Q[U+0],L=Q[U+1],s=x-m,j=T-Y,Z=$-m,e=L-Y,J=y-m,N=l-Y,E=s*e-Z*j;
if(E==0)return[O>>>1,M>>>1,U>>>1,1,0,0];var h=1/E,o=(J*e-Z*N)*h,V=(s*N-J*j)*h;if(o>=0&&V>=0&&o+V<=1)return[O>>>1,M>>>1,U>>>1,1-o-V,o,V]}return null};
k.mnz=function(Q,S,B,y,l){function D(G,rI,rb,Nr){return Math.sqrt((G-rb)*(G-rb)+(rI-Nr)*(rI-Nr))}function R(G,rI){return G>=0&&G<S&&rI>=0&&rI<B}function p(G){if(G<0)return 0;
if(G>=S)return S-1;return G}function O(G){if(G<0)return 0;if(G>=B)return B-1;return G}function M(F,G){var rI=G[3]*(1/255),rb=y[F]+G[0]*rI;
if(rb>255)rb=255;y[F]=rb;rb=y[F+1]+G[1]*rI;if(rb>255)rb=255;y[F+1]=rb;rb=y[F+2]+G[2]*rI;if(rb>255)rb=255;
y[F+2]=rb}function U(G,rI,rb){if(!c(G,rI))return;if(rb[3]<0)rb[3]=0;M((rI*S+G)*4,rb)}function m(G){var rI=G.slice(0,3);
rI[3]=0;return rI}var Y=S/800;function x(G){return Math.round(G*Y)}function T(){for(var F=0;F<=300;F++){C[F]=$(F)}}function $(B){var G=.8,rI=.2,rb=G*rI,Nr=B/60%2-1,Nz=rb*(1-Nr*Nr),NL=rI-rb,Nm;
if(B<60){Nm=[rb+NL,Nz,0]}else if(B<120){Nm=[Nz,rb,0]}else if(B<180){Nm=[0,rb,Nz]}else if(B<240){Nm=[0,Nz,rb]}else if(B<300){Nm=[Nz,0,rb]}else{Nm=[rb,0,Nz]}return[(Nm[0]+NL)*255,(Nm[1]+NL)*255,(Nm[2]+NL)*255]}function L(B){return C[~~B]}function s(G){return 1-j(G)}function j(G){return G-~~G}function Z(G,rI,rb,Nr){d(G,rI,rb,0,rI+1,1,Nr)}function e(G,rI,rb,Nr,Nz,NL){d(G,rI,rb,0,Nr,1,Nz,NL)}function J(G){for(var F=0;
F<y.length;F+=4){M(F,G)}}function N(G,rI,rb,Nr,Nz,NL,Nm,NN){E(G,rI,rb,Nr,Nz,1,NL,Nm,NN)}function E(G,rI,rb,Nr,Nz,NL,Nm,NN,Ne){if(NL==null)NL=.5;
if(Nm==null)Nm=0;if(NN==null)NN=0;if(Ne==null)Ne=!1;var Ny=G.x,NG=G.y,NC=rb.slice(0),Ng=~~(rb[3]*rP);
Nr=Nr*rP;if(!Ne){rI=a(rI);Nz=a(Nz);Nm=a(Nm);NN=a(NN)}var NM=p(Ny-rI),NQ=p(Ny+rI);for(var NR=NM;NR<=NQ;
NR++){var NV=NR-Ny,md=Math.floor(Math.sqrt(rI*rI-NV*NV)),NW=O(NG-md),Nh=O(NG);for(var Nt=NW;Nt<=Nh;Nt++){var NU=D(NR,Nt,Ny,NG);
if(NU>rI||NU<=rI-Nz)break;var Mw=(NU-rI+Nz)/Nz;NC[3]=Ng-Nr*(NL==1?Mw:Math.pow(Mw,NL));M((Nt*S+NR)*4,NC)}NW=O(NG+md);
for(var Nt=NW;Nt>Nh;Nt--){var NU=D(NR,Nt,Ny,NG);if(NU>rI||NU<=rI-Nz)break;var Mw=(NU-rI+Nz)/Nz;NC[3]=Ng-Nr*(NL==1?Mw:Math.pow(Mw,NL));
M((Nt*S+NR)*4,NC)}}if(Nm>0){d(G,rI+Nm,NC,NC[3],Nm,1,0,0,!0)}if(NN>0){d(G,rI-Nz,_(rb),-rb[3],NN,1,0,0,!0)}}function h(G,rI,rb,Nr,Nz,NL){d(G,rI,rb,rb[3],rI+1,1,Nr,Nz,NL)}function o(G,rI,rb,Nr,Nz){if(Nz==null)Nz=!1;
var NL=G.x,Nm=G.y;Nr*=rP;if(!Nz){rI=a(rI);rb=a(rb)}var NN=p(NL-rI),Ne=p(NL+rI);for(var Ny=NN;Ny<Ne;Ny++){var NG=Ny-NL,NC=~~Math.sqrt(rI*rI-NG*NG),Ng=O(Nm-NC),NM=O(Nm);
for(var NQ=Ng;NQ<=NM;NQ++){var NR=D(Ny,NQ,NL,Nm);if(NR>rI||NR<=rI-rb)break;var NV=(rI-NR)/rb,md=L(300*NV);
md[3]=Nr;M((NQ*S+Ny)*4,md)}Ng=O(Nm+NC);for(var NQ=Ng;NQ>NM;NQ--){var NR=D(Ny,NQ,NL,Nm);if(NR>rI||NR<=rI-rb)break;
var NV=(rI-NR)/rb,md=L(300*NV);md[3]=Nr;M((NQ*S+Ny)*4,md)}}}function V(i,G){var rI=i.LF,rb=i.vv,Nr=G.slice(0),Nz=G[3]*rP,NL=Math.abs(rb.y-rI.y)>Math.abs(rb.x-rI.x);
if(NL){var Nm=rI.x;rI.x=rI.y;rI.y=Nm;Nm=rb.x;rb.x=rb.y;rb.y=Nm}if(rI.x>rb.x){var Nm=rI;rI=rb;rb=Nm}var NN=rb.x-rI.x,Ne=rb.y-rI.y,Ny=NN==0?1:Ne/NN,NG=Math.round(rI.x),NC=rI.y+Ny*(NG-rI.x),Ng=s(rI.x+.5),NM=NG,NQ=~~NC;
if(NL){Nr[3]=Nz*s(NC)*Ng;U(NQ,NM,Nr);Nr[3]=Nz*j(NC)*Ng;U(NQ+1,NM,Nr)}else{Nr[3]=Nz*s(NC)*Ng;U(NM,NQ,Nr);
Nr[3]=Nz*j(NC)*Ng;U(NM,NQ+1,Nr)}var NR=NC-Ny;NG=Math.round(rb.x);NC=rb.y+Ny*(NG-rb.x);Ng=j(rb.x+.5);
var NV=NG,md=~~NC;if(NL){Nr[3]=Nz*s(NC)*Ng;U(md,NV,Nr);Nr[3]=Nz*j(NC)*Ng;U(md+1,NV,Nr)}else{Nr[3]=Nz*s(NC)*Ng;
U(NV,md,Nr);Nr[3]=Nz*j(NC)*Ng;U(NV,md+1,Nr)}if(NL){for(var NW=NM+1;NW<=NV-1;NW++){Nr[3]=Nz*s(NR);U(~~NR,NW,Nr);
Nr[3]=Nz*j(NR);U(~~NR+1,NW,Nr);NR+=Ny}}else{for(var NW=NM+1;NW<=NV-1;NW++){Nr[3]=Nz*s(NR);U(NW,~~NR,Nr);
Nr[3]=Nz*j(NR);U(NW,~~NR+1,Nr);NR+=Ny}}}function n(G,rI,rb,Nr){for(var F=0;F<4;F++){var Nz=G.Lg(rI+1.3*F,rb);
V(Nz,Nr,1)}}function v(G,rI){this.x=Math.round(G);this.y=Math.round(rI)}var t=Math.PI/180;v.prototype.Lg=function(G,rI){G=G*t;
var rb=this.x+rI*Math.cos(G),Nr=this.y+rI*Math.sin(G);return new q(this.x,this.y,rb,Nr)};v.prototype.mnM=function(G,rI){G=G*t;
var rb=this.Xj+rI*Math.cos(G),Nr=this.mGt+rI*Math.sin(G);return new v(rb,Nr)};function q(G,rI,rb,Nr){this.LF=new v(G,rI);
this.vv=new v(rb,Nr)}q.prototype.n$=function(G){var rI=G*this.LF.x+(1-G)*this.vv.x,rb=G*this.LF.y+(1-G)*this.vv.y;
return new v(rI,rb)};var u=N,g=h,r=Z,f=e,I=o,d=E,a=x,c=R,_=m,C=[];T();for(var F=0;F<Q.length;F++){y[F]=Q[F]}var i=new q(S*l[2],B*l[3],S/2,B/2),rP=l[1],rH=[];
rH[0]=function rK(){var G=[80,40,15,60],rb=0,Nr=0;r(i.n$(1.4),260,G,10);r(i.n$(1),100,[240,50,50,30],30);
g(i.n$(1),60,[255,40,0,40]);var rI=[255,255,255,255];d(i.n$(1),70,rI,rI[3],58,.5);r(i.n$(1),12,rI);rI[3]=40;
u(i.n$(1),150,rI,rI[3],150);for(var F=0;F<40;F++){rb+=Math.random()*25;Nr=Math.random()*a(300)+a(100);
var Nz=i.n$(1).Lg(rb,Nr);V(i.n$(1).Lg(rb,Nr),[110,110,110,30])}g(i.n$(1),130,[255,255,255,8]);var NL=[170,30,23,70];
f(i.n$(1),70,NL,1,3,3);var Nm=[60,60,130,40];r(i.n$(.47),44,Nm,5);r(i.n$(.43),22,Nm,3);Nm[3]=16;r(i.n$(.53),15,Nm,2);
var NN=[138,94,42,100];r(i.n$(.2),16,NN,2);var Ne=[130,255,170,180];g(i.n$(0),4,Ne);g(i.n$(-.25),5,Ne);
NN=[150,90,0,50];u(i.n$(-.45),55,_(NN),-NN[3],40,2);r(i.n$(-.42),35,NN,2);r(i.n$(-.5),15,NN,2);I(i.n$(-1.28),145,11,70);
var Ny=L(0);Ny[3]=50;u(i.n$(-1.28),149,Ny,Ny[3],4);Ny=L(300);Ny[3]=50;u(i.n$(-1.28),155-1,_(Ny),-Ny[3],3);
var NG=[130,130,10,50];f(i.n$(-1),73,NG,3,2);var NC=[40,130,70,40];u(i.n$(-1),70,_(NC),-NC[3],35);NC=[40,170,60,50];
r(i.n$(-.7),25,NC,4);var NC=[70,110,50,60];u(i.n$(1.3),30,_(NC),-NC[3],11,3);Nm=[0,50,210,80];g(i.n$(-.72),20,Nm)};
rH[1]=function rY(){g(i.n$(1),150,[240,70,70,60]);r(i.n$(1),100,[200,60,60,40],30);var G=[255,255,255,255],rI=0,rb=0;
d(i.n$(1),75,G,G[3],63);r(i.n$(1),12,G);g(i.n$(1),270,[200,200,200,20],10);for(var F=0;F<10;F++){rI+=10+Math.random()*40;
rb=Math.random()*a(250)+a(80);var Nr=i.n$(1).Lg(rI,rb);V(Nr,[110,110,110,35])}rI=5;rb=100;for(var F=0;
F<12;F++){rI+=30;n(i.n$(1),rI,rb,[90,90,90,40])}var Nz=[150,40,23,100];f(i.n$(1),70,Nz,1,3,3);var NL=[30,100,60,40];
g(i.n$(-.9),180,[255,255,255,20]);r(i.n$(-.9),140,NL,15);var Nm=[170,80,25,15];f(i.n$(-.9),120,Nm,1,4,4);
var NN=[110,240,190,200];g(i.n$(-.6),3,NN);NN[3]=100;g(i.n$(-.6),7,NN);var Ne=[230,120,40,85];g(i.n$(-.73),9,Ne);
var Ny=[60,60,190,50];r(i.n$(.3),28,Ny,6);Ny[3]=25;r(i.n$(.34),20,Ny,3)};rH[2]=function Nc(){var G=[255,255,255,255],rb=0,Nr=0;
r(i.n$(1),13,G);d(i.n$(1),150,G,G[3],137);var rI=[120,80,35,20];r(i.n$(1.4),260,rI,10);for(var F=0;F<40;
F++){rb+=5+Math.random()*30;Nr=Math.random()*a(300);V(i.n$(1).Lg(rb,Nr),[110,110,110,20])}var Nz=[10,30,255,30];
r(i.n$(1),70,Nz,50);var NL=[15,90,170,15];r(i.n$(1.5),60,NL);var Nm=[220,220,20,50];r(i.n$(-1.15),8,Nm,2);
var G=[255,255,255,40];g(i.n$(-1.18),6,G);g(i.n$(-1.18),4,G);Nm=[110,110,10,8];u(i.n$(-1.2),32,_(Nm),-Nm[3],20,3);
var NN=[5,0,16,255];for(var F=0;F<4;F++){r(i.n$(-1.36),10,NN,3)}var Ne=[90,200,150,20],Ny=Ne.slice(0);
Ny[3]*=2;r(i.n$(-1.32),7,Ny,3);r(i.n$(-1.36),7,Ny,3);r(i.n$(-1.4),7,Ny,3);var G=[230,230,230,100];g(i.n$(-1.36),2,G);
G[3]=3;r(i.n$(-.55),10,G);Nm=[120,100,10,18];r(i.n$(-.55),160,Nm,8);r(i.n$(-.55),80,Nm,4);Ne[3]=3;Ny[3]=6;
u(i.n$(-.49),13,_(Ny),-Ny[3],13,2);u(i.n$(-.55),13,_(Ny),-Ny[3],13,2);Ne[3]=20;r(i.n$(.15),25,Ne,3);
Nm[3]=100;g(i.n$(-.52),3,Nm);Nm=[200,200,50,40];r(i.n$(.27),1,Nm,4);var NG=[150,40,23,30];u(i.n$(1),80,_(NG),-NG[3],2,1)};
return rH[l[0]]()};k.Sl={};k.Sl.Px=function(Q){var S=~~(Q+.5);return S<0?0:S>255?255:S};k.Sl.transform=function(Q,S,B){var y=k.Sl.Px,l=Q.t.length;
for(var D=0;D<l;D++){var R=Q.t[D],p=Q.e[D],O=Q.R[D];S.t[D]=y(B[0]*R+B[1]*p+B[2]*O+B[3]*255);S.e[D]=y(B[4]*R+B[5]*p+B[6]*O+B[7]*255);
S.R[D]=y(B[8]*R+B[9]*p+B[10]*O+B[11]*255)}};k.Sl.RZ=function(Q,S,B){var y=k.Sl.Px,l=Q.length;for(var D=0;
D<l;D+=4){var R=Q[D],p=Q[D+1],O=Q[D+2];S[D]=y(B[0]*R+B[1]*p+B[2]*O+B[3]*255);S[D+1]=y(B[4]*R+B[5]*p+B[6]*O+B[7]*255);
S[D+2]=y(B[8]*R+B[9]*p+B[10]*O+B[11]*255)}};k.Sl.Rb=function(Q){var S=Q[0]+Q[1]+Q[2],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(S==1){var y=Q.indexOf(1);B[y]=B[y+4]=B[y+8]=1}else{B[0]=Q[0];B[5]=Q[1];B[10]=Q[2]}return B};k.Sl.TG=function(Q,S,B){return[1,0,0,Q,0,1,0,S,0,0,1,B,0,0,0,1]};
k.Sl.Tv=function(Q,S,B){return[Q,0,0,0,0,S,0,0,0,0,B,0,0,0,0,1]};k.Sl.meO=function(Q){return[Q[0],Q[1],Q[2],Q[4],Q[5],Q[6],Q[8],Q[9],Q[10]]};
k.Sl.UJ=function(Q){return[Q[0],Q[1],Q[2],0,Q[3],Q[4],Q[5],0,Q[6],Q[7],Q[8],0,0,0,0,1]};k.Sl.vx=function(Q,S){return[Q[0]*S[0]+Q[1]*S[1]+Q[2]*S[2]+Q[3]*S[3],Q[4]*S[0]+Q[5]*S[1]+Q[6]*S[2]+Q[7]*S[3],Q[8]*S[0]+Q[9]*S[1]+Q[10]*S[2]+Q[11]*S[3],Q[12]*S[0]+Q[13]*S[1]+Q[14]*S[2]+Q[15]*S[3]]};
k.Sl.Qk=function(Q){var S=[];S[0]=Q[0];S[1]=Q[4];S[2]=Q[8];S[3]=Q[12];S[4]=Q[1];S[5]=Q[5];S[6]=Q[9];
S[7]=Q[13];S[8]=Q[2];S[9]=Q[6];S[10]=Q[10];S[11]=Q[14];S[12]=Q[3];S[13]=Q[7];S[14]=Q[11];S[15]=Q[15];
return S};k.Sl.multiply=function(Q,S){var B=[];B[0]=Q[0]*S[0]+Q[1]*S[4]+Q[2]*S[8]+Q[3]*S[12];B[1]=Q[0]*S[1]+Q[1]*S[5]+Q[2]*S[9]+Q[3]*S[13];
B[2]=Q[0]*S[2]+Q[1]*S[6]+Q[2]*S[10]+Q[3]*S[14];B[3]=Q[0]*S[3]+Q[1]*S[7]+Q[2]*S[11]+Q[3]*S[15];B[4]=Q[4]*S[0]+Q[5]*S[4]+Q[6]*S[8]+Q[7]*S[12];
B[5]=Q[4]*S[1]+Q[5]*S[5]+Q[6]*S[9]+Q[7]*S[13];B[6]=Q[4]*S[2]+Q[5]*S[6]+Q[6]*S[10]+Q[7]*S[14];B[7]=Q[4]*S[3]+Q[5]*S[7]+Q[6]*S[11]+Q[7]*S[15];
B[8]=Q[8]*S[0]+Q[9]*S[4]+Q[10]*S[8]+Q[11]*S[12];B[9]=Q[8]*S[1]+Q[9]*S[5]+Q[10]*S[9]+Q[11]*S[13];B[10]=Q[8]*S[2]+Q[9]*S[6]+Q[10]*S[10]+Q[11]*S[14];
B[11]=Q[8]*S[3]+Q[9]*S[7]+Q[10]*S[11]+Q[11]*S[15];B[12]=Q[12]*S[0]+Q[13]*S[4]+Q[14]*S[8]+Q[15]*S[12];
B[13]=Q[12]*S[1]+Q[13]*S[5]+Q[14]*S[9]+Q[15]*S[13];B[14]=Q[12]*S[2]+Q[13]*S[6]+Q[14]*S[10]+Q[15]*S[14];
B[15]=Q[12]*S[3]+Q[13]*S[7]+Q[14]*S[11]+Q[15]*S[15];return B};k.Sl.SD=function(Q){var S=[];S[0]=Q[5]*Q[10]*Q[15]-Q[5]*Q[14]*Q[11]-Q[6]*Q[9]*Q[15]+Q[6]*Q[13]*Q[11]+Q[7]*Q[9]*Q[14]-Q[7]*Q[13]*Q[10];
S[1]=-Q[1]*Q[10]*Q[15]+Q[1]*Q[14]*Q[11]+Q[2]*Q[9]*Q[15]-Q[2]*Q[13]*Q[11]-Q[3]*Q[9]*Q[14]+Q[3]*Q[13]*Q[10];
S[2]=Q[1]*Q[6]*Q[15]-Q[1]*Q[14]*Q[7]-Q[2]*Q[5]*Q[15]+Q[2]*Q[13]*Q[7]+Q[3]*Q[5]*Q[14]-Q[3]*Q[13]*Q[6];
S[3]=-Q[1]*Q[6]*Q[11]+Q[1]*Q[10]*Q[7]+Q[2]*Q[5]*Q[11]-Q[2]*Q[9]*Q[7]-Q[3]*Q[5]*Q[10]+Q[3]*Q[9]*Q[6];
S[4]=-Q[4]*Q[10]*Q[15]+Q[4]*Q[14]*Q[11]+Q[6]*Q[8]*Q[15]-Q[6]*Q[12]*Q[11]-Q[7]*Q[8]*Q[14]+Q[7]*Q[12]*Q[10];
S[5]=Q[0]*Q[10]*Q[15]-Q[0]*Q[14]*Q[11]-Q[2]*Q[8]*Q[15]+Q[2]*Q[12]*Q[11]+Q[3]*Q[8]*Q[14]-Q[3]*Q[12]*Q[10];
S[6]=-Q[0]*Q[6]*Q[15]+Q[0]*Q[14]*Q[7]+Q[2]*Q[4]*Q[15]-Q[2]*Q[12]*Q[7]-Q[3]*Q[4]*Q[14]+Q[3]*Q[12]*Q[6];
S[7]=Q[0]*Q[6]*Q[11]-Q[0]*Q[10]*Q[7]-Q[2]*Q[4]*Q[11]+Q[2]*Q[8]*Q[7]+Q[3]*Q[4]*Q[10]-Q[3]*Q[8]*Q[6];S[8]=Q[4]*Q[9]*Q[15]-Q[4]*Q[13]*Q[11]-Q[5]*Q[8]*Q[15]+Q[5]*Q[12]*Q[11]+Q[7]*Q[8]*Q[13]-Q[7]*Q[12]*Q[9];
S[9]=-Q[0]*Q[9]*Q[15]+Q[0]*Q[13]*Q[11]+Q[1]*Q[8]*Q[15]-Q[1]*Q[12]*Q[11]-Q[3]*Q[8]*Q[13]+Q[3]*Q[12]*Q[9];
S[10]=Q[0]*Q[5]*Q[15]-Q[0]*Q[13]*Q[7]-Q[1]*Q[4]*Q[15]+Q[1]*Q[12]*Q[7]+Q[3]*Q[4]*Q[13]-Q[3]*Q[12]*Q[5];
S[11]=-Q[0]*Q[5]*Q[11]+Q[0]*Q[9]*Q[7]+Q[1]*Q[4]*Q[11]-Q[1]*Q[8]*Q[7]-Q[3]*Q[4]*Q[9]+Q[3]*Q[8]*Q[5];S[12]=-Q[4]*Q[9]*Q[14]+Q[4]*Q[13]*Q[10]+Q[5]*Q[8]*Q[14]-Q[5]*Q[12]*Q[10]-Q[6]*Q[8]*Q[13]+Q[6]*Q[12]*Q[9];
S[13]=Q[0]*Q[9]*Q[14]-Q[0]*Q[13]*Q[10]-Q[1]*Q[8]*Q[14]+Q[1]*Q[12]*Q[10]+Q[2]*Q[8]*Q[13]-Q[2]*Q[12]*Q[9];
S[14]=-Q[0]*Q[5]*Q[14]+Q[0]*Q[13]*Q[6]+Q[1]*Q[4]*Q[14]-Q[1]*Q[12]*Q[6]-Q[2]*Q[4]*Q[13]+Q[2]*Q[12]*Q[5];
S[15]=Q[0]*Q[5]*Q[10]-Q[0]*Q[9]*Q[6]-Q[1]*Q[4]*Q[10]+Q[1]*Q[8]*Q[6]+Q[2]*Q[4]*Q[9]-Q[2]*Q[8]*Q[5];var B=Q[0]*S[0]+Q[1]*S[4]+Q[2]*S[8]+Q[3]*S[12];
for(var y=0;y<16;y++)S[y]/=B;return S};k.Sl.meZ=function(Q){var S=[],B=Q[5]*Q[10]*Q[15]-Q[5]*Q[14]*Q[11]-Q[6]*Q[9]*Q[15]+Q[6]*Q[13]*Q[11]+Q[7]*Q[9]*Q[14]-Q[7]*Q[13]*Q[10],y=-Q[4]*Q[10]*Q[15]+Q[4]*Q[14]*Q[11]+Q[6]*Q[8]*Q[15]-Q[6]*Q[12]*Q[11]-Q[7]*Q[8]*Q[14]+Q[7]*Q[12]*Q[10],l=Q[4]*Q[9]*Q[15]-Q[4]*Q[13]*Q[11]-Q[5]*Q[8]*Q[15]+Q[5]*Q[12]*Q[11]+Q[7]*Q[8]*Q[13]-Q[7]*Q[12]*Q[9],D=-Q[4]*Q[9]*Q[14]+Q[4]*Q[13]*Q[10]+Q[5]*Q[8]*Q[14]-Q[5]*Q[12]*Q[10]-Q[6]*Q[8]*Q[13]+Q[6]*Q[12]*Q[9];
return Q[0]*B+Q[1]*y+Q[2]*l+Q[3]*D};k.Sl.RP=k.Sl.UJ([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
k.Sl.meb=k.Sl.UJ([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
k.Sl.mny=k.Sl.SD(k.Sl.RP);k.oR={};k.oR.LN=new Uint32Array(1);k.oR.PH=function(Q,S,B,y,l,D){var R=new Uint32Array(Q),p=0,O=k.oR.LN;
if(O.length<S*4)k.oR.LN=O=new Uint32Array(S*4);var M=new Float64Array(O.buffer);for(var U=0;U<S;U+=2){var m=l[U],Y=l[U+1],x=D[U],T=D[U+1];
O[p]=Y;M[p+2>>1]=x;O[p+1]=R[m];R[m]=p+1;p+=4;O[p]=m;M[p+2>>1]=T;O[p+1]=R[Y];R[Y]=p+1;p+=4}return{Td:O,mUC:M,mEU:R}};
k.oR.vI=function(Q,S,B,y,l,D,R){var p=1,O=k.oR.PH(Q,S,B,y,l,D),M=O.Td,U=O.mUC,m=O.mEU,Y=new Uint32Array(Q),x=new k.oR.RY(Q),$=1,e=0;
x.push(B);x.push(y);var T=new k.oR.RY(Q),L=new Uint8Array(Q),s=new Uint32Array(Q);L[B]=1;L[y]=2;var j=new Uint32Array(Q),Z=new Uint32Array(Q);
Z[B]=Z[y]=0;j[B]=j[y]=1;while(!0){var J=-1,t=0,f=1e30;while(!x.wz()&&J==-1){var N=x.top(),E=L[N],h=m[N]-1;
while(h!=-1){var o=M[h],V=L[o],n=h^E-1<<2;if(U[n+2>>1]!=0){if(V==0){k.oR.RI(N,h,o,L,s,Z,j);x.push(o)}else if(V==E&&j[o]<=j[N]&&Z[o]>Z[N])k.oR.RI(N,h,o,L,s,Z,j);
else if(V!=E){J=n}}h=M[h+1]-1}if(J!=-1)break;x.pop()}if(J==-1){break}$++;var q=J;while(q!=-1){Y[t]=q;
t++;q=s[M[q^4]]-1}var u=t>>1;for(var g=0;g<u;g++){var r=Y[g];Y[g]=Y[t-g-1];Y[t-g-1]=r}q=s[M[J]]-1;while(q!=-1){Y[t]=q^4;
t++;q=s[M[q^4]]-1}for(var g=0;g<t;g++)f=Math.min(f,U[Y[g]+2>>1]);e+=f;if(e>=R)return{vh:null,h$:e};for(var g=0;
g<t;g++){var I=Y[g],d=I^4,N=M[d],o=M[I];U[I+2>>1]-=f;U[d+2>>1]+=f;if(U[I+2>>1]==0&&L[N]==L[o]){if(L[N]==1){s[o]=0;
T.push(o)}if(L[N]==2){s[N]=0;T.push(N)}}}while(!T.wz()){var N=T.pop(),E=L[N],h=m[N]-1,a=E==1?4:0,c=0,_=0,C=1e9;
while(h!=-1){var o=M[h],F=h^4,n=h^a;if(L[o]==E&&U[n+2>>1]>0&&k.oR.mEq(o,B,y,s,M,$,j,Z)+1<C){c=o;_=F;
C=Z[o]+1}h=M[h+1]-1}if(_!=0){k.oR.RI(c,_,N,L,s,Z,j);continue}h=m[N]-1;while(h!=-1){var o=M[h],n=h^a;
if(L[o]==E){if(U[n+2>>1]>0){x.push(o)}if(s[o]==h+1){s[o]=0;T.push(o)}}h=M[h+1]-1}L[N]=0;x.remove(N)}}var i=[];
for(var g=0;g<S;g+=2){var N=l[g],o=l[g+1];if(L[N]==1&&L[o]!=1){i.push(g>>1)}if(L[o]==1&&L[N]!=1){i.push(S+g>>1)}}return{vh:i,h$:e}};
k.oR.RI=function(Q,S,B,y,l,D,R){y[B]=y[Q];l[B]=S+1;D[B]=D[Q]+1;R[B]=R[Q]};k.oR.mEq=function(Q,S,B,y,l,D,R,p){var O=Q,M=y[Q]-1,U=0;
while(M!=-1&&R[Q]!=D){Q=l[M^4];M=y[Q]-1;U++}if(M==-1&&Q!=S&&Q!=B)return 1e9;var m=p[Q]+U;U=0;M=y[O]-1;
while(O!=Q){p[O]=m-U;U++;R[O]=D;O=l[M^4];M=y[O]-1}return m};k.oR.mex=function(Q,S,B,y,l,D){var R=k.oR.PH(Q,S,B,y,l,D),p=R.Td,O=R.mUC,M=R.mEU,U=0,m=0,Y=new Uint32Array(Q*2),x=new k.oR.PA(Q),T=0;
while(!0){x.reset();x.push(B);for(var $=0;$<Q;$++)Y[$<<1]=0;while(!x.wz()){var L=x.pop(),s=M[L]-1;while(s!=-1){T=p[s];
if(Y[T<<1]==0&&O[s+2>>1]>0&&T!=B){Y[T<<1]=L+1;Y[(T<<1)+1]=s;x.push(T)}s=p[s+1]-1}if(Y[y<<1]!=0){break}}if(Y[y<<1]==0){break}var j=1e30;
T=y;while(!0){var Z=Y[T<<1]-1;if(Z==-1)break;var e=Y[(T<<1)+1];j=Math.min(j,O[e+2>>1]);T=Z}T=y;while(!0){var Z=Y[T<<1]-1;
if(Z==-1)break;var e=Y[(T<<1)+1],J=e^4;O[e+2>>1]-=j;O[J+2>>1]+=j;T=Z}U+=j}var N=[];for(var $=0;$<S;$+=2){var Z=l[$],T=l[$+1];
if((Y[Z<<1]!=0||Z==B)&&Y[T<<1]==0&&T!=B){N.push($>>1)}if((Y[T<<1]!=0||T==B)&&Y[Z<<1]==0&&Z!=B){N.push(S+$>>1)}}return{vh:N,h$:U}};
k.oR.PA=function(Q){Q|=Q>>1;Q|=Q>>2;Q|=Q>>4;Q|=Q>>8;Q|=Q>>16;this.hn=new Uint32Array(Q+1);this.BY=Q;
this.cN=0;this.cG=0};k.oR.PA.prototype={push:function(Q){var S=this.cG;this.hn[S]=Q;this.cG=S+1&this.BY},pop:function(){var Q=this.cN,S=this.hn[Q];
this.cN=Q+1&this.BY;return S},wz:function(){return this.cN==this.cG},reset:function(){this.cN=0;this.cG=0}};
k.oR.RY=function(Q){Q|=Q>>1;Q|=Q>>2;Q|=Q>>4;Q|=Q>>8;Q|=Q>>16;this.hn=new Uint32Array(Q+1);this.aS=new Uint32Array(Q+1);
this.BY=Q;this.cN=0;this.cG=0};k.oR.RY.prototype={top:function(){return this.hn[this.cN]},meP:function(){return this.hn[this.cG]},push:function(Q){if(this.aS[Q]!=0)return;
this.aS[Q]=this.cG+1;var S=this.cG;this.hn[S]=Q;this.cG=S+1&this.BY},pop:function(){var Q=this.cN,S=this.hn[Q];
this.aS[S]=0;this.cN=Q+1&this.BY;return S},wz:function(){return this.cN==this.cG},remove:function(Q){var S=this.aS[Q]-1;
if(S==-1)return;this.aS[Q]=0;if(S==this.cN){this.pop();return}var B=this.pop();this.hn[S]=B;this.aS[B]=S+1},sA:function(Q){return Q+this.BY+1&this.BY}};
k.oR.PY=function(Q,S,B){var y=k.oR.NS(Q,S,B);if(S<y-1)k.oR.PY(Q,S,y-1);if(y<B)k.oR.PY(Q,y,B)};k.oR.NS=function(Q,S,B){var y=Q[S+B>>>1];
while(S<=B){while(Q[S]<y)S++;while(Q[B]>y)B--;if(S<=B){k.oR.NH(Q,S,B);S++;B--}}return S};k.oR.NH=function(Q,S,B){var y=Q[S];
Q[S]=Q[B];Q[B]=y};k.SI={};k.SI.mzR=function(Q){for(var S=0;S<Q.length;S++)k.SI.wp(Q,S)};k.SI.wp=function(Q,S){Q[S].v.keyShapeInvalidated={t:"bool",v:!0}};
k.SI.mzy=function(Q){for(var S=0;S<Q.length;S++)Q[S].v.keyOriginIndex.v=S};k.SI.VE=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
k.SI.IM=function(Q){Q=Q.v;var S={Rctn:2,Ln:4,Elps:5},B=S[Q.classID],y=Q.topLeft?k.SI.Ip(Q):null,l=null,D=0;
if(B==4){var R=Q.Strt.v,p=Q.End.v;l=[R.Hrzn.v.val,R.Vrtc.v.val,p.Hrzn.v.val,p.Vrtc.v.val];D=Q.Wdth.v.val}if(B==null)return null;
return k.SI.gl(B,B==4?null:k.SI.QM(Q),y,l,D)};k.SI.UV=function(Q,S,B,y,l,D){var R={classID:Q,unitValueQuadVersion:{t:"long",v:1}};
if(S)k.SI.Ug(R,["Left","Top","Rght","Btom"],S);if(B)k.SI.Ug(R,["topLeft","topRight","bottomRight","bottomLeft"],B);
if(Q=="Ln"){R.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:y[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:y[1]}}}},R.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:y[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:y[3]}}}},R.Wdth={t:"UntF",v:{type:"#Pxl",val:l}}}if(D)R.Nm={t:"TEXT",v:D};
return{t:"Objc",v:R}};k.SI.gl=function(Q,S,B,y,l){var D=k.SI.VE(),R=D.v;delete R.keyShapeInvalidated;
R.keyOriginType={t:"long",v:Q};R.keyOriginResolution={t:"doub",v:75};if(Q==4){R.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:y[0]},Vrtc:{t:"doub",v:y[1]}}};
R.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:y[2]},Vrtc:{t:"doub",v:y[3]}}};S=[Math.min(y[0],y[2]),Math.min(y[1],y[3]),Math.max(y[0],y[2]),Math.max(y[1],y[3])];
R.keyOriginLineWeight={t:"doub",v:l},R.keyOriginLineArrowSt={t:"bool",v:!1};R.keyOriginLineArrowEnd={t:"bool",v:!1};
R.keyOriginLineArrWdth={t:"doub",v:0};R.keyOriginLineArrLngth={t:"doub",v:0};R.keyOriginLineArrConc={t:"long",v:0}}var p={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
R.keyOriginShapeBBox={t:"Objc",v:p};k.SI.Qp(R,S);if(B!=null){var O={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
R.keyOriginRRectRadii={t:"Objc",v:O};k.SI.Qy(R,B)}return D};k.SI.V=function(Q,S,B,y){var l=k.W.PO(S),D=k.W.PX(S),R=Math.max(Math.abs(S[0]),Math.abs(S[1])),p=Math.max(Math.abs(S[3]),Math.abs(S[4]));
for(var O=0;O<Q.length;O++){var M=Q[O].v,U=M.keyShapeInvalidated;if(U&&U.v||M.keyOriginType==null)continue;
if(B.length!=0&&B.indexOf(O)==-1)continue;var m=M.keyOriginType.v;if(!l||!D||y&&m==2&&Math.abs(1-R/p)>.01){k.SI.wp(Q,O);
continue}var Y=k.SI.wV(M);k.W.apply(S,Y);k.SI.Qp(M,[Math.min(Y[0],Y[2]),Math.min(Y[1],Y[3]),Math.max(Y[0],Y[2]),Math.max(Y[1],Y[3])]);
if(m==2){var x=k.SI.Qc(M),T=new Nu(S[0],S[1],S[3],S[4],0,0);T.Ax();if(T.n==0){x.push(x.shift());T.rotate(Math.PI/2);
T.Ax()}if(T.n<0){var $=x[0];x[0]=x[1];x[1]=$;$=x[2];x[2]=x[3];x[3]=$}if(T.en<0){var $=x[0];x[0]=x[3];
x[3]=$;$=x[1];x[1]=x[2];x[2]=$}if(y)for(var L=0;L<4;L++)x[L]=x[L]*R;k.SI.Qy(M,x)}if(m==4){M.keyOriginLineWeight.v*=R;
var s=k.SI.Ir(M);k.W.apply(S,s);k.SI.mzU(M,s)}}};k.SI.wN=function(Q,S){var B=S.A;for(var y=0;y<Q.length;
y++){var l=Q[y].v,D=l.keyShapeInvalidated,Y;if(D&&D.v||l.keyOriginType==null)continue;var R=l.keyOriginType.v,p=k.SI.wV(l),O=p[0],M=p[1],U=p[2],m=p[3];
if(R==1)Y=k.c.MV.Rect(O,M,U-O,m-M,0);else if(R==2){var x=k.SI.Qc(l);Y=k.c.MV.Rect(O,M,U-O,m-M,x)}else if(R==4){var T=k.SI.Ir(l);
Y=k.c.MV.LV(T[0],T[1],T[2],T[3],l.keyOriginLineWeight.v)}else if(R==5)Y=k.c.MV.TJ(O,M,U-O,m-M);var $=k.c.rN(B,y),L=k.c.Li(B,y);
Y[2].GL=B[$].GL;var s=B;B=B.slice(0,$);for(var j=2;j<Y.length;j++)B.push(Y[j]);for(var j=$+L;j<s.length;
j++)B.push(s[j])}S.A=B;S.DP=!0};k.SI.aX=function(Q){var S=1e9,B=-S,y=1e9,l=-y,D=null,R=Q.sH(),p=R[0],O=R[1];
for(var M=0;M<O.length;M++){var U=p[O[M]],m=U.add.vogk;if(m==null)continue;var Y=U.add.vmsk.I;for(var x=0;
x<m.length;x++){var T=m[x].v,$=T.keyShapeInvalidated;if($&&$.v||T.keyOriginType==null)continue;if(O.length==1&&Y.length!=0&&Y.indexOf(x)==-1)continue;
var L=T.keyOriginType.v;if(L!=4){var s=k.SI.wV(T);S=Math.min(S,s[0]);y=Math.min(y,s[1]);B=Math.max(B,s[2]);
l=Math.max(l,s[3])}if(L==2&&D==null){D=k.SI.Qc(T)}}}return[S<B?[S,y,B,l]:null,D]};k.SI.mzF=function(Q,S,B){var y=k.SI.aX(Q)[0],l;
if(y){var D=new Nu;D.translate(-y[0],-y[1]);D.scale(1/(y[2]-y[0]),1/(y[3]-y[1]));D.scale(S[2]-S[0],S[3]-S[1]);
D.translate(S[0],S[1]);l=k.W.Tz(D)}var R=Q.sH(),p=R[0],O=R[1];for(var M=0;M<O.length;M++){var U=p[O[M]],m=U.add.vogk;
if(m==null)continue;var Y=U.add.vmsk.I;for(var x=0;x<m.length;x++){var T=m[x].v,$=T.keyShapeInvalidated;
if($&&$.v||T.keyOriginType==null)continue;if(O.length==1&&Y.length!=0&&Y.indexOf(x)==-1)continue;var L=T.keyOriginType.v;
if(L!=4&&S[0]!=null){var S=k.SI.wV(T);k.W.apply(l,S);k.SI.Qp(T,S)}if(L==2&&B!=null){k.SI.Qy(T,B)}}}};
k.SI.wV=function(Q){return k.SI.QM(Q.keyOriginShapeBBox.v)};k.SI.QM=function(Q){var S=Q.Left.v.val,B=Q.Rght.v.val,y=Q.Top.v.val,l=Q.Btom.v.val;
return[S,y,B,l]};k.SI.Qp=function(Q,S){k.SI.Ug(Q.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],S)};
k.SI.Qc=function(Q){return k.SI.Ip(Q.keyOriginRRectRadii.v)};k.SI.Ip=function(Q){var S=[],B=["topLeft","topRight","bottomRight","bottomLeft"];
for(var y=0;y<4;y++)S.push(Q[B[y]].v.val);return S};k.SI.Qy=function(Q,S){k.SI.Ug(Q.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],S)};
k.SI.Ug=function(Q,S,B){for(var y=0;y<4;y++)if(B[y]!=null)Q[S[y]]={t:"UntF",v:{type:"#Pxl",val:B[y]}}};
k.SI.Ir=function(Q){var S=Q.keyOriginLineStart.v,B=Q.keyOriginLineEnd.v;return[S.Hrzn.v,S.Vrtc.v,B.Hrzn.v,B.Vrtc.v]};
k.SI.mzU=function(Q,S){var B=Q.keyOriginLineStart.v,y=Q.keyOriginLineEnd.v;B.Hrzn.v=S[0];B.Vrtc.v=S[1];
y.Hrzn.v=S[2];y.Vrtc.v=S[3]};k.i={};k.i.clone=function(Q){return{F:Q.F.slice(0),M:Q.M.slice(0)}};k.i.IR=function(Q){if(Q.length<6)return!0;
var S=Q.length-4;for(var B=0;B<S;B+=2)if(!k.i.Qq(Q[B],Q[B+1],Q[B+2],Q[B+3],Q[B+4],Q[B+5]))return!1;if(!k.i.Qq(Q[S],Q[S+1],Q[S+2],Q[S+3],Q[0],Q[1]))return!1;
if(!k.i.Qq(Q[S+2],Q[S+3],Q[0],Q[1],Q[2],Q[3]))return!1;return!0};k.i.Qq=function(Q,S,B,y,l,D){return(S-y)*(l-B)+(B-Q)*(D-y)>=0};
k.i.QJ=function(Q){var S={},B=null,y=0,l={M:2,L:2,Q:4,C:6};for(var D=0;D<Q.F.length;D++){var R=Q.F[D];
if(R.charAt(0)=="#"){if(S[R]==null)S[R]={M:[],F:[]};B=S[R]}else if(R!="X"){B.F.push(R);var p=l[R];if(p==null)p=0;
for(var O=0;O<p;O++)B.M.push(Q.M[y+O]);y+=p}}return S};k.i.Ua=function(Q,S){Q=k.i.Tn(Q);var B=Q.M,y=Q.F,l=0,D=[],R=null;
for(var p=0;p<y.length;p++){var O=y[p];if(O=="M"){R={mpD:l,Ad:0,TV:!1};D.push(R);l+=2}if(O=="C"){R.Ad++;
l+=6}if(O=="Z"){R.TV=!0}}var M=[];for(var p=0;p<D.length;p++)if(D[p].Ad!=0)M.push(D[p]);D=M;for(var p=0;
p<D.length;p++){var U=D[p],m=U.mpD,Y=m+2+U.Ad*6,T=0;U.ML=k.i.vQ(B,m,Y);var x=B[m]==B[Y-2]&&B[m+1]==B[Y-1];
for(var $=0;$<U.Ad;$++){var L=m+$*6,s=L+6;T+=(B[s]-B[L])*(B[s+1]+B[L+1])}if(U.Ad==2){var j=function(i,rP,rH){var rK=1-rH;
return rK*rK*rK*i[rP]+3*rK*rK*rH*i[rP+2]+3*rK*rH*rH*i[rP+4]+rH*rH*rH*i[rP+6]},Z=B[m],e=B[m+1],J=B[m+6],N=B[m+7],E=B[m+6],h=B[m+7],o=j(B,m,.5),V=j(B,m+1,.5),n=j(B,m+6,.5),t=j(B,m+7,.5);
T=(o-Z)*(V-e)+(J-o)*(N-V)+(n-J)*(t-N)+(E-n)*(h-t)}if(!x)T+=(B[m]-B[Y-2])*(B[m+1]+B[Y-1]);U.Tg=T<=0}for(var p=0;
p<D.length-1;p++)for(var L=p+1;L<D.length;L++){var q=D[p],u=D[L];if(u.ML.vM(q.ML)){D[p]=u;D[L]=q}}var g=D.length==0?!0:D[0].Tg,r=[{type:6},{type:8,all:0}];
for(var p=0;p<D.length;p++){var U=D[p],m=U.mpD,Y=m+2+U.Ad*6,x=B[m]==B[Y-2]&&B[m+1]==B[Y-1],f=U.TV||x?0:3,I=U.Tg==g&&!S?1:0;
if(!S&&p!=0){if(D[p-1].ML.vM(U.ML)&&D[p-1].Tg!=U.Tg)I=0;for(var L=0;L<D.length;L++)if(L!=p&&D[L].ML.vM(U.ML))I=0}r.push({type:f,length:U.Ad+(x?0:1),GL:I,Xr:2});
for(var L=0;L<U.Ad;L++){var l=m+L*6,d=new v(B[l],B[l+1]),a=new v(B[l+2],B[l+3]),c;if(L==0){if(x)c=new v(B[Y-4],B[Y-3]);
else c=d.clone()}else c=new v(B[l-2],B[l-1]);r.push({type:f+2,G$:c,v:d,RQ:a})}if(!x){var _=new v(B[Y-2],B[Y-1]);
r.push({type:f+2,G$:new v(B[Y-4],B[Y-3]),v:_,RQ:_.clone()})}}for(var L=0;L<r.length;L++){var C=r[L];
if(C.type>5||C.type==0||C.type==3)continue;var F=C.G$.UH(C.v)||C.RQ.UH(C.RQ);if(!F){var q=C.G$.x*(C.v.y-C.RQ.y)+C.v.x*(C.RQ.y-C.G$.y)+C.RQ.x*(C.G$.y-C.v.y);
if(Math.abs(q)<1e-6)F=!0}if(F)C.type--}return r};k.i.vn=function(){function Q(y,l,D,R){if(!R&&y.RQ.UH(y.v)&&l.G$.UH(l.v)){D.M.push(l.v.x,l.v.y);
D.F.push("L")}else{D.M.push(y.RQ.x,y.RQ.y,l.G$.x,l.G$.y,l.v.x,l.v.y);D.F.push("C")}}function S(y,l,D,R,p,O){var M=l[D];
y.M.push(M.v.x,M.v.y);y.F.push("M");for(var U=D;U<D+R-1;U++)Q(l[U],l[U+1],y,O);if(!p)Q(l[U],l[D],y,O)}function B(y,l){if(l==null)l=!1;
var D={M:[],F:[]};for(var R=0;R<y.length;R++){if(y[R].type>5)continue;var p=y[R].length;if(p==0)continue;
if(R==y.length-1)break;var O=y[R].type==3;S(D,y,R+1,p,O,l);if(!O)D.F.push("Z");R+=p}return D}return B}();
k.i.meY=function(Q){var S=Q.M,B=[],y,l=0;for(var D=0;D<Q.F.length;D++){var R=Q.F[D];if(R=="C"){y.push(S[l++],S[l++],S[l++],S[l++],S[l++],S[l++])}else if(R=="Z"){}else{y=[];
if(R!="M"){y.push(R);D++}y.push(S[l++],S[l++]);B.push(y)}}return B};k.i.IQ=function(Q,S,B){var y=1e9,l=0;
for(var D=0;D<Q.length;D+=2){var R=S-Q[D],p=B-Q[D+1],O=R*R+p*p;if(O<y){y=O;l=D>>>1}}return l};k.i.Qg=function(Q,S,B,y){for(var l=0;
l<Q.length;l+=2){var D=Q[l],R=Q[l+1],p=S[l],O=S[l+1];B[l]=D+(p-D)*y;B[l+1]=R+(O-R)*y}};k.i.V=function(Q,S,B){for(var y=0;
y<Q.length;y+=2){var l=Q[y],D=Q[y+1];B[y]=l*S.n+D*S.ce+S.Ni;B[y+1]=l*S.R+D*S.en+S.pg}};k.i.vQ=function(Q,S,B){if(S==null)S=0;
if(B==null)B=Q.length;var y=99999999999,l=-y,D=99999999999,R=-D;for(var p=S;p<B;p+=2){var O=Q[p],M=Q[p+1];
y=Math.min(y,O);D=Math.min(D,M);l=Math.max(l,O);R=Math.max(R,M)}return new w(y,D,l-y,R-D)};k.i.IL=function(Q,S){var B=Math.max(S.x,Math.min(S.x+S.r,Q.x)),y=Math.max(S.y,Math.min(S.y+S.O,Q.y)),l=Q.x-B,D=Q.y-y;
return Math.sqrt(l*l+D*D)};k.i.Uf=function(Q){if(Q.Kq())return new w(Math.floor(Q.x),Math.floor(Q.y),Math.ceil(Q.r),Math.ceil(Q.O));
var S=Math.floor(Q.x),B=Math.ceil(Q.x+Q.r),y=Math.floor(Q.y),l=Math.ceil(Q.y+Q.O);return new w(S,y,B-S,l-y)};
k.i.vE=function(Q){return k.i.Uf(k.i.vQ(Q))};k.i.wS=function(Q){var S=Q.x,B=Q.y,y=Q.x+Q.r,l=Q.y+Q.O;
return{F:["M","L","L","L","Z"],M:[S,B,y,B,y,l,S,l]}};k.i.concat=function(Q,S,B){if(B==null)B=new Nu;
for(var y=0;y<S.M.length;y+=2){var l=S.M[y],D=S.M[y+1];Q.M.push(l*B.n+D*B.ce+B.Ni);Q.M.push(l*B.R+D*B.en+B.pg)}for(var y=0;
y<S.F.length;y++)Q.F.push(S.F[y])};k.i.Tn=function(Q){var S=Q.M,B=[],y=[],l=0,D=0,R=0,p=0,O=0,M=0,U=0,m=0,Y=0;
for(var x=0;x<Q.F.length;x++){var T=Q.F[x];if(T=="M"){D=S[l];R=S[l+1];l+=2;y.push(T);B.push(D,R)}else if(T=="C"){p=S[l];
O=S[l+1];M=S[l+2];U=S[l+3];m=S[l+4];Y=S[l+5];l+=6;y.push(T);B.push(p,O,M,U,m,Y);D=m;R=Y}else if(T=="Q"){p=S[l];
O=S[l+1];M=S[l+2];U=S[l+3];l+=4;var $=p-D,L=O-R,s=M-p,j=U-O;y.push("C");B.push(D+2/3*$,R+2/3*L,p+1/3*s,O+1/3*j,M,U);
D=M;R=U}else if(T=="L"){p=S[l];O=S[l+1];l+=2;var Z=p-D,e=O-R;y.push("C");B.push(D,R,p,O,p,O);D=p;R=O}else y.push(T)}return{F:y,M:B}};
k.i.mzE=function(Q){var S=Q.M,B=[],y=[],l=0;for(var D=0;D<Q.F.length;D++){var R=Q.F[D];if(R=="Q"){var p=S[l-2],O=S[l-1],M=S[l],U=S[l+1],m=S[l+2],Y=S[l+3];
l+=4;var x=M-p,T=U-O,$=m-M,L=Y-U;y.push("C");B.push(p+2/3*x,O+2/3*T,M+1/3*$,U+1/3*L,m,Y)}else{var s=0;
if(R=="M"||R=="L")s=2;else if(R=="C")s=6;for(var j=0;j<s;j++)B.push(S[l+j]);l+=s;y.push(R)}}return{F:y,M:B}};
k.i.Tl=function(Q,S){var B=Q.M,y=[],l=[],D=0,R=0,p=0,O=0,M=0,U=0,m=0,Y=0,x=0;for(var T=0;T<Q.F.length;
T++){var $=Q.F[T];if($=="M"){R=B[D];p=B[D+1];D+=2;l.push($);y.push(R,p)}else if($=="C"){O=B[D];M=B[D+1];
U=B[D+2];m=B[D+3];Y=B[D+4];x=B[D+5];D+=6;k.i.QW(R,p,O,M,U,m,Y,x,S,l,y,0);R=Y;p=x}else l.push($)}return{F:l,M:y}};
k.i.QW=function(Q,S,B,y,l,D,R,p,O,M,U,m){var Y=Math.sqrt((R-Q)*(R-Q)+(p-S)*(p-S)),x=Math.sqrt((R-l)*(R-l)+(p-D)*(p-D))+Math.sqrt((l-B)*(l-B)+(D-y)*(D-y))+Math.sqrt((B-Q)*(B-Q)+(y-S)*(y-S)),T=(Y+x)/2;
if(T<=O){M.push("C");U.push(B,y,l,D,R,p)}else{var $=0,L=0,s=0,j=0,Z=0,e=0,J=0,N=0,E=0,h=0,o=0,V=0,n=0;
L=(Q+B)/2;s=(S+y)/2;j=(B+l)/2;Z=(y+D)/2;e=(l+R)/2;J=(D+p)/2;N=(L+j)/2;E=(s+Z)/2;h=(j+e)/2;o=(Z+J)/2;
V=(N+h)/2;n=(E+o)/2;k.i.QW(Q,S,L,s,N,E,V,n,O,M,U,m+1);k.i.QW(V,n,h,o,e,J,R,p,O,M,U,m+1)}};k.i.Ic=function(Q,S){var B=[],y=Q.length;
for(var l=0;l<y;l+=2){var D=Q[l],R=Q[l+1],p=Q[(l+2)%y],O=Q[(l+3)%y];if(O<R){var M=R;R=O;O=M}if(R<S&&S<O){var U=(S-R)/(O-R);
B.push(D+U*(p-D))}}B.sort(function(m,Y){return m-Y});return B};k.i.mmM=function(Q,S){var B=S.slice(0),y=Q.length/2,l=[],D=[];
for(var R=0;R<y;R++){var p=(R+1)%y,O=Q[2*R]-Q[2*p],M=Q[2*R+1]-Q[2*p+1];D[R]=Math.sqrt(O*O+M*M)}for(var R=0;
R<y;R++){var U=(R-1+y)%y,p=(R+1)%y,m=S[R],Y=m+S[U],x=m+S[p];if(Y!=0)B[R]=Math.min(B[R],D[U]*m/Y);if(x!=0)B[R]=Math.min(B[R],D[R]*m/x)}for(var R=0;
R<y;R++){var p=(R+1)%y,T=(R+2)%y,$=B[R],L=B[p],s=Q[2*R],j=Q[2*R+1],Z=Q[2*p],e=Q[2*p+1],J=Q[2*T],N=Q[2*T+1],E=D[R],h=D[p],o=k.i.Id(s,j,Z,e,J,N,$,L,E,h);
l.push(o[0],o[1],o[0],o[1],o[2],o[3]);l.push(o[2],o[3],o[4],o[5],o[6],o[7])}return l};k.i.Id=function(Q,S,B,y,l,D,R,p,O,M){if(O==null)O=Math.sqrt((B-Q)*(B-Q)+(y-S)*(y-S));
if(M==null)M=Math.sqrt((l-B)*(l-B)+(D-y)*(D-y));var U=.553,m=0,Y=0,x=0,T=0;if(O!=0){m=(B-Q)/O;Y=(y-S)/O}if(M!=0){x=(l-B)/M;
T=(D-y)/M}var $=Q+R*m,L=S+R*Y,s=B-p*m,j=y-p*Y;return[$,L,s,j,B-p*m*(1-U),y-p*Y*(1-U),B+p*x*(1-U),y+p*T*(1-U),B+p*x,y+p*T]};
k.wu=function(){};k.wu.TF=function(Q,S,B,y,l){var D=B.r,R=B.O,p=D*R,O=new Int32Array(p),M=0;for(var U=0;
U<p;U++)if(S[U]!=0){O[U]=M;M++}else if(Q[(U<<2)+3]<200){O[U]=-2}else O[U]=-1;if(M==0)return;var m=new k.iq(M,M),Y=new Float64Array(3*M),x=1/255,T=[-D,-1,1,D],$=[],L=[];
for(var s=0;s<R;s++)for(var j=0;j<D;j++){var Z=s*D+j,e=Z<<2,U=O[Z],J=U*3,N=0,E=0,h=0;if(U==-1||U==-2)continue;
for(var o=0;o<4;o++){if(o==2){E=h;$[h]=0;L[h]=U;h++}var V=Z+T[o],n=V<<2,t=O[V];if(o==0&&s==0||o==1&&j==0||o==2&&j==D-1||o==3&&s==R-1||t==-2)continue;
N++;if(t==-1){Y[J+0]+=Q[n+0];Y[J+1]+=Q[n+1];Y[J+2]+=Q[n+2]}else{$[h]=-1;L[h]=t;h++;if(S[Z]==S[V]){Y[J+0]+=Q[e+0]-Q[n+0];
Y[J+1]+=Q[e+1]-Q[n+1];Y[J+2]+=Q[e+2]-Q[n+2]}}}$[E]=N;m.v$($,L,h)}var q=new Float64Array(3*M);for(var U=0;
U<p;U++)if(O[U]!=-1){var u=U<<2,g=O[U],r=g*3;q[r]=Q[u+0];q[r+1]=Q[u+1];q[r+2]=Q[u+2]}m.mNY(q,Y,y,l);
for(var U=0;U<p;U++){var g=O[U],f=g*3,u=U<<2;if(g==-1||Q[u+3]!=255)continue;Q[u+0]=~~(.5+Math.max(0,Math.min(255,q[f+0])));
Q[u+1]=~~(.5+Math.max(0,Math.min(255,q[f+1])));Q[u+2]=~~(.5+Math.max(0,Math.min(255,q[f+2])))}};k.rect={};
k.rect.Ie=function(Q,S){var B=[Q],y=[];for(var l=0;l<S.length;l++){var D=S[l],R=!1;for(var p=l+1;p<S.length;
p++){var O=S[p];if(O[0]<=D[0]&&O[1]<=D[1]&&D[2]<=O[2]&&D[3]<=O[3]){R=!0;break}}if(!R)y.push(D)}S=y;for(var l=0;
l<S.length;l++){var D=S[l];for(var p=0;p<B.length;p++){var O=B[p],M=Math.max(D[0],O[0]),U=Math.min(D[2],O[2]),m=Math.max(D[1],O[1]),Y=Math.min(D[3],O[3]);
if(M<U&&m<Y){var x=[];if(O[1]<D[1]){var T=O.slice(0);T[3]=D[1];x.push(T)}if(O[0]<D[0]){var $=O.slice(0);
$[1]=m;$[2]=D[0];x.push($)}if(D[2]<O[2]){var L=O.slice(0);L[1]=m;L[0]=D[2];x.push(L)}if(D[3]<O[3]){var s=[M,Y,U,O[3]];
x.push(s)}if(x.length!=0){B[p]=x[0];for(var j=1;j<x.length;j++)B.push(x[j])}}}B.push(D);B=k.rect.mmh(B)}B.sort(function(D,O){return D[1]!=O[1]?D[1]-O[1]:D[0]-O[0]});
return B};k.rect.mmh=function(Q){Q=Q.slice(0);for(var S=0;S<Q.length;S++){var B=Q[S],y=null;if(B[4]!=null)continue;
for(var l=0;l<Q.length;l++){var D=Q[l];if(S==l||D[4]!=null)continue;var R=B[0]==D[0],p=B[1]==D[1],O=B[2]==D[2],M=B[3]==D[3];
if(p&&M&&(B[2]==D[0]||B[0]==D[2])){y=[Math.min(B[0],D[0]),B[1],Math.max(B[2],D[2]),B[3]]}if(R&&O&&(B[3]==D[1]||B[1]==D[3])){y=[B[0],Math.min(B[1],D[1]),B[2],Math.max(B[3],D[3])]}if(y){Q[S]=y;
Q.splice(l,1);break}}if(y){S--}}return Q};k.rect.w_=function(Q){var S=new w;for(var B=0;B<Q.length;B++)S=S.wM(Q[B]);
return S};k.rect.mmX=function(Q,S){var B=k.rect.w_,y=new UnionFind(Q.length),E=1e3,h=1e3;for(var l=0;
l<Q.length;l++)for(var D=l+1;D<Q.length;D++){if(!S)continue;var R=Q[l],p=Q[D],Y=1e9,x=1e9;if(R.nc(p)){y.link(l,D);
continue}var O=R.x+R.r,M=R.y+R.O,U=p.x+p.r,m=p.y+p.O;if((O<p.x||U<R.x)&&(M<p.y||m<R.y))continue;if(!(M<p.y||m<R.y))Y=Math.min(Math.abs(O-p.x),Math.abs(R.x-U));
if(!(O<p.x||U<R.x))x=Math.min(Math.abs(M-p.y),Math.abs(R.y-m));var T=Math.min(Y,x),$=Math.min(R.r,R.O,p.r,p.O);
if(T<.3*$)y.link(l,D)}var L=[],s={};for(var l=0;l<Q.length;l++){var j=y.find(l),Z=Q[l];if(s[j]==null){s[j]=L.length;
L.push([])}L[s[j]].push(Z)}var e=[],J=[];for(var l=0;l<L.length;l++){e.push(B(L[l]));var N=B(L[l]);N.sA=l;
J.push(N)}J.sort(function(I,d){return Math.max(d.O,d.r)-Math.max(I.O,I.r)});var o=new NETXUS.RectanglePacker(E,h);
while(!0){var V=!1;o.reset(E,h);for(var l=0;l<J.length;l++){var n=o.findCoords(J[l].r,J[l].O);if(n){J[l].x=n.x;
J[l].y=n.y}else{E=Math.floor(E*1.1);h=Math.floor(h*1.1);V=!0;break}}if(V)continue;break}for(var l=0;
l<L.length;l++){var t=J[l],q=t.sA,u=e[q],g=L[q],r=t.x-u.x,f=t.y-u.y;for(var D=0;D<g.length;D++)g[D].offset(r,f)}};
k.hs=function(){};k.hs.RW=Math.floor(16*window.devicePixelRatio);k.hs.Qt={};k.hs.nR=0;k.hs.TY=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
k.hs.mMp=["px","in","cm","mm","%"];k.hs.Iy=function(Q,S,B){var y=S.LY,l=[1,y,y/2.54,y/25.4,S.r/100][B];
return Q*l};k.hs.vH=function(Q,S,B,y,l){var D=B.Ke.vP,R=[1,S,S/2.54,S/25.4,y/100][D],p=[2,3,2,1,2][D];
Q=Q/R;var O=Math.round(Q),M=D==0&&Math.abs(Q-O)<1e-6?O+"":Q.toFixed(p);if(l)M+=" "+k.hs.mMp[D];return M};
k.hs.mML=function(Q,S,B,y){var l=B.Ke.vP,D=[1,S,S/2.54,S/25.4,y/100][l];Q=parseFloat(Q)*D;return Q};
k.hs.mMe=function(Q,S){var B=Math.round(k.hs.RW*.5);k.hs.nR=B;var y=document.createElement("canvas");
y.width=y.height=B;var l=y.getContext("2d");l.font=B*1.5+"px monospace";var D="0 1 2 3 4 5 6 7 8 9 -".split(" ");
for(var R=0;R<D.length;R++){l.fillStyle="#"+k.eb(S);l.fillRect(0,0,B,B);l.fillStyle="#"+k.eb(Q);l.fillText(D[R],0,B);
k.hs.Qt[D[R]]=l.getImageData(0,0,B,B).data}};k.hs.mMC=function(Q,S,B){var y=0,l=0,D=4*k.hs.RW;for(var R=9;
R>=0;R--){var p=Math.pow(10,R);if(5*p*Q<=D){y=5*p;l=10;break}if(2*p*Q<=D){y=2*p;l=4;break}if(1*p*Q<=D){y=1*p;
l=10;break}}if(y==0){y=1;l=10}var O=Math.ceil(y*Q),M=k.Q(O*k.hs.RW*4);k.St(M,4278190080|B);for(var R=0;
R<k.hs.RW;R++)k.hs.Qj(M,4*R*O,S);for(var R=0;R<O;R++)k.hs.Qj(M,4*((k.hs.RW-1)*O+R),S);if(y==2)l=2;if(y==5)l=5;
if(y>1||y==1&&O>20)for(var R=1;R<l;R++)k.hs.mMD(M,R*(O/l),O,(R&1)==1?.8:.7,S);return{Pb:M,step:y}};k.hs.mMD=function(Q,S,B,y,l){var S=Math.round(S);
for(var D=Math.round(k.hs.RW*y);D<k.hs.RW-1;D++)k.hs.Qj(Q,4*(D*B+S),l)};k.hs.Qj=function(Q,S,B){Q[S+0]=B>>16&255;
Q[S+1]=B>>8&255;Q[S+2]=B&255};k.hs.mMO=function(Q,S,B){var y=S&255,l=S>>8&255,D=S>>16&255,s,j,Z,e;S=Math.round(y*.6)<<16|Math.round(l*.6)<<8|Math.round(D*.6);
k.hs.mMe(Math.round(y*.8)<<16|Math.round(l*.8)<<8|Math.round(D*.8),B);var R=this.mMC(Q.C,S,B),p=Q.FD(0,0),O=Q.FD(Q.S.r,Q.S.O),M=Math.floor(p.x/R.step)*R.step,U=Math.ceil(O.x/R.step)*R.step,m=Math.floor(p.y/R.step)*R.step,Y=Math.ceil(O.y/R.step)*R.step,x=Q.tL(M,m),T=Q.tL(U,m),$=R.step*Q.C,L=Math.ceil($);
s=Q.aK.data;j=new w(0,0,Q.S.r,k.hs.RW);Z=new w(0,0,L,k.hs.RW);e=new w(0,Math.round(k.hs.RW*.08),k.hs.nR,k.hs.nR);
for(var J=0;J<(U-M)/R.step;J++){Z.x=Math.round(x.x+J*$);k.oD(R.Pb,Z,s,j,Z);var N=(M+J*R.step).toString(10);
for(var E=0;E<N.length;E++){e.x=Z.x+3+E*Math.round(k.hs.nR*.8);var h=k.hs.Qt[N[E]];k.oD(h,e,s,j,e)}}var o=new Uint32Array(R.Pb.buffer),V=new Uint32Array(R.Pb.length);
for(var n=0;n<L;n++)for(var t=0;t<k.hs.RW;t++){V[n*k.hs.RW+t]=o[t*L+n]}R.Pb=new Uint8Array(V.buffer);
s=Q.Ln.data;j=new w(0,0,k.hs.RW,Q.S.O);Z=new w(0,0,k.hs.RW,L);e=new w(Math.round(k.hs.RW*.2),0,k.hs.nR,k.hs.nR);
for(var J=0;J<(Y-m)/R.step;J++){Z.y=Math.round(x.y+J*$);k.oD(R.Pb,Z,s,j,Z);var N=Math.abs(m+J*R.step).toString(10);
for(var E=0;E<N.length;E++){e.y=Z.y+3+E*Math.round(k.hs.nR*1.15);var h=k.hs.Qt[N[E]];k.oD(h,e,s,j,e)}}};
k.scale={};k.scale.MJ=document.createElement("canvas");k.scale.Gb=k.scale.MJ.getContext("2d");k.scale.mMK=document.createElement("canvas");
k.scale.myM=k.scale.mMK.getContext("2d");k.scale.vY=function(Q,S,B){var y=k.scale.MJ,l=k.scale.Gb;y.width=S;
y.height=B;var D=l.createImageData(S,B),R=Q.length;for(var p=0;p<R;p++)D.data[p]=Q[p];l.putImageData(D,0,0);
return l.createPattern(y,"repeat")};k.scale.myp=function(Q,S,B,y,l,D,R,p){var O=k.scale.IJ(Q,B,y,l,D,R,p);
k.Cd(O.data,S)};k.scale.mpy=function(Q,S,B,y,l,D,R,p){var O=k.scale.IJ(Q,B,y,l,D,R,p);k.MK(O.data,S)};
k.scale.IJ=function(Q,S,B,y,l,D,R){var p=k.scale.MJ,O=k.scale.Gb;p.width=S;p.height=B;O.rect(0,0,S,B);
O.translate(D,R);O.scale(y,l);O.fillStyle=Q;O.fill();return O.getImageData(0,0,S,B)};k.scale.ie=function(Q,S,B,y,l,D,R){if(R<1)k.scale.mpw(Q,S,B,y,l,D,Math.round(1/R));
else k.scale.mph(Q,S,B,y,l,D,R)};k.scale.LR=function(Q,S,B,y,l,D,R,p){if(p)p=p.nG(new w(0,0,S,B));Q=new Uint32Array(Q.buffer);
y=new Uint32Array(y.buffer);if(R<1)k.scale.mpB(Q,S,B,y,l,D,Math.round(1/R),p);else k.scale.mpO(Q,S,B,y,l,D,R)};
k.scale.mph=function(Q,S,B,y,l,D,R){for(var p=0;p<B;p++)for(var O=0;O<S;O++){var M=Q[p*S+O],U=Math.min(R,l-O*R),m=Math.min(R,D-p*R);
for(var Y=0;Y<m;Y++)for(var x=0;x<U;x++)y[(R*p+Y)*l+R*O+x]=M}};k.scale.mpw=function(Q,S,B,y,l,D,R){for(var p=0;
p<D;p++)for(var O=0;O<l;O++){var M=0,U=Math.min(R,S-O*R),m=Math.min(R,B-p*R);for(var Y=0;Y<m;Y++)for(var x=0;
x<U;x++)M+=Q[(R*p+Y)*S+(R*O+x)];y[p*l+O]=Math.round(M/(U*m))}};k.scale.mpO=function(Q,S,B,y,l,D,R){for(var p=0;
p<B;p++)for(var O=0;O<S;O++){var M=Q[p*S+O],U=Math.min(R,l-O*R),m=Math.min(R,D-p*R);for(var Y=0;Y<m;
Y++)for(var x=0;x<U;x++)y[(R*p+Y)*l+R*O+x]=M}};k.scale.mpB=function(Q,S,B,y,l,D,R,p){var O=0,M=l,U=0,m=D;
if(p){O=Math.floor(p.x/R);M=Math.ceil((p.x+p.r)/R);U=Math.floor(p.y/R);m=Math.ceil((p.y+p.O)/R)}for(var Y=U;
Y<m;Y++)for(var x=O;x<M;x++){var T=0,$=0,L=0,s=0,j=Math.min(R,S-x*R),Z=Math.min(R,B-Y*R);for(var e=0;
e<Z;e++)for(var J=0;J<j;J++){var N=Q[(R*Y+e)*S+R*x+J],E=N>>>24;T+=E;$+=E*(N>>>16&255);L+=E*(N>>>8&255);
s+=E*(N&255)}if(T!=0){var h=1/T;y[Y*l+x]=T/(j*Z)<<24|$*h<<16|L*h<<8|s*h}else y[Y*l+x]=0}};k.m={};k.m.mrL=function(Q,S,B){var y=128,l=0,D=B.r,R=B.O;
for(var p=0;p<R;p++)for(var O=0;O<D;O++){if(Q[l]>=y&&(O==0||Q[l-1]<y||(O==D-1||Q[l+1]<y)||(p==0||Q[l-D]<y)||(p==R-1||Q[l+D]<y)))S[l]=255;
l++}};k.m.mrd=function(Q,S,B,y,l){var D=B.r,R=B.O,p=0,O=0,M=D,U=R;if(l){p=l.x-B.x;O=l.y-B.y;M=p+l.r;
U=O+l.O}var m=new Uint8Array(S.buffer),Y=new Uint32Array(S.buffer);for(var x=O;x<U;x++){for(var T=p;
T<M;T++){var $=x*D+T;if(Q[$]>>7==1&&(x==0||Q[$-D]>>7==0||T==0||Q[$-1]>>7==0||T==D-1||Q[$+1]>>7==0||x==R-1||Q[$+D]>>7==0)){Y[$]=4278190080|((T+x&4)>>>2)*y}}}};
k.m.mri=function(Q,S,B,y,l,D,R){var p=B.r,O=B.O,M=0,U=0,m=p,Y=O;if(l){M=l.x-B.x;U=l.y-B.y;m=M+l.r;Y=U+l.O}var x=new Uint8Array(S.buffer),T=new Uint32Array(S.buffer);
for(var $=U;$<Y;$++){for(var L=M;L<m;L++){var s=$*p+L,j=Q[s];if(D==1)T[s]=255-j>>>1<<24|R&y;else T[s]=255<<24|(j<<16|j<<8|j)&y}}};
k.fZ={};k.fZ.QI=function(Q,S,B){var y,l;if(B=="front"){y=Q.rect.clone();l=k.fZ.mrk}if(B=="union"){y=Q.rect.wM(S.rect);
l=k.fZ.wM}if(B=="difference"){y=S.rect.clone();l=k.fZ.mrA}if(B=="intersection"){y=Q.rect.nG(S.rect);
l=k.fZ.nG}if(B=="xor"){y=Q.rect.wM(S.rect);l=k.fZ.mrY}if(y.Kq())return null;var D=k.Q(y.Z());k.ht(S.channel,S.rect,D,y);
var R=k.Q(y.Z());k.ht(Q.channel,Q.rect,R,y);l(R,D,D);var p=k.p$(D,y);if(p.Kq())return null;if(!p.UH(y)){var O=k.Q(p.Z());
k.ht(D,y,O,p);D=O;y=p}return{channel:D,rect:y}};k.fZ.mrk=function(Q,S,B){for(var y=0;y<Q.length;y++)B[y]=Q[y]};
k.fZ.wM=function(Q,S,B){for(var y=0;y<Q.length;y++)B[y]=Math.min(Q[y]+S[y],255)};k.fZ.mrA=function(Q,S,B){for(var y=0;
y<Q.length;y++)B[y]=Math.max(S[y]-Q[y],0)};k.fZ.nG=function(Q,S,B){var y=1/255;for(var l=0;l<Q.length;
l++)B[l]=Q[l]*S[l]*y};k.fZ.mrY=function(Q,S,B){var y=1/255;for(var l=0;l<Q.length;l++)B[l]=Math.min(Q[l]+S[l],255)-Q[l]*S[l]*y};
k.iq=function(Q,S){this.l=[];this.T_=[0];this.vo=[];this.jA=[];this.LB=[];this.rows=Q;this.cols=S;this.mRb=!1};
k.iq.prototype.v$=function(Q,S,B){var y=this.T_.length-1;for(var l=0;l<B;l++){var D=Q[l],R=S[l];if(R==y){this.jA.push(D);
this.LB.push(D==0?0:1/D)}else{this.l.push(D);this.vo.push(R*3)}}this.T_.push(this.l.length)};k.iq.prototype.freeze=function(){if(this.mRb)return;
this.mRb=!0;this.mQw=new Float64Array(this.l)};k.iq.prototype.myV=function(Q,S){this.freeze();var B=this.rows,y=this.mQw,l=this.T_,D=this.vo,R=this.LB;
for(var p=0;p<3500;p++){var O=0;for(var M=0;M<B;M++){var U=S[M],m=l[M],Y=l[M+1];if(Y-m==4)U-=y[m]*Q[D[m]]+y[m+1]*Q[D[m+1]]+y[m+2]*Q[D[m+2]]+y[m+3]*Q[D[m+3]];
else for(var x=m;x<Y;x++)U-=y[x]*Q[D[x]];Q[M]=R[M]*U}}};k.iq.prototype.mNY=function(Q,S,B,y){var l=Date.now(),D=1.96;
this.freeze();if(B==null)B=5e-5;if(y==null)y=1e9;var R=1-D,p=this.rows,O=this.mQw,M=this.T_,U=this.vo,m=this.LB;
while(!0){var Y=0;for(var x=0;x<p;x++){var T=x*3,$=S[T],L=S[T+1],s=S[T+2],j=M[x],Z=M[x+1];if(Z-j==4){var e=O[j],J=O[j+1],N=O[j+2],E=O[j+3],h=U[j],o=U[j+1],V=U[j+2],n=U[j+3];
$-=e*Q[h+0]+J*Q[o+0]+N*Q[V+0]+E*Q[n+0];L-=e*Q[h+1]+J*Q[o+1]+N*Q[V+1]+E*Q[n+1];s-=e*Q[h+2]+J*Q[o+2]+N*Q[V+2]+E*Q[n+2]}else for(var t=j;
t<Z;t++){var e=O[t],h=U[t];$-=e*Q[h+0];L-=e*Q[h+1];s-=e*Q[h+2]}var q=m[x]*D,u=Q[T+0]*R+$*q,g=Q[T+1]*R+L*q,r=Q[T+2]*R+s*q,f=u-Q[T+0],I=g-Q[T+1],d=r-Q[T+2];
Y+=.4*f*f+.5*I*I+.1*d*d;Q[T+0]=u;Q[T+1]=g;Q[T+2]=r}if(Y/p<B||Date.now()>l+y)break}};k.$T={};k.$T.nd=function(Q,S,B){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:Q},Vrtc:{t:"doub",v:S},Cnty:{t:"bool",v:B}}}};
k.$T.V=function(Q,S){for(var B=0;B<Q.length;B++){var y=Q[B].v,l=S.Dv(new v(y.Hrzn.v,y.Vrtc.v));y.Hrzn.v=Math.round(l.x);
y.Vrtc.v=Math.round(l.y)}};k.$T.rz={};k.$T.rz.vI=function(Q,S){var B=Q.length;for(var y=0;y<B;y++){var l=0,D=Number.NEGATIVE_INFINITY;
for(var R=y;R<B;R++)if(Math.abs(Q[R][y])>D){l=R;D=Math.abs(Q[R][y])}k.$T.rz.mRw(Q,y,l);for(var R=y+1;
R<B;R++){if(Q[y][y]==0)return 1;var p=Q[R][y]/Q[y][y];for(var O=y;O<B+1;O++)Q[R][O]-=Q[y][O]*p}}for(var R=B-1;
R>=0;R--){if(Q[R][R]==0)return 1;var M=Q[R][B]/Q[R][R];S[R]=M;for(var O=R-1;O>=0;O--){Q[O][B]-=Q[O][R]*M;
Q[O][R]=0}}return 0};k.$T.rz.mRL=function(Q,S){var B=[];for(var y=0;y<Q;y++){B.push([]);for(var l=0;
l<S;l++)B[y].push(0)}return B};k.$T.rz.myu=function(Q){for(var S=0;S<Q.length;S++)console.log(JSON.stringify(Q[S]))};
k.$T.rz.mRw=function(Q,S,B){var y=Q[S];Q[S]=Q[B];Q[B]=y};k.$T.IV=function(Q,S,B){var y=Q.length-1,l=k.$T.rz.mRL(y+1,y+2);
for(var D=1;D<y;D++){l[D][D-1]=1/(Q[D]-Q[D-1]);l[D][D]=2*(1/(Q[D]-Q[D-1])+1/(Q[D+1]-Q[D]));l[D][D+1]=1/(Q[D+1]-Q[D]);
l[D][y+1]=3*((S[D]-S[D-1])/((Q[D]-Q[D-1])*(Q[D]-Q[D-1]))+(S[D+1]-S[D])/((Q[D+1]-Q[D])*(Q[D+1]-Q[D])))}l[0][0]=2/(Q[1]-Q[0]);
l[0][1]=1/(Q[1]-Q[0]);l[0][y+1]=3*(S[1]-S[0])/((Q[1]-Q[0])*(Q[1]-Q[0]));l[y][y-1]=1/(Q[y]-Q[y-1]);l[y][y]=2/(Q[y]-Q[y-1]);
l[y][y+1]=3*(S[y]-S[y-1])/((Q[y]-Q[y-1])*(Q[y]-Q[y-1]));k.$T.rz.vI(l,B)};k.$T.mRA=function(Q,S,B,y){if(Q<=S[0])return B[0];
if(Q>=S[S.length-1])return B[S.length-1];var l=1;while(S[l]<Q)l++;var D=S[l],R=S[l-1],p=B[l],O=B[l-1],M=(Q-R)/(D-R),U=y[l-1]*(D-R)-(p-O),m=-y[l]*(D-R)+(p-O),Y=(1-M)*O+M*p+M*(1-M)*(U*(1-M)+m*M);
return Y};k.$T.Ih=function(Q,S,B,y){var l={Dm:[Q[0]],Or:[S[0]],Ta:[]};y[0]=l;for(var D=1;D<Q.length-1;
D++){l.Dm.push(Q[D]);l.Or.push(S[D]);if(B[D]==!1){k.$T.IV(l.Dm,l.Or,l.Ta);l={Dm:[Q[D]],Or:[S[D]],Ta:[]}}y[D]=l}l.Dm.push(Q[D]);
l.Or.push(S[D]);k.$T.IV(l.Dm,l.Or,l.Ta);y[D]=l};k.$T.IC=function(Q,S,B,y){if(Q<=S[0])return B[0];if(Q>=S[S.length-1])return B[S.length-1];
var l=1;while(S[l]<Q)l++;var D=y[l-1];return k.$T.mRA(Q,D.Dm,D.Or,D.Ta)};k.$T.Iu=function(Q){var S={Dm:[],Or:[],vL:[]};
for(var B=0;B<Q.length;B++){S.Dm[B]=Q[B].v.Hrzn.v;S.Or[B]=Q[B].v.Vrtc.v;S.vL[B]=Q[B].v.Cnty?Q[B].v.Cnty.v:!0}return S};
k.$T.i$=function(Q,S,B){var y=0,l=255;if(B){y=-1e9;l=1e9}var D=k.$T.Iu(Q),R=[];k.$T.Ih(D.Dm,D.Or,D.vL,R);
var p=[];for(var O=0;O<S;O++)p[O]=1/255*Math.max(y,Math.min(l,k.$T.IC(O*(255/(S-1)),D.Dm,D.Or,R)));return p};
k.$T.mQq=function(Q,S,B){var y=Math.round(Q.length/20),l=S-Q.length,D=B?(Q[y]-Q[0])/y:0,R=B?Q[0]-l*D:Q[Q.length-1],p=[];
for(var O=0;O<l;O++)p.push(R+O*D);return B?p.concat(Q):Q.concat(p)};k.$T.LL=function(Q,S,B){var y=k.$T.Iu(Q),l=[];
k.$T.Ih(y.Dm,y.Or,y.vL,l);var D=new Uint8Array(S),R=S/256;for(var p=0;p<S;p++)D[p]=Math.max(0,Math.min(S-1,k.$T.IC(p*R,y.Dm,y.Or,l)));
if(B){D[0]=0;if(D[1]>100)D[1]=.4*D[1];if(D[2]>150)D[1]=.7*D[2]}return D};k.$T.Ig=function(Q,S){var B=new Uint8Array(Q.length);
for(var y=0;y<Q.length;y++)B[y]=S[Q[y]];return B};k.$T.xs=function(Q,S,B){var y=P.P("canvas","");y.width=S;
y.height=B;var l=y.getContext("2d"),D=k.$T.LL(Q,256);l.scale(S/255,B/255);l.fillStyle="#fff";l.fillRect(0,0,255,255);
l.fillStyle="#333";l.beginPath();l.moveTo(0,255);for(var R=0;R<D.length;R++)l.lineTo(R,255-D[R]);l.lineTo(255,255);
l.closePath();l.fill();return y.toDataURL()};k.style={};k.style.stroke=function(Q,S,B,y){var l=B.r,D=B.O,R=new Float64Array(l*D);
k.style.LJ(Q,R,l,D);k.style.QA(S,B,R,B,y)};k.style.QA=function(Q,S,B,y,l){var D=S.nG(y),R=D.r,p=D.O;
l+=.5;var O=D.x-S.x,M=D.y-S.y,U=S.r,m=D.x-y.x,Y=D.y-y.y,x=y.r;for(var T=0;T<p;T++){var $=(T+Y)*x+m,L=(T+M)*U+O;
for(var s=0;s<R;s++){var j=Math.max(0,Math.min(1,l-B[$+s]));Q[L+s]=Math.round(j*255)}}};k.style.myF=function(Q,S,B,y){for(var l=0;
l<B;l++)for(var D=0;D<S;D++){var R=l*S+D,p=0,O=0,M=Q[R];if(D==0||l==0){p=Q[R+1]-M;O=Q[R+S]-M}else if(D==B-1||l==S-1){p=M-Q[R-1];
O=M-Q[R-S]}else{p=Q[R+1]-Q[R-1];O=Q[R+S]-Q[R-S]}if(p!=0||O!=0){var U=1/Math.sqrt(p*p+O*O);p*=U;O*=U}y[R+R]=p;
y[R+R+1]=O}};k.style.LJ=function(Q,S,B,y){var l=k.style.LM(Q,B,y);for(var D=0;D<y;D++)for(var R=0;R<B;
R++){var p=D*B+R,O=l[p*2],M=l[p*2+1],U=(D+M)*B+R+O;if(O==0&&M==0){S[p]=0;continue}var m=Math.sqrt(O*O+M*M),Y=Q[U]*(1/255),x=1/m,T=Math.abs(O)*x,$=Math.abs(M)*x;
if($>T){var L=$;$=T;T=L}S[p]=m+k.style.mQJ(T,$,Y)}};k.style.LM=function(Q,S,B){var y=!0;for(var l=0;
l<Q.length;l++)y=y&&(Q[l]==0||Q[l]==255);var D=new Int16Array(S*B*2);if(y)k.style.mQi(Q,D,S,B);else k.style.mQT(Q,D,S,B);
return D};k.style.mQJ=function(Q,S,B){return(.5-B)*Q};k.style.mQT=function(Q,S,B,y){var l=B*y;for(var D=0;
D<l;D++)if(Q[D]==0){S[D*2]=16383;S[D*2+1]=16383}for(var R=1;R<=y-1;R++){var D=R*B;for(var p=0;p<=B-1;
p++)k.style.Is(S,Q,B,D+p<<1,-1);for(var p=1;p<=B-1;p++)k.style.wG(S,Q,B,D+p<<1,-1);for(var p=B-2;p>=0;
p--)k.style.wG(S,Q,B,D+p<<1,1)}for(var R=y-2;R>=0;R--){var D=R*B;for(var p=0;p<=B-1;p++)k.style.Is(S,Q,B,D+p<<1,1);
for(var p=1;p<=B-1;p++)k.style.wG(S,Q,B,D+p<<1,-1);for(var p=B-2;p>=0;p--)k.style.wG(S,Q,B,D+p<<1,1)}};
k.style.wG=function(Q,S,B,y,l){var D=(y>>>1)+l<<1,R=Q[y],p=Q[y+1],O=Q[D]+l,M=Q[D+1],U=O*O+M*M,m=R*R+p*p;
if(M!=16383&&(R==16383||Math.sqrt(U)+(.5-S[(y>>>1)+M*B+O]*(1/255))<Math.sqrt(m)+(.5-S[(y>>>1)+p*B+R]*(1/255)))){Q[y]=O;
Q[y+1]=M}};k.style.Is=function(Q,S,B,y,l){var D=(y>>>1)+l*B<<1,R=Q[y],p=Q[y+1],O=Q[D],M=Q[D+1]+l,U=O*O+M*M,m=R*R+p*p;
if(O!=16383&&(R==16383||Math.sqrt(U)+(.5-S[(y>>>1)+M*B+O]*(1/255))<Math.sqrt(m)+(.5-S[(y>>>1)+p*B+R]*(1/255)))){Q[y]=O;
Q[y+1]=M}};k.style.mQi=function(Q,S,B,y){var l=B*y;for(var D=0;D<l;D++)if(Q[D]==0){S[D*2]=16383;S[D*2+1]=16383}for(var R=1;
R<=y-1;R++){var D=R*B;for(var p=0;p<=B-1;p++)k.style.I$(S,Q,B,D+p<<1,-1);for(var p=1;p<=B-1;p++)k.style.ww(S,Q,B,D+p<<1,-1);
for(var p=B-2;p>=0;p--)k.style.ww(S,Q,B,D+p<<1,1)}for(var R=y-2;R>=0;R--){var D=R*B;for(var p=0;p<=B-1;
p++)k.style.I$(S,Q,B,D+p<<1,1);for(var p=1;p<=B-1;p++)k.style.ww(S,Q,B,D+p<<1,-1);for(var p=B-2;p>=0;
p--)k.style.ww(S,Q,B,D+p<<1,1)}};k.style.ww=function(Q,S,B,y,l){var D=(y>>>1)+l<<1,R=Q[y],p=Q[y+1],O=Q[D]+l,M=Q[D+1],U=O*O+M*M,m=R*R+p*p;
if(M!=16383&&(R==16383||U<m)){Q[y]=O;Q[y+1]=M}};k.style.I$=function(Q,S,B,y,l){var D=(y>>>1)+l*B<<1,R=Q[y],p=Q[y+1],O=Q[D],M=Q[D+1]+l,U=O*O+M*M,m=R*R+p*p;
if(O!=16383&&(R==16383||U<m)){Q[y]=O;Q[y+1]=M}};k.style.mya=function(Q,S,B,y,l){var D=B*y,R=(B+y+1)*1.01;
for(var p=0;p<D;p++)if(Q[p]<=l)S[p]=R;for(var O=1;O<B;O++)S[O]=Math.min(S[O],S[O-1]);for(var M=1;M<y;
M++){var p=M*B;S[p]=Math.min(S[p],Math.min(S[p-B]+1,S[p-B+1]+Math.SQRT2));for(var O=1;O<B-1;O++){var U=S[++p],m=Math.min(S[p-1]+1,Math.min(S[p-B-1]+Math.SQRT2,Math.min(S[p-B]+1,S[p-B+1]+Math.SQRT2)));
if(m<U)S[p]=m}p++;S[p]=Math.min(S[p],Math.min(S[p-1]+1,Math.min(S[p-B-1]+Math.SQRT2,S[p-B]+1)))}for(var O=B-2;
O>=0;O--)S[O+D-B]=Math.min(S[O+D-B],S[O+D-B+1]);for(var M=y-2;M>=0;M--){var p=M*B+B-1;S[p]=Math.min(S[p],Math.min(S[p+B]+1,S[p+B-1]+Math.SQRT2));
for(var O=B-2;O>=1;O--){var U=S[--p],m=Math.min(S[p+1]+1,Math.min(S[p+B-1]+Math.SQRT2,Math.min(S[p+B]+1,S[p+B+1]+Math.SQRT2)));
if(m<U)S[p]=m}p--;S[p]=Math.min(S[p],Math.min(S[p+1]+1,Math.min(S[p+B]+1,S[p+B+1]+Math.SQRT2)))}};k.style.myv=function(Q,S,B,y,l){var D=new Int32Array(B*y);
k.style.mQk(Q,D,B,y,l);k.style.mQH(D,S,B,y)};k.style.mQk=function(Q,S,B,y,l){var D=new Int32Array(y);
for(var R=0;R<B;R++){var p=B+y;for(var O=y-1;O>=0;O--){if(Q[O*B+R]>l)p=0;else p++;D[O]=p}p=B+y;for(var O=0;
O<y;O++){if(Q[O*B+R]>l)p=0;else p++;S[O*B+R]=p<D[O]?-p:D[O]}}};k.style.mQH=function(Q,S,B,y){var l=(B+y)*(B+y),D=new Float64Array(B),R=new Uint16Array(B);
for(var p=0;p<y;p++){var O=p*B,M=0;R[0]=0;D[0]=-l;D[1]=+l;for(var U=1;U<B;U++){var m=Q[U+O]*Q[U+O]+U*U,Y=(m-(Q[R[M]+O]*Q[R[M]+O]+R[M]*R[M]))/(2*U-2*R[M]);
while(Y<=D[M]){M--;Y=(m-(Q[R[M]+O]*Q[R[M]+O]+R[M]*R[M]))/(2*U-2*R[M])}M++;R[M]=U;D[M]=Y;D[M+1]=l}M=0;
for(var U=0;U<B;U++){while(D[M+1]<U)M++;var x=R[M]-U,T=Q[R[M]+O],$=p*B+U<<1;S[$]=x;S[$+1]=T}}};k.style.mLI=function(Q,S,B){if(B)for(var y=0;
y<Q.length;y++){var l=Q[y];if(l>0)Q[y]=Math.max(0,Math.min(255,l+S*2*(k.style.oi(y)-128)))}else for(var y=0;
y<Q.length;y++){var l=Q[y];if(l>0)Q[y]=Math.max(0,Math.min(255,l+Math.min(l*3,S*2*(k.style.oi(y)-128))))}};
k.style.oi=function(Q){Q=Q^61^Q>>16;Q=Q+(Q<<3);Q=Q^Q>>4;Q=Q*668265261;Q=Q^Q>>15;return Q&255};k.Fb={};
k.Fb.wd=function(Q,S,B){var y=Q.canvas,l=P._(),D=Math.floor;if(y.width!=D(S*l)||y.height!=D(B*l))P.tM(y,S,B,Q)};
k.Fb.iX=function(Q,S,B,y,l,D){k.Fb.wd(Q,S,B);if(D==null)D=!1;var R=l.channel,p=l.rect,O=!l.isEnabled;
S=Math.floor(S*P._());B=Math.floor(B*P._());if(S*B==0)return;var M=Q.createImageData(S,B),U=M.data,m=1/S,Y=1/B;
for(var x=0;x<B;x++)for(var T=0;T<S;T++){var $=x*S+T,L=$*4,s=Math.round(y.x+T*m*y.r),j=Math.round(y.y+x*Y*y.O),Z=0;
if(s<p.x||s>=p.x+p.r||j<p.y||j>=p.y+p.O)Z=l.color;else Z=R[(j-p.y)*p.r+(s-p.x)];Z=255*(255-l.FO)+Z*l.FO>>>8;
if(D)Z=170+Math.round(.4*(Z-170));U[L]=Z;U[L+1]=Z;U[L+2]=Z;U[L+3]=255}Q.putImageData(M,0,0);if(O)k.Fb.Le(Q,S,B)};
k.Fb.mLH=function(Q,S,B,y){Q.fillStyle="#eeeeee";Q.fillRect(.6*S,.6*B,S,B);Q.lineWidth=1.5;var l=.65*S,D=.95*S,R=.65*B,p=.95*B,O=.75*S,M=.85*S,U=.75*B,m=.85*B;
Q.beginPath();Q.moveTo(l,R);Q.lineTo(D,R);Q.lineTo(D,p);Q.lineTo(l,p);Q.lineTo(l,R);Q.moveTo(O,U);Q.lineTo(M,U);
Q.lineTo(M,m);Q.lineTo(O,m);Q.lineTo(O,U);Q.closePath();Q.stroke()};k.Fb.It=[];k.Fb.mcp=function(Q,S,B){var y,l,D,R=P._();
S=Math.floor(R*S);B=Math.floor(R*B);y=Math.ceil(Math.max(S,B)*.35);l=S-y;D=B-y;var p=k.Fb.It[y];if(p==null){Q.save();
Q.scale(1/R,1/R);Q.fillStyle="#eeeeee";Q.fillRect(l,D,S,B);Q.lineWidth=1;Q.strokeRect(l+2.5,D+2.5,S-l-5,B-D-5);
var O=Q.createImageData(3,3);k.St(O.data,4278190080);O.data[4*4]=O.data[4*4+1]=O.data[4*4+2]=238;Q.putImageData(O,l+1,D+1);
Q.putImageData(O,S-4,D+1);Q.putImageData(O,l+1,B-4);Q.putImageData(O,S-4,B-4);Q.restore();k.Fb.It[y]=Q.getImageData(l,D,S,B)}else Q.putImageData(p,l,D)};
k.Fb.mck=function(Q,S,B,y,l){k.Fb.wd(Q,S,B);S=Math.floor(S*P._());B=Math.floor(B*P._());var D=S/y.r;
if(S*B==0)return;Q.fillStyle="#999999";Q.setTransform(1,0,0,1,0,0);Q.clearRect(0,0,S,B);var R=k.Fb.lp;
if(R==null){R=k.Fb.lp=JSON.parse(JSON.stringify(rx.xD.default));R.strokeEnabled.v=!0}R.strokeStyleLineWidth.v.val=1*P._()/D;
Q.fillStyle="#ffffff";Q.scale(D,D);k.c.Lx(l.A,Q,0,0);k.c.Lx(l.A,Q,0,0,R)};k.Fb.wH=null;k.Fb.kc=function(Q,S,B,y,l,D,R,p){k.Fb.wd(Q,S,B);
S=Math.floor(S*P._());B=Math.floor(B*P._());if(S*B==0)return;var O=Math.max(S,B),M=k.Fb.wH;if(M==null||M.width<O||M.height<O){k.Fb.wH=M=Q.createImageData(O,O)}O=M.width;
var U=M.data,m=y.r/S,Y=y.O/B,x=1/255,T=D.x,$=D.x+D.r,L=D.y,s=D.y+D.O;for(var j=0;j<B;j++)for(var Z=0;
Z<S;Z++){var e=j*O+Z,J=e*4,N=~~(y.x+Z*m),E=~~(y.y+j*Y),h=k.xW(j,Z,2);if(N<T||N>=$||E<L||E>=s){U[J]=h;
U[J+1]=h;U[J+2]=h;U[J+3]=255}else{var o=(E-D.y)*D.r+(N-D.x)<<2,V=l[o+3]*x;U[J]=l[o+0]*V+h*(1-V);U[J+1]=l[o+1]*V+h*(1-V);
U[J+2]=l[o+2]*V+h*(1-V);U[J+3]=255}}if(p!=null)for(var j=0;j<U.length;j+=4)U[j]=U[j+1]=U[j+2]=U[j+p];
Q.putImageData(M,0,0);if(R)k.Fb.Le(Q,S,B)};k.Fb.mcZ=function(Q,S,B,y){k.Fb.wd(Q,S,B);Q.fillStyle=k.Fb.RT(y.Clr.v);
Q.fillRect(0,0,S,B);k.Fb.Lw(Q,S,B)};k.Fb.IX=null;k.Fb.mcH=function(Q,S,B,y){k.Fb.wd(Q,S,B);var l=Q.canvas.width,D=Q.canvas.height,R=k.Fb.IX;
if(R==null||R.width!=l||R.height!=D){Q.fillStyle="#ffffff";Q.fillRect(0,0,S,B);Q.fillStyle="#000000";
Q.font=""+B*.7+"px serif";Q.fillText("T",(S-B*.43)/2,B*.75);Q.fillText("T",(S-B*.43)/2,B*.75);k.Fb.IX=Q.getImageData(0,0,l,D)}else Q.putImageData(R,0,0)};
k.Fb.mdz=function(Q,S,B){k.Fb.wd(Q,S,B);Q.clearRect(0,0,S,B);Q.font=B*.7+"px serif";Q.fillText(":(",(S-B*.43)/2,B*.7)};
k.Fb.mdm=function(Q,S,B,y){k.Fb.wd(Q,S,B);var l=Nf.get(y),D=Nd.get(Nf.names[l]).substring(0,3);Q.fillStyle="#ffffff";
Q.fillRect(0,0,S,B);Q.fillStyle="#000000";Q.font=B*.55+"px sans-serif";var R=Q.measureText(D);Q.fillText(D,(S-R.width)/2,B*.67);
Q.fillRect(0,0,S,B*.1);Q.fillRect(0,B*.9,S,B*.1)};k.Fb.mdg=function(Q,S,B,y){k.Fb.wd(Q,S,B);var l=Q.canvas.width,D=Q.canvas.height,R=Q.getImageData(0,0,l,D);
k.Kg.TC(y.Grad.v,new Uint8Array(R.data.buffer),new w(0,0,l,D),[1/l,0,0,1/D],l/2,D/2,!1,0,16711680,65280);
Q.putImageData(R,0,0);k.Fb.Lw(Q,S,B)};k.Fb.mdW=function(Q,S,B,y,l){k.Fb.wd(Q,S,B);var D=Q,R=Nq.tY(y.Ptrn.v,l.add.Patt),p=R.q;
k.Fb.kc(Q,S,B,p,R.Ko,p,!1);k.Fb.Lw(D,S,B)};k.Fb.Le=function(Q,S,B){Q.strokeStyle="#bb0000";Q.lineWidth=3;
Q.beginPath();Q.moveTo(S*.15,B*.15);Q.lineTo(S*.85,B*.85);Q.moveTo(S*.85,B*.15);Q.lineTo(S*.15,B*.85);
Q.closePath();Q.stroke()};k.Fb.Le=function(Q,S,B){Q.strokeStyle="#bb0000";Q.lineWidth=3;Q.beginPath();
Q.moveTo(S*.15,B*.15);Q.lineTo(S*.85,B*.85);Q.moveTo(S*.85,B*.15);Q.lineTo(S*.15,B*.85);Q.closePath();
Q.stroke()};k.Fb.Lw=function(Q,S,B){Q.fillStyle="#eeeeee";Q.fillRect(0,B*.75,S,B*.25);Q.beginPath();
Q.moveTo(0,B*.75);Q.lineTo(S,B*.75);Q.moveTo(S*.1,B*.875);Q.lineTo(S*.9,B*.875);Q.moveTo(S*.65,B*.825);
Q.lineTo(S*.65,B*.95);Q.closePath();Q.stroke()};k.Fb.RT=function(Q){var S=k.Kg.RT(Q),B=Math.round(S.t)<<16|Math.round(S.e)<<8|Math.round(S.R);
return"#"+k.eb(B)};k.c={};k.c.nq=function(Q,S,B){var y=[],l=-1;for(var D=0;D<Q.length;D++){var R=Q[D];
if((R.type==0||R.type==3)&&R.GL!=-1)l++;if(R.type>5||R.type==0||R.type==3)continue;if(S!=null&&S.indexOf(l)==-1)continue;
if(B!=null&&B.indexOf(D)==-1)continue;y.push(R.G$.x);y.push(R.G$.y);y.push(R.v.x);y.push(R.v.y);y.push(R.RQ.x);
y.push(R.RQ.y)}return y};k.c.LE=function(Q,S,B,y){var l=0,D=-1;for(var R=0;R<S.length;R++){var p=S[R];
if((p.type==0||p.type==3)&&p.GL!=-1)D++;if(p.type>5||p.type==0||p.type==3)continue;if(B!=null&&B.indexOf(D)==-1)continue;
if(y!=null&&y.indexOf(R)==-1)continue;p.G$.yZ(Q[l],Q[l+1]);p.v.yZ(Q[l+2],Q[l+3]);p.RQ.yZ(Q[l+4],Q[l+5]);
l+=6}};k.c.ZU=function(Q,S,B,y){var l=k.c.nq(Q,B,y);k.i.V(l,S,l);k.c.LE(l,Q,B,y)};k.c.mdw=function(Q,S,B,y){var l=k.c.nq(Q,B,y);
k.W.apply(S,l);k.c.LE(l,Q,B,y)};k.c.mds=function(Q,S,B,y){if(B==null&&y==null){var l=k.c.mdX(Q,40);for(var D=0;
D<l.length;D++)Q[D]=l[D]}var R=k.c.nq(Q,B,y);k.Tx.apply(S,R,k.i.vQ(R));k.c.LE(R,Q,B,y)};k.c.mdX=function(Q,S){var B=[];
for(var y=0;y<Q.length;y++){var l=Q[y];if(l.type>5){B.push(JSON.parse(JSON.stringify(l)));continue}var D=k.c.mer(Q,y+1,l.length);
D=k.i.Tl(D,S);var R=k.c.mJC(D);y+=l.length;l=JSON.parse(JSON.stringify(l));l.length=R.length;B.push(l);
for(var p=0;p<R.length;p++)B.push(R[p])}return B};k.c.mer=function(Q,S,B){var y={F:["M"],M:[]},l=Q[S],D=Q[S+B-1];
y.M.push(l.v.x,l.v.y);for(var R=1;R<B;R++){var p=Q[S+R-1],O=Q[S+R];y.F.push("C");y.M.push(p.RQ.x,p.RQ.y,O.G$.x,O.G$.y,O.v.x,O.v.y)}y.F.push("C");
y.M.push(D.RQ.x,D.RQ.y,l.G$.x,l.G$.y,l.v.x,l.v.y);return y};k.c.mJC=function(Q){var S=[],B=Q.F,y=Q.M,l=0,D=y.length;
S.push({type:2,G$:new v(y[D-4],y[D-3]),v:new v(y[0],y[1]),RQ:new v(y[2],y[3])});for(var R=0;R<B.length-2;
R++){var p=R*6+4;S.push({type:2,G$:new v(y[p],y[p+1]),v:new v(y[p+2],y[p+3]),RQ:new v(y[p+4],y[p+5])})}return S};
k.c.mJa=function(Q){for(var S=0;S<Q.length;S++){if(Q[S].type>5)continue;var B=Q[S].length;if(!(B==4||B==6||B==8)){S+=B;
continue}for(var y=0;y<B;y++){var l=Q[S+1+y],D=Q[S+1+(y+1)%B],R=Math.min(l.v.x,D.v.x),p=Math.min(l.v.y,D.v.y),O=0,M=0;
if(l.v.x<D.v.x){O=l.v.y-p;M=O-(D.v.x-R)}else{O=D.v.y-p;M=O-(l.v.x-R)}if(Math.abs(M)<.2*O)return O}}return-1};
k.c.Fi=function(Q,S){var B=null,y=-1;for(var l=0;l<Q.length;l++){if(Q[l].type>5)continue;var D=Q[l].length;
if((Q[l].type==0||Q[l].type==3)&&Q[l].GL!=-1)y++;if(S!=null&&S.indexOf(y)==-1)continue;if(l==Q.length-1)break;
var R=Q[l].type==3;if(B==null)B=k.c.ID(Q,l+1,D,R);else{var p=k.c.ID(Q,l+1,D,R);if(S!=null||Q[l].GL==0||Q[l].GL==-1||Q[l].GL==1){var O=Math.min(B.x,p.x),M=Math.min(B.y,p.y),U=Math.max(B.x+B.r,p.x+p.r),m=Math.max(B.y+B.O,p.y+p.O);
B.x=O;B.y=M;B.r=U-O;B.O=m-M}else if(Q[l].GL==2)B=B;else if(Q[l].GL==3)B=B.nG(p)}l+=D}if(B==null||B.r<0||B.O<0)B=new w(0,0,0,0);
return B};k.c.mJU=new Float64Array(4);k.c.ID=function(Q,S,B,y){var l=k.c.mJU;l[0]=1e30;l[1]=1e30;l[2]=-1e30;
l[3]=-1e30;var D=Q[S+B-1];if(!y)k.c.IO(D.v.x,D.v.y,D.RQ.x,D.RQ.y,Q[S].G$.x,Q[S].G$.y,Q[S].v.x,Q[S].v.y,l);
for(var R=S;R<S+B-1;R++){var p=Q[R],O=Q[R+1];if(p.v.UH(p.RQ)&&O.G$.UH(O.v)){l[0]=Math.min(l[0],Math.min(p.v.x,O.v.x));
l[1]=Math.min(l[1],Math.min(p.v.y,O.v.y));l[2]=Math.max(l[2],Math.max(p.v.x,O.v.x));l[3]=Math.max(l[3],Math.max(p.v.y,O.v.y))}else k.c.IO(p.v.x,p.v.y,p.RQ.x,p.RQ.y,O.G$.x,O.G$.y,O.v.x,O.v.y,l)}return new w(l[0],l[1],l[2]-l[0],l[3]-l[1])};
k.c.IO=function(Q,S,B,y,l,D,R,p,O){var M=1e30,U=1e30,m=-1e30,Y=-1e30,x=40,T=B-Q,$=y-S,L=l-B,s=D-y,j=R-l,Z=p-D,e=1/x;
for(var J=0;J<x+1;J++){var N=J*e,E=Q+N*T,h=S+N*$,o=B+N*L,V=y+N*s,n=l+N*j,t=D+N*Z,q=E+N*(o-E),u=h+N*(V-h),g=o+N*(n-o),r=V+N*(t-V),f=q+N*(g-q),I=u+N*(r-u);
if(f<M)M=f;if(I<U)U=I;if(f>m)m=f;if(I>Y)Y=I}O[0]=Math.min(O[0],M);O[1]=Math.min(O[1],U);O[2]=Math.max(O[2],m);
O[3]=Math.max(O[3],Y)};k.c.IB=function(Q,S){var B=Q.length-3,y=S%B,l=Math.floor(y);if(S<0||l>=B)return null;
var D=Q[3+l],R=Q[3+(l+1)%B],p=D.v,O=D.RQ,M=R.G$,U=R.v,m=y-l,Y=1-m,x=Y*Y*Y*p.x+3*Y*Y*m*O.x+3*Y*m*m*M.x+m*m*m*U.x,T=Y*Y*Y*p.y+3*Y*Y*m*O.y+3*Y*m*m*M.y+m*m*m*U.y;
return new v(x,T)};k.c.Ij=function(Q){var S=2,B=k.c.Tm(Q),y=!1,l=!1;for(var D=2;D<Q.length;D++){var R=Q[D].GL;
if(R!=null){if(R==2||R==0)y=!0;if(R==-1)l=!0}}if(l){var p=k.i.vn(Q);return{wL:Typr.U.pathToSVG({crds:p.M,cmds:p.F},S),gb:y?1:0}}if(y&&Q.length<5e3&&B>1)Q=k.c.LX(Q);
var p=k.i.vn(Q);return{wL:Typr.U.pathToSVG({crds:p.M,cmds:p.F},S),gb:y?1:0}};k.c.LX=function(Q){k.c.kg();
var S,B=k.c.Lb(Q),y=[];for(var l=0;l<B.length;l++){var D=B[l][0],R=B[l][1];if(Math.abs(D.area)<1e-5)y.push(D);
else if(S==null)S=D;else{S=S[R](D);S.remove()}}if(S==null)S=new paper.CompoundPath(y);else{if(S.segments)S=new paper.CompoundPath(S);
for(var l=0;l<y.length;l++){S.children.push(y[l])}}var p=Q.slice(0,2);p=p.concat(k.c.Ik(S));if(p[2])p[2].GL=1;
for(var l=3;l<p.length;l++)if(p[l].GL!=null)p[l].GL=-1;return p};k.c.kg=function(){if(k.c.mhF==null){var Q=P.P("canvas");
paper.setup(Q);k.c.mhF=!0}};k.c.mJn=function(Q,S){k.c.kg();var B=[],y=k.c.Lb(Q),l=new paper.Path.Rectangle(new paper.Rectangle(S.x,S.y,S.r,S.O));
l.remove();l.fillColor=new paper.Color(1,0,0);for(var D=0;D<y.length;D++)if(l.intersects(y[D][0])||l.contains(y[D][0].segments[0].point))B.push(D);
return B};k.c.CM=function(Q,S,B,y){k.c.kg();var l=B?{curves:!0,tolerance:y}:null,D=new paper.Point(S.x,S.y),R=k.c.Lb(Q);
for(var p=R.length-1;p>=0;p--){var O=R[p][0],M=O.hitTest(D,l);if(M!=null)return{d_:p,Ls:B?M.location.index:null}}return{d_:-1}};
k.c.LO=function(Q,S){var B=[[],[],[]];for(var y=0;y<Q.length;y++){var l=Q[y];if(l.type>5||l.type==0||l.type==3)continue;
if(S._D(l.v))B[0].push(y);if(S._D(l.G$))B[1].push(y);if(S._D(l.RQ))B[2].push(y)}return B};k.c.mJE=function(Q,S,B){var y=B.slice(0),l=[null,null],D=-1,O=null;
for(var R=2;R<Q.length;R++){if((Q[R].type==0||Q[R].type==3)&&Q[R].GL!=-1)D++;l[R]=B[D]}B=l;var p=Q.slice(0,2);
l=B.slice(0,2);for(var R=2;R<Q.length;R++){if(Q[R].type==0||Q[R].type==3){O=Q[R];p.push(O);l.push(B[R])}else{if(S.indexOf(R)==-1){p.push(Q[R]);
l.push(B[R])}else{O.length--;k.SI.wp(B,R)}}}for(var R=2;R<p.length;R++){var M=p[R];if(M.type!=0&&M.type!=3)continue;
if(M.length==0){if(p[R+1]&&p[R+1].GL==-1){p[R+1].GL=M.GL}l.splice(R,1);p.splice(R,1);R--}}for(var R=0;
R<y.length;R++)if(l.indexOf(y[R])==-1){y.splice(R,1);R--}return p};k.c.mJs=function(Q,S){var B=Q.slice(0,2),y=-1;
for(var l=2;l<Q.length;l++){if((Q[l].type==0||Q[l].type==3)&&Q[l].GL!=-1)y++;if(S.indexOf(y)==-1)B.push(Q[l])}return B};
k.c.mJX=function(Q,S){var B=Q.slice(0,2),y=-1;for(var l=2;l<Q.length;l++){if((Q[l].type==0||Q[l].type==3)&&Q[l].GL!=-1)y++;
if(S.indexOf(y)!=-1)B.push(Q[l])}return B};k.c.myw=function(Q){var S=0;for(var B=0;B<Q.length;B++)if(Q[B].type==0||Q[B].type==3)S=B;
return Q[S]};k.c.Tm=function(Q){var S=-1;for(var B=0;B<Q.length;B++)if((Q[B].type==0||Q[B].type==3)&&Q[B].GL!=-1)S++;
return S+1};k.c.rN=function(Q,S){var B=-1;for(var y=0;y<Q.length;y++)if((Q[y].type==0||Q[y].type==3)&&Q[y].GL!=-1){B++;
if(B==S)return y}return-1};k.c.Ii=function(Q,S){var B=-1;for(var y=0;y<Q.length;y++)if((Q[y].type==0||Q[y].type==3)&&Q[y].GL!=-1){if(y>=S)return B;
B++}return B};k.c.Li=function(Q,S){var B=-1,y=0;for(var l=0;l<Q.length;l++){if((Q[l].type==0||Q[l].type==3)&&Q[l].GL!=-1)B++;
if(B==S)y++}return y};k.c.Ik=function(Q){var S=Q.segments?[Q]:Q.children,B=[];for(var y=0;y<S.length;
y++){var l=S[y],D=l.segments,R=l.closed?0:3,p=B.length,O=null;if(D.length<=1)continue;B.push({type:R,length:D.length,GL:0,Xr:2});
for(var M=0;M<D.length;M++){var U=D[M],m=new v(U.handleIn.x,U.handleIn.y),Y=new v(U.handleOut.x,U.handleOut.y),x=new v(U.point.x,U.point.y),T={type:R+1,G$:x.add(m),v:x,RQ:x.add(Y)};
if(O==null)O=T;B.push(T);if(M+1==D.length&&v.Ui(O.v,T.v)<1e-5){B.pop();B[p].length--;O.G$=T.G$;if(R==3)for(var $=p;
$<B.length;$++)B[$].type-=3}}}return B};k.c.Lb=function(Q){k.c.kg();var S=[],B,y=new paper.Color(1,0,0);
for(var l=0;l<Q.length;l++){if(Q[l].type>5)continue;var D=Q[l].length,R;if(l==Q.length-1)break;var p=Q[l].type==3;
if(l==2){if(!k.c.kG(Q))R="subtract";else R="unite"}else{if(Q[l].GL==0)R="exclude";if(Q[l].GL==1)R="unite";
if(Q[l].GL==2)R="subtract";if(Q[l].GL==3)R="intersect"}if(Q[l].GL!=-1)B=[];for(var O=0;O<D;O++){var M=Q[l+1+O],U=M.G$.la(M.v),m=M.RQ.la(M.v);
B.push([[M.v.x,M.v.y],[U.x,U.y],[m.x,m.y]])}if(Q[l+1+D]==null||Q[l+1+D].GL!=-1){var Y=new paper.Path(B);
Y.remove();Y.closed=!p;Y.fillRule="evenodd";Y.fillColor=y;S.push([Y,R])}l+=D}return S};k.c.myP=function(Q){for(var S=0;
S<Q.length;S++){var B=Q[S];if(B.v==null)continue;if(!B.v.UH(B.G$)||!B.v.UH(B.RQ))return!1}return!0};
k.c.myI=function(Q){if(Q.length<=5)return 0;var S=0,B=Q.length-3-1;for(var y=0;y<B;y++){var l=Q[3+y],D=Q[3+y+1];
if(l.type==0||D.type==0)return 0;S+=(D.v.x-l.v.x)*(l.v.y+D.v.y)}S+=(Q[3].v.x-Q[3+B].v.x)*(Q[3+B].v.y+Q[3+1].v.y);
return-S*.5};k.c.kG=function(Q){if(Q.length==2)return Q[1].all==0;var S=Q[2];if(Q[1].all==1){if(S.GL==1||S.GL==3)return!0;
return!1}else{if(S.GL==1||S.GL==3||S.GL==0)return!0;return!1}};k.c.mJD=0;k.c.Ix=0;k.c.mqM=0;k.c.mJO=function(Q,S,B,y){var l=k.yt,D=k.S;
l.width=B.r;l.height=B.O;if(!k.c.kG(Q))D.fillRect(0,0,B.r,B.O);var R=B.Z();k.c.mJD+=R;if(R>k.c.Ix){k.c.Ix=R}k.c.Lx(Q,D,-B.x,-B.y,y);
if(B.Kq())return;var p=D.getImageData(0,0,B.r,B.O);k.MA(p.data,S,3)};k.c.Lx=function(Q,S,B,y,l){if(l!=null&&l.fillEnabled.v){var D=!1,R=!1,p=0;
for(var O=0;O<Q.length;O++){var M=Q[O].GL;if(M!=null)p++;if(M==-1)D=!0;if(M>0)R=!0}if(!D&&p<20)Q=k.c.LX(Q)}for(var O=0;
O<Q.length;O++){if(Q[O].type>5)continue;var U=Q[O].length;if(U==0)continue;if(O==Q.length-1)break;var m=Q[O].type==3;
if(O==2){if(!k.c.kG(Q))S.globalCompositeOperation="destination-out";else S.globalCompositeOperation="source-over"}else{var Y;
if(Q[O].GL==0)Y="xor";if(Q[O].GL==1)Y="source-over";if(Q[O].GL==2)Y="destination-out";if(Q[O].GL==3)Y="source-in";
if(Q[O].GL!=-1&&l==null)S.globalCompositeOperation=Y}if(Q[O].GL!=-1){S.beginPath();if(l){var x=l.strokeStyleLineWidth.v.val,T=l.strokeStyleLineAlignment.v.strokeStyleLineAlignment,$=l.strokeStyleLineCapType.v.strokeStyleLineCapType,L=l.strokeStyleLineJoinType.v.strokeStyleLineJoinType,s=l.strokeStyleMiterLimit.v,j=[],Z=l.strokeStyleLineDashSet.v;
for(var e=0;e<Z.length;e++)j.push(Z[e].v.val*x);S.setLineDash(j);S.lineCap=["butt","round","square"][rx.xD.mI.indexOf($)];
S.lineJoin=["miter","round","bevel"][rx.xD.join.indexOf(L)];S.lineWidth=rx.xD.XQ.indexOf(T)==1?x:x*=2;
S.miterLimit=s}}k.c.mJB(S,Q,O+1,U,B,y,m);if(m){}else S.closePath();if(Q[O+1+U]==null||Q[O+1+U].GL!=-1){if(l)S.stroke();
else S.fill("evenodd")}O+=U}};k.c.mJB=function(Q,S,B,y,l,D,R){var p=S[B],O=null;Q.moveTo(p.v.x+l,p.v.y+D);
for(var M=B;M<B+y-1;M++){p=S[M];O=S[M+1];Q.bezierCurveTo(p.RQ.x+l,p.RQ.y+D,O.G$.x+l,O.G$.y+D,O.v.x+l,O.v.y+D)}if(!R){p=S[M];
O=S[B];Q.bezierCurveTo(p.RQ.x+l,p.RQ.y+D,O.G$.x+l,O.G$.y+D,O.v.x+l,O.v.y+D)}};k.c.wf=function(Q,S,B){var y=[],l=B?4:1,D=!1;
if(S!=null)for(var R=0;R<S.length;R++)if(S[R]!=0){D=!0;break}if(S!=null&&D){var p=k.i.mmM(Q,S),O=p.length/6;
for(var R=0;R<O;R++){var M=R*6,U=(R-1+O)%O*6,m=p[M],Y=p[M+1],x=p[M+2],T=p[M+3],$=p[U+4],L=p[U+5];y.push({type:l,G$:new v($,L),v:new v(m,Y),RQ:new v(x,T)})}}else{for(var R=0;
R<Q.length;R+=2){var s=new v(Q[R],Q[R+1]);y.push({type:l,G$:s.clone(),v:s.clone(),RQ:s.clone()})}}return y};
k.c.LP=function(Q,S){k.c.kg();var B=new paper.Path;B.remove();var y=Q.length-1,l=Math.sqrt((Q[y-1]-Q[0])*(Q[y-1]-Q[0])+(Q[y]-Q[1])*(Q[y]-Q[1]))<3;
B.closed=l;for(var D=0;D<Q.length;D+=2)B.add(new paper.Point(Q[D],Q[D+1]));B.simplify(S);var R=[{type:6},{type:8,all:0}];
R=R.concat(k.c.Ik(B));return R};k.c.MV={};k.c.MV.nJ=function(Q,S,B){var y=[{type:6},{type:8,all:0}],l=null;
y.push({type:B?3:0,GL:1,length:0,hi:0,hZ:0,Xr:1});if(S==0)l==null;else if(S instanceof Array)l=S;else{l=[];
for(var D=0;D<Q.length;D+=2)l.push(S)}y=y.concat(k.c.wf(Q,l,B));y[2].length=y.length-3;return y};k.c.MV.mJk=function(Q,S,B,y,l){var D=[],R=[],p=.553,O=1,M=-1;
D.push({type:1,G$:new v(0,p),v:new v(0,0),RQ:new v(0,-p)});l+=2;for(var U=0;U<l;U++){var m={type:1};
if(U==0){m.v=new v(1,-1);m.G$=new v(1-p,-1);m.RQ=new v(1+p,-1)}else{var Y=-(U+2)*Math.PI/2,x=1+((U&1)==1?U-1:U),T=Math.sin(Y),$=Math.cos(Y);
O+=x*(T-$);M+=x*($+T);m.v=new v(O,M);m.G$=new v(O+x*$*p,M-x*T*p);if((U&1)==1)x+=2;m.RQ=new v(O-x*$*p,M+x*T*p)}var L={type:1,G$:new v(-m.RQ.x,-m.RQ.y),v:new v(-m.v.x,-m.v.y),RQ:new v(-m.G$.x,-m.G$.y)};
D.push(m);if(U<l-2)R.push(L)}R.reverse();D=D.concat(R);var s=[{type:6},{type:8,all:0}];s.push({type:0,GL:1,length:D.length,hi:0,hZ:0,Xr:1});
s=s.concat(D);var j=new Nu(B/l,0,0,B/l,0,0);j.rotate(y);j.translate(Q,S);k.c.ZU(s,j);return s};k.c.MV.Rect=function(Q,S,B,y,l){var D=[Q,S,Q+B,S,Q+B,S+y,Q,S+y];
return k.c.MV.nJ(D,l)};k.c.MV.II=function(Q,S,B,y,l,D){var R=[],p=2*Math.PI/l;for(var O=0;O<l;O++)R.push(Math.cos(O*p),Math.sin(O*p));
var M=new Nu(B,0,0,B,0,0);M.rotate(y);M.translate(Q,S);k.i.V(R,M,R);return k.c.MV.nJ(R,D)};k.c.MV.mJZ=function(Q,S,B,y,l,D,R){var p=[],O=Math.PI/l;
for(var M=0;M<l*2;M++){var U=(M&1)==0?1:R;p.push(U*Math.cos(M*O),U*Math.sin(M*O))}var m=new Nu(B,0,0,B,0,0);
m.rotate(y);m.translate(Q,S);k.i.V(p,m,p);return k.c.MV.nJ(p,D)};k.c.MV.LV=function(Q,S,B,y,l){return k.c.MV.IS(0,Q,S,B,y,l)};
k.c.MV.mJb=function(Q,S,B,y,l,D){return k.c.MV.IS(1,Q,S,B,y,l,D)};k.c.MV.IS=function(Q,S,B,y,l,D,R){var p=Math.sqrt((y-S)*(y-S)+(l-B)*(l-B)),O;
D/=2;if(Q==0)O=[-D,0,D,0,D,p,-D,p];else{var M=D*2*R*1.3/1.5,U=D*R;O=[-D,0,D,0,D,p-M,U,p-M,0,p,-U,p-M,-D,p-M]}var m=new Nu(1,0,0,1,0,0);
m.rotate(Math.atan2(-l+B,y-S)+Math.PI/2);m.translate(S,B);k.i.V(O,m,O);return k.c.MV.nJ(O,0)};k.c.MV.TJ=function(Q,S,B,y){var l=[{type:6},{type:8,all:0}],m=.553;
l.push({type:0,GL:1,length:4,hi:0,hZ:0,Xr:1});var D=Q,R=S,p=Q+B,O=S+y,Q=(D+p)/2,S=(R+O)/2,M=(D-p)/2,U=(R-O)/2;
l.push({type:1,G$:new v(Q-m*M,S-U),v:new v(Q,S-U),RQ:new v(Q+m*M,S-U)});l.push({type:1,G$:new v(Q+M,S-m*U),v:new v(Q+M,S),RQ:new v(Q+M,S+m*U)});
l.push({type:1,G$:new v(Q+m*M,S+U),v:new v(Q,S+U),RQ:new v(Q-m*M,S+U)});l.push({type:1,G$:new v(Q-M,S+m*U),v:new v(Q-M,S),RQ:new v(Q-M,S-m*U)});
return l};k.c.MV.mqp=function(Q,S,B,y,l){var D=[{type:6},{type:8,all:0}];D.push({type:3,GL:1,length:5,hi:0,hZ:0,Xr:1});
var R=Math.min(y,l),p=Math.max(y,l),O=(p-R)/4,M=Math.cos(O/2),U=Math.sin(O/2),m=(4-M)/3,Y=(1-M)*(3-M)/(3*U),x=m,T=-Y,$=M,L=-U,s=new v(M,U),j=new v(m,Y),Z=new v(x,T),e=new v($,L),J=new Nu;
J.rotate(O);D.push({type:4,G$:s.clone(),v:s.clone(),RQ:j.clone()});D.push({type:4,G$:Z.clone(),v:e.clone(),RQ:e.clone()});
for(var N=0;N<3;N++){s=J.Dv(s);j=J.Dv(j);Z=J.Dv(Z);e=J.Dv(e);D[D.length-1].RQ=j;D.push({type:4,G$:Z.clone(),v:e.clone(),RQ:e.clone()})}J.rotate(-Math.PI/2-O/2);
J.concat(new Nu(B,0,0,B,Q,S));k.c.ZU(D,J);return D};k.cF={};k.cF.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
k.cF.hW=function(Q){var S=Q.warpStyle.v.warpStyle;if(S=="warpNone")return!0;else if(S=="warpCustom"){var B=!1,y=Q.customEnvelopeWarp.v.meshPoints.v.arr,l=y[0].arr,D=y[1].arr;
for(var R=0;R<4;R++)for(var p=0;p<4;p++){if(Math.abs(l[R]-l[p*4+R])>1||Math.abs(D[R*4]-D[R*4+p])>1)B=!0}return!B}else return Q.warpValue.v==0&&Q.warpPerspective.v==0&&Q.warpPerspectiveOther.v==0};
k.cF.Q=function(Q){var S={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(Q){S.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:Q.y}},Left:{t:"UntF",v:{type:"#Pxl",val:Q.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:Q.y+Q.O}},Rght:{t:"UntF",v:{type:"#Pxl",val:Q.x+Q.r}}}};
S.uOrder={t:"long",v:4};S.vOrder={t:"long",v:4}}return S};k.cF.mJP=function(Q,S,B,y){for(var l=0;l<Q.length;
l+=2){var D=Q[l],R=Q[l+1],p=(D-S.x)/S.r,O=(R-S.y)/S.O,M=(1-B)/2,U=1-M,m=M+p*(U-M);O=.5+(O-.5)*m*2;var Y=(1-y)/2,x=1-Y,T=Y+O*(x-Y);
p=.5+(p-.5)*T*2;D=S.x+p*S.r;R=S.y+O*S.O;Q[l]=D;Q[l+1]=R}};k.cF.IK=function(Q,S){var B=[],y=[];for(var l=0;
l<Q.length;l+=2){B.push(Q[l]);y.push(Q[l+1])}var D=[];D.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:B});
D.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:y});S.warpStyle.v.warpStyle="warpCustom";S.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:D}}}}};
k.cF._i=function(Q,S){if(S==null){var B=Q.bounds.v,y=B.Left.v.val,l=B.Rght.v.val,D=B.Top.v.val,R=B.Btom.v.val;
S=new w(y,D,l-y,R-D)}if(S.Kq())S.r=S.O=1;var p=[],O=Q.warpStyle.v.warpStyle;if(O=="warpCustom"){var M=Q.customEnvelopeWarp.v.meshPoints.v.arr,U=M[0].arr,m=M[1].arr;
for(var Y=0;Y<16;Y++)p.push(U[Y],m[Y])}else p=k.cF.cF(S,O,Q.warpRotate.v.Ornt=="Hrzn",Q.warpValue.v/100,Q.warpPerspective.v/100,Q.warpPerspectiveOther.v/100);
return p};k.cF.cF=function(Q,S,B,y,l,D){var R=k.Tx.Q(Q.x,Q.y,Q.r,Q.O);if(S=="warpNone")return R;var p=JSON.parse(JSON.stringify(Q)),O=new Nu;
if(!B){O.translate(-Q.x,-Q.y);O.rotate(-Math.PI/2);O.translate(Q.O,0);k.i.V(R,O,R);Q=new w(0,0,Q.O,Q.r);
R=k.Tx.PJ(R,!1)}k.cF.mVz(R,Q,S,y,l,D);if(!B){R=k.Tx.PJ(R,!0);Q=p;O.SD();k.i.V(R,O,R)}if(y==0)k.cF.mJP(R,Q,l,D);
else{var O=new Nu(1/Q.r,0,0,1/Q.O,-Q.x,-Q.y);O.translate(-.5,-.5);k.i.V(R,O,R);k.cF.mVM(R,D,l);O.SD();
k.i.V(R,O,R)}return R};k.cF.mVz=function(Q,S,B,y,l,D){for(var R=0;R<4;R++){for(var p=0;p<4;p++){var O=2*(4*R+p),M=Q[O]-S.x,U=Q[O+1]-S.y,m=M,Y=U;
if(y!=0){var x=S.r/2,T=S.O/2;m-=x;Y-=T;var $=m,L=m,s=-T,j=T,Z=Math.abs(y),e=Math.tan((1-Z)*Math.PI/2),J=Math.sqrt(e*e+1),N=Math.atan2(1,e),E=m/x*N,h=x*J,o=x*J+S.O,V=Math.cos(N),n=Math.sin(N),t=k.cF.mVe(V,n),q=k.cF.mVZ(V,n),u=-e*x+t*h;
if(B=="warpArc"){$=Math.sin(E)*o;s=e*x-Math.cos(N)*o+T;L=Math.sin(E)*h;j=e*x-Math.cos(N)*h+T;if(p==1||p==2){$=p==1?-q*o:q*o;
L=p==1?-q*h:q*h;s=e*x+T-t*o;j=e*x+T-t*h}if(y<0){var g=$;$=L;L=g;g=s;s=-j;j=-g}}if(B=="warpArcLower"){if(p==1||p==2){L=p==1?-q*h:q*h;
j=y<0?T-u:T+u}}if(B=="warpArcUpper"||B=="warpArch"||B=="warpBulge"){if(p==1||p==2){$=p==1?-q*h:q*h;s=y<0?-T+u:-T-u}if(B=="warpArch"){L=$;
j=s+2*T}if(B=="warpBulge"){L=$;j=-s}}if(B=="warpFish"||B=="warpFlag"||B=="warpWave"){if(p==1){s-=y*4*T;
j+=y*4*T}if(p==2){s+=y*4*T;j-=y*4*T}if(B=="warpFlag"||B=="warpWave")s=j-2*T}if(B=="warpRise"){if(p<2)s=-T+y*T*4;
j=s+2*T}var r=(Y+T)/S.O;m=$+r*(L-$);Y=s+r*(j-s);if(B=="warpWave"){if(R==0)Y=-T;if(R==3)Y=T;if(R==1||R==2)Y=2*T*(R/3-.5)*(1/3)+Y*(2/3)}if(B=="warpFisheye"){if((R==1||R==2)&&(p==1||p==2)){m=m+4*m*y;
Y=Y+4*Y*y}}if(B=="warpInflate"){var f=2/3;if((R==1||R==2)&&(p==1||p==2)){m=m+.5*m*y;Y=Y+.5*Y*y}else if(R==1||R==2)m=m+f*m*y;
else if(p==1||p==2)Y=Y+f*Y*y}if(B=="warpSqueeze"){var f=2/3;if((R==1||R==2)&&(p==1||p==2)){if(y>0)m=m-f*m*y;
else Y=Y+f*Y*y}else if(R==1||R==2)m=m-f*m*y;else if(p==1||p==2)Y=Y+f*Y*y}if(B=="warpTwist"){if((R==1||R==2)&&(p==1||p==2)){var I=y*Math.PI/2,J=1+Math.abs(y)*2,d=m*Math.cos(I)-Y*Math.sin(I),a=m*Math.sin(I)+Y*Math.cos(I);
m=d*J;Y=a*J}}if(B=="warpShellLower"||B=="warpShellUpper"){if(B=="warpShellUpper"){R=3-R;Y=-Y}if(R>2||R==2&&(p==0||p==3)){if(y>0){var c=h+R/3*2*T;
m=Math.sin(E)*c;Y=-e*x-T+Math.cos(E)*c;if(p==1||p==2){m=p==1?-q*c:q*c;Y=-e*x-T+t*c}}else{if((p==1||p==2)&&R==3){m=p==1?-q*h:q*h;
Y=e*x-t*h+T}else if(R==2){Y=T-T*(2/3)*Math.cos(E);m=m+T*(2/3)*Math.sin(E)}}}if(B=="warpShellUpper"){R=3-R;
Y=-Y}}m+=x;Y+=T}M=m,U=Y;Q[O]=M+S.x;Q[O+1]=U+S.y}}};k.cF.mVM=function(Q,S,B){var y=[];for(var l=0;l<4;
l++)y.push(1-B+l/3*2*B);var D=[];for(var l=0;l<4;l++)D.push(1-S+l/3*2*S);var R=[0,0,0,0],p=[0,0,0,0];
for(var O=0;O<4;O++)for(var l=0;l<4;l++){var M=2*(4*O+l),U=Q[M],m=Q[M+1];R[l]+=U/4;p[l]+=m/4}for(var O=0;
O<4;O++)for(var l=0;l<4;l++){var Y=y[l],M=2*(4*O+l),U=Q[M],m=Q[M+1],x=R[l],T=p[l];Q[M]=x+Y*(U-x);Q[M+1]=T+Y*(m-T)}var $=Q.slice(0);
for(var O=0;O<4;O++)for(var l=1;l<3;l++){var M=2*(4*O+l),U=Q[M],m=Q[M+1],L=M+(l==1?-2:2),s=Q[L],j=Q[L+1];
Q[M]=U-s;Q[M+1]=m-j}var Z=Q[0],e=Q[1],J=Q[8],N=Q[9],E=Q[16],h=Q[17],o=Q[24],V=Q[25],n=Q[6],t=Q[7],q=Q[14],u=Q[15],g=Q[22],r=Q[23],f=Q[30],I=Q[31],d=n-Z,a=t-e,c=q-J,_=u-N,C=g-E,F=r-h,i=f-o,rP=I-V;
for(var O=0;O<4;O++){var rH=2*O*4,rK=0,rY=0,Nc=O==1?.33:.66,G=1-Nc;if(O==0){rK=d;rY=a}if(O==1){rK=G*d+Nc*-i;
rY=G*a+Nc*-rP}if(O==2){rK=G*d+Nc*-i;rY=G*a+Nc*-rP}if(O==3){rK=-i;rY=-rP}Q[rH]=Q[rH]+rK/2;Q[rH+1]=Q[rH+1]+rY/2;
Q[rH+6]=Q[rH+6]-rK/2;Q[rH+7]=Q[rH+7]-rY/2}for(var O=0;O<4;O++)for(var l=1;l<3;l++){var M=2*(4*O+l),U=Q[M],m=Q[M+1],L=M+(l==1?-2:2),s=Q[L],j=Q[L+1],Y=2*O/3;
Q[M]=s+Y*U;Q[M+1]=j+Y*m}for(var O=1;O<3;O++)for(var l=1;l<3;l++){var M=2*(4*O+l),U=Q[M],m=Q[M+1],rI=O==1?-8:-16,rb=O==1?16:8,Nr=Q[M+rI],Nz=Q[M+rI+1],NL=Q[M+rb],Nm=Q[M+rb+1],Y=O/3;
U=(1-Y)*Nr+Y*NL;m=(1-Y)*Nz+Y*Nm;Q[M]=U;Q[M+1]=m}k.i.Qg($,Q,Q,S)};k.cF.mVe=function(Q,S){return(4-Q)*(1/3)};
k.cF.mVZ=function(Q,S){return(1-Q)*(3-Q)/(3*S)};k.Rt={};k.Rt.ie=function(Q,S,B,y,l,D,R,p,O,M){var U=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],m=1/O,Y=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],x=new Uint32Array(6);
for(var T=0;T<p;T++){for(var $=0;$<R;$++){var L=3*(T*R+$),s=T+D,j=$+l;x[0]=0;x[1]=0;x[2]=0;x[3]=0;x[4]=0;
x[5]=0;for(var Z=0;Z<16;Z+=2){var e=j+Y[Z],J=s+Y[Z+1],N=e-O*~~(e*m),E=J-O*~~(J*m),h=M[E*O+N];x[h]+=Q[J*S+e];
x[h+3]++}var e=j,J=s,N=e-O*~~(e*m),E=J-O*~~(J*m),h=M[E*O+N];x[h]=Q[s*S+j];x[h+3]=1;y[L]=x[0]*U[x[3]];
y[L+1]=x[1]*U[x[4]];y[L+2]=x[2]*U[x[5]]}}};k.Rt.Hz=function(Q,S,B){for(var y=0;y<B;y+=2)Q[S+y]=Q[S+y+1];
S=S+B;for(var y=0;y<B;y+=2)Q[S+y+1]=Q[S+y]};k.Rt.HM=function(Q,S,B,y){for(var l=0;l<y;l+=2){var D=S+l*B;
Q[D]=Q[D+B];Q[D+B+1]=Q[D+1]}};k.Rt.HN=function(Q,S,B,y,l,D){var R=y[l],p=y[l+1],O=y[D],M=y[D+1],U=p+O>>>1;
Q[S]=Q[S+3]=Q[B]=Q[B+3]=R;Q[S+1]=U;Q[S+4]=p;Q[B+1]=O;Q[B+4]=U;Q[S+2]=Q[S+5]=Q[B+2]=Q[B+5]=M};k.Rt.mVx=function(Q,S,B,y,l,D){var R=D*3;
for(var p=0;p<D;p+=2){var O=S+p,M=l+p*3;k.Rt.HN(y,M,M+R,Q,O,O+B)}};k.Rt.mhy=function(Q,S,B,y,l,D,R){var p=D*3;
for(var O=0;O<R;O+=2){var M=S+O*B,U=l+O*D*3;k.Rt.HN(y,U,U+p,Q,M,M+B)}};k.Rt.Hc=function(Q,S,B){var y=Q[S-B-B],l=Q[S-B],D=Q[S-2],R=Q[S-1],p=Q[S],O=Q[S+1],M=Q[S+2],U=Q[S+B],m=Q[S+B+B],Y=Math.abs(l-U),x=Math.abs(R-O),T=Math.abs(p-y)*2+Y,$=Math.abs(p-M)*2+x,L=Math.abs(p-D)*2+x,s=Math.abs(p-m)*2+Y,j=Math.min(T,Math.min($,Math.min(L,s)));
if(j==T)return l*3+U+p-y>>2;if(j==$)return O*3+R+p-M>>2;if(j==L)return R*3+O+p-D>>2;return U*3+l+p-m>>2};
k.Rt.LW=function(Q,S,B,y,l){if(Q<S&&S<B||Q>S&&S>B)return~~(.5+y+(l-y)*(S-Q)/(B-Q));else return(y+l>>1)+(S+S-Q-B>>2)};
k.Rt.Hd=function(Q,S,B,y){var l=S[B-y-1],D=S[B-y+1],R=S[B],p=S[B+y-1],O=S[B+y+1],M=Q[B-y-1],U=Q[B-y+1],m=Q[B],Y=Q[B+y-1],x=Q[B+y+1],T=Math.abs(U-Y)+Math.abs(Q[B-y-y+2]-m)+Math.abs(m-Q[B+y+y-2])+Math.abs(D-R)+Math.abs(R-p),$=Math.abs(M-x)+Math.abs(Q[B-y-y-2]-m)+Math.abs(m-Q[B+y+y+2])+Math.abs(l-R)+Math.abs(R-O);
if(T<$)return k.Rt.LW(D,R,p,U,Y);else return k.Rt.LW(l,R,O,M,x)};k.Rt.wU=function(Q,S,B,y,l,D){Q[S+0]=B[l];
Q[S+1]=y[l];Q[S+2]=k.Rt.Hd(B,y,l,D)};k.Rt.wn=function(Q,S,B,y,l,D){var R=y[l];Q[S+0]=k.Rt.LW(y[l-1],R,y[l+1],B[l-1],B[l+1]);
Q[S+1]=R;Q[S+2]=k.Rt.LW(y[l-D],R,y[l+D],B[l-D],B[l+D])};k.Rt.ws=function(Q,S,B,y,l,D){var R=y[l];Q[S+0]=k.Rt.LW(y[l-D],R,y[l+D],B[l-D],B[l+D]);
Q[S+1]=R;Q[S+2]=k.Rt.LW(y[l-1],R,y[l+1],B[l-1],B[l+1])};k.Rt.w$=function(Q,S,B,y,l,D){Q[S+0]=k.Rt.Hd(B,y,l,D);
Q[S+1]=y[l];Q[S+2]=B[l]};k.Rt.mhw=function(Q,S,B,y,l,D,R,p,O){var M=Date.now(),U=2,m=S-2,Y=2;if((l&1)==1){U++;
m--}var x=B-2;if((D&1)==1){Y++;x--}if(O==1||O==3){U++;m--}var T=Q.slice(0);k.Rt.Hz(T,0,S);k.Rt.HM(T,0,S,B);
k.Rt.HM(T,S-2,S,B);k.Rt.Hz(T,(B-2)*S,S);for(var $=Y;$<x;$+=2)for(var L=U;L<m;L+=2){var s=$*S+L,j=k.Rt.Hc(T,s,S),Z=k.Rt.Hc(T,s+S+1,S);
T[s]=Math.max(0,j);T[s+S+1]=Math.max(0,Z)}var e=R,J=p;if(D+p==B){J-=2;k.Rt.mVx(Q,(B-2)*S+l,S,y,(p-2)*R*3,R)}if(l+R==S){e-=2;
k.Rt.mhy(Q,D*S+l+R-2,S,y,(R-2)*3,R,p)}if(O==0)for(var $=0;$<J;$+=2)for(var L=0;L<e;L+=2){var N=($+D)*S+L+l,E=($*R+L)*3;
k.Rt.wU(y,E,Q,T,N,S);k.Rt.wn(y,E+3,Q,T,N+1,S);N+=S;E+=3*R;k.Rt.ws(y,E,Q,T,N,S);k.Rt.w$(y,E+3,Q,T,N+1,S)}else if(O==1)for(var $=0;
$<J;$+=2)for(var L=0;L<e;L+=2){var N=($+D)*S+L+l,E=($*R+L)*3;k.Rt.wn(y,E,Q,T,N,S);k.Rt.wU(y,E+3,Q,T,N+1,S);
N+=S;E+=3*R;k.Rt.w$(y,E,Q,T,N,S);k.Rt.ws(y,E+3,Q,T,N+1,S)}else if(O==2)for(var $=0;$<J;$+=2)for(var L=0;
L<e;L+=2){var N=($+D)*S+L+l,E=($*R+L)*3;k.Rt.w$(y,E,Q,T,N,S);k.Rt.ws(y,E+3,Q,T,N+1,S);N+=S;E+=3*R;k.Rt.wn(y,E,Q,T,N,S);
k.Rt.wU(y,E+3,Q,T,N+1,S)}else if(O==3)for(var $=0;$<J;$+=2)for(var L=0;L<e;L+=2){var N=($+D)*S+L+l,E=($*R+L)*3;
k.Rt.ws(y,E,Q,T,N,S);k.Rt.w$(y,E+3,Q,T,N+1,S);N+=S;E+=3*R;k.Rt.wU(y,E,Q,T,N,S);k.Rt.wn(y,E+3,Q,T,N+1,S)}};
k.raw={};k.raw.mCN=function(Q){var S=Q.width,B=Q.height,y=Date.now(),l=k.raw.mC_(Q),D=0,R=0;k.raw.LA(2,Q,l,S,B);
var p=S,O=B;if(Q.t50829){var M=Q.t50829;D=M[1];R=M[0];p=M[3];O=M[2]}if(Q.t50719){var U=Q.t50719;D+=U[0]>>1<<1;
R+=U[1]>>1<<1}if(Q.t50720){var m=Q.t50720;p=D+m[0];O=R+m[1]}var Y=p-D,x=O-R,T=new Float32Array(Y*x*3);
if(Q.t277[0]==1){var $=Q.t33421;if($.length!=2||$[0]!=2||$[1]!=2){console.log("Unknown CFA pattern size",$);
k.Rt.ie(l,S,B,T,D,R,Y,x,$[0],Q.t33422)}else{var L=Q.t33422.join(","),s=0;if(L=="0,1,1,2")s=0;else if(L=="1,0,2,1")s=1;
else if(L=="2,1,1,0")s=2;else if(L=="1,2,0,1")s=3;else throw"Unknown CFA pattern "+L;if((Y&1)!=0||(x&1)!=0)throw"e";
k.Rt.mhw(l,S,B,T,D,R,Y,x,s)}}else{for(var j=0;j<x;j++)for(var Z=0;Z<Y;Z++){var e=((j+R)*S+Z+D)*3,J=(j*Y+Z)*3;
T[J+0]=l[e+0];T[J+1]=l[e+1];T[J+2]=l[e+2]}}var N=T,E=T.length,h=k.raw.mCa(Q),o=1/h;for(var V=0;V<E;V+=3){T[V]=Math.min(1,N[V]*o);
T[V+1]=Math.min(1,N[V+1]*o);T[V+2]=Math.min(1,N[V+2]*o)}k.raw.LA(3,Q,T,Y,x);var n=Q.QY,t=Y,q=x;if(n==1){}else{if(n==3){t=Y;
q=x}else if(n==6){t=x;q=Y}else if(n==8){t=x;q=Y}else throw"unknown orientation "+n;var u=T.slice(0),J=0;
for(var j=0;j<q;j++)for(var Z=0;Z<t;Z++){var g=Z,r=j;if(n==3){g=Y-1-Z;r=x-1-j}else if(n==6){r=x-1-Z;
g=j}else if(n==8){g=Y-1-j;r=Z}var e=(r*Y+g)*3;T[J]=u[e];T[J+1]=u[e+1];T[J+2]=u[e+2];J+=3}}return{Ko:T,jv:t,jT:q}};
k.raw.LI=function(Q,S,B,y){var l=Q.Ko,D=Math.round(l.length/3),R=Qh.muW(y[0],y[1]),p=k.raw.mCi(B,R),O=k.Sl.multiply(k.Sl.RP,p),M=Math.pow(2,y[2]+(B.t50730?B.t50730[0]:0));
O=k.Sl.multiply(O,k.Sl.Tv(M,M,M));var U=B.t50728,m=[U[1]/U[0],U[2]/U[0],U[0]/U[1],U[2]/U[1],U[0]/U[2],U[1]/U[2]],Y=new Float64Array(1e3);
for(var x=0;x<1e3;x++){var T=x*(1/999);T=x==999?1:k.rf(x*(1/999));T=k.raw.Fx.mCg(T,y[3]/100);Y[x]=T}var $=Date.now();
for(var x=0;x<D;x++){var L=x<<2,s=L-x,j=l[s],Z=l[s+1],e=l[s+2];if(Z>=.92){var J=Math.min(j,e);if(J==j){Z=Math.max(Z,m[0]*j);
e=Math.max(e,m[1]*j)}else{j=Math.max(j,m[4]*e);Z=Math.max(Z,m[5]*e)}}var N=O[0]*j+O[1]*Z+O[2]*e,E=O[4]*j+O[5]*Z+O[6]*e,h=O[8]*j+O[9]*Z+O[10]*e;
if(N<0)N=0;else if(N>1)N=1;if(E<0)E=0;else if(E>1)E=1;if(h<0)h=0;else if(h>1)h=1;N=Y[~~(N*999)];E=Y[~~(E*999)];
h=Y[~~(h*999)];S[L]=~~(.5+N*255);S[L+1]=~~(.5+E*255);S[L+2]=~~(.5+h*255)}};k.raw.Fx={mCg:function(Q,S){var B=.5-.5*Math.cos(Q*3.2),y=0;
if(S>0){var l=Q*.2;y=l*Q+(1-l)*B}else{var D=Math.pow(Q,.33);y=(1-D)*D+D*(Q+(Q-B)*.63)}var R=Math.abs(S);
return R*y+(1-R)*Q},mq_:function(Q,S){var B=0;if(S>0){var y=Q*1.47,l=Math.pow(Q,2.4);B=Math.min(1,l*Q+(1-l)*y)}else{var y=Q*.68,l=Math.pow(Q,3);
B=l*Q*.5+(1-l)*y}var D=Math.abs(S);return D*B+(1-D)*Q},mqG:function(Q,S){var B=0;if(S>0){var y=Math.pow(Q,.3),l=Q;
B=(1-Q)*y+Q*l}else{var y=Math.pow(Q,2.5),D=Q,l=Q;B=Math.min(1,(1-D)*y+D*l)}var R=Math.abs(S);return R*B+(1-R)*Q}};
k.raw.mC_=function(Q){var S=Q.width,B=Q.height,y=S*B*Q.t277,l=new Uint16Array(y),D=null,R=0;k.raw.mCs(Q,l);
k.raw.LA(1,Q,l,S,B);if(Q.t50712){D=Q.t50712;R=D.length-1;if(D[R]>65535)throw"too big values"}var p=k.raw.Hy(Q),O=k.raw.HJ(Q);
if(D==null)for(var M=0;M<y;M++)l[M]=Math.max(0,l[M]-p);else for(var M=0;M<y;M++){var U=l[M];if(U>R)U=R;
U=D[U];l[M]=Math.max(0,U-p)}return l};k.raw.Hy=function(Q){var S=Q.t50714,B=S?S[0]:0,y=Q.t50715,l=Q.t50716;
if(y)B+=y[0];if(l)B+=l[0];return Math.round(B)};k.raw.HJ=function(Q){var S=null,B=0;if(Q.t50712){S=Q.t50712;
B=S.length-1}var y=Q.t50717[0];if(S)y=Math.min(y,S[B]);return y};k.raw.mCa=function(Q){var S=k.raw.Hy(Q),B=k.raw.HJ(Q);
return B-S};k.raw.mCs=function(Q,S){var B=S.length,y=Q.data,l=Q.t258[0];if(l!=16&&l!=14&&l!=12&&l!=10&&l!=8)throw"Unsupported Bits Per Sample:"+l;
l=Math.round(y.length*8/B);if(l==16&&Q.isLE){k.MK(y,S);return}for(var D=0;D<B;D+=2){var R=0,p=0,O=0;
if(l==16){R=D<<1;p=y[R]<<8|y[R+1];O=y[R+2]<<8|y[R+3]}else if(l==14){var M=D*14,U=M>>>3,m=y[U]<<24|y[U+1]<<16|y[U+2]<<8|y[U+3];
if((M&7)==0){p=m>>>18;O=m>>>4&16383}else{p=m>>>14&16383;O=m&16383}}else if(l==12){R=D+(D>>>1);p=y[R]<<4|y[R+1]>>4;
O=(y[R+1]&15)<<8|y[R+2]}else if(l==10){var M=D*10,U=M>>>3;if((M&7)==0){p=(y[U]<<2|y[U+1]>>6)&1023;O=(y[U+1]<<4|y[U+2]>>4)&1023}else{p=(y[U]<<6|y[U+1]>>2)&1023;
O=(y[U+1]<<8|y[U+2]>>0)&1023}}else if(l==8){R=D;p=y[R];O=y[R+1]}S[D]=p;S[D+1]=O}};k.raw.LA=function(Q,S,B,y,l){var D=S["t"+[51008,51009,51022][Q-1]],U=0;
if(D==null)return;var R=y*l,p=X.j,O=X.nS,M=new Uint8Array(D),m=X.j(M,U);U+=4;for(var Y=0;Y<m;Y++){var x=p(M,U);
U+=4;var T=p(M,U);U+=4;var $=p(M,U);U+=4;var L=p(M,U);U+=4;if(!1){}else if(x==1&&Q==3){var s=U,j=p(M,s);
s+=4;var Z=O(M,s);s+=8;var e=O(M,s);s+=8;var J=O(M,s);s+=8;var N=O(M,s);s+=8;var E=O(M,s);s+=8;var h=O(M,s);
s+=8;s+=(j-1)*8*6;var o=O(M,s);s+=8;var V=O(M,s);s+=8;var n=o*y,t=V*l,q=Math.max(n,y-n),u=Math.max(t,l-t),g=Math.sqrt(q*q+u*u),r=1/g,f=B.slice(0);
for(var I=0;I<l;I++)for(var d=0;d<y;d++){var a=(d+.5-n)*r,c=(I+.5-t)*r,_=a*a+c*c,C=Z+e*_+J*(_*_)+N*(_*_)*_,F=E*(2*a*c)+h*(_+2*a*a),i=h*(2*a*c)+E*(_+2*c*c),rP=~~(n+g*(C*a+F)),rH=~~(t+g*(C*c+i)),rK=(rH*y+rP)*3,rY=(I*y+d)*3;
B[rY]=f[rK];B[rY+1]=f[rK+1];B[rY+2]=f[rK+2]}}else if(x==3&&Q==3){var s=U,Nc=O(M,s);s+=8;var G=O(M,s);
s+=8;var rI=O(M,s);s+=8;var rb=O(M,s);s+=8;var Nr=O(M,s);s+=8;var o=O(M,s);s+=8;var V=O(M,s);s+=8;var n=o*y,t=V*l,q=Math.max(n,y-n),u=Math.max(t,l-t),g=Math.sqrt(q*q+u*u),r=1/g;
for(var I=0;I<l;I++)for(var d=0;d<y;d++){var a=(d+.5-n)*r,c=(I+.5-t)*r,_=a*a+c*c,Nz=1+(Nc+(G+(rI+(rb+Nr*_)*_)*_)*_)*_,rY=(I*y+d)*3;
B[rY]=Nz*B[rY];B[rY+1]=Nz*B[rY+1];B[rY+2]=Nz*B[rY+2]}}else if(x==4&&Q==1){var s=U,NL=p(M,s);s+=4;var Nm=p(M,s);
s+=4;for(var NN=0;NN<R;NN++)if(B[NN]==NL)B[NN]=B[NN-2]+B[NN+2]>>1}else if(x==5&&Q==1){var s=U,Ne=p(M,s);
s+=4;var Ny=p(M,s);s+=4;var NG=p(M,s);s+=4;for(var NN=0;NN<Ny;NN++){var NC=p(M,s);s+=4;var Ng=p(M,s);
s+=4;var NN=NC*y+Ng;B[NN]=B[NN-2]+B[NN+2]>>1}}else if(x==7&&Q==1){var s=U,NM=X.Gc(M,s);s+=16;var NQ=p(M,s);
s+=4;var NR=p(M,s);s+=4;var NV=p(M,s),md=p(M,s+4);s+=8;var NW=p(M,s);s+=4;var Nh=new Uint16Array(NW);
for(var NN=0;NN<NW;NN++)Nh[NN]=X.Si(M,s+2*NN);var Nt=NM.r,NU=NM.O;for(var I=0;I<NU;I+=NV)for(var d=0;
d<Nt;d+=md){var NN=(NM.y+I)*y+(NM.x+d);B[NN]=Nh[B[NN]]}}else if(x==9&&Q==2){var s=U,NM=X.Gc(M,s),Rz=!0;
s+=16;var NQ=p(M,s);s+=4;var NR=p(M,s);s+=4;var NV=p(M,s),md=p(M,s+4);s+=8;var Mw=p(M,s),mp=p(M,s+4);
s+=8;var Na=O(M,s),NX=O(M,s+8);s+=16;var Ni=O(M,s),mm=O(M,s+8);s+=16;var NT=p(M,s);s+=4;if(NT!=1)throw"more than one map plane";
var NF=Mw*mp,Ns=new Float32Array(NF);for(var NB=0;NB<NF;NB++)Ns[NB]=X.nr(M,s+NB*4);for(var NB=0;NB<NF;
NB++)if(Ns[NB]!=1)Rz=!1;if(!Rz){var Nt=NM.r,NU=NM.O,Nk=.9999*(mp-1)/Nt,RJ=.9999*(Mw-1)/NU;for(var I=0;
I<NU;I+=NV)for(var d=0;d<Nt;d+=md){var NN=(NM.y+I)*y+(NM.x+d),mv=d*Nk,NA=I*RJ,Mr=Math.floor(mv),p$=Math.floor(NA),RL=mv-Mr,mR=NA-p$,rY=p$*mp+Mr,Ro=Ns[rY]*(1-RL)+Ns[rY+1]*RL,mQ=Ns[rY+mp]*(1-RL)+Ns[rY+1+mp]*RL,mS=Ro*(1-mR)+mQ*mR;
B[NN]=~~(B[NN]*mS+.5)}}}else console.log("Unknown opcode "+x+" in OpcodeList"+Q+". Length: "+L);U+=L}};
k.raw.mCi=function(Q,S){var B=Qh.H_(S),y=k.raw.HC(Q,S),l=k.Sl.SD(y),D=Qh.muo(B,Qh.H_(Qh.mug)),R=k.Sl.multiply(D,l);
return R};k.raw.muC=function(Q){var S=Q.t50728.slice(0),y=1;S.push(0);var B={x:.34567,y:.3585};do{var l=k.Sl.SD(k.raw.HC(Q,B)),D=k.Sl.vx(l,S),R=Qh.muF(D);
y=Math.abs(B.x-R.x)+Math.abs(B.y-R.y);B=R}while(y>1e-7);return B};k.raw.HC=function(Q,S){var B=Qh.HF(S),y=k.raw.muu,l=Q.t50779?Q.t50779[0]:0,D=y(Q.t50721,Q.t50722,Q.t50778[0],l,B.wh),R=y(Q.t50723,Q.t50724,Q.t50778[0],l,B.wh);
R=R||[1,0,0,0,1,0,0,0,1];var p=Q.t50727?[Q.t50727[0],0,0,0,Q.t50727[1],0,0,0,Q.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return k.Sl.multiply(k.Sl.UJ(p),k.Sl.multiply(k.Sl.UJ(R),k.Sl.UJ(D)))};k.raw.muu=function(Q,S,B,y,l){if(!Q&&!S){return null}else if(Q&&!S){return Q}else if(l<B){return Q}else if(l>y){return S}else{var D=(1/l-1/y)/(1/B-1/y),R=1-D,p=[];
for(var O=0;O<9;O++)p[O]=Q[O]*D+S[O]*R;return p}};var Qh={};Qh.mug={x:.34567,y:.3585};Qh.HW=[{t:0,cT:.18006,Kh:.26352,xQ:-.24341},{t:10,cT:.18066,Kh:.26589,xQ:-.25479},{t:20,cT:.18133,Kh:.26846,xQ:-.26876},{t:30,cT:.18208,Kh:.27119,xQ:-.28539},{t:40,cT:.18293,Kh:.27407,xQ:-.3047},{t:50,cT:.18388,Kh:.27709,xQ:-.32675},{t:60,cT:.18494,Kh:.28021,xQ:-.35156},{t:70,cT:.18611,Kh:.28342,xQ:-.37915},{t:80,cT:.1874,Kh:.28668,xQ:-.40955},{t:90,cT:.1888,Kh:.28997,xQ:-.44278},{t:100,cT:.19032,Kh:.29326,xQ:-.47888},{t:125,cT:.19462,Kh:.30141,xQ:-.58204},{t:150,cT:.19962,Kh:.30921,xQ:-.70471},{t:175,cT:.20525,Kh:.31647,xQ:-.84901},{t:200,cT:.21142,Kh:.32312,xQ:-1.0182},{t:225,cT:.21807,Kh:.32909,xQ:-1.2168},{t:250,cT:.22511,Kh:.33439,xQ:-1.4512},{t:275,cT:.23247,Kh:.33904,xQ:-1.7298},{t:300,cT:.2401,Kh:.34308,xQ:-2.0637},{t:325,cT:.24792,Kh:.34655,xQ:-2.4681},{t:350,cT:.25591,Kh:.34951,xQ:-2.9641},{t:375,cT:.264,Kh:.352,xQ:-3.5814},{t:400,cT:.27218,Kh:.35407,xQ:-4.3633},{t:425,cT:.28039,Kh:.35577,xQ:-5.3762},{t:450,cT:.28863,Kh:.35714,xQ:-6.7262},{t:475,cT:.29685,Kh:.35823,xQ:-8.5955},{t:500,cT:.30505,Kh:.35907,xQ:-11.324},{t:525,cT:.3132,Kh:.35968,xQ:-15.628},{t:550,cT:.32129,Kh:.36011,xQ:-23.325},{t:575,cT:.32931,Kh:.36038,xQ:-40.77},{t:600,cT:.33724,Kh:.36051,xQ:-116.45}];
Qh.HF=function(Q){var S=Qh.HW,B=2*Q.x/(1.5-Q.x+6*Q.y),y=3*Q.y/(1.5-Q.x+6*Q.y),l=0,D=0,R=0;for(;R<31;
R++){l=y-S[R].Kh-S[R].xQ*(B-S[R].cT);if(R>0&&l<0){break}D=l}while(R>=S.length)R--;l/=Math.sqrt(1+S[R].xQ*S[R].xQ);
D/=Math.sqrt(1+S[R-1].xQ*S[R-1].xQ);var p=D/(D-l),O=1e6/((S[R].t-S[R-1].t)*p+S[R-1].t),M=B-((S[R].cT-S[R-1].cT)*p+S[R-1].cT),U=y-((S[R].Kh-S[R-1].Kh)*p+S[R-1].Kh),m=Math.sqrt(1+S[R].xQ*S[R].xQ),Y=1/m,x=S[R].xQ/m,T=Math.sqrt(1+S[R-1].xQ*S[R-1].xQ),$=1/T,L=S[R-1].xQ/T,s=(Y-$)*p+$,j=(x-L)*p+L,Z=Math.sqrt(s*s+j*j);
s/=Z;j/=Z;var e=(M*s+U*j)*-3e3;return{wh:O,Tw:e}};Qh.muW=function(Q,S){var B=Qh.HW,y=1e6/Q,l=1;for(;
l<31;l++){if(y<B[l].t){break}}var D=(B[l].t-y)/(B[l].t-B[l-1].t),R=(B[l-1].cT-B[l].cT)*D+B[l].cT,p=(B[l-1].Kh-B[l].Kh)*D+B[l].Kh,O=Math.sqrt(1+B[l].xQ*B[l].xQ),M=1/O,U=B[l].xQ/O,m=Math.sqrt(1+B[l-1].xQ*B[l-1].xQ),Y=1/m,x=B[l-1].xQ/m,T=(Y-M)*D+M,$=(x-U)*D+U,L=Math.sqrt(T*T+$*$);
T/=L;$/=L;R+=T*S/-3e3;p+=$*S/-3e3;return{x:1.5*R/(R-4*p+2),y:p/(R-4*p+2)}};Qh.muF=function(Q){var S=Q[0]+Q[1]+Q[2];
return{x:Q[0]/S,y:Q[1]/S}};Qh.H_=function(Q){return{x:Q.x/Q.y,y:1,BD:(1-Q.x-Q.y)/Q.y}};Qh.muo=function(Q,S){var B=k.Sl.UJ([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),y=[Q.x,Q.y,Q.BD,0],l=[S.x,S.y,S.BD,0];
y=k.Sl.vx(B,y);l=k.Sl.vx(B,l);var D=l[0]/y[0],R=l[1]/y[1],p=l[2]/y[2],O=k.Sl.UJ([D,0,0,0,R,0,0,0,p]),M=k.Sl.SD(B);
return k.Sl.multiply(k.Sl.multiply(M,O),B)};k.raw.hO={};k.raw.LK=function(Q){Q*=8;var S=[8,10,12,14,16];
for(var B in k.raw.wD){var y=k.raw.wD[B];if(y.length==4)continue;var l=y[4],D=y[5];for(var R=0;R<S.length;
R++)if(l*D*S[R]==Q)return[B,S[R]]}var p=[[4e3,3e3]];for(var R=0;R<p.length;R++){var y=p[R],l=y[0],D=y[1];
for(var R=0;R<S.length;R++)if(l*D*S[R]==Q)return[y,S[R]]}return null};k.raw.muZ=function(Q){var Q=new Uint8Array(Q);
for(var S=0;S<Q.length;S+=2){var B=Q[S];Q[S]=Q[S+1];Q[S+1]=B}var y=k.raw.LK(Q.length),l=k.raw.wD[y[0]];
if(l==null)l=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,y[0][0],y[0][1]];var D=l[4],R=l[5],p=Math.max(l[2],116),O={data:Q,QY:1,width:D,height:R,t256:[D],t257:[R],t258:[y[1]],t277:[1],t33421:[2,2],t33422:k.raw.Hw[l[1]],t50706:[1,2,0,0],t50714:[p,p,p,p],t50717:[l[3]],t50721:l[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var S=0;S<9;S++)O.t50721[S]/=1e4;return O};k.raw.Hw=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];k.raw.normalize=function(Q,S){if(Q.t50706!=null)return;
var B=Q.t258[0],y=Q.exifIFD,S=new Uint8Array(S);Q.t50706=[1,2,0,0];var l=Q.t272[0].trim();if(l.indexOf(" ")==-1)l=Q.t271[0].trim()+" "+l;
Q.t50708=[l];var D=k.raw.wD,R=D[l.toLowerCase()];if(R==null)for(var p in D)if(l.toLowerCase().startsWith(p))R=D[p];
if(R==null)throw l;var O=R[2];Q.t50714=[O,O,O,O];Q.t50717=[R[3]];Q.t50721=R[0].slice(0);for(var M=0;
M<9;M++)Q.t50721[M]=Q.t50721[M]*(1/1e4);Q.t50723=[1,0,0,0,1,0,0,0,1];if(Q.t50728==null)Q.t50728=[.35,1,.6];
Q.t50778=[17];if(Q.t271[0].startsWith("SONY")){var U=UTIF["_bin"+(Q.isLE?"LE":"BE")],m=Q.t28688,j;if(JSON.stringify(m)!="[8000,10400,12900,14100]")console.log(m);
if(m){var Y=[0,0,0,0,0,4095],x=new Uint16Array(16385);for(var M=0;M<4;M++){var T=m[M]>>>2;Y[M+1]=T;if(T>4095)throw"e"}for(var M=0;
M<16385;M++)x[M]=M;for(var M=0;M<5;M++)for(var $=Y[M]+1;$<=Y[M+1];$++)x[$]=x[$-1]+(1<<M);var L=S.length*8<Q.width*Q.height*B;
if(L)Q.t50712=x}else console.log("no curve");var s=Q.dngPrvt;if(s){var Z=s.t29184[0],e=s.t29185[0],J=(Q.isLE?X.qj:X.j)(s.t29217,0),N=new Uint32Array(S.slice(Z,Z+(e&4294967292)).buffer),E=new Uint32Array(e>>>2);
k.raw.mgN(N,E,e>>>2,J);var h=new Uint8Array(Z+e);h.set(new Uint8Array(E.buffer),Z);var o=[];UTIF._readIFD(U,h,Z,o,0,!1);
var V=o.pop(),n=V.t29458;Q.t50728=[n[1]/n[0],1,n[1]/n[3]];Q.t50730=[.5];var t=V.t29891;Q.t50829=[t[1],t[0],t[3],t[2]]}else if(y.makerNote&&y.makerNote.t8208){var j=y.makerNote,q=j.t8208,u=q.length,g=0,r=new Uint8Array(256);
for(var M=249;M<256;M++)r[M]=M;for(var M=0;M<249;M++)r[M*M*M%249]=M;for(var M=0;M<u;M++)q[M]=r[q[M]];
if(u==6604)g=612;else throw"e";var n=[];for(var M=0;M<3;M++)n.push(X.fT(q,g+M*2));console.log(n);Q.t50728=[n[1]/n[0],1,n[1]/n[2]]}else console.log("no white balance");
if(Q.width*Q.height*1.5==Q.t279[0]){O=O>>>2;Q.t50714=[O,O,O,O];Q.t50717=[R[3]>>>2]}}else if(Q.t271[0].startsWith("Canon")){var S=Q.data,f=S.slice(0),I=Q.t50752,d=[],c=0;
if(I==null||I[0]==0&&I[1]==0)d.push(Q.width);else{for(var M=0;M<I[0];M++)d.push(I[1]);d.push(I[2])}var a=Q.width*2;
for(var _=0;_<d.length;_++){var C=d[_],F=2*c,i=2*C;for(var rP=0;rP<Q.height;rP+=2){var rH=rP*a+F,rK=Q.height*F+(rP>>1)*i*2;
for(var M=0;M<i;M++){S[rH+M]=f[rK+M];S[rH+M+a]=f[rK+M+i]}}c+=C}var j=y.makerNote;if(j.t16385){var rY=j.t224,rI=0;
if(rY){Q.t50719=[rY[5],rY[6]];Q.t50720=[rY[7]+1-rY[5],rY[8]+1-rY[6]]}var Nc=j.t16385,G=Nc.length;if(G==582)rI=1;
else if(G==653)rI=2;else if(G==796)rI=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(G)!=-1)rI=4;
else if(G==5120){rI=5;Nc=new Int16Array(Nc.slice(0).buffer)}else if(G==1273||G==1275)rI=6;else if([1312,1313,1316,1506].indexOf(G)!=-1)rI=7;
else if([1560,1592,1353,1602].indexOf(G)!=-1)rI=8;else throw"e"+G;var rb=Nc[0],Nr=[null,[25,166],[34,286],[63,196],[63],[71,rb==-4?333:264],[63,251],[63,rb==10?504:728],[63,326]],g=Nr[rI][0],Nz=Nr[rI][1];
if(rI==4){if(Nc[0]==2)Nz=231;else if(Nc[0]==3)Nz=231;else if(Nc[0]==4)Nz=231;else if(Nc[0]==5)Nz=231;
else if(Nc[0]==6)Nz=231;else if(Nc[0]==7)Nz=231;else if(Nc[0]==9)Nz=231;else throw"e"}Q.t50728=[Nc[g+1]/Nc[g],1,Nc[g+1]/Nc[g+3]];
var O=Nz==null?1024:Nc[Nz];Q.t50714=[O,O,O,O]}else{Q.t50728=[.4,1,.6]}}else if(Q.t271[0].startsWith("NIKON")){var j=y.makerNote,NL=Q.isLE?X.fT:X.Ll,NC=0,Ng=0,md,Na=0;
if(j.t61){var Nm=j.t61,NN=[];for(var M=0;M<4;M++)NN[M]=Nm[M]/Math.pow(2,14-B);Q.t50714=NN}if(j.t3585){var Ne=j.t3585,M=0,Z=22;
while(Z<Ne.length&&M!=-4){var Ny=X.qj(Ne,Z);Z+=4;Z+=14;M=X.qj(Ne,Z)-4;Z+=4;if(Ny==1990472198){if(Ne[Z]!=0)throw"Flip"}if(Ny==1990472199){var NG=X.fT(Ne,Z);
if(NG==0)Q.QY=1;else if(NG==270)Q.QY=8;else throw"e "+NG}Z+=M}}if(j.t183){var NM=j.t183,NQ=[];for(var M=0;
M<6;M++)NQ.push(NL(NM,16+M*2));NC=NQ[0];Ng=NQ[1]}if(j.t3614){var NR=j.t3614;NC=X.qj(NR,8);Ng=X.qj(NR,12)}if(NC!=0){if(NC<Ng){var NV=NC;
NC=Ng;Ng=NV}var c=Q.width-NC>>>1,rP=Q.height-Ng>>>1;Q.t50829=[rP,c,rP+Ng,c+NC]}if(j.t12)md=[1/j.t12[0],1,1/j.t12[1]];
else if(j.t151){var NW=k.raw.mgt(j,151),Nh=NW[0],Nt=NW[1],NU=NW[2];if(Nh=="0100"&&Nt>=80)throw"e";else if(Nh=="0103"&&Nt>=26){var Mw=[];
for(var M=0;M<4;M++)Mw.push(NL(NU,16+M*2));md=[Mw[1]/Mw[0],1,Mw[3]/Mw[2]]}else if(Nh=="0204"&&Nt>=564||Nh=="0205"&&Nt>=284){var Z=Nh=="0204"?6:14,Mw=[];
for(var M=0;M<4;M++)Mw.push(NL(NU,Z+M*2));md=[Mw[1]/Mw[0],1,Mw[1]/Mw[3]]}else throw"e"}else console.log("no white balance info");
if(l=="NIKON D1")md=[1,1,1];if(md)Q.t50728=md;var mp=j.t150?j.t150:j.t140;if(mp){var NX=mp[Na++],Ni=mp[Na++],NF;
if(NX==73||Ni==88)Na+=2110;Na+=8;var mm=1<<B&32767,NT=NL(mp,Na);Na+=2;var x=[];if(NT>1)NF=Math.floor(mm/(NT-1));
if(NX==68&&Ni==32&&NF>0){for(M=0;M<NT;M++){x[M*NF]=NL(mp,Na);Na+=2}for(M=0;M<mm;M++)x[M]=Math.floor((x[M-M%NF]*(NF-M%NF)+x[M-M%NF+NF]*(M%NF))/NF)}else if(NX!=70&&NT<=16385){mm=NT;
for(var M=0;M<NT;M++)x[M]=NL(mp,Na+2*M);Na+=2*NT}if(x.length!=0)Q.t50712=new Uint16Array(x)}}else if(l.startsWith("FujiFilm")){}else alert("Unknown camera "+l)};
k.raw.mgN=function(Q,S,B,y){if(0==B)return;var l=new Uint32Array(128),D=new Uint8Array(l.buffer),R=127,p=0,O=0;
for(var R=0;R<4;R++)l[R]=y=(y*15625>>>0)*3125+1>>>0;l[3]=l[3]<<1|(l[0]^l[2])>>>31;for(var R=4;R<127;
R++)l[R]=(l[R-4]^l[R-2])<<1|(l[R-3]^l[R-1])>>>31;for(var R=0;R<127;R++)l[R]=X.j(D,R*4);for(;B>0;B--){l[R&127]=l[R+1&127]^l[R+1+64&127];
var M=l[R&127],U=Q[p];U^=M;S[O]=U;p++;O++;R++}};k.raw.mg_=function(Q,S){var B=X.Ly(S,0,4),y=k.raw.mgZ;
for(var l=0;l<y.length;l++)if(y[l][0]==Q&&B.startsWith(y[l][1])&&(y[l][2]==0||y[l][2]==S.length))return y[l];
throw"e"};k.raw.mgn=function(Q){if(Q.t29==null)return[];var S=k.raw.mWN,B=k.raw.mWJ,y=Q.t29[0],l=0,p=0;
for(var D=0;D<y.length;D++){var R=y.charCodeAt(D);l=l*10+(48<=R&&R<=57?R-48:R%10)}var O=Q.t167[0];for(var D=0;
D<4;D++)p^=O>>>(D<<3)&255;var M=S[l&255],U=B[p&255];return[M,U,96]};k.raw.mgt=function(Q,S){var B=Q["t"+S],y=B.length,l=k.raw.mg_(S,B),D=X.Ly(B,0,4),R,p=l[4];
if(p==null)R=B.slice(4);else{R=new Uint8Array(y-p);var O=k.raw.mgn(Q),M=O[0],U=O[1],m=O[2];for(var Y=0;
Y<R.length;Y++){U=U+M*m++&255;R[Y]=B[p++]^U}}return[D,y,R]};k.raw.mgZ=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
k.raw.mWN=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
k.raw.mWJ=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
k.raw.wD={"canon eos 100d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos rebel sl1":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos kiss x7":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos 200d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos rebel sl2":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos kiss x9":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos 300d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos digital rebel":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos kiss digital":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos d30":[[9805,-2689,-1312,-5803,13064,3068,-2438,3075,8775],1,126,4095],"canon eos d60":[[6188,-1341,-890,-7168,14489,2937,-2640,3228,8483],1,127,4e3],"canon eos 10d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,127,4e3],"canon eos 20d":[[6599,-537,-891,-8071,15783,2424,-1983,2234,7462],1,126,4095],"canon eos 30d":[[6257,-303,-1e3,-7880,15621,2396,-1714,1904,7046],1,127,3398],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos digital rebel xt":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos kiss digital n":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d digital":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 40d":[[6071,-747,-856,-7653,15365,2441,-2025,2553,7315],1,1021,13600],"canon eos 450d":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos digital rebel xsi":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss digital x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos 50d":[[4920,616,-593,-6493,13964,2784,-1774,3178,7005],3,1020,13653],"canon eos 60d":[[6719,-994,-925,-4408,12426,2211,-887,2129,6051],3,2026,14200],"canon eos 70d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2026,13653],"canon eos 80d":[[7457,-671,-937,-4849,12495,2643,-1213,2354,5492],1,512,11892],"canon eos 700d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos rebel t5i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos kiss x7i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos 750d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos kiss x8i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 800d":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos kiss x9i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos 760d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6s":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 8000d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 77d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 9000d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 500d":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos rebel t1i":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos kiss x3":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos 550d":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos rebel t2i":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos kiss x4":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos 600d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos rebel t3i":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos kiss x5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos 650d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos rebel t4i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos kiss x6i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos 5d":[[6347,-479,-972,-8297,15954,2480,-1968,2131,7649],1,127,3692],"canon eos 5d mark ii":[[4716,603,-830,-7798,15474,2480,-1496,1937,6651],3,1024,12995],"canon eos 5d mark iii":[[6722,-635,-963,-4287,12460,2028,-908,2162,5668],1,2060,16383],"canon eos 5d mark iv":[[6446,-366,-864,-4436,12204,2513,-952,2496,6348],1,2049,14448],"canon eos 5ds":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 5ds r":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 6d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2048,15e3],"canon eos 6d mark ii":[[6875,-970,-932,-4691,12459,2501,-874,1953,5809],1,2049,14558],"canon eos 7d":[[6844,-996,-856,-3876,11761,2396,-593,1772,6198],3,1025,8150],"canon eos 7d mark ii":[[7268,-1082,-969,-4186,11839,2663,-825,2029,5839],1,2047,13400],"canon eos 1000d":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos digital rebel xs":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos kiss digital f":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos 1100d":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos rebel t3":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos 1200d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos rebel t5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos kiss x70":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos 1300d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos rebel t6":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos kiss x80":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos 2000d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos rebel t7":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 1500d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 4000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos rebel t100":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 3000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 400d":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos digital rebel xti":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos kiss digital x":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos m":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos m2":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2026,13584],"canon eos m3":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2048,16e3],"canon eos m5":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m6":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m10":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2048,16e3],"canon eos m100":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos-1d":[[6806,-179,-1020,-8097,16415,1687,-3267,4236,7690],2,0,3588],"canon eos-1ds":[[4374,3631,-1743,-7520,15212,2472,-2892,3632,8161],2,0,3500],"canon eos d2000c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,96,4095],"canon eos-1d mark ii":[[6264,-582,-724,-8312,15948,2504,-1744,1919,8664],1,127,3700],"canon eos-1d mark ii n":[[6240,-466,-822,-8180,15825,2500,-1801,1938,8042],1,127,3700],"canon eos-1d mark iii":[[6291,-540,-976,-8350,16145,2311,-1714,1858,7326],1,1023,15100],"canon eos-1d mark iv":[[6014,-220,-795,-4109,12014,2361,-561,1824,5787],3,2e3,13e3],"canon eos-1ds mark ii":[[6517,-602,-867,-8180,15926,2378,-1618,1771,7633],3,126,4060],"canon eos-1ds mark iii":[[5859,-211,-930,-8255,16017,2353,-1732,1887,7448],1,1021,15100],"canon eos-1d x":[[6847,-614,-1014,-4669,12737,2139,-1197,2488,6846],1,2050,15100],"canon eos-1d x mark ii":[[7596,-978,-967,-4808,12571,2503,-1398,2567,5752],1,2048,14888],"canon powershot pro1":[[10062,-3522,-999,-7643,15117,2730,-765,817,7323],1,129,4095],"canon powershot g1":[[-4778,9467,2172,4743,-1141,4344,-5146,9908,6077,-1566,11051,557],0,31,1023],"canon powershot g2":[[9087,-2693,-1049,-6715,14382,2537,-2291,2819,7790],1,0,1023],"canon powershot g3":[[9212,-2781,-1073,-6573,14189,2605,-2300,2844,7664],1,0,4095],"canon powershot g3 x":[[9701,-3857,-921,-3149,11537,1817,-786,1817,5147],1,2047,16e3],"canon powershot g5":[[9757,-2872,-933,-5972,13861,2301,-1622,2328,7212],1,0,4095],"canon powershot g5 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g6":[[9877,-3775,-871,-7613,14807,3072,-1448,1305,7485],1,128,4095],"canon powershot g7 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,511,4e3],"canon powershot g7 x mark ii":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g1 x":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16383],"canon powershot g1 x mark ii":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16e3],"canon powershot g1 x mark iii":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon powershot g12":[[13244,-5501,-1248,-1508,9858,1935,-270,1083,4366],1,120,4095],"canon powershot g11":[[12177,-4817,-1069,-1612,9864,2049,-98,850,4471],1,120,4095],"canon powershot g10":[[11093,-3906,-1028,-5047,12492,2879,-1003,1750,5561],3,128,4095],"canon powershot g9":[[7368,-2141,-598,-5621,13254,2625,-1418,1696,5743],1,125,4095],"canon powershot g9 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g9 x mark ii":[[10056,-4131,-944,-2576,11143,1625,-238,1294,5179],1,2048,16e3],"canon powershot g15":[[7474,-2301,-567,-4056,11456,2975,-222,716,4181],3,500,2800],"canon powershot g16":[[8020,-2687,-682,-3704,11879,2052,-965,1921,5556],1,0,4095],"canon powershot sx1 is":[[6578,-259,-502,-5974,13030,3309,-308,1058,4970],1,125,4095],"canon powershot s30":[[10566,-3652,-1129,-6552,14662,2006,-2197,2581,7670],1,31,1023],"canon powershot s40":[[8510,-2487,-940,-6869,14231,2900,-2318,2829,9013],1,0,1023],"canon powershot s45":[[8163,-2333,-955,-6682,14174,2751,-2077,2597,8041],1,129,4095],"canon powershot s50":[[8882,-2571,-863,-6348,14234,2288,-1516,2172,6569],1,129,4095],"canon powershot s60":[[8795,-2482,-797,-7804,15403,2573,-1422,1996,7082],1,129,4095],"canon powershot s70":[[9976,-3810,-832,-7115,14463,2906,-901,989,7889],1,129,4095],"canon powershot s90":[[12374,-5016,-1049,-1677,9902,2078,-83,852,4683],1,125,4095],"canon powershot s95":[[13440,-5896,-1279,-1236,9598,1931,-180,1001,4651],1,125,4095],"canon powershot s100":[[7968,-2565,-636,-2873,10697,2513,180,667,4211],3,125,4095],"canon powershot s110":[[8039,-2643,-654,-3783,11230,2930,-206,690,4194],3,500,3072],"canon powershot s120":[[6961,-1685,-695,-4625,12945,1836,-1114,2152,5518],1,0,4e3],"canon powershot sx50 hs":[[12432,-4753,-1247,-2110,10691,1629,-412,1623,4926],1,127,4095],"canon powershot sx60 hs":[[13161,-5451,-1344,-1989,10654,1531,-47,1271,4955],1,128,4e3],"nikon d100":[[5902,-933,-782,-8983,16719,2354,-1402,1455,6464],2,0,4095],"nikon d1":[[16772,-4726,-2141,-7611,15713,1972,-2846,3494,9521],0,0,4095],"nikon d1h":[[7577,-2166,-926,-7454,15592,1934,-2377,2808,8606],0,0,4095],"nikon d1x":[[7702,-2245,-975,-9114,17242,1875,-2679,3055,8521],0,0,4095],"nikon d200":[[8367,-2248,-763,-8758,16447,2422,-1527,1550,8053],2,0,3880],"nikon d2h":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2hs":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2x":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d2xs":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d3":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,15892],"nikon d3s":[[8828,-2406,-694,-4874,12603,2541,-660,1509,7587],1,0,15520],"nikon d3x":[[7171,-1986,-648,-8085,15555,2718,-2170,2512,7457],1,0,15892],"nikon d300":[[9030,-1992,-715,-8465,16302,2255,-2689,3217,8069],1,0,15236],"nikon d300s":[[9030,-1992,-716,-8465,16302,2256,-2689,3217,8069],1,0,15236],"nikon d3000":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d3200":[[7013,-1408,-635,-5268,12902,2640,-1470,2801,7379],1,0,3880],"nikon d3300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3400":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d4":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5":[[9200,-3522,-992,-5755,13803,2117,-753,1486,6338],1,400,15520],"nikon z 6":[[8210,-2534,-683,-5355,13338,2212,-1143,1929,6464],1,1008,15520],"nikon z 7":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,1008,15520],"nikon df":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5100":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d3100":[[7911,-2167,-813,-5327,13150,2408,-1288,2483,7968],3,0,3880],"nikon d40":[[6992,-1668,-806,-8138,15748,2543,-874,850,7897],0,0,3880],"nikon d40x":[[8819,-2543,-911,-9025,16928,2151,-1329,1213,8449],3,0,3880],"nikon d50":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,400,15520],"nikon d5000":[[7309,-1403,-519,-8474,16008,2622,-2433,2826,8064],3,0,3767],"nikon d5200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d5300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3972],"nikon d5500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d5600":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d60":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d600":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d610":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d70":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d700":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,3972],"nikon d750":[[9020,-2890,-715,-4535,12436,2348,-934,1919,7086],1,150,3880],"nikon d7000":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d7100":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d7200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,600,15892],"nikon d7500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,100,3880],"nikon d70s":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d80":[[8629,-2410,-883,-9055,16940,2171,-1490,1363,8520],3,0,3880],"nikon d800":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d800e":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d810":[[9369,-3195,-791,-4488,12430,2301,-893,1796,6872],1,150,3880],"nikon d850":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,100,3880],"nikon d4s":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,192,3880],"nikon d90":[[7309,-1403,-519,-8474,16008,2622,-2434,2826,8064],3,0,3767],"nikon 1 j1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 j2":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,4095],"nikon 1 j3":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 j4":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 j5":[[7520,-2518,-645,-3844,12102,1945,-913,2249,6835],1,200,3800],"nikon 1 s1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 s2":[[6612,-1342,-618,-3338,11055,2623,-174,1792,5075],1,200,4095],"nikon 1 v1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 v2":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 v3":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 aw1":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon e5400":[[9349,-2987,-1001,-7919,15766,2266,-2098,2680,6839],0,0,4095],"nikon e5700":[[-5368,11478,2368,5537,-113,3148,-4969,10021,5782,778,9028,211],0,0,4095],"nikon coolpix p330":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p340":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,200,3800],"nikon coolpix a":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon coolpix b700":[[14387,-6014,-1299,-1357,9975,1616,467,1047,4744],1,200,4e3],"nikon coolpix p6000":[[9698,-3367,-914,-4706,12584,2368,-837,968,5801],1,0,4095],"nikon coolpix p7000":[[11432,-3679,-1111,-3169,11239,2202,-791,1380,4455],1,0,4095],"nikon coolpix p7100":[[11053,-4269,-1024,-1976,10182,2088,-526,1263,4469],1,0,3800],"nikon coolpix p7700":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p7800":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p1000":[[14294,-6116,-1333,-1628,10219,1637,-14,1158,5022],1,200,4095],"panasonic dmc-cm1":[[8770,-3194,-820,-2871,11281,1803,-513,1552,4434],1,142,4095],"panasonic dmc-fx150":[[9082,-2907,-925,-6119,13377,3058,-1797,2641,5609],0,15,3986],"panasonic dmc-fz28":[[10109,-3488,-993,-5412,12812,2916,-1305,2140,5543],0,15,3986],"panasonic dmc-fz150":[[11904,-4541,-1189,-2355,10899,1662,-296,1586,4289],3,145,3956],"panasonic dmc-fz200":[[8112,-2563,-740,-3730,11784,2197,-941,2075,4933],3,150,3956],"panasonic dmc-fz2000":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz2500":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz300":[[8378,-2798,-769,-3068,11410,1877,-538,1792,4623],3,143,4095],"panasonic dmc-g1":[[8199,-2065,-1056,-8124,16156,2033,-2458,3022,7220],3,15,3986],"panasonic dmc-g2":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-g10":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-gh1":[[6299,-1466,-532,-6535,13852,2969,-2331,3112,5984],3,0,3986],"panasonic dmc-gh3":[[6559,-1752,-491,-3672,11407,2586,-962,1875,5130],3,155,3956],"panasonic dmc-gh4":[[7122,-2108,-512,-3155,11201,2231,-541,1423,5045],0,142,4095],"panasonic dmc-gf1":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,15,3986],"panasonic dmc-gf2":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,150,3956],"panasonic dmc-gm1":[[6770,-1895,-744,-5232,13145,2303,-1664,2691,5703],0,143,3971],"panasonic dmc-gm5":[[8238,-3244,-679,-3921,11814,2384,-836,2022,5852],0,143,4095],"panasonic dmc-g3":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,143,3956],"panasonic dmc-g5":[[7798,-2562,-740,-3879,11584,2613,-1055,2248,5434],0,150,3956],"panasonic dmc-g6":[[8294,-2891,-651,-3869,11590,2595,-1183,2267,5352],0,142,3956],"panasonic dmc-g7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g70":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g8":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g80":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g81":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g85":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gf3":[[9051,-2468,-1204,-5212,13276,2121,-1197,2510,6890],3,150,3956],"panasonic dmc-gf5":[[8228,-2945,-660,-3938,11792,2430,-1094,2278,5793],3,150,3956],"panasonic dmc-gf6":[[8130,-2801,-946,-3520,11289,2552,-1314,2511,5791],2,150,3956],"panasonic dmc-gf7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gh2":[[7780,-2410,-806,-3913,11724,2484,-1018,2390,5298],3,15,3800],"panasonic dmc-fz35":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz38":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz45":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz70":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz72":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz100":[[16197,-6146,-1761,-2393,10765,1869,366,2238,5248],3,120,3986],"panasonic dmc-fz1000":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,143,4095],"panasonic dmc-gx1":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,150,3956],"panasonic dmc-gx7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,150,3956],"panasonic dmc-gx8":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],3,143,4095],"panasonic dmc-gx85":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx80":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx7mk2":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-lf1":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,143,3971],"panasonic dmc-lx3":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx15":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx9":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx10":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"leica c (typ 112)":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,146,3956],"leica digilux 2":[[11340,-4069,-1275,-7555,15266,2448,-2960,3426,7685],1,0,4095],"leica d-lux 3":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica v-lux 1":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-l10":[[8025,-1942,-1050,-7920,15904,2100,-2456,3005,7039],3,0,3986],"panasonic dmc-fz30":[[10976,-4029,-1141,-7918,15491,2600,-1670,2071,8246],1,0,3971],"panasonic dmc-fz50":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-fz8":[[8986,-2755,-802,-6341,13575,3077,-1476,2144,6379],1,0,3986],"panasonic dmc-fz18":[[9932,-3060,-935,-5809,13331,2753,-1267,2155,5575],0,0,3986],"panasonic dmc-l1":[[8054,-1885,-1025,-8349,16367,2040,-2805,3542,7629],3,0,3986],"panasonic dmc-lx2":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica d-lux 4":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"leica d-lux 5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"panasonic dmc-lx7":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux 6":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux (typ 109)":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dmc-lx1":[[10704,-4187,-1230,-8314,15952,2501,-920,945,8927],1,0,3971],"panasonic dmc-lx100":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dc-lx100m2":[[8585,-3127,-833,-4005,12250,1953,-650,1494,4862],0,143,4095],"panasonic dmc-tz60":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz61":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-zs40":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz71":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-zs50":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz70":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz81":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-zs60":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz101":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tx1":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-fz82":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-gh5":[[7641,-2336,-605,-3218,11299,2187,-485,1338,5121],1,143,4095],"panasonic dc-gh5s":[[6929,-2355,-708,-4192,12534,1828,-1097,1989,5195],1,510,8e3],"panasonic dc-g9":[[7685,-2375,-634,-3687,11700,2249,-748,1546,5111],1,148,4095],"panasonic dc-gf9":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx800":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx850":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx9":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],0,143,4095],"panasonic dc-tz90":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-zs70":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz92":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz93":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz202":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-tz200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"pentax k100d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,3950],"pentax k110d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax k100d super":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax *ist d":[[9651,-2059,-1189,-8881,16512,2487,-1460,1345,10687],1,128,4095],"pentax *ist dl":[[10829,-2838,-1115,-8339,15817,2696,-837,680,11939],1,128,4095],"pentax *ist dl2":[[10504,-2438,-1189,-8603,16207,2531,-1022,863,12242],1,127,3950],"pentax *ist ds":[[10371,-2333,-1206,-8688,16231,2602,-1230,1116,11282],1,128,3950],"pentax k10d":[[9566,-2863,-803,-7170,15172,2112,-818,803,9705],1,0,4095],"pentax k20d":[[9427,-2714,-868,-7493,16092,1373,-2199,3264,7180],0,0,4095],"pentax k200d":[[9186,-2678,-907,-8693,16517,2260,-1129,1094,8524],1,0,4095],"pentax k-s1":[[8512,-3211,-787,-4167,11966,2487,-638,1288,6054],1,32,4062],"pentax k-s2":[[8662,-3280,-798,-3928,11771,2444,-586,1232,6054],1,0,3839],"pentax k-70":[[8113,-2078,-1275,-4359,12953,1514,-1091,1955,6044],1,64,16319],"pentax k-1":[[8827,-2829,-1238,-3611,12203,1549,-897,1687,6291],1,64,16316],"pentax k-1 mark ii":[[8952,-2869,-1256,-3612,12204,1550,-934,1757,6549],1,64,16316],"pentax k-3":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15868],"pentax k-3 ii":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15865],"pentax k-5":[[8713,-2833,-743,-4342,11900,2772,-722,1543,6247],0,512,16383],"pentax k-5 ii":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,16383],"pentax k-5 ii s":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,15863],"pentax k-7":[[9142,-2947,-678,-8648,16967,1663,-2224,2898,8615],0,0,4095],"pentax k-m":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax k-x":[[8843,-2837,-625,-5025,12644,2668,-411,1234,7410],0,41,4095],"pentax k-r":[[9895,-3077,-850,-5304,13035,2521,-883,1768,6936],0,64,4e3],"pentax kp":[[8617,-3228,-1034,-4674,12821,2044,-803,1577,5728],1,128,16254],"pentax k2000":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax 645d":[[9814,-2716,-1439,-5049,13907,1166,-1830,3836,5706],0,0,15767],"pentax 645z":[[9551,-3012,-1235,-3685,12133,1721,-1019,1887,6544],1,1,16316],"samsung ex2f":[[10648,-3897,-1055,-2022,10573,1668,-492,1611,4742],1,0,4095],"samsung ex1":[[8898,-2498,-994,-3144,11328,2066,-760,1381,4576],1,0,16383],"samsung nx1":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung nx5":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx10":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx11":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx100":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx1000":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx1100":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx20":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx200":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx210":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx2000":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx30":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300m":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx3000":[[8060,-2933,-761,-4504,12890,1762,-630,1489,5227],2,0,4095],"samsung nx500":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung ek-gn120":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],3,0,4095],"samsung wb2000":[[12093,-3557,-1155,-1e3,9534,1733,-22,1787,4576],1,0,4095],"sony dsc-rx0":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16620],"sony dsc-rx10":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m2":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m3":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m4":[[7699,-2566,-629,-2967,11270,1928,-378,1286,4807],1,800,16380],"sony dsc-rx100":[[8651,-2754,-1057,-3464,12207,1373,-568,1398,4434],1,800,16620],"sony dsc-rx100m2":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m3":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m4":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5a":[[11176,-4700,-965,-4004,12184,2032,-763,1726,5876],1,800,16300],"sony dsc-rx100m6":[[7325,-2321,-596,-3494,11674,2055,-668,1562,5031],1,800,16300],"sony dsc-rx1r":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,512,33192],"sony dsc-rx1rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony dslr-a100":[[9437,-2811,-774,-8405,16215,2290,-710,596,7181],2,0,4095],"sony dslr-a200":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a230":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a290":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a300":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a330":[[9847,-3091,-929,-8485,16346,2225,-714,595,7103],1,0,4095],"sony dslr-a350":[[6038,-1484,-578,-9146,16746,2513,-875,746,7217],1,0,4095],"sony dslr-a380":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a390":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a450":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],1,500,16e3],"sony dslr-a500":[[6046,-1127,-278,-5574,13076,2786,-691,1419,7625],0,500,16600],"sony dslr-a550":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,512,16372],"sony dslr-a560":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,476,16596],"sony dslr-a580":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],0,520,16596],"sony dslr-a700":[[5775,-805,-359,-8574,16295,2391,-1943,2341,7249],0,520,16383],"sony dslr-a850":[[5413,-1162,-365,-5665,13098,2866,-608,1179,8440],0,500,15e3],"sony dslr-a900":[[5209,-1072,-397,-8845,16120,2919,-1618,1803,8654],1,520,16383],"sony nex-3":[[6907,-1256,-645,-4940,12621,2320,-1710,2581,6230],1,520,16360],"sony nex-3n":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5":[[6807,-1350,-342,-4216,11649,2567,-1089,2001,6420],1,520,16383],"sony nex-5n":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-5r":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5t":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,512,16300],"sony nex-6":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-7":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,512,16300],"sony nex-c3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-f3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16360],"sony ilce-3000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-3500":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5100":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6300":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6500":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-7":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m2":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m3":[[7374,-2389,-551,-5435,13162,2519,-1006,1795,6552],1,512,16300],"sony ilce-7r":[[4913,-541,-202,-6130,13513,2906,-1564,2151,7183],1,512,16300],"sony ilce-7rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony ilce-7rm3":[[6640,-1847,-503,-5238,13010,2474,-993,1673,6527],1,512,16383],"sony ilce-7s":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-7sm2":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-9":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16383],"sony dsc-rx1":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16628],"sony slt-a33":[[6069,-1221,-366,-5221,12779,2734,-1024,2066,6834],1,520,16596],"sony slt-a35":[[5986,-1618,-415,-4557,11820,3120,-681,1404,6971],1,545,16596],"sony slt-a37":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16500],"sony slt-a55":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a55v":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a57":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16596],"sony slt-a58":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony slt-a65":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a65v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony ilca-77m2":[[5991,-1732,-443,-4100,11989,2381,-704,1467,5992],1,512,16300],"sony ilca-68":[[6435,-1903,-536,-4722,12449,2550,-663,1363,6517],1,512,16300],"sony ilca-99m2":[[6660,-1918,-471,-4613,12398,2485,-649,1433,6447],1,512,16300],"sony slt-a99":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony slt-a99v":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sinar hy6":[[16442,-2956,-2422,-2877,12128,750,-1136,6066,4559],1,0,0],"fujifilm finepix s6000fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s100fs":[[11521,-4355,-1065,-6524,13767,3058,-1466,1984,6045],3,512,16383],"fujifilm finepix s200exr":[[11401,-4498,-1312,-5088,12751,2613,-838,1568,5941],1,519,16250],"fujifilm finepix f600exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f700":[[10004,-3219,-1201,-7036,15047,2107,-1863,2565,7736],3,0,16383],"fujifilm finepix f770exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f900exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix e550":[[11044,-3888,-1120,-7248,15168,2208,-1531,2277,8069],3,0,15875],"fujifilm is-1":[[21461,-10807,-1441,-2332,10599,1999,289,875,7703],3,0,15872],"fujifilm finepix s3pro":[[11807,-4612,-1294,-8927,16968,1988,-2120,2741,8006],3,0,15872],"fujifilm finepix s5pro":[[12300,-5110,-1304,-9117,17143,1998,-1947,2448,8100],3,0,15872],"fujifilm finepix s5600":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix e900":[[9183,-2526,-1078,-7461,15071,2574,-2022,2440,8639],3,0,15872],"fujifilm finepix s2pro":[[12492,-4690,-1402,-7033,15423,1647,-1507,2111,7697],3,128,4095],"fujifilm finepix s5000":[[8754,-2732,-1019,-7204,15069,2276,-1702,2334,6982],3,0,15872],"fujifilm finepix s5200":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix s5500":[[11940,-4431,-1255,-6766,14428,2542,-993,1165,7421],1,0,15872],"fujifilm finepix s6500fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s9500":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9000":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9600":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix s9600fd":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix hs10 hs11":[[12440,-3954,-1183,-1123,9674,1708,-83,1614,4086],0,50,3900],"fujifilm finepix hs20exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix hs30exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,258,3900],"fujifilm finepix hs50exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix x100":[[12161,-4457,-1069,-5034,12874,2400,-795,1724,6904],0,254,4e3],"fujifilm finepix x10":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,256,4e3],"fujifilm x-s1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,260,4e3],"fujifilm gfx 50s":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm x-pro1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-pro2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x70":[[10450,-4329,-878,-3217,11105,2421,-752,1758,6519],1,1024,16383],"fujifilm xf1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,257,4e3],"fujifilm x-e1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,255,4094],"fujifilm x20":[[11768,-4971,-1133,-4904,12927,2183,-480,1723,4605],3,257,4094],"fujifilm x30":[[12328,-5256,-1144,-4469,12927,1675,-87,1291,4351],3,257,4094],"fujifilm x100f":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x100s":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100t":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-h1":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-m1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-a1":[[11086,-4555,-839,-3512,11310,2517,-815,1341,5940],1,256,4094],"fujifilm x-a2":[[10763,-4560,-917,-3346,11311,2322,-475,1135,5843],1,256,4094],"fujifilm x-a3":[[12407,-5222,-1086,-2971,11116,2120,-294,1029,5284],1,1024,16383],"fujifilm x-a5":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm xq1":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm xq2":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm x-e2":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-e3":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1023,16383],"fujifilm x-e2s":[[11562,-5118,-961,-3022,11007,2311,-525,1569,6097],1,1024,16383],"fujifilm x-t1":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-t3":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t10":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t20":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-t30":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t100":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"minolta dimage a1":[[9274,-2547,-1167,-8220,16323,1943,-2273,2720,8340],1,0,3965],"minolta dimage 5":[[8983,-2942,-963,-6556,14476,2237,-2426,2887,8014],1,0,3965],"minolta dimage 7":[[9144,-2777,-998,-6676,14556,2281,-2470,3019,7744],1,0,3965],"minolta dimage 7i":[[10880,-3638,-1186,-6496,14313,2364,-2456,3092,7485],1,0,3965],"minolta dimage 7hi":[[11368,-3894,-1242,-6521,14358,2339,-2475,3056,7285],1,0,3965],"sony dsc-f828":[[7924,-1910,-777,-8226,15459,2998,-1517,2199,6818,-7242,11401,3481],0,495,16383],"sony dsc-hx99":[[13076,-5686,-1481,-4027,12851,1251,-167,725,4937],1,800,16300],"sony dsc-r1":[[8512,-2641,-694,-8042,15670,2526,-1821,2117,7414],2,511,16383],"mamiya zd":[[7645,2579,-1363,-8689,16717,2015,-3712,5941,5961],1,0,4e3],"leaf aptus 22":[[8236,1746,-1314,-8251,15953,2428,-3673,5786,5771],1,0,16191],"leaf credo 40":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 60":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 80":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf aptus-ii 5":[[1846,7955,-1222,-12994,19563,3596,-2035,3340,5136],2,0,15e3],"phase one p30":[[4516,-245,-37,-7020,14976,2173,-3206,4671,7087],2,0,16383],"phase one p65+":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"phase one iq140":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,65535],"phase one iq250":[[3984,0,0,0,1e4,0,0,0,7666],1,1024,65535],"kodak dcs pro slr/n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,4095],"kodak dcs pro 14n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs pro 14nx":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs460":[[10592,-2206,-967,-1944,11685,230,2206,670,1273],2,7,6664],"kodak dcs520c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,176,4095],"kodak dcs560c":[[20482,-7172,-3125,-1033,10410,-285,2542,226,3136],2,208,4095],"kodak dcs760c":[[16623,-6309,-1411,-4344,13923,323,2285,274,2926],2,0,3500],"kodak p880":[[12805,-4662,-1376,-7480,15267,2360,-1626,2194,7904],0,0,4095],"kodak easyshare z980 digital camera":[[11313,-3559,-1101,-3893,11891,2257,-1214,2398,4908],1,0,4095],"kodak z1015 is":[[11265,-4286,-992,-4694,12343,2647,-1090,1523,5447],0,0,4095],"epson r-d1":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,63,4095],"hasselblad cfv-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,65535],"hasselblad h3d":[[3857,452,-46,-6008,14477,1596,-2627,4481,5718],1,0,31456],"hasselblad h5d-40":[[6159,-1402,-177,-5439,12762,3007,-955,2200,7104],1,256,62914],"hasselblad h5d-50c":[[4932,-835,141,-4878,11868,3437,-1138,1961,7067],1,256,62914],"canon powershot a610":[[15591,-6402,-1592,-5365,13198,2168,-1300,1824,5075],1,0,1023,2672,1968],"canon powershot s3 is":[[14062,-5199,-1446,-4712,12470,2243,-1286,2028,4836],1,0,1023,2888,2136],"canon powershot a620":[[15265,-6193,-1558,-4125,12116,2010,-888,1639,5220],1,0,1023,3152,2340],"canon powershot a720 is":[[14573,-5482,-1546,-1266,9799,1468,-1040,1912,3810],3,0,1023,3336,2480],"canon powershot a630":[[14201,-5308,-1757,-6087,14472,1617,-2191,3105,5348],1,0,1023,3344,2484],"canon powershot a640":[[13124,-5329,-1390,-3602,11658,1944,-1612,2863,4885],1,0,1023,3736,2772],"canon powershot a650":[[9427,-3036,-959,-2581,10671,1911,-1039,1982,4430],1,0,1023,4104,3048],"canon powershot sx110 is":[[14134,-5576,-1527,-1991,10719,1273,-1158,1929,3581],1,0,4095,3720,2772],"gitup git2":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,3200,65535,4608,3456],"gitup git2p":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,4160,65535,4624,3488],"paralenz dive camera":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,1024,16383,3840,2160],"sjcam sj6 legend":[[9489,-3814,-225,-6650,13742,3236,-627,797,7550],1,0,4095,4024,3036]};
k.lJ={};k.lJ.lJ=function(Q,S,B){var y=Q.r,l=Q.O,D=1/y,R=y*l,p=Date.now(),O=!1;if(O)console.log("expand known",Date.now()-p);
p=Date.now();var M=k.lJ.HX(B,y,l,255),U=k.lJ.HX(B,y,l,0),m=function(NQ,NR){var NV=NQ<<2,md=NR<<2;return S[NV]+S[NV+1]+S[NV+2]-(S[md]+S[md+1]+S[md+2])};
M.sort(m);U.sort(m);var Y=k.Q(R),x=k.Q(R),T=[],$=new Uint32Array(y*l);k.St($,4294967295);for(var L=0;
L<R;L++)if(B[L]==0)x[L]=255;else if(B[L]==255)Y[L]=255;else{$[L]=T.length;T.push(L)}if(O)console.log("Unknown:",T.length,M.length,U.length);
if(O)console.log(Date.now()-p);p=Date.now();var s=k.style.LM(Y,y,l),j=k.style.LM(x,y,l),Z=new Float32Array(T.length),e=new Float32Array(T.length),J=new Uint32Array(T.length),N=new Uint32Array(T.length),E=new Float32Array(T.length);
if(O)console.log("D trf",Date.now()-p);p=Date.now();for(var L=0;L<T.length;L++){var h=T[L],o=~~(h*D),V=h-o*y,n=s[h<<1],t=s[(h<<1)+1];
Z[L]=1/Math.sqrt(n*n+t*t);var q=j[h<<1],u=j[(h<<1)+1];e[L]=1/Math.sqrt(q*q+u*u);var g=Math.floor(Math.random()*M.length),r=Math.floor(Math.random()*U.length);
J[L]=g;N[L]=r;E[L]=k.lJ.h$(h,M[g],U[r],y,D,S,Z[L],e[L],1e9)}var f=[-y,-1,1,y],I=k.lJ.h$;for(var d=0;
d<10;d++){var a=Math.pow(.5,d);for(var L=0;L<T.length;L++){var h=T[L],o=~~(h*D),V=h-o*y,c=Z[L],_=e[L],C=E[L],g=J[L],r=N[L],rY=1;
for(var F=0;F<4;F++){if(F==0&&o==0||F==1&&V==0||F==2&&V==y-1||F==3&&o==l-1)continue;var i=$[h+f[F]];
if(i==4294967295)continue;var rP=J[i],rH=N[i];if(rP==g&&rH==r)continue;var rK=I(h,M[rP],U[rH],y,D,S,c,_,C);
if(rK<C){C=rK;g=rP;r=rH}}for(var Nc=0;Nc<1;Nc++){var G=~~(M.length*rY),rI=~~(U.length*rY);rY*=.5;var rb=Math.max(0,g-G),Nr=Math.min(g+G,M.length-1),Nz=Math.max(0,r-rI),NL=Math.min(r+rI,U.length-1),Nm=rb+~~(Math.random()*(Nr-rb)),NN=Nz+~~(Math.random()*(NL-Nz)),rK=I(h,M[Nm],U[NN],y,D,S,c,_,C);
if(rK<C){C=rK;g=Nm;r=NN}}E[L]=C;J[L]=g;N[L]=r}}if(O)console.log(Date.now()-p);p=Date.now();var Ne=B.slice(0);
for(var L=0;L<T.length;L++)Ne[T[L]]=~~(.5+255*k.lJ.alpha(T[L],M[J[L]],U[N[L]],S));Ne=k.RO.mWI(Ne,S,new w(0,0,y,l),16,.01*.01);
if(O)console.log("guided filter",Date.now()-p);p=Date.now();for(var L=0;L<R;L++)if(B[L]==255||B[L]==0)Ne[L]=B[L];
var Ny=S.slice(0);for(var L=0;L<T.length;L++){var NG=T[L],g=M[J[L]],C=E[L],NC=NG<<2,Ng=Ne[NG],NM=(Ng>=250?NG:g)<<2;
Ny[NC]=S[NM];Ny[NC+1]=S[NM+1];Ny[NC+2]=S[NM+2]}k.KF(Ne,Ny,3);if(O)console.log(Date.now()-p);p=Date.now();
return Ny};k.lJ.h$=function(Q,S,B,y,l,D,R,p,O){var M=~~(Q*l),U=Q-M*y,m=~~(S*l),Y=S-m*y,x=~~(B*l),T=B-x*y,$=Math.sqrt((U-Y)*(U-Y)+(M-m)*(M-m))*R,L=Math.sqrt((U-T)*(U-T)+(M-x)*(M-x))*p,q=0;
if($+L>=O)return 1e9;var s=Q<<2,j=S<<2,Z=B<<2,e=D[s],J=D[s+1],N=D[s+2],E=D[j],h=D[j+1],o=D[j+2],V=D[Z],n=D[Z+1],t=D[Z+2];
if(E!=V||h!=n||o!=t){var u=E-V,g=h-n,r=o-t,f=e-V,I=J-n,d=N-t,a=(f*u+I*g+d*r)/(u*u+g*g+r*r);a=Math.max(0,Math.min(1,a));
var c=e-(a*E+(1-a)*V),_=J-(a*h+(1-a)*n),C=N-(a*o+(1-a)*t);q=Math.sqrt(c*c+_*_+C*C)}return q+$+L};k.lJ.alpha=function(Q,S,B,y){var l=Q<<2,D=S<<2,R=B<<2,p=y[l],O=y[l+1],M=y[l+2],U=y[D],m=y[D+1],Y=y[D+2],x=y[R],T=y[R+1],$=y[R+2];
if(U==x&&m==T&&Y==$)return 1;var L=U-x,s=m-T,j=Y-$,Z=p-x,e=O-T,J=M-$,N=(Z*L+e*s+J*j)/(L*L+s*s+j*j);return Math.max(0,Math.min(1,N))};
k.lJ.mJp=function(Q){};k.lJ.HX=function(Q,S,B,y){var l=[];for(var D=0;D<B;D++)for(var R=0;R<S;R++){var p=D*S+R;
if(Q[p]==y&&(D!=0&&Q[p-S]!=y&&Q[p-S]!=255-y||D>1&&Q[p-S-S]!=y&&Q[p-S-S]!=255-y||D!=B-1&&Q[p+S]!=y&&Q[p+S]!=255-y||D<B-2&&Q[p+S+S]!=y&&Q[p+S+S]!=255-y||R!=0&&Q[p-1]!=y&&Q[p-1]!=255-y||R>1&&Q[p-1-1]!=y&&Q[p-1-1]!=255-y||R!=S-1&&Q[p+1]!=y&&Q[p+1]!=255-y||R<S-2&&Q[p+1+1]!=y&&Q[p+1+1]!=255-y))l.push(p)}return l};
k.lJ.mJh=function(Q,S,B,y){var l=Q.slice(0),D=Math.round((B+y)/400);for(var R=0;R<y;R++)for(var p=0;
p<B;p++){var O=R*B+p;if(Q[O]==0||Q[O]==255)continue;var M=S[O<<2],U=S[(O<<2)+1],m=S[(O<<2)+2],Y=Math.max(0,p-D),x=Math.min(p+D+1,B),T=Math.max(0,R-D),$=Math.min(R+D+1,y);
for(var L=T;L<$;L++)for(var s=Y;s<x;s++){var j=L*B+s;if(Q[j]==0||Q[j]==255){var Z=S[j<<2]-M,e=S[(j<<2)+1]-U,J=S[(j<<2)+2]-m;
if(Z*Z+e*e+J*J<15){l[O]=Q[j];L=$;break}}}}return l};k.RO={};k.RO.mJt=function(Q,S,B,y,l){var D=B.r,R=B.O,p=D*R,O=k.RO.HD,M=k.Q(p*4),U;
k.St(M,4294967295);var m=B,Y=Q,x=S,T=y;k.KF(Q,M,0);U=k.QL(M,B);U=k.QL(U.Ko,U.rect);m=U.rect;T=y>>>2;
console.log(m,T);Y=k.Q(m.Z());k.MA(U.Ko,Y,0);k.KF(S,M,0);U=k.QL(M,B);U=k.QL(U.Ko,U.rect);x=k.Q(m.Z());
k.MA(U.Ko,x,0);var $=k.RO.mWx(Y,x,m,T,l),L=$[0],s=$[1],j=new w(0,0,m.r*2,m.O*2);L=O(L,m,j,!0);L=O(L,j,B,!0);
s=O(s,m,j,!0);s=O(s,j,B,!0);var Z=k.Q(p);for(var e=0;e<p;e++)Z[e]=Math.max(0,Math.min(255,Math.floor(.5+(L[e]*S[e]+255*s[e]))));
return Z};k.RO.HD=function(Q,S,B,y){var l=B.r,D=B.O,R=S.r,p=S.O,O=k.RO.Lr,M=new Float32Array(l*D);for(var U=0;
U<p;U++){var m=(U+U)*l;for(var Y=0;Y<R;Y++){if(!0||Y==0||U==0||Y==R-1||U==p-1)M[m]=M[m+1]=M[m+l]=M[m+l+1]=Q[U*R+Y];
else{M[m]=O(Y+.25,U+.25,Q,R,p);M[m+1]=O(Y+.75,U+.25,Q,R,p);M[m+l]=O(Y+.25,U+.75,Q,R,p);M[m+l+1]=O(Y+.75,U+.75,Q,R,p)}m+=2}}return M};
k.RO.Lr=function(Q,S,B,y,l){Q-=.499999;S-=.499999;var D=Math.floor(Q),R=Math.floor(S),p=R*y+D,O=Q-D,M=S-R,U=(1-M)*(1-O),m=(1-M)*O,Y=M*(1-O),x=M*O;
if(B[p]==null||B[p+y+1]==null){console.log(Q,S,y,l);throw"e"}return U*B[p+0]+m*B[p+1]+Y*B[p+y+0]+x*B[p+y+1]};
k.RO.mWx=function(Q,S,B,y,l){var D=B.r,R=B.O,p=D*R,O=k.RO.HB,M=k.RO.Q,U=k.blur.NJ,m=k.RO.cp,S=O(S),Q=O(Q),Y=M(p);
U(S,Y,B,y);var x=M(p);U(Q,x,B,y);var T=M(p);m(S,S,T);U(T,T,B,y);var $=M(p);m(S,Q,$);U($,$,B,y);var L=M(p),s=M(p);
for(var j=0;j<p;j++){var Z=Y[j],e=x[j],J=T[j]-Z*Z,N=$[j]-Z*e,E=N/(J+l),h=e-E*Z;L[j]=E;s[j]=h}var o=M(p);
U(L,o,B,y);var V=M(p);U(s,V,B,y);return[o,V]};k.RO.mWI=function(Q,S,B,y,l){var D=B.r,R=B.O,p=D*R,O=k.RO.HD,M=Date.now(),U=!1,m=B,Y=Q,x=S,T=y;
m=new w(0,0,D>>>2,R>>>2);T=y>>>2;Y=k.RO.mWA(Q,D,R);x=k.RO.mWK(S,D,R);if(U)console.log(Date.now()-M);
M=Date.now();var $=k.RO.mFM(Y,x,m,T,l),L=$[0],s=$[1],j=$[2],Z=$[3];if(U)console.log(Date.now()-M);M=Date.now();
var e=k.Q(p);for(var J=0;J<R;J++)for(var N=0;N<D;N++){var E=J*D+N,h=(J>>>2)*(D>>>2)+(N>>>2),o=E<<2,V=L[h]*S[o]+s[h]*S[o+1]+j[h]*S[o+2]+Z[h]*255;
e[E]=Math.max(0,Math.min(255,~~(.5+V)))}if(U)console.log(Date.now()-M);M=Date.now();return e};k.RO.mWA=function(Q,S,B){var y=S>>>2,l=B>>>2,D=k.Q(S*B);
for(var R=0;R<l;R++)for(var p=0;p<y;p++)D[R*y+p]=Q[R*S+p<<2];return D};k.RO.mWK=function(Q,S,B){var y=S>>>2,l=B>>>2,D=k.Q(S*B*4);
for(var R=0;R<l;R++)for(var p=0;p<y;p++){var O=R*y+p<<2,M=R*S+p<<4;D[O]=Q[M];D[O+1]=Q[M+1];D[O+2]=Q[M+2];
D[O+3]=Q[M+3]}return D};k.RO.mFM=function(Q,S,B,y,l){var D=B.r,R=B.O,p=D*R,O=k.RO.HB,M=k.RO.Q,U=k.blur.NJ,m=k.RO.cp,Q=O(Q),Y=new k.rp(D*R);
k.Cd(S,Y);var S=[O(Y.t),O(Y.e),O(Y.R)],x=k.RO.mFR(Q,S,B,y,l),T=M(p);U(Q,T,B,y);var $=M(p);m(S[0],Q,$);
U($,$,B,y);var L=M(p);m(S[1],Q,L);U(L,L,B,y);var s=M(p);m(S[2],Q,s);U(s,s,B,y);var j=M(p),Z=M(p),e=M(p),J=M(p);
for(var N=0;N<p;N++){var E=T[N],h=x.wF[N],o=x.wE[N],V=x.wt[N],n=$[N]-h*E,t=L[N]-o*E,q=s[N]-V*E;j[N]=x.mQB[N]*n+x.wX[N]*t+x.fp[N]*q;
Z[N]=x.wX[N]*n+x.meF[N]*t+x.fe[N]*q;e[N]=x.fp[N]*n+x.fe[N]*t+x.mqL[N]*q;J[N]=E-j[N]*h-Z[N]*o-e[N]*V}U(j,j,B,y);
U(Z,Z,B,y);U(e,e,B,y);U(J,J,B,y);return[j,Z,e,J]};k.RO.mFR=function(Q,S,B,y,l){var D=B.r,R=B.O,p=D*R,O=k.RO.Q,M=k.blur.NJ,U=k.RO.cp,m={};
m.wF=O(p);M(S[0],m.wF,B,y);m.wE=O(p);M(S[1],m.wE,B,y);m.wt=O(p);M(S[2],m.wt,B,y);var Y=O(p);U(S[0],S[0],Y);
M(Y,Y,B,y);var x=O(p);U(S[0],S[1],x);M(x,x,B,y);var T=O(p);U(S[0],S[2],T);M(T,T,B,y);var $=O(p);U(S[1],S[1],$);
M($,$,B,y);var L=O(p);U(S[1],S[2],L);M(L,L,B,y);var s=O(p);U(S[2],S[2],s);M(s,s,B,y);m.mQB=Y;m.wX=x;
m.fp=T;m.meF=$;m.fe=L;m.mqL=s;for(var j=0;j<p;j++){var Z=m.wF[j],e=m.wE[j],J=m.wt[j],N=Y[j]-Z*Z+l,E=x[j]-Z*e,h=T[j]-Z*J,o=$[j]-e*e+l,V=L[j]-e*J,n=s[j]-J*J+l,t=o*n-V*V,q=V*h-E*n,u=E*V-o*h,g=N*n-h*h,r=h*E-N*V,f=N*o-E*E,I=t*N+q*E+u*h,d=1/I;
m.mQB[j]=t*d;m.wX[j]=q*d;m.fp[j]=u*d;m.meF[j]=g*d;m.fe[j]=r*d;m.mqL[j]=f*d}return m};k.RO.Q=function(Q){return new Float32Array(Q)};
k.RO.HB=function(Q){var S=Q.length,B=new Float32Array(S);for(var y=0;y<S;y++)B[y]=Q[y]*(1/255);return B};
k.RO.cp=function(Q,S,B){for(var y=0;y<Q.length;y++)B[y]=Q[y]*S[y]};k.Qb={};k.Qb.mFd=function(Q,S,B,y,l){var D=k.Qb.Hj(Q.buffer,S,B).it,R=Date.now(),p=new Uint32Array(D.length);
for(var O=0;O<D.length;O++)p[O]=D[O].ce;var M=UPNG.quantize.getKDtree(new Uint8Array(p.buffer),y),U=[S,1,-S,-1,S+1,-S+1,-S-1,S-1,S+S,2,-S-S,-2,S+S-1,S+S+1,S+2,-S+2,-S-S+1,-S-S-1,-S-2,S-2,S+S+2,-S-S+2-S-S-2,S+S-2],m=new Uint8Array(S*B),Y=Q;
for(var x=0;x<B;x++)for(var T=0;T<S;T++){var O=x*S+T<<2,$=Y[O]*(1/255),L=Y[O+1]*(1/255),s=Y[O+2]*(1/255),j=Y[O+3]*(1/255),Z=k.Qb.wZ(M,$,L,s,j,l);
if(Z==null){var e=[],J=0;while(J<20){var N=x*S+T+U[J]<<2,E=Y[N]*(1/255),h=Y[N+1]*(1/255),o=Y[N+2]*(1/255),V=Y[N+3]*(1/255),n=k.Qb.wZ(M,E,h,o,V,.005);
if(n!=null){if(e.indexOf(n)==-1){e.push(n);n.Lt=1}else n.Lt++}J++}e.sort(function(j,s){return s.Lt-j.Lt});
while(e.length!=0&&e[e.length-1].Lt<3)e.pop();if(e.length==0)Z=k.Qb.wZ(M,$,L,s,j,100);else if(e.length==1)Z=e[0];
else if(e.length==2){var t=e[0],q=e[1],u=t.est.q,g=q.est.q,r=g[0]-u[0],f=g[1]-u[1],I=g[2]-u[2],d=g[3]-u[3],a=$-u[0],c=L-u[1],_=s-u[2],C=j-u[3],F=r*r+f*f+I*I+d*d,i=a*a+c*c+_*_+C*C,rP=(a*r+c*f+_*I+C*d)/F,rH=i-rP*rP*F;
if(rH<.5)Z=rP<.5?t:q;else{Z=k.Qb.wZ(M,$,L,s,j,100)}}else{var t=e[0],q=e[1],rK=e[2],u=t.est.q,g=q.est.q,rY=rK.est.q,Nc=u[0]-rY[0],G=u[1]-rY[1],rI=u[2]-rY[2],rb=u[3]-rY[3],Nr=g[0]-rY[0],Nz=g[1]-rY[1],NL=g[2]-rY[2],Nm=g[3]-rY[3],NN=rY[0]-$,Ne=rY[1]-L,Ny=rY[2]-s,NG=rY[3]-j,NC=Nc*Nc+G*G+rI*rI+rb*rb,Ng=Nc*Nr+G*Nz+rI*NL+rb*Nm,NM=NN*Nc+Ne*G+Ny*rI+NG*rb,NQ=Nc*Nr+G*Nz+rI*NL+rb*Nm,NR=Nr*Nr+Nz*Nz+NL*NL+Nm*Nm,NV=NN*Nr+Ne*Nz+Ny*NL+NG*Nm,md=1/(Ng*NQ-NC*NR),rP=(NR*NM-NV*Ng)*md,NW=(NV*NC-NM*NQ)*md,Nh=1-rP-NW,Nt=Math.max(rP,NW,Nh);
if(Nt==rP)Z=t;else if(Nt==NW)Z=q;else Z=rK}}m[O>>2]=Z.ind}return{XZ:m,it:M[1]}};k.Qb.Hj=function(Q,S,B){var y=[],l={},D=S-1,R=B-1,p=0,O=new Uint32Array(Q),M=[-S-1,-S,-S+1,-1,1,S-1,S,S+1,S+S,2,-S-S,-2,S+S-1,S+S+1,S+2,-S+2,-S-S+1,-S-S-1,-S-2,S-2,S+S+2,-S-S+2-S-S-2,S+S-2];
for(var U=1;U<R;U++)for(var m=1;m<D;m++){var Y=U*S+m,x=O[Y],T=!0;for(var $=0;$<8;$++)T=T&&O[Y+M[$]]==x;
if(T){p++;var L=l[x];if(L==null){l[x]=y.length;y.push({ce:x,fX:1})}else y[L].fX++}}return{it:y,mhn:p}};
k.Qb.wZ=function(Q,S,B,y,l,D){var R=UPNG.quantize.getNearest(Q[0],S,B,y,l);return k.Qb.mFe(R,S,B,y,l)<D?R:null};
k.Qb.mFe=function(Q,S,B,y,l){var D=Q.est.q,R=S-D[0],p=B-D[1],O=y-D[2],M=l-D[3];return R*R+p*p+O*O+M*M};
k.Qb.mVw=function(Q,S,B,y){var l=k.Qb.mFO(Q,S,B,y),D=l.XZ,R=l.it,p=l.mhO,O=UPNG.quantize.getKDtree(new Uint8Array(p.buffer.slice(0)),200),M=[];
for(var U=0;U<R.length;U++){var m=R[U].vU,Y=m[0],x=m[1],T=m[2],$=m[3];if(Math.min(Y,x,T,$)<0)throw"e";
var L=UPNG.quantize.getNearest(O[0],Y/255,x/255,T/255,$/255);M.push(O[1].indexOf(L))}for(var U=0;U<S*B;
U++)D[U]=M[D[U]];return{XZ:D,it:O[1]}};k.Qb.mFO=function(Q,S,B,y){var l=S*B,D=2*l,R=k.Qb.mFZ(Q,S,B),p=65535+1,O=new Uint32Array(p),m=0;
for(var M=0;M<D;M++)O[R[M]]++;var U=new Uint32Array(p);for(var M=0;M<p;M++){U[M]=m;m+=O[M]}var Y=new Uint32Array(D);
for(var M=0;M<D;M++){var x=R[M];Y[U[x]]=M;U[x]++}var T=new UnionFind(l),$=new Uint16Array(l),L=new Uint32Array(l);
for(var M=0;M<l;M++)L[M]=1;var s=l,j=1e5/(y*10);for(var Z=0;Z<D;Z++){var e=Y[Z],J=R[e];if(J==65535)continue;
var M=e>>1,N=M+((e&1)==0?1:S),E=T.find(M),h=T.find(N),o=Math.min($[E]+j/Math.sqrt(L[E]),$[h]+j/Math.sqrt(L[h]));
if(E!=h&&J<=o){T.link(M,N);s--;var V=T.find(M);L[V]=L[E]+L[h];$[V]=J}}var n=[],t={},q=new Uint16Array(l);
for(var M=0;M<l;M++){var V=T.find(M),u=t[V];if(u==null){t[V]=u=n.length;n.push({fX:0,vU:[0,0,0,0]})}n[u].fX++;
for(var N=0;N<4;N++)n[u].vU[N]+=Q[(M<<2)+N];q[M]=u}var g=new Uint32Array(n.length);for(var M=0;M<n.length;
M++){var u=n[M];for(var N=0;N<4;N++)u.vU[N]=Math.round(u.vU[N]/u.fX);g[M]=u.vU[3]<<24|u.vU[2]<<16|u.vU[1]<<8|u.vU[0]}return{XZ:q,it:n,mhO:g}};
k.Qb.mFZ=function(Q,S,B){var y=new Uint16Array(S*B*2);for(var l=0;l<B;l++)for(var D=0;D<S;D++){var R=l*S+D;
y[R+R]=D<S-1?k.Qb.Ho(Q,R,R+1):65535;y[R+R+1]=l<B-1?k.Qb.Ho(Q,R,R+S):65535}return y};k.Qb.Ho=function(Q,S,B){var y=S<<2,l=B<<2,D=Q[y],R=Q[y+1],p=Q[y+2],O=Q[y+3],M=Q[l],U=Q[l+1],m=Q[l+2],Y=Q[l+3],x=D-M,T=R-U,$=p-m,L=O-Y;
return x*x+T*T+$*$+L*L>>2};k.Qb.m_c=function(){function Q(s,j,Z,e,J,N){var E=[],h=N,o=N,V=N>>>2;for(var n=0;
n<J;n++)for(var t=0;t<e;t++){var q=~~((t+.5)*h),u=~~((n+.5)*o),g=1e9,r=Math.max(0,q-V),f=Math.min(j,q+V+1),I=Math.max(0,u-V),d=Math.min(Z,u+V+1);
for(var a=I;a<d;a++)for(var c=r;c<f;c++){var _=S(s,j,c,a);if(_<g){q=c;u=a;g=_}}var C=(u*j+q)*4;E.push(s[C],s[C+1],s[C+2],q,u)}return E}function S(s,j,Z,e){var J=(e*j+Z)*4,N=j*4,E=B(s,J-4,J)+B(s,J,J+4),h=B(s,J-N,J)+B(s,J,J+N);
return E+h}function B(s,j,Z){var e=s[j]-s[Z],J=s[j+1]-s[Z+1],N=s[j+2]-s[Z+2];return e*e+J*J+N*N}var y=0,l=0;
function D(s,j,Z,e){l++;if(e<y)y=e;s[e].push(j,Z)}function R(s){l--;while(s[y].length==0)y++}function p(s,j,Z){y=0;
l=0;var e=j*Z,J=Math.round(Math.min(j,Z)/50),N=30/J,E=Math.floor(j/J),h=Math.floor(Z/J),o=E*h,g=0,r=16;
if(o>65535)throw"e";var V=new Uint16Array(e);for(var n=0;n<e;n++)V[n]=65535;var t=Q(s,j,Z,E,h,J),q=[];
for(var n=0;n<1e3+Z;n++)q.push([]);var u=[0,1,0,-1,-1,0,1,0],f=Math.min(h,5),I=new Uint32Array(o*6);
for(var d=0;d<h;d+=f){var a=Math.min(d+f+1,h);for(var c=d;c<a;c++)for(var _=0;_<E;_++){var n=c*E+_,C=n*5,F=t[C+4]<<16|t[C+3];
D(q,F,n,t[C+4]>>>r)}var i=Math.min(Z,a*J);if(d+f>=h)i=Z;while(l!=0){R(q);var rP=q[y].pop(),rH=q[y].pop(),rK=rH>>>16,rY=rH&65535,n=rK*j+rY;
if(V[n]==65535){var Nc=rP*6,G=n<<2;V[n]=rP;I[Nc]+=s[G];I[Nc+1]+=s[G+1];I[Nc+2]+=s[G+2];I[Nc+3]+=rY;I[Nc+4]+=rK;
I[Nc+5]++;var rI=rK>>>r;if(rK!=i-1&&V[n+j]==65535)D(q,rK+1<<16|rY,rP,O(s,j,N,rY,rK+1,I,Nc)+rI);if(rK!=0&&V[n-j]==65535)D(q,rK-1<<16|rY,rP,O(s,j,N,rY,rK-1,I,Nc)+rI);
if(rY!=0&&V[n-1]==65535)D(q,rK<<16|rY-1,rP,O(s,j,N,rY-1,rK,I,Nc)+rI);if(rY!=j-1&&V[n+1]==65535)D(q,rK<<16|rY+1,rP,O(s,j,N,rY+1,rK,I,Nc)+rI)}}if(i!=rK){var rb=(d+f)*E;
I.fill(0,rb*6,(rb+E)*6);for(var rK=(d+f-2)*J;rK<i;rK++)for(var rY=0;rY<j;rY++){var n=rK*j+rY;if(V[n]>=rb){V[n]=65535}}}}return{XZ:V,tI:o,mhZ:I}}k.Qb.LP=function(s,j,Z,e,J){var N=s.tI,E=j*Z,h=s.mhZ,o=s.XZ,V=x(e,o,N,E),n=new UnionFind(N),I=0;
for(var t=1;t<Z;t++)for(var q=1;q<j;q++){var u=t*j+q,g=o[u],r=0;if((r=o[u-1])!=g&&V[r]==V[g]&&M(h,0,g*6,r*6)<J)n.link(g,r);
if((r=o[u-j])!=g&&V[r]==V[g]&&M(h,0,g*6,r*6)<J)n.link(g,r)}var f=new Uint16Array(N);f.fill(65535);var d=new Uint16Array(N);
for(var u=0;u<N;u++){var a=n.find(u);if(f[a]==65535)f[a]=I++;d[u]=f[a]}var c=new Uint16Array(E);for(var u=0;
u<E;u++)c[u]=d[o[u]];return{XZ:c,tI:I}};k.Qb.mqc=function(s,j,Z,e){var J=k.Q(Z),N=j.length,E=0;for(var h=0;
h<N&&E!=3;h++){var o=e[h];if(o==0||o==255){var V=j[h],n=2-(o>>>7);J[V]=E=J[V]|n}}return E!=3};function O(s,j,Z,e,J,N,E){var h=(J*j+e)*4,o=N[E+5],V=1/o,n=s[h]*o-N[E],t=s[h+1]*o-N[E+1],q=s[h+2]*o-N[E+2],u=e*o-N[E+3],g=J*o-N[E+4],r=Math.sqrt(n*n+t*t+q*q),f=Math.sqrt(u*u+g*g);
return~~((r+Z*f)*V+.5)}function M(s,j,Z,e){var J=1/s[Z+5],N=1/s[e+5],E=s[Z]*J-s[e]*N,h=s[Z+1]*J-s[e+1]*N,o=s[Z+2]*J-s[e+2]*N,V=s[Z+3]*J-s[e+3]*N,n=s[Z+4]*J-s[e+4]*N,t=Math.sqrt(E*E+h*h+o*o),q=Math.sqrt(V*V+n*n);
return~~(t+j*q+.5)}function U(s,j,Z){var e=k.xO(s,new w(0,0,j,Z)),J=e.rect.r,N=e.rect.O,E=p(e.Ko,J,N),h=E.XZ,o=Date.now(),V=new Uint16Array(j*Z);
V.fill(65535);for(var n=0;n<N;n++){for(var t=0;t<J;t++){var q=n*J+t,u=(n<<1)*j+(t<<1),g=h[q];if(h[q-J]!=g||h[q-1]!=g||h[q+1]!=g||h[q+J]!=g)g=65535;
V[u]=g;V[u+1]=g;V[u+j]=g;V[u+j+1]=g}}E.XZ=V;return E}function m(s,j){var Z=0,e=s.length;while(Z!=e&&s[Z]!=j)Z+=2;
return Z==e?-1:Z}function Y(s,j){if(j==s.length-2){s.pop();s.pop()}else{s[j+1]=s.pop();s[j]=s.pop()}}k.Qb.mho=function(s,j,Z,e,J){var N=new Uint32Array(J*4400),S=[];
for(var E=0;E<J;E++)S.push([]);for(var h=0;h<Z;h++)for(var o=0;o<j;o++){var E=h*j+o,V=E<<2,n=e[E],t=0,q=s[V]>>>4,u=s[V+1]>>>4,g=s[V+2]>>>4;
N[n*4400+(q<<8|u<<4|g)]++;N[n*4400+4096]++;N[n*4400+4100+(q<<4|u)]++;N[n*4400+4360+q]++;if(o!=0&&(t=e[E-1])!=n&&m(S[n],t)==-1){S[n].push(t,0);
S[t].push(n,0)}if(h!=0&&(t=e[E-j])!=n&&m(S[n],t)==-1){S[n].push(t,0);S[t].push(n,0)}}for(var E=0;E<J;
E++){var g=S[E];for(var r=0;r<g.length;r+=2)g[r+1]=L(N,E,g[r])}return[N,S]};function x(s,j,Z,e){var J=k.Q(Z);
for(var N=0;N<e;N++){var E=s[N];if(E==0||E==255)J[j[N]]=2-(E>>>7)}return J}k.Qb.mhT=function(s,j,Z,e,J,N,E){var h=j*Z,o=E[0],S=E[1],V=new UnionFind(e),n=x(J,s,e,h),t=-1,u=!0,g=0;
for(var q=0;q<e;q++)if(n[q]==1){if(t==-1)t=q;else V.link(q,t)}if(t==-1){for(var q=0;q<h;q++)N[q]=J[q]==255?255:0;
return}while(u){while(u){u=!1;for(var q=0;q<e;q++){if(n[q]==0){var r=T(S[q]);if(n[r]==1){n[q]=n[r];u=!0;
V.link(q,r)}}}}u=!0;g=0;while(u){u=!1;for(var q=0;q<e;q++){if(n[q]==0){var r=T(S[q]);if(n[r]==0){var f=q*4400,I=r*4400;
for(var d=0;d<4400;d+=2){o[f+d]+=o[I+d];o[f+d+1]+=o[I+d+1]}$(S,o,q,r);g++;n[r]=3;u=!0;V.link(q,r)}}}}u=g!=0}var a=V.find(t);
for(var q=0;q<e;q++)n[q]=V.find(q)==a?255:0;for(var q=0;q<h;q++){N[q]=n[s[q]]}for(var q=0;q<h;q++){var r=J[q];
if(r==0||r==255)N[q]=r}};function T(s){var j=0,Z=0,e=s.length;for(var J=0;J<e;J+=2){var N=s[J+1];if(N>Z){Z=N;
j=J}}return s[j]}function $(S,s,j,Z){var e=S[j],J=S[Z];Y(e,m(e,Z));Y(J,m(J,j));for(var N=0;N<J.length;
N+=2){var E=J[N],h=S[E];Y(h,m(h,Z));if(m(h,j)==-1){h.push(j,0);e.push(E,0)}}for(var N=0;N<e.length;N+=2){var E=e[N],h=S[E],o=L(s,j,E);
e[N+1]=o;h[m(h,j)+1]=o}}function L(s,j,Z){var e=0,J=4096,N=j*4400,E=Z*4400;for(var h=0;h<16;h++){if(s[N+4360+h]==0||s[E+4360+h]==0)continue;
for(var o=0;o<16;o++){var V=h<<4|o;if(s[N+4100+V]==0||s[E+4100+V]==0)continue;var n=N+(V<<4),t=E+(V<<4);
for(var q=0;q<16;q++)e+=Math.sqrt(s[n+q]*s[t+q])}}var u=e/Math.sqrt(s[N+J]*s[E+J]);return~~(999.99999*u)}return p}();
var Rf=function(){function Q(){this.Z=0;this.Ad=0;this.ou={};this.Hn=[];this.TE=1e5;this.TO=1e5;this.To=-1;
this.TT=-1;this.color=0}function S(l){this.jI=l;this.kd=new Array(l);this.ce=new Array(l*6);this.mmS=0;
this.iO=new Array(l*2);this.alpha=new Array(l);this.Tk=new Array(l);this.TK=new Array(l)}function B(l,D,R,p){function O(s,j,l,D){return l[D*j+s]}function M(L){var h=l.length;
while(L<h&&l[L]==0)L++;return L<h?L:-1}function U(s,j,h){for(var L=2;L<5;L++){var o=0;for(var V=-L+1;
V<=L-1;V++){o+=O(s+V,j+L-1,l,D)==h?1:-1;o+=O(s+L-1,j+V-1,l,D)==h?1:-1;o+=O(s+V-1,j-L,l,D)==h?1:-1;o+=O(s-L,j+V,l,D)==h?1:-1}if(o>0)return 1;
else if(o<0)return 0}return 0}function m(h,T){var $=new Q,s=h,j=T,o=0,V=1,n;$.color=l[T*D+h];$.sign=O(h,T,l,D)==$.color?"+":"-";
while(1){$.Hn.push(s,j);if(s>$.To)$.To=s;if(s<$.TE)$.TE=s;if(j>$.TT)$.TT=j;if(j<$.TO)$.TO=j;$.Ad++;s+=o;
j+=V;$.Z-=s*V;if(s==h&&j==T)break;var t=O(s+(o+V-1>>1),j+(V-o-1>>1),l,D)==$.color,q=O(s+(o-V-1>>1),j+(V+o-1>>1),l,D)==$.color;
if(q&&!t){if(p.Lk=="right"||p.Lk=="black"&&$.sign=="+"||p.Lk=="white"&&$.sign=="-"||p.Lk=="majority"&&U(s,j,$.color)||p.Lk=="minority"&&!U(s,j,$.color)){n=o;
o=-V;V=n}else{n=o;o=V;V=-n}}else if(q){n=o;o=-V;V=n}else if(!t){n=o;o=V;V=-n}}return $}var Y=0,x=[];
while(!0){var Y=M(Y);if(Y==-1)break;var T=Math.floor(Y/D),$=m(Y-T*D,T);for(var L=0;L<$.Hn.length-2;L+=2){var s=$.Hn[L],j=$.Hn[L+1],Z=j*D+s;
if(s==$.Hn[L+2]&&j+1==$.Hn[L+3]&&l[Z]!=0)Rf.fill(Z,l,D,0)}if($.Z>p.mCc)x.push($)}for(var L=0;L<x.length;
L++)x[L].parent=-1;var e=Date.now();for(var L=1;L<x.length;L++){var J=x[L];for(var N=L-1;N>=0;N--){var E=x[N];
if(J.TE<E.TE||J.To>E.To||J.TO<E.TO||J.TT>E.TT)continue;if(!Rf.m_a(E.Hn,J.Hn[0]+.5,J.Hn[1]+.5))continue;
J.parent=N;break}}return x}function y(l,D){function R(o,V,n,t,q){this.x=o;this.y=V;this.jp=n;this.jf=t;
this.jl=q}function p(o,V){return(V+o)%V}function O(o,V,n,t){return o*t-n*V}function M(o,V,n,t){return o*n+V*t}function U(o,V,n){if(o<=n)return o<=V&&V<n;
else return o<=V||V<n}function m(o,V,n){var t=0;t+=V*o[0]*V;t+=V*o[1]*n;t+=V*o[2];t+=n*o[3]*V;t+=n*o[4]*n;
t+=n*o[5];t+=o[6]*V;t+=o[7]*n;t+=o[8];return t}function Y(o,V,n){return V+o*(n-V)}function x(o,V,n,t){var q=Math.sign(n-o),u=-Math.sign(t-V);
return q*(n-o)-u*(t-V)}function T(o,V){return Math.sqrt(o*o+V*V)}function $(o,V,n,t,q){var u=1-o;return u*u*u*V+3*(u*u*o)*n+3*(o*o*u)*t+o*o*o*q}function L(o,V,n,t,q,u,g,r){var f=O(o,V,g,r),I=O(n,t,g,r),d=O(q,u,g,r),a=f-2*I+d,c=-2*f+2*I,_=f,C=c*c-4*a*_;
if(a==0||C<0)return-1;var F=Math.sqrt(C),i=(-c+F)/(2*a),rP=(-c-F)/(2*a);if(i>=0&&i<=1)return i;else if(rP>=0&&rP<=1)return rP;
else return-1}function s(h){var E,o,V;h.cr=h.Hn[0];h.mqK=h.Hn[1];h.fq=[];var n=h.fq;n.push(new R(0,0,0,0,0));
for(E=0;E<h.Ad;E++){o=h.Hn[E<<1]-h.cr;V=h.Hn[(E<<1)+1]-h.mqK;n.push(new R(n[E].x+o,n[E].y+V,n[E].jp+o*V,n[E].jf+o*o,n[E].jl+V*V))}}function j(h){var o=h.Ad,V=h.Hn,n,t=new Array(o),q=new Array(o),u=new Array(4),g,r,f,I,d,a,c,_,C,F,i,E,rP,rH,rK,rY,Nc,G,rI=0;
h.c$=new Array(o);for(E=o-1;E>=0;E--){if(V[E<<1]!=V[rI<<1]&&V[(E<<1)+1]!=V[(rI<<1)+1])rI=E+1;q[E]=rI}for(E=o-1;
E>=0;E--){var rb=p(E+1,o)<<1;u[0]=u[1]=u[2]=u[3]=0;n=(3+3*(V[rb]-V[E<<1])+(V[rb+1]-V[(E<<1)+1]))/2;u[n]++;
g=0;r=0;f=0;I=0;rI=q[E];rH=E;while(1){i=0;n=(3+3*Math.sign(V[rI*2]-V[rH*2])+Math.sign(V[rI*2+1]-V[rH*2+1]))/2;
u[n]++;if(u[0]&&u[1]&&u[2]&&u[3]){t[E]=rH;i=1;break}C=V[rI*2]-V[E*2];F=V[rI*2+1]-V[E*2+1];if(O(g,r,C,F)<0||O(f,I,C,F)>0){break}if(Math.abs(C)<=1&&Math.abs(F)<=1){}else{d=C+(F>=0&&(F>0||C<0)?1:-1);
a=F+(C<=0&&(C<0||F<0)?1:-1);if(O(g,r,d,a)>=0){g=d;r=a}d=C+(F<=0&&(F<0||C<0)?1:-1);a=F+(C>=0&&(C>0||F<0)?1:-1);
if(O(f,I,d,a)<=0){f=d;I=a}}rH=rI;rI=q[rH];if(!U(rI,E,rH)){break}}if(i==0){c=Math.sign(V[rI*2]-V[rH*2]);
_=Math.sign(V[rI*2+1]-V[rH*2+1]);C=V[rH*2]-V[E*2];F=V[rH*2+1]-V[E*2+1];rK=O(g,r,C,F);rY=O(g,r,c,_);Nc=O(f,I,C,F);
G=O(f,I,c,_);rP=1e7;if(rY<0){rP=Math.floor(rK/-rY)}if(G>0){rP=Math.min(rP,Math.floor(-Nc/G))}t[E]=p(rH+rP,o)}}rP=t[o-1];
h.c$[o-1]=rP;for(E=o-2;E>=0;E--){if(U(E+1,t[E],rP)){rP=t[E]}h.c$[E]=rP}for(E=o-1;U(p(E+1,o),rP,h.c$[E]);
E--){h.c$[E]=rP}}function Z(h){function o(h,E,V){var q=h.Ad,C=h.Hn,F=h.fq,i,rP,rH,rK,rY,t,Nc,G,_,rI,rb,Nr,Nz,NL,Nm=0;
if(V>=q){V-=q;Nm=1}if(Nm==0){i=F[V+1].x-F[E].x;rP=F[V+1].y-F[E].y;rK=F[V+1].jf-F[E].jf;rH=F[V+1].jp-F[E].jp;
rY=F[V+1].jl-F[E].jl;t=V+1-E}else{i=F[V+1].x-F[E].x+F[q].x;rP=F[V+1].y-F[E].y+F[q].y;rK=F[V+1].jf-F[E].jf+F[q].jf;
rH=F[V+1].jp-F[E].jp+F[q].jp;rY=F[V+1].jl-F[E].jl+F[q].jl;t=V+1-E+q}rb=(C[E<<1]+C[V<<1])/2-C[0];Nr=(C[(E<<1)+1]+C[(V<<1)+1])/2-C[1];
NL=C[V<<1]-C[E<<1];Nz=-(C[(V<<1)+1]-C[(E<<1)+1]);Nc=(rK-2*i*rb)/t+rb*rb;G=(rH-i*Nr-rP*rb)/t+rb*Nr;_=(rY-2*rP*Nr)/t+Nr*Nr;
rI=Nz*Nz*Nc+2*Nz*NL*G+NL*NL*_;return Math.sqrt(rI)}var E,V,n,t,q=h.Ad,u=new Array(q+1),g=new Array(q+1),r=new Array(q),f=new Array(q+1),I=new Array(q+1),d=new Array(q+1),a,c,_;
for(E=0;E<q;E++){_=p(h.c$[p(E-1,q)]-1,q);if(_==E){_=p(E+1,q)}if(_<E){r[E]=q}else{r[E]=_}}V=1;for(E=0;
E<q;E++){while(V<=r[E]){f[V]=E;V++}}E=0;for(V=0;E<q;V++){I[V]=E;E=r[E]}I[V]=q;n=V;E=q;for(V=n;V>0;V--){d[V]=E;
E=f[E]}d[0]=0;u[0]=0;for(V=1;V<=n;V++){for(E=d[V];E<=I[V];E++){c=-1;for(t=I[V-1];t>=f[E];t--){a=o(h,t,E)+u[t];
if(c<0||a<c){g[E]=t;c=a}}u[E]=c}}h.hI=n;h.mJz=new Array(n);for(E=q,V=n-1;E>0;V--){E=g[E];h.mJz[V]=E}}function e(h){function o(h,E,a,r,f,NN){var t=h.Ad,Ne=h.fq,Ny=0,_;
while(a>=t){a-=t;Ny+=1}while(E>=t){E-=t;Ny-=1}while(a<0){a+=t;Ny-=1}while(E<0){E+=t;Ny+=1}var NG=Ne[a+1].x-Ne[E].x+Ny*Ne[t].x,NC=Ne[a+1].y-Ne[E].y+Ny*Ne[t].y,Ng=Ne[a+1].jf-Ne[E].jf+Ny*Ne[t].jf,NM=Ne[a+1].jp-Ne[E].jp+Ny*Ne[t].jp,NQ=Ne[a+1].jl-Ne[E].jl+Ny*Ne[t].jl,c=a+1-E+Ny*t;
r[NN]=NG/c;r[NN+1]=NC/c;var NR=(Ng-NG*NG/c)/c,NV=(NM-NG*NC/c)/c,md=(NQ-NC*NC/c)/c,NW=(NR+md+Math.sqrt((NR-md)*(NR-md)+4*NV*NV))/2;
NR-=NW;md-=NW;if(Math.abs(NR)>=Math.abs(md)){_=Math.sqrt(NR*NR+NV*NV);if(_!=0){f[NN]=-NV/_;f[NN+1]=NR/_}}else{_=Math.sqrt(md*md+NV*NV);
if(_!=0){f[NN]=-md/_;f[NN+1]=NV/_}}if(_==0){f[NN]=f[NN+1]=0}}var V=h.hI,n=h.mJz,t=h.Ad,q=h.Hn,u=h.cr,g=h.mqK,r=new Array(V*2),f=new Array(V*2),I=new Array(V),d=new Array(3),E,a,c,_,rP,rH,rK,rY,Nc,G,rI;
h.ou=new S(V);for(E=0;E<V;E++){a=n[p(E+1,V)];a=p(a-n[E],t)+n[E];r[E<<1]=0;r[(E<<1)+1]=0;f[E<<1]=0;f[(E<<1)+1]=0;
o(h,n[E],a,r,f,E<<1)}for(E=0;E<V;E++){I[E]=[0,0,0,0,0,0,0,0,0];var C=f[E<<1]*f[E<<1]+f[(E<<1)+1]*f[(E<<1)+1],F=1/C;
if(C!=0){d[0]=f[(E<<1)+1];d[1]=-f[E<<1];d[2]=-d[1]*r[(E<<1)+1]-d[0]*r[E<<1];for(_=0;_<3;_++){I[E][_*3+0]=d[_]*d[0]*F;
I[E][_*3+1]=d[_]*d[1]*F;I[E][_*3+2]=d[_]*d[2]*F}}}var i=[0,0,0,0,0,0,0,0,0];for(E=0;E<V;E++){i[0]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=0;
var rb=q[n[E]<<1]-u,Nr=q[(n[E]<<1)+1]-g,Nz=0,NL=0;a=p(E-1,V);for(_=0;_<9;_+=3){i[_+0]=I[a][_+0]+I[E][_+0];
i[_+1]=I[a][_+1]+I[E][_+1];i[_+2]=I[a][_+2]+I[E][_+2]}while(1){var Nm=i[0]*i[4]-i[1]*i[3];if(Nm!=0){Nz=(-i[2]*i[4]+i[5]*i[0])/Nm;
NL=(i[2]*i[3]-i[5]*i[0])/Nm;break}if(i[0]>i[4]){d[0]=-i[1];d[1]=i[0]}else if(i[4]){d[0]=-i[4];d[1]=i[3]}else{d[0]=1;
d[1]=0}var C=d[0]*d[0]+d[1]*d[1],F=1/C;d[2]=-d[1]*Nr-d[0]*rb;for(_=0;_<3;_++){i[_*3+0]+=d[_]*d[0]*F;
i[_*3+1]+=d[_]*d[1]*F;i[_*3+2]+=d[_]*d[2]*F}}rP=Math.abs(Nz-rb);rH=Math.abs(NL-Nr);if(rP<=.5&&rH<=.5){h.ou.iO[E<<1]=Nz+u;
h.ou.iO[(E<<1)+1]=NL+g;continue}rK=m(i,rb,Nr);Nc=rb;G=Nr;if(i[0]!=0){for(rI=0;rI<2;rI++){NL=Nr-.5+rI;
Nz=-(i[1]*NL+i[2])/ i[0];rP=Math.abs(Nz-rb);rY=m(i,Nz,NL);if(rP<=.5&&rY<rK){rK=rY;Nc=Nz;G=NL}}}if(i[4]!=0){for(rI=0;
rI<2;rI++){Nz=rb-.5+rI;NL=-(i[3]*Nz+i[5])/ i[4];rH=Math.abs(NL-Nr);rY=m(i,Nz,NL);if(rH<=.5&&rY<rK){rK=rY;
Nc=Nz;G=NL}}}for(_=0;_<2;_++){for(c=0;c<2;c++){Nz=rb-.5+_;NL=Nr-.5+c;rY=m(i,Nz,NL);if(rY<rK){rK=rY;Nc=Nz;
G=NL}}}h.ou.iO[E<<1]=Nc+u;h.ou.iO[(E<<1)+1]=G+g}}function J(h){var o=h.ou.jI,V=h.ou,E,n,t,q,u,g,r,f,I;
for(E=0;E<o;E++){n=p(E+1,o);t=p(E+2,o);var d=V.iO[E<<1],a=V.iO[(E<<1)+1],c=V.iO[t<<1],_=V.iO[(t<<1)+1],C=V.iO[n<<1],F=V.iO[(n<<1)+1],i=Y(.5,c,C),rP=Y(.5,_,F);
u=x(d,a,c,_);if(u!=0){q=O(C-d,F-a,c-d,_-a)/u;q=Math.abs(q);g=q>1?1-1/q:0;g=g*(1/.75)}else{g=4/3}V.Tk[n]=g;
var rH=3*n<<1;if(g>=D.mCy){V.kd[n]=0;V.ce[rH+0]=V.ce[rH+1]=0;V.ce[rH+2]=C;V.ce[rH+3]=F;V.ce[rH+4]=i;
V.ce[rH+5]=rP}else{if(g<.55){g=.55}else if(g>1){g=1}var rK=.5+.5*g;V.kd[n]=1;V.ce[rH]=Y(rK,d,C);V.ce[rH+1]=Y(rK,a,F);
V.ce[rH+2]=Y(rK,c,C);V.ce[rH+3]=Y(rK,_,F);V.ce[rH+4]=i;V.ce[rH+5]=rP}V.alpha[n]=g;V.TK[n]=.5}V.mCv=1}function N(h){function o(){this.cX=0;
this.fw=0;this.fs=0;this.f$=0;this.ft=0;this.xQ=0;this.YZ=0;this.alpha=0}function V(h,E,d,Nh,Nt,rY,Nc){var t=h.ou.jI,NU=h.ou.ce,Mw=h.ou.iO;
if(E==d)return 1;var mp=E,C=p(E+1,t),Na=p(mp+1,t),Ng=Mw[E<<1],NM=Mw[(E<<1)+1],NX=Mw[C<<1],Ni=Mw[(C<<1)+1],mm=rY[Na];
if(mm==0)return 1;var NT=T(Ng-NX,NM-Ni);for(mp=Na;mp!=d;mp=Na){var Na=p(mp+1,t),NF=p(mp+2,t),Ns=Mw[Na<<1],NB=Mw[(Na<<1)+1],Rz=Mw[NF<<1],Nk=Mw[(NF<<1)+1];
if(rY[Na]!=mm)return 1;if(Math.sign(O(NX-Ng,Ni-NM,Rz-Ns,Nk-NB))!=mm)return 1;if(M(NX-Ng,Ni-NM,Rz-Ns,Nk-NB)<NT*T(Ns-Rz,NB-Nk)*-.999847695156)return 1}var RJ=p(E,t)*3+2<<1,mv=p(E+1,t)<<1,NA=p(d,t)<<1,Mr=p(d,t)*3+2<<1,Nm=NU[RJ],NN=NU[RJ+1],p$=Mw[mv],RL=Mw[mv+1],mR=Mw[NA],Ro=Mw[NA+1],mQ=NU[Mr],mS=NU[Mr+1],G=Mw[0],rI=Mw[1];
RJ=d*3+2<<1;var Rh=NU[RJ],ps=NU[RJ+1],F=Nc[d]-Nc[E];F-=O(Rh-G,ps-rI,Rh-G,ps-rI)/2;if(E>=d){F+=Nc[t]}var mE=p$-Nm,Rd=RL-NN,Qz=mR-Nm,rX=Ro-NN,Rm=mQ-Nm,Ri=mS-NN,Rl=O(mE,Rd,Qz,rX),mW=O(mE,Rd,Rm,Ri),RF=O(Qz,rX,Rm,Ri),Rv=Rl+RF-mW;
if(mW==Rl)return 1;var rK=RF/(RF-Rv),rH=mW/(mW-Rl),NK=mW*rK/2;if(NK==0)return 1;var Mu=F/NK,i=2-Math.sqrt(4-Mu/.3);
Nh.fw=Y(rK*i,Nm,p$);Nh.fs=Y(rK*i,NN,RL);Nh.f$=Y(rH*i,mQ,mR);Nh.ft=Y(rH*i,mS,Ro);Nh.alpha=i;Nh.xQ=rK;
Nh.YZ=rH;p$=Nh.fw;RL=Nh.fs;mR=Nh.f$;Ro=Nh.ft;Nh.cX=0;for(mp=p(E+1,t);mp!=d;mp=Na){Na=p(mp+1,t);var RN=Mw[mp<<1],pc=Mw[(mp<<1)+1],Ns=Mw[Na<<1],NB=Mw[(Na<<1)+1];
rK=L(p$-Nm,RL-NN,mR-p$,Ro-RL,mQ-mR,mS-Ro,Ns-RN,NB-pc);if(rK<-.5)return 1;var RV=$(rK,Nm,p$,mR,mQ),RQ=$(rK,NN,RL,Ro,mS),NT=T(Ns-RN,NB-pc);
if(NT==0)return 1;var pa=O(Ns-RN,NB-pc,RV-RN,RQ-pc)/NT;if(Math.abs(pa)>Nt)return 1;if(M(Ns-RN,NB-pc,RV-RN,RQ-pc)<0||M(RN-Ns,pc-NB,RV-Ns,RQ-NB)<0){return 1}Nh.cX+=pa*pa}for(mp=E;
mp!=d;mp=Na){Na=p(mp+1,t);var RJ=mp*3+2<<1,mv=Na*3+2<<1,RB=NU[RJ],Mc=NU[RJ+1],Rk=NU[mv],mt=NU[mv+1];
rK=L(p$-Nm,RL-NN,mR-p$,Ro-RL,mQ-mR,mS-Ro,Rk-RB,mt-Mc);if(rK<-.5)return 1;var RV=$(rK,Nm,p$,mR,mQ),RQ=$(rK,NN,RL,Ro,mS),NT=T(Rk-RB,mt-Mc);
if(NT==0)return 1;var pa=O(Rk-RB,mt-Mc,RV-RB,RQ-Mc)/NT,MC=O(Rk-RB,mt-Mc,Mw[Na<<1]-RB,Mw[(Na<<1)+1]-Mc)/NT;
MC*=.75*h.ou.alpha[Na];if(MC<0){pa=-pa;MC=-MC}if(pa<MC-Nt)return 1;if(pa<MC){Nh.cX+=(pa-MC)*(pa-MC)}}return 0}var n=h.ou,t=n.jI,q=n.iO,u=new Array(t+1),g=new Array(t+1),r=new Array(t+1),f=new Array(t+1),I,E,d,a,c=new o,_,C,F,i,rP,rH,rK,rY=new Array(t),Nc=new Array(t+1);
for(E=0;E<t;E++){if(n.kd[E]=="CURVE"){var G=q[p(E-1,t)<<1],rI=q[(p(E-1,t)<<1)+1],rb=q[E<<1],Nr=q[(E<<1)+1],Nz=q[p(E+1,t)<<1],NL=q[(p(E+1,t)<<1)+1];
rY[E]=Math.sign(O(rb-G,Nr-rI,Nz-rb,NL-Nr))}else{rY[E]=0}}F=0;Nc[0]=0;var Nm=n.iO[0],NN=n.iO[1];for(E=0;
E<t;E++){C=p(E+1,t);if(n.kd[C]=="CURVE"){i=n.alpha[C];var Ne=E*3+2<<1,Ny=C*3+2<<1,NG=n.ce[Ne],NC=n.ce[Ne+1],Ng=q[C<<1],NM=q[(C<<1)+1],NQ=n.ce[Ny],NR=n.ce[Ny+1];
F+=.3*i*(4-i)*O(Ng-NG,NM-NC,NQ-NG,NR-NC)/2;F+=O(NG-Nm,NC-NN,NQ-Nm,NR-NN)/2}Nc[E+1]=F}u[0]=-1;g[0]=0;
r[0]=0;for(d=1;d<=t;d++){u[d]=d-1;g[d]=g[d-1];r[d]=r[d-1]+1;for(E=d-2;E>=0;E--){a=V(h,E,p(d,t),c,D.mCO,rY,Nc);
if(a){break}if(r[d]>r[E]+1||r[d]==r[E]+1&&g[d]>g[E]+c.cX){u[d]=E;g[d]=g[E]+c.cX;r[d]=r[E]+1;f[d]=c;c=new o}}}I=r[t];
rP=new S(I);rH=new Array(I);rK=new Array(I);d=t;for(E=I-1;E>=0;E--){var NV=p(d,t),md=E*3+0<<1,NW=NV*3+0<<1;
if(u[d]==d-1){rP.kd[E]=n.kd[NV];rP.ce[md]=n.ce[NW];rP.ce[md+1]=n.ce[NW+1];rP.ce[md+2]=n.ce[NW+2];rP.ce[md+3]=n.ce[NW+3];
rP.ce[md+4]=n.ce[NW+4];rP.ce[md+5]=n.ce[NW+5];rP.iO[E<<1]=n.iO[NV<<1];rP.iO[(E<<1)+1]=n.iO[(NV<<1)+1];
rP.alpha[E]=n.alpha[NV];rP.Tk[E]=n.Tk[NV];rP.TK[E]=n.TK[NV];rH[E]=rK[E]=1}else{rP.kd[E]="CURVE";rP.ce[md]=f[d].fw;
rP.ce[md+1]=f[d].fs;rP.ce[md+2]=f[d].f$;rP.ce[md+3]=f[d].ft;rP.ce[md+4]=n.ce[NW+4];rP.ce[md+5]=n.ce[NW+5];
rP.iO[E<<1]=Y(f[d].YZ,n.ce[NW+4],q[NV<<1]);rP.iO[(E<<1)+1]=Y(f[d].YZ,n.ce[NW+5],q[(NV<<1)+1]);rP.alpha[E]=f[d].alpha;
rP.Tk[E]=f[d].alpha;rH[E]=f[d].YZ;rK[E]=f[d].xQ}d=u[d]}for(E=0;E<I;E++){C=p(E+1,I);rP.TK[E]=rH[E]/(rH[E]+rK[C])}rP.mCv=1;
h.ou=rP}for(var E=0;E<l.length;E++){var h=l[E];s(h);j(h);Z(h);e(h);J(h);if(D.mCd)N(h)}}return{mhx:B,mhK:y}}();
Rf.m_u=function(Q,S,B,y){var l={Lk:"minority",mCc:y,mCd:!0,mCy:1,mCO:.2},D=Rf.mhx(Q,S,B,l);Rf.mhK(D,l);
return D};Rf.sH=function(Q){var S=[];for(var B=0;B<Q.length;B++){var y=Q[B],l=y.ou,D=["M"],R=[l.ce[(l.jI-1)*6+4],l.ce[(l.jI-1)*6+5]];
for(var p=0;p<l.jI;p++){var O=p*6;if(l.kd[p]==1){D.push("C");for(var M=0;M<6;M++)R.push(l.ce[O+M])}else if(l.kd[p]==0){D.push("L");
for(var M=2;M<4;M++)R.push(l.ce[O+M])}}S.push({parent:y.parent,color:y.color,path:{M:R,F:D}})}return S};
Rf.mVf=function(Q,S,B,y,l){function D($){function L(O){var T="C "+($.ce[O*3+0<<1]*S).toFixed(1)+" "+($.ce[(O*3+0<<1)+1]*S).toFixed(1)+",";
T+=($.ce[O*3+1<<1]*S).toFixed(1)+" "+($.ce[(O*3+1<<1)+1]*S).toFixed(1)+",";T+=($.ce[O*3+2<<1]*S).toFixed(1)+" "+($.ce[(O*3+2<<1)+1]*S).toFixed(1)+" ";
return T}function s(O){var e="L "+($.ce[O*3+1<<1]*S).toFixed(1)+" "+($.ce[(O*3+1<<1)+1]*S).toFixed(1)+" ";
e+=($.ce[O*3+2<<1]*S).toFixed(1)+" "+($.ce[(O*3+2<<1)+1]*S).toFixed(1)+" ";return e}var j=$.jI,O,Z="M"+($.ce[(j-1)*3+2<<1]*S).toFixed(1)+" "+($.ce[((j-1)*3+2<<1)+1]*S).toFixed(1)+" ";
for(O=0;O<j;O++){if($.kd[O]==1){Z+=L(O)}else if($.kd[O]==0){Z+=s(O)}}return Z}var B=B*S,y=y*S,R=Q.length,p=[];
for(var O=0;O<256;O++)p.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var M="<svg id=\"svg\" version=\"1.1\" width=\""+B+"\" height=\""+y+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var O=0;O<R;O++){var U=l[Q[O].color-1].mMG.mVg;if((U>>>24&255)==0)continue;M+="<path d=\"";var m=Q[O].ou;
M+=D(m);var Y=U>>0&255,x=U>>8&255,T=U>>16&255,U="rgb("+Y+","+x+","+T+")";M+="\" fill=\""+U+"\" fill-rule=\"evenodd\"/>"}M+="</svg>";
return M};Rf.m_a=function(Q,S,B){var y=Q.length>>1,l,D=Q[2*y-3]-B,R=Q[2*y-2]-S,p=Q[2*y-1]-B,O=p>D,U=0;
for(var M=0;M<y;M++){l=R;D=p;R=Q[2*M]-S;p=Q[2*M+1]-B;if(D==p)continue;O=p>D}for(var M=0;M<y;M++){l=R;
D=p;R=Q[2*M]-S;p=Q[2*M+1]-B;if(D<0&&p<0)continue;if(D>0&&p>0)continue;if(l<0&&R<0)continue;if(D==p&&Math.min(l,R)<=0)return!0;
if(D==p)continue;var m=l+(R-l)*-D/(p-D);if(m==0)return!0;if(m>0)U++;if(D==0&&O&&p>D)U--;if(D==0&&!O&&p<D)U--;
O=p>D}return(U&1)==1};Rf.fill=function(Q,S,B,y){var l=S[Q],D=[Q],R=0;while(R<D.length){var p=D[R];R++;
S[p]=y;if(S[p-B]==l){D.push(p-B);S[p-B]=254}if(S[p-1]==l){D.push(p-1);S[p-1]=254}if(S[p+1]==l){D.push(p+1);
S[p+1]=254}if(S[p+B]==l){D.push(p+B);S[p+B]=254}}};var W={};W.Kf=!1;W.HT=!1;W.LU=!1;W.MJ=document.createElement("canvas");
W.Gb=null;W.wx=null;W.TP=0;(function(){var Q={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},S;
if(!S)S=W.MJ.getContext("webgl",Q);if(!S)S=W.MJ.getContext("experimental-webgl",Q);if(S){W.Kf=!0;W.HT=!0;
W.Gb=S;W.wx=S.createFramebuffer();S.bindFramebuffer(S.FRAMEBUFFER,W.wx);S.disable(S.BLEND);S.disable(S.DEPTH_TEST);
var B=S.createBuffer();S.bindBuffer(S.ARRAY_BUFFER,B);S.bufferData(S.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),S.STATIC_DRAW);
S.enableVertexAttribArray(0);S.vertexAttribPointer(0,2,S.FLOAT,!1,0,0)}}());W.m_U=function(Q){var S=W.Gb;
if(Q>S.getParameter(S.MAX_TEXTURE_SIZE)){W.Kf=!1;alert("Disabling WebGL")}};W.Lj=function(Q,S){return new Float32Array([(Q.x-S.x)/S.r,(Q.y-S.y)/S.O,Q.r/S.r,Q.O/S.O])};
W.kE=function(){return this.MJ};W.gP=function(Q,S){var B=W.Gb;B.bindFramebuffer(B.FRAMEBUFFER,W.wx);
B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,Q.MW,0);B.viewport(0,0,Q.r,Q.O);
if(S){B.enable(B.SCISSOR_TEST);B.scissor(S.x,S.y,S.r,S.O)}else B.disable(B.SCISSOR_TEST)};W.Hb=function(Q,S,B){if(B)throw"error";
var y=W.Gb;y.disable(y.SCISSOR_TEST);y.bindFramebuffer(y.FRAMEBUFFER,null);y.viewport(0,0,Q,S);if(B){y.enable(y.SCISSOR_TEST);
y.scissor(B.x,B.y,Math.round(B.r),Math.round(B.O))}else y.disable(y.SCISSOR_TEST)};W.clear=function(){var Q=W.Gb;
Q.clearColor(0,0,0,0);Q.clear(Q.COLOR_BUFFER_BIT)};W.oJ=function(Q,S){if(S==null)S=0;var B=(S>>>0&255)==0,y=(S>>>8&255)==0,l=(S>>>16&255)==0,D=(S>>>24&255)==0,R=(Q>>>0&255)*(1/255),p=(Q>>>8&255)*(1/255),O=(Q>>>16&255)*(1/255),M=(Q>>>24&255)*(1/255),U=W.Gb;
U.colorMask(B,y,l,D);U.clearColor(R,p,O,M);U.clear(U.COLOR_BUFFER_BIT);U.colorMask(!0,!0,!0,!0)};W.rk=function(Q,S,B,y,l){var D=S.nG(y);
if(l)D=D.nG(l);if(D.Kq())return;var R=W.Gb;W.gP(Q);R.bindTexture(R.TEXTURE_2D,B.MW);R.copyTexSubImage2D(R.TEXTURE_2D,0,D.x-y.x,D.y-y.y,D.x-S.x,D.y-S.y,D.r,D.O)};
W.mVU=function(Q,S,B){var y=W.Hx[Q];if(y==null||y.r!=S||y.O!=B){if(y)y.delete();y=new W.rp(S,B)}W.Hx[Q]=y;
return y};W.Hx=[];W.qg=function(){this.fD=null;this.og=null};W.qg.kQ=null;W.qg.prototype.Gp=function(Q){if(this.og)return;
this.og={};var S=W.Gb,B=this.fD,y=this.og;for(var l=0;l<Q.length;l++){var D=Q[l];y[D]=S.getUniformLocation(B,D)}};
W.qg.prototype.sK=function(){};W.qg.prototype.SZ=function(Q,S){var B=W.Gb,y=B.createShader(B.FRAGMENT_SHADER);
B.shaderSource(y,Q);B.compileShader(y);if(!B.getShaderParameter(y,B.COMPILE_STATUS))console.log(B.getShaderInfoLog(y));
var l=B.createShader(B.VERTEX_SHADER);B.shaderSource(l,S);B.compileShader(l);if(!B.getShaderParameter(l,B.COMPILE_STATUS))console.log(B.getShaderInfoLog(l));
var D=B.createProgram();B.attachShader(D,l);B.attachShader(D,y);B.linkProgram(D);if(!B.getProgramParameter(D,B.LINK_STATUS))console.log("Could not initialise shaders");
this.fD=D};W.qg.prototype.FZ=function(){if(W.qg.kQ!=this){W.Gb.useProgram(this.fD);W.qg.kQ=this}};W.LH=function(Q,S){W.iN++;
W.TP+=Q*S;if(W.LU)console.log("GL.Channels instances: "+W.iN+", memory: "+W.TP);var B=W.Gb;this.r=Q;
this.O=S;this.MW=B.createTexture();this.iB=null;this.wI(this.MW,Q,S)};W.LH.prototype.wI=function(Q,S,B){var y=W.Gb;
y.bindTexture(y.TEXTURE_2D,Q);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.NEAREST);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST);
y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE);
y.texImage2D(y.TEXTURE_2D,0,y.ALPHA,S,B,0,y.ALPHA,y.UNSIGNED_BYTE,null)};W.LH.prototype.set=function(Q){var S=W.Gb;
S.bindTexture(S.TEXTURE_2D,this.MW);S.pixelStorei(S.UNPACK_ALIGNMENT,1);S.texImage2D(S.TEXTURE_2D,0,S.ALPHA,this.r,this.O,0,S.ALPHA,S.UNSIGNED_BYTE,Q);
S.pixelStorei(S.UNPACK_ALIGNMENT,4)};W.LH.prototype.delete=function(){var Q=W.Gb;if(this.MW){Q.deleteTexture(this.MW);
W.iN--;W.TP-=this.r*this.O}if(W.LU)if(W.LU)console.log("GL.Channels instances: "+W.iN+", memory: "+W.TP*4)};
W.iN=0;W.rp=function(Q,S,B){if(B==null)B=!1;W.iN++;W.TP+=Q*S*4;if(W.LU)console.log("GL.Channels instances: "+W.iN+", memory: "+W.TP);
var y=W.Gb;this.mCB=B;this.r=Q;this.O=S;this.MW=y.createTexture();this.iB=null;this.wI(this.MW,Q,S)};
W.rp.prototype.set=function(Q,S){var B=W.Gb;B.disable(B.SCISSOR_TEST);B.bindTexture(B.TEXTURE_2D,this.MW);
if(Q==null||Q instanceof Uint8Array){var y=this.r*this.O;if(S==null||S.Z()*10>y)B.texImage2D(B.TEXTURE_2D,0,B.RGBA,this.r,this.O,0,B.RGBA,B.UNSIGNED_BYTE,Q);
else{var l=k.Q(S.Z()*4);k.oD(Q,new w(0,0,this.r,this.O),l,S);B.texSubImage2D(B.TEXTURE_2D,0,S.x,S.y,S.r,S.O,B.RGBA,B.UNSIGNED_BYTE,l)}}else B.texImage2D(B.TEXTURE_2D,0,B.RGBA,B.RGBA,B.UNSIGNED_BYTE,Q)};
W.rp.prototype.get=function(Q){var S=W.Gb;W.gP(this);S.readPixels(0,0,this.r,this.O,S.RGBA,S.UNSIGNED_BYTE,Q)};
W.rp.prototype.kO=function(Q){if(Q.Kq())return;var S=W.Gb;if(this.iB==null){this.iB=S.createTexture();
this.wI(this.iB,this.r,this.O);W.iN++;W.TP+=this.r*this.O*4}S.bindFramebuffer(S.FRAMEBUFFER,W.wx);S.bindTexture(S.TEXTURE_2D,this.iB);
if(Q){var B=Math.max(Q.x,0),y=Math.max(Q.y,0);S.copyTexSubImage2D(S.TEXTURE_2D,0,B,y,B,y,Q.r,Q.O)}else S.copyTexImage2D(S.TEXTURE_2D,0,S.RGBA,0,0,this.r,this.O,0)};
W.rp.prototype.wI=function(Q,S,B){var y=W.Gb;y.bindTexture(y.TEXTURE_2D,Q);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,this.mCB?y.LINEAR:y.NEAREST);
y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);
y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE);y.texImage2D(y.TEXTURE_2D,0,y.RGBA,S,B,0,y.RGBA,y.UNSIGNED_BYTE,null)};
W.rp.prototype.delete=function(){var Q=W.Gb;if(this.MW){Q.deleteTexture(this.MW);W.iN--;W.TP-=this.r*this.O*4}if(this.iB){Q.deleteTexture(this.iB);
W.iN--;W.TP-=this.r*this.O*4}if(W.LU)if(W.LU)console.log("GL.Channels instances: "+W.iN+", memory: "+W.TP)};
W.rp.prototype.clone=function(){var Q=W.Gb,S=new W.rp(this.r,this.O);W.gP(this);Q.bindTexture(Q.TEXTURE_2D,S.MW);
Q.copyTexImage2D(Q.TEXTURE_2D,0,Q.RGBA,0,0,this.r,this.O,0);return S};W.wq={m_O:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  return mix( ONE3 - min(ONE3,(ONE3-b)/(a*f+ONE3-f))    ,   ZERO3  , vec3(equal(a  ,ZERO3)) );  }  ",m_b:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",cQ:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",aT:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",HP:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",aE:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",ob:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",jA:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",m_K:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",ai:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",mGr:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",Qr:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",HS:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",hl:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",qd:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",qF:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",pU:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",OS:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",we:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",vp:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"};
W.ZH={};W.ZH.rJ="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
W.ve=function(Q,S,B,y,l){if(W.ve.JT==null)W.ve.JT=new W.ve.if;var D=S.t.length;if(W.ve.cL["m"+D]==null){W.ve.cL["m"+D]={mCl:new W.rp(D,1),Ko:k.Q(D*4)}}var R=W.ve.cL["m"+D];
k.KF(S.t,R.Ko,0);k.KF(S.e,R.Ko,1);k.KF(S.R,R.Ko,2);var p=R.mCl;p.set(R.Ko);var O=W.ve.JT,M=W.Gb;O.FZ();
O.sK(Q,p.MW,B?1:0,y?1:0);M.drawArrays(M.TRIANGLES,0,6)};W.ve.JT=null;W.ve.cL={};W.ve.if=function(){W.qg.call(this);
var Q="\t\t\tprecision mediump float;\t\t\t"+W.wq.ob+"\t\t\t"+W.wq.cQ+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.SZ(Q,W.ZH.rJ)};W.ve.if.prototype=new W.qg;W.ve.if.prototype.sK=function(Q,S,B,y){this.Gp(["source","map","toGray","presLum"]);
var l=W.Gb,D=this.og;l.uniform1f(D.toGray,B);l.uniform1f(D.presLum,y);l.uniform1i(D.source,0);l.uniform1i(D.map,1);
l.activeTexture(l.TEXTURE0);l.bindTexture(l.TEXTURE_2D,Q);l.activeTexture(l.TEXTURE1);l.bindTexture(l.TEXTURE_2D,S);
l.activeTexture(l.TEXTURE0)};W.Ce=function(Q,S,B,y,l,D){if(W.Ce.JT==null){W.Ce.JT=new W.Ce.if;W.Ce.ql=new W.rp(256,1);
W.Ce.HK=k.Q(256*4)}S.n=k.Q(256);var R=W.Ce.HK;k.Cc(S,R);var p=W.Ce.ql;p.set(R);var O=W.Ce.JT,M=W.Gb;
O.FZ();O.sK(Q,p.MW,y,l,D);M.drawArrays(M.TRIANGLES,0,6)};W.Ce.JT=null;W.Ce.ql=null;W.Ce.HK=null;W.Ce.if=function(){W.qg.call(this);
var Q="\t\t\tprecision mediump float;\t\t\t"+W.wq.qF+"\t\t\t"+W.wq.hl+"\t\t\t"+W.wq.qd+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float cfa; \t\t\tuniform float cfb; \t\t\tuniform int colorize; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\tvec3 rgb = src.rgb;\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\tfloat nh = mapv.r; \t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\tfloat ns = sc; \t\t\t\tif(colorize==0) {\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t} \t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t}";
this.SZ(Q,W.ZH.rJ)};W.Ce.if.prototype=new W.qg;W.Ce.if.prototype.sK=function(Q,S,B,y,l){this.Gp(["source","map","cfa","cfb","colorize"]);
var D=W.Gb,R=this.og;D.uniform1f(R.cfa,B);D.uniform1f(R.cfb,y);D.uniform1i(R.colorize,l);D.uniform1i(R.source,0);
D.uniform1i(R.map,1);D.activeTexture(D.TEXTURE0);D.bindTexture(D.TEXTURE_2D,Q);D.activeTexture(D.TEXTURE1);
D.bindTexture(D.TEXTURE_2D,S);D.activeTexture(D.TEXTURE0)};W.wA=function(Q,S,B,y){if(W.wA.JT==null)W.wA.JT=new W.wA.if;
var l=W.wA.JT,D=W.Gb;l.FZ();l.sK(Q,S,B);D.drawArrays(D.TRIANGLES,0,6)};W.wA.JT=null;W.wA.if=function(){W.qg.call(this);
var Q="\t\t\tprecision mediump float;\t\t\t"+W.wq.qF+"\t\t\t"+W.wq.pU+"\t\t\t"+W.wq.OS+"\t\t\t"+W.wq.hl+"\t\t\t"+W.wq.qd+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
this.SZ(Q,W.ZH.rJ)};W.wA.if.prototype=new W.qg;W.wA.if.prototype.sK=function(Q,S,B){this.Gp(["source","vib","sat"]);
var y=W.Gb,l=this.og;y.uniform1f(l.vib,S);y.uniform1f(l.sat,B);y.uniform1i(l.source,0);y.activeTexture(y.TEXTURE0);
y.bindTexture(y.TEXTURE_2D,Q)};W.fl=function(Q,S,B){if(W.fl.JT==null)W.fl.JT=new W.fl.if;var y=W.fl.JT,l=W.Gb;
y.FZ();y.sK(Q,S);l.drawArrays(l.TRIANGLES,0,6)};W.fl.JT=null;W.fl.if=function(){W.qg.call(this);var Q="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.SZ(Q,W.ZH.rJ)};W.fl.if.prototype=new W.qg;W.fl.if.prototype.sK=function(Q,S){this.Gp(["source","trf"]);
var B=W.Gb,y=this.og;B.uniformMatrix4fv(y.trf,!1,new Float32Array(k.Sl.Qk(S)));B.uniform1i(y.source,0);
B.activeTexture(B.TEXTURE0);B.bindTexture(B.TEXTURE_2D,Q)};W.fj=function(Q,S,B,y,l,D){if(W.fj.JT==null)W.fj.JT=new W.fj.if;
var R=W.fj.JT,p=W.Gb;R.FZ();R.sK(Q,S,B,y,l);p.drawArrays(p.TRIANGLES,0,6)};W.fj.JT=null;W.fj.if=function(){W.qg.call(this);
var Q="\t\t\tprecision mediump float; \t\t\t"+W.wq.we+"\t\t\t"+W.wq.qF+"\t\t\t"+W.wq.qd+"\t\t\t"+W.wq.hl+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.SZ(Q,W.ZH.rJ)};W.fj.if.prototype=new W.qg;W.fj.if.prototype.sK=function(Q,S,B,y,l){this.Gp(["source","mnm","mxm","shift","lim"]);
var D=W.Gb,R=this.og;D.uniform3fv(R.mnm,new Float32Array(S));D.uniform3fv(R.mxm,new Float32Array(B));
D.uniform3fv(R.shift,new Float32Array(y));D.uniform1f(R.lim,l);D.uniform1i(R.source,0);D.activeTexture(D.TEXTURE0);
D.bindTexture(D.TEXTURE_2D,Q)};W.fS=function(Q,S,B){if(W.fS.JT==null){W.fS.JT=new W.fS.if}var y=W.fS.JT,l=W.Gb;
y.FZ();y.sK(Q,S);l.drawArrays(l.TRIANGLES,0,6)};W.fS.JT=null;W.fS.if=function(){W.qg.call(this);var Q="\t\t\tprecision mediump float;\t\t\t"+W.wq.cQ+"\t\t\t"+W.wq.aT+"\t\t\t"+W.wq.HP+"\t\t\t"+W.wq.hl+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.SZ(Q,W.ZH.rJ)};W.fS.if.prototype=new W.qg;W.fS.if.prototype.sK=function(Q,S){this.Gp(["source","cfs"]);
var B=W.Gb,y=this.og;B.uniform3fv(y.cfs,S);B.uniform1i(y.source,0);B.activeTexture(B.TEXTURE0);B.bindTexture(B.TEXTURE_2D,Q)};
W.UR=function(Q,S,B,y){if(W.UR.JT==null){W.UR.JT=new W.UR.if}var l=W.UR.JT,D=W.Gb;l.FZ();l.sK(Q,S,B);
D.drawArrays(D.TRIANGLES,0,6)};W.UR.JT=null;W.UR.if=function(){W.qg.call(this);var Q="\t\t\tprecision mediump float;\t\t\t"+W.wq.qF+"\t\t\t"+W.wq.aT+"\t\t\t"+W.wq.HP+"\t\t\t"+W.wq.hl+"\t\t\t"+W.wq.qd+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.SZ(Q,W.ZH.rJ)};W.UR.if.prototype=new W.qg;W.UR.if.prototype.sK=function(Q,S,B){this.Gp(["source","wght","prms"]);
var y=W.Gb,l=this.og;y.uniform1fv(l.wght,new Float32Array(S));y.uniform1fv(l.prms,new Float32Array(B));
y.uniform1i(l.source,0);y.activeTexture(y.TEXTURE0);y.bindTexture(y.TEXTURE_2D,Q)};W.an=function(Q,S,B,y){if(W.an.JT==null)W.an.JT=new W.an.if;
if(W.an.cc["m"+S]==null)W.an.cc["m"+S]=new W.rp(S,S*S);var l=W.an.cc["m"+S];l.set(B);var D=W.an.JT,R=W.Gb;
D.FZ();D.sK(Q,l.MW,S);R.drawArrays(R.TRIANGLES,0,6)};W.an.JT=null;W.an.cc={};W.an.if=function(){W.qg.call(this);
var Q="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.SZ(Q,W.ZH.rJ)};W.an.if.prototype=new W.qg;W.an.if.prototype.sK=function(Q,S,B){this.Gp(["source","lut","N"]);
var y=W.Gb,l=this.og;y.uniform1f(l.N,B);y.uniform1i(l.source,0);y.uniform1i(l.lut,1);y.activeTexture(y.TEXTURE0);
y.bindTexture(y.TEXTURE_2D,Q);y.activeTexture(y.TEXTURE1);y.bindTexture(y.TEXTURE_2D,S);var D=y.LINEAR;
y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,D);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,D);
y.activeTexture(y.TEXTURE0)};W.X={};W.X.cd={};W.X.cy=null;W.X.cq=null;W.X.cJ=null;W.X.Az=function(Q,S,B,y,l,D,R,p){if(p==null)p=Nq.gU();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(Q)==-1){R=R*p.fill;p.fill=1;p.style=!1}var O=Q+(p.Lf?"1":"");
if(W.X.cd[O]==null)W.X.cd[O]=new W.X.if(Q,p.Lf!=null);var M=W.X.cd[O],U=B.nG(l).nG(D);U.offset(-l.x,-l.y);
if(U.Kq())return;var m=W.Gb;W.gP(y,U);y.kO(U);M.FZ();M.sK(S.MW,y.iB,W.Lj(B,l),R,p.fill,p.style?1:0,p.Lv?1:0,p.Lf?new Float32Array(p.Lf):null);
m.drawArrays(m.TRIANGLES,0,6)};W.X.fz=function(Q,S,B,y,l,D,R,p,O,M){if(W.X.cy==null)W.X.cy=new W.X.kY(!0,!0);
if(W.X.cq==null)W.X.cq=new W.X.kY(!0,!1);if(W.X.cJ==null)W.X.cJ=new W.X.kY(!1,!0);var U=M?1:0,m=Q?l?W.X.cy:W.X.cq:W.X.cJ,Y=S?S.nG(y).nG(p):y.nG(p);
if(Y.Kq())return;Y.offset(-y.x,-y.y);var x=W.Gb;W.gP(B,Y);B.kO(Y);m.FZ();if(Q==null)m.sK(null,B.iB,l.MW,W.Lj(y,y),W.Lj(D,y),R/255,O,U);
else if(l)m.sK(Q.MW,B.iB,l.MW,W.Lj(S,y),W.Lj(D,y),R/255,O,U);else m.sK(Q.MW,B.iB,null,W.Lj(S,y),null,R/255,O,U);
x.drawArrays(x.TRIANGLES,0,6)};W.X.mVn=function(Q,S,B){if(W.X.mCU==null)W.X.mCU=new W.X.cu;var y=W.X.mCU,l=new w(0,0,Q.r,Q.O),D=W.Gb;
W.gP(S);S.kO(l);y.FZ();y.sK(l,Q.MW,S.iB,B.MW);D.drawArrays(D.TRIANGLES,0,6)};W.X.Fx={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
W.X.if=function(Q,S){W.qg.call(this);var B="\t\t\tprecision mediump float;\t\t\t"+W.wq.cQ+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(S?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+W.wq.aE+"\t\t\t"+W.wq.ob+"\t\t\t"+W.wq.jA+"\t\t\t"+W.wq.m_O+"\t\t\t"+W.wq.m_b+"\t\t\t"+W.wq.m_K+"\t\t\t"+W.wq.ai+"\t\t\t"+W.wq.mGr+"\t\t\t"+W.wq.Qr+"\t\t\t"+W.wq.hash+"\t\t\t"+(S?W.wq.vp:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+W.X.Fx[Q]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",y="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(Q=="diss")B+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else B+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(S?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.SZ(B,y)};W.X.if.prototype=new W.qg;W.X.if.prototype.sK=function(Q,S,B,y,l,D,R,p){this.Gp("srct alpha source target fill style keepBGA blIf".split(" "));
var O=W.Gb,M=this.og;O.uniform4fv(M.srct,B);O.uniform1f(M.alpha,y);O.uniform1f(M.fill,l);O.uniform1f(M.style,D);
O.uniform1f(M.keepBGA,R);if(p)O.uniform4fv(M.blIf,p);O.uniform1i(M.source,0);O.uniform1i(M.target,1);
O.activeTexture(O.TEXTURE0);O.bindTexture(O.TEXTURE_2D,Q);O.activeTexture(O.TEXTURE1);O.bindTexture(O.TEXTURE_2D,S);
O.activeTexture(O.TEXTURE0)};W.X.kY=function(Q,S){W.qg.call(this);this.mME=Q;this.iU=S;var B="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+W.wq.HS+"\t\t\t"+W.wq.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(Q?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(S?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(Q?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",y="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.SZ(B,y)};W.X.kY.prototype=new W.qg;W.X.kY.prototype.sK=function(Q,S,B,y,l,D,R,p){if(this.iU)this.Gp("srct wrct wcolor awg dissv source target weight".split(" "));
else this.Gp(["srct","awg","dissv","source","target"]);var O=W.Gb,M=this.og;O.uniform4fv(M.srct,y);if(this.iU){O.uniform4fv(M.wrct,l);
O.uniform1f(M.wcolor,D)}O.uniform1f(M.awg,R);O.uniform1f(M.dissv,p);O.uniform1i(M.source,0);O.uniform1i(M.target,1);
if(this.iU)O.uniform1i(M.weight,2);O.activeTexture(O.TEXTURE0);O.bindTexture(O.TEXTURE_2D,Q);O.activeTexture(O.TEXTURE1);
O.bindTexture(O.TEXTURE_2D,S);if(this.iU){O.activeTexture(O.TEXTURE2);O.bindTexture(O.TEXTURE_2D,B)}O.activeTexture(O.TEXTURE0)};
W.X.cu=function(){W.qg.call(this);var Q="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",S="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.SZ(Q,S)};W.X.cu.prototype=new W.qg;W.X.cu.prototype.sK=function(Q,S,B,y){this.Gp(["rct","prev","next","alpha"]);
var l=W.Gb,D=this.og;l.uniform4fv(D.rct,[0,0,1,1]);l.uniform1i(D.prev,0);l.uniform1i(D.next,1);l.uniform1i(D.alpha,2);
l.activeTexture(l.TEXTURE0);l.bindTexture(l.TEXTURE_2D,S);l.activeTexture(l.TEXTURE1);l.bindTexture(l.TEXTURE_2D,B);
l.activeTexture(l.TEXTURE2);l.bindTexture(l.TEXTURE_2D,y);l.activeTexture(l.TEXTURE0)};function Qr(){}Qr.fY=function(Q){var S=new Uint8Array(Q),B=0,y={gZ:[],JR:[],list:[]},l=X.Si(S,B);
B+=2;if(l<=2){return Qr.mGN(S)}var D=X.Si(S,B);B+=2;var R=X.Ly(S,B,8);B+=8;var p=X.j(S,B);B+=4;if(p>0)y.gZ=Qr.AM(S,B,p,D,l);
B+=p;var O=X.Ly(S,B,8);B+=8;var M=X.j(S,B);B+=4;if(M>0)y.JR=Qr.fN(S,B,M);B+=M;var U=X.Ly(S,B,8);B+=8;
var m=X.j(S,B);B+=4;if(m>0){var Y={};NE.sY(S,Y,B+4);y.list=Y.Brsh.v}B+=m;var x=y.list;for(var T=0;T<x.length;
T++){p_.hO.check(x[T].v)}return y};Qr.hj=function(Q,S){Q.v.Nm.v=S};Qr.mGN=function(Q){var S={gZ:[],JR:[],list:[]},B=0,y=X.Si(Q,B);
B+=2;var l=X.Si(Q,B);B+=2;for(var D=0;D<l;D++){var R=X.Si(Q,B);B+=2;var p=X.j(Q,B);B+=4;var O=B;if(R==2){var M={};
S.gZ.push(M);var U=X.j(Q,O);O+=4;var m=X.Si(Q,O);O+=2;if(y==2){var Y=X.Ub(Q,O);O+=4+Y.length*2+2}M.id=mV._H()+"-d71c-11e5-b1ae-a548a96e5f9f";
O++;O+=8;M.q=X.Gc(Q,O);O+=16;var x=X.Si(Q,O);O+=2;var T=Q[O];O++;M.channel=Rr.Zf(!1,x,Q,M.q.r,M.q.O,O,T);
var $=p_.pe(M.id),L=$.Brsh.v;L.Dmtr.v.val=M.q.r;L.Spcn.v.val=m;S.list.push({t:"Objc",v:$})}B+=p}return S};
Qr.Oo=function(Q){var S=new R_,B=0,y=0;X.DB(S,B,6);B+=2;X.DB(S,B,2);B+=2;X.NF(S,B,"8BIMsamp");B+=8;B+=4;
y=B;B=Qr.Ar(S,B,Q.gZ);X.g(S,y-4,B-y);X.NF(S,B,"8BIMpatt");B+=8;B+=4;y=B;B=Qr.fR(S,B,Q.JR);X.g(S,y-4,B-y);
var l={classID:"null",Brsh:{t:"VlLs",v:Q.list}};X.NF(S,B,"8BIMdesc");B+=8;B+=4;y=B;X.g(S,B,16);B+=4;
B+=NE.HE(S,l,B);X.g(S,y-4,B-y);return S.data.slice(0,B).buffer};Qr.AM=function(Q,S,B,y,l){var D=X.j,R=X.Gc,p=S+B,O=[];
while(S<p){var M={};O.push(M);var U=D(Q,S);S+=4;var m=S,Y=X.dl(Q,S);S+=Y.length;M.id=Y.ho;if(y==1){S+=9;
M.q=R(Q,S);S+=16}else{S+=7;var x=D(Q,S);S+=4;M.q=R(Q,S);S+=16;var T=D(Q,S);S+=4;S+=T*4;var $=D(Q,S);
S+=4;var L=D(Q,S);S+=4;var s=R(Q,S);S+=16}var j=X.Si(Q,S);S+=2;var Z=Q[S];S+=1;M.channel=Rr.Zf(!1,j,Q,M.q.r,M.q.O,S,Z);
if(U%4!=0)U+=4-U%4;S=m+U}return O};Qr.Ar=function(Q,S,B){var y=X.g,l=X.nL;for(var D=0;D<B.length;D++){var R=B[D],p=S+4,M=56,m=1;
S+=4;X.bq(Q,S,R.id);S+=R.id.length+2;Q.vq(S,1);Q.data[S]=1;S+=3;y(Q,S,3);S+=4;var O=S;S+=4;l(Q,S,R.q);
S+=16;y(Q,S,M);S+=4;S+=M*4;y(Q,S-4,1);var U=S;S+=4;y(Q,S,8);S+=4;l(Q,S,R.q);S+=16;X.DB(Q,S,8);S+=2;Q.vq(S,1);
Q.data[S]=m;S++;Q.vq(S,R.q.Z()*2);S=Rr.f_(R.channel,Q.data,R.q.r,R.q.O,S,m);Q.vq(S,8);S+=8;var Y=S-p;
y(Q,p-4,Y);y(Q,O,Y-49);y(Q,U,Y-305);if(Y%4!=0)S+=4-Y%4}return S};Qr.fN=function(Q,S,B){var y=S+B,l=[];
while(S<y){var D={};l.push(D);var R=X.j(Q,S);S+=4;var p=S;S=ro.Ay(Q,S,D);if(R%4!=0)R+=4-R%4;S=p+R}return l};
Qr.fR=function(Q,S,B){for(var y=0;y<B.length;y++){var l=B[y];S+=4;var D=S;S=ro.Aq(Q,S,l);var R=S-D;X.g(Q,D-4,R);
if(R%4!=0)D+=4-R%4;S=D+R}return S};function me(){}me.fY=function(Q){var S=new Uint8Array(Q),B=[],y=0,l=X.Si(S,y);
y+=2;if(l!=4){throw"Unknown version of curves: "+l}var D=X.Si(S,y);y+=2;for(var R=0;R<D;R++){var p=me.AN(S,y);
y+=2+2*p.length;B.push(p)}if(y==S.length)return B;var O=X.Ly(S,y,4);y+=4;var M=X.Si(S,y);y+=2;var U=X.Si(S,y);
y+=2;if(U!=0)throw"extra curves for channels";return B};me.ZN=function(Q,S,B){var y=S,l=[],D=Q[S];S+=3;
var R=X.j(Q,S);S+=4;for(var p=0;p<4;p++){var O=R>>>p&1;if(O){if(D==0){var M=me.AN(Q,S);S+=2+2*M.length}else{var M=me.mGK(Q,S);
S+=256}l.push(M)}else l.push(D==0?[0,0,255,255]:me.mGH())}var U=m_.yh("curv");for(var p=0;p<4;p++){if(D==0){var m=l[p],Y=[];
for(var x=0;x<m.length;x+=2)Y.push(k.$T.nd(m[x],m[x+1],!0));me.FA(U,p,Y)}else me.FA(U,p,l[p])}return U};
me.mGH=function(){var Q=[];for(var S=0;S<256;S++)Q.push(S);return Q};me.FA=function(Q,S,B){var y=MR.cW("CrvA",S);
if(B.length<256)y.Crv={t:"VlLs",v:B};else{y.Mpng={t:"VlLs",v:[]};for(var l=0;l<256;l++)y.Mpng.v[l]={t:"long",v:B[l]}}y={t:"Objc",v:y};
var D=Q.Adjs.v,R=MR.iL(D,S);if(R==-1)D.push(y);else D[R]=y};me.nW=function(Q,S){var B=Q.Adjs.v,y=MR.iL(B,S);
if(y==-1){if(B.length==0||B[0].v.Crv)return[k.$T.nd(0,0,!0),k.$T.nd(255,255,!0)];var l=[];for(var D=0;
D<256;D++)l.push(D);return l}var R=B[y].v,p=R.Crv;if(p)return p.v;var l=[];for(var D=0;D<256;D++)l.push(R.Mpng.v[D].v);
return l};me.AN=function(Q,S){var B=[],y=X.Si(Q,S);S+=2;for(var l=0;l<y;l++){var D=X.Si(Q,S);S+=2;var R=X.Si(Q,S);
S+=2;B.push(R,D)}return B};me.mGA=function(Q,S,B){var y=B.length/2;X.DB(Q,S,y);S+=2;for(var l=0;l<y;
l++){X.DB(Q,S,B[l*2+1]);S+=2;X.DB(Q,S,B[l*2+0]);S+=2}};me.mGK=function(Q,S){var B=[];for(var y=0;y<256;
y++)B.push(Q[S+y]);return B};me.maQ=function(Q,S,B){Q.vq(S,256);for(var y=0;y<256;y++)Q.data[S+y]=B[y]};
me.Zc=function(Q,S,B){var y=[];for(var l=0;l<4;l++){var D=me.nW(B,l);if(D.length==256)y.push(D);else{var R=[];
for(var p=0;p<D.length;p++)R.push(D[p].v.Hrzn.v,D[p].v.Vrtc.v);y.push(R)}}var O=S,M=y[0].length==256?1:0;
Q.vq(S,3);Q.data[S]=M;Q.data[S+1]=0;Q.data[S+2]=1;S+=3;X.g(Q,S,15);S+=4;for(var l=0;l<4;l++){var U=y[l];
if(M==0){me.mGA(Q,S,U);S+=2+2*U.length}else{me.maQ(Q,S,U);S+=256}}return S-O};function ma(){}ma.ZN=function(Q,S,B){var y={},l=X.Si(Q,S);
S+=2;y.iD=Q[S]==1;S++;S++;y.cD=[X.Ll(Q,S),X.Ll(Q,S+2),X.Ll(Q,S+4)];S+=6;y.cO=[X.Ll(Q,S),X.Ll(Q,S+2),X.Ll(Q,S+4)];
S+=6;y.cB=[];for(var D=0;D<6;D++){var R={};R.oV=[X.Ll(Q,S),X.Ll(Q,S+2),X.Ll(Q,S+4),X.Ll(Q,S+6)];S+=8;
R.px=[X.Ll(Q,S),X.Ll(Q,S+2),X.Ll(Q,S+4)];S+=6;y.cB.push(R)}var p=m_.yh("hue2"),O=y;if(p.Clrz==null)p.Clrz={t:"bool",v:!1};
p.Clrz.v=O.iD;for(var D=0;D<7;D++){var M=D==0?O.iD?O.cD:O.cO:O.cB[D-1];ma.FA(p,D,M)}return p};ma.mah=function(Q){return{classID:"Hst2",H:{t:"long",v:Q[0]},Strt:{t:"long",v:Q[1]},Lght:{t:"long",v:Q[2]}}};
ma.iL=function(Q,S){for(var B=0;B<Q.length;B++){var y=Q[B].v.LclR;if(S==0&&y==null||y!=null&&y.v==S)return B}return-1};
ma.FA=function(Q,S,B){var y=S==0?B:B.px,l=ma.mah(y);if(S!=0){var D=B.oV;l.LclR={t:"long",v:S},l.BgnR={t:"long",v:D[0]};
l.BgnS={t:"long",v:D[1]};l.EndS={t:"long",v:D[2]};l.EndR={t:"long",v:D[3]}}l={t:"Objc",v:l};var R=Q.Adjs.v,p=ma.iL(R,S);
if(p==-1)R.push(l);else R[p]=l};ma.nW=function(Q,S){var B=Q.Adjs.v,y=ma.iL(B,S);if(y==-1){if(S==0)return[0,0,0];
else return[{oV:[315,345,15,45],px:[0,0,0]},{oV:[15,45,75,105],px:[0,0,0]},{oV:[75,105,135,165],px:[0,0,0]},{oV:[135,165,195,225],px:[0,0,0]},{oV:[195,225,255,285],px:[0,0,0]},{oV:[255,285,315,345],px:[0,0,0]}][S-1]}var l=B[y].v,D=[l.H.v,l.Strt.v,l.Lght.v];
if(S==0)return D;return{px:D,oV:[l.BgnR.v,l.BgnS.v,l.EndS.v,l.EndR.v]}};ma.Zc=function(Q,S,B){var y={iD:B.Clrz.v,cB:[]};
y.cD=y.cO=ma.nW(B,0);for(var l=1;l<7;l++)y.cB.push(ma.nW(B,l));var D=2+2+12+6*14,R=Q.data;Q.vq(S,D);
X.nD(R,S,2);S+=2;R[S]=y.iD?1:0;S++;S++;X.Kn(R,S+0,y.cD[0]);X.Kn(R,S+2,y.cD[1]);X.Kn(R,S+4,y.cD[2]);S+=6;
X.Kn(R,S+0,y.cO[0]);X.Kn(R,S+2,y.cO[1]);X.Kn(R,S+4,y.cO[2]);S+=6;for(var l=0;l<6;l++){var p=y.cB[l].oV,O=y.cB[l].px;
X.Kn(R,S+0,p[0]);X.Kn(R,S+2,p[1]);X.Kn(R,S+4,p[2]);X.Kn(R,S+6,p[3]);S+=8;X.Kn(R,S+0,O[0]);X.Kn(R,S+2,O[1]);
X.Kn(R,S+4,O[2]);S+=6}return D};function MR(){}MR.fY=function(Q){var S=new Uint8Array(Q),B=2,y=[];for(var l=0;
l<29;l++){var D=[];y.push(D);for(var R=0;R<5;R++)D.push(X.Si(S,B+l*10+R*2))}B+=29*10;if(B<S.length){var p=X.Ly(S,B,4);
B+=4;var O=X.Si(S,B);B+=2;var M=X.Si(S,B);B+=2;var U=M-29;for(var l=0;l<U;l++){var D=[];y.push(D);for(var R=0;
R<5;R++)D.push(X.Si(S,B+l*10+R*2))}}var m=m_.yh("levl");for(var l=0;l<4;l++)MR.FA(m,l,y[l]);return m};
MR.cW=function(Q,S){var B=["Cmps","Rd","Grn","Bl"],y={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:B[S]}}]};
return{classID:Q,Chnl:y}};MR.iL=function(Q,S){var B={Cmps:0,Rd:1,Grn:2,Bl:3};for(var y=0;y<Q.length;
y++){var l=Q[y].v,D=B[l.Chnl.v[0].v.enum];if(D==S)return y}return-1};MR.FA=function(Q,S,B){var y=MR.cW("LvlA",S);
y.Inpt={t:"VlLs",v:[{t:"long",v:B[0]},{t:"long",v:B[1]}]};y.Otpt={t:"VlLs",v:[{t:"long",v:B[2]},{t:"long",v:B[3]}]};
y.Gmm={t:"doub",v:B[4]/100};y={t:"Objc",v:y};var l=Q.Adjs.v,D=MR.iL(l,S);if(D==-1)l.push(y);else l[D]=y};
MR.nW=function(Q,S){var B=[0,255,0,255,100],y=Q.Adjs.v,l=MR.iL(y,S);if(l==-1)return B;var D=y[l].v;if(D.Inpt){B[0]=D.Inpt.v[0].v;
B[1]=D.Inpt.v[1].v}if(D.Otpt){B[2]=D.Otpt.v[0].v;B[3]=D.Otpt.v[1].v}if(D.Gmm){B[4]=Math.round(D.Gmm.v*100)}return B};
MR.Oo=function(Q,S){var B=[],l=0;for(var y=0;y<4;y++)B.push(MR.nW(S,y));while(B.length<29)B.push([0,255,0,255,100]);
Q.vq(0,2+10*29);X.nD(Q.data,l,2);l+=2;for(var y=0;y<29;y++){var D=B[y];for(var R=0;R<5;R++)X.nD(Q.data,l+y*10+R*2,D[R])}l+=29*10;
if(B.length==29)return l;Q.vq(l,8+10*(B.length-29));X.dW(Q.data,l,"Lvls");l+=4;X.nD(Q.data,l,3);l+=2;
X.nD(Q.data,l,B.length);l+=2;var p=B.length-29;for(var y=0;y<p;y++){var D=B[29+y];for(var R=0;R<5;R++)X.nD(Q.data,l+y*10+R*2,D[R])}l+=10*p;
return l};function QZ(){}QZ.fY=function(Q){var S=new Uint8Array(Q),B=2,y={il:[],dR:[]},l=X.Ly(S,B,4);
B+=4;var D=X.Si(S,B);B+=2;var R=X.j(S,B);B+=4;y.il=Qr.fN(S,B,R);B+=R;var p=X.j(S,B);B+=4;for(var O=0;
O<p;O++){var M=X.j(S,B);B+=4;var U=B,m={ox:{},rG:{}};y.dR.push(m);B+=4;B+=NE.sY(S,m.ox,B);B+=4;B+=NE.sY(S,m.rG,B);
B=U+M;var Y=m.rG.blendOptions,x=m.rG.Lefx;if(Y&&Object.keys(Y.v).length>1){}if(x){if(x.v.masterFXSwitch==null)x.v.masterFXSwitch={t:"bool",v:!0};
RS.fW(x.v)}}return y};QZ.hj=function(Q,S){Q.ox.Nm.v=S};QZ.Oo=function(Q){var S=new R_,B=0;X.DB(S,B,2);
B+=2;X.NF(S,B,"8BSL");B+=4;X.DB(S,B,3);B+=2;var y=B;B+=4;B=Qr.fR(S,B,Q.il);X.g(S,y,B-y-4);var l=Q.dR.length;
X.g(S,B,l);B+=4;for(var D=0;D<l;D++){B+=4;var R=B,p=Q.dR[D];X.g(S,B,16);B+=4;B+=NE.HE(S,p.ox,B);var O=p.rG.Lefx;
if(O){p.rG.Lefx=JSON.parse(JSON.stringify(O));RS.cv(p.rG.Lefx.v)}X.g(S,B,16);B+=4;B+=NE.HE(S,p.rG,B);
if(O)p.rG.Lefx=O;X.g(S,R-4,B-R)}return S.data.slice(0,B).buffer};function ms(){}ms.ZN=function(Q,S,B){var y=X.Si(Q,S);
S+=2;var l={};l.Uh=X.Si(Q,S)==1;S+=2;l.vC=[];for(var D=0;D<10;D++){var R=[];l.vC.push(R);for(var p=0;
p<4;p++)R.push(X.Ll(Q,S+p*2));S+=8}var O=m_.yh("selc");O.Mthd.v.CrcM=l.Uh?"Absl":"Rltv";for(var D=1;
D<10;D++)ms.FA(O,D-1,l.vC[D]);return O};ms.fQ="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
ms.cW=function(Q,S){var B=["Cmps","Rd","Grn","Bl"],y={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:B[S]}}]};
return{classID:Q,Chnl:y}};ms.iL=function(Q,S){var B=ms.fQ;for(var y=0;y<Q.length;y++){var l=Q[y].v,D=B.indexOf(l.Clrs.v.Clrs);
if(D==S)return y}return-1};ms.FA=function(Q,S,B){var y=["Cyn","Mgnt","Ylw","Blck"],l={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:ms.fQ[S]}}};
for(var D=0;D<4;D++)l[y[D]]={t:"UntF",v:{type:"#Prc",val:B[D]}};l={t:"Objc",v:l};var R=Q.ClrC.v,p=ms.iL(R,S);
if(p==-1)R.push(l);else R[p]=l};ms.nW=function(Q,S){var B=[0,0,0,0],y=Q.ClrC.v,l=ms.iL(y,S);if(l==-1)return B;
var D=["Cyn","Mgnt","Ylw","Blck"];for(var R=0;R<4;R++)if(y[l].v[D[R]])B[R]=y[l].v[D[R]].v.val;return B};
ms.Zc=function(Q,S,B){var y={Uh:B.Mthd.v.CrcM=="Absl",vC:[[0,0,0,0]]};for(var l=0;l<9;l++)y.vC.push(ms.nW(B,l));
Q.vq(S,84);X.nD(Q.data,S,1);S+=2;X.nD(Q.data,S,y.Uh?1:0);S+=2;for(var l=0;l<10;l++){var D=y.vC[l];for(var R=0;
R<4;R++)X.Kn(Q.data,S+R*2,D[R]);S+=8}return 84};function Le(){}Le.yh=function(){return{ML:new w(0,0,50,50),ox:"",dy:"play",A:k.c.MV.nJ([.1,.1,.9,.5,.1,.9],0)}};
Le.fY=function(Q){Q=new Uint8Array(Q);var S=0,B=[],y=Date.now(),l=X.Ly(Q,0,4);S+=4;var D=X.j(Q,S);S+=4;
var R=X.j(Q,S);S+=4;for(var p=0;p<R;p++){var O=X.Ub(Q,S);S+=O.length*2+4+2;if((O.length&1)==0)S+=2;var M=X.j(Q,S);
S+=4;var U=X.j(Q,S);S+=4;var m=S,Y=X.dl(Q,m).ho;m+=Y.length+1;var x=X.Gc(Q,m);m+=16;var T=Le.fC(Q,m,U-(m-S)),$=k.c.nq(T),L=k.i.vQ($),s=1/L.r,j=1/L.O;
k.c.ZU(T,new Nu(s,0,0,j,-L.x*s,-L.y*j));B.push({dy:O,ox:Y,A:T,ML:x});S+=U}return B};Le.hj=function(Q,S){Q.dy=S};
Le.Oo=function(Q){var S=new R_,B=0;X.NF(S,B,"cush");B+=4;X.g(S,B,2);B+=4;X.g(S,B,Q.length);B+=4;for(var y=0;
y<Q.length;y++){var l=Q[y],D=l.dy+"\0";X.EV(S,B,D);B+=4+D.length*2;if((D.length&1)==1)B+=2;X.g(S,B,1);
B+=4;B+=4;var R=B;X.bq(S,B,l.ox);B+=l.ox.length+1;X.nL(S,B,l.ML);B+=16;S.vq(B,l.A.length*26);Le.c_(S.data,B,l.A,1,1);
B+=l.A.length*26;var p=B-R;if((p&3)!=0)p+=4-(p&3);X.g(S,R-4,p);B=R+p}return S.data.slice(0,B).buffer};
Le.fC=function(Q,S,B,y,l){if(y==null)y=1;if(l==null)l=1;var D=X.Ll,R=X.mm_,O=[],M=Math.floor(B/26);for(var U=0;
U<M;U++){var m=S+U*26,Y={},x=0;O.push(Y);Y.type=D(Q,m);m+=2;if(Y.type==6){x=24}if(Y.type==8){Y.all=D(Q,m);
m+=2;x=22}if(Y.type==0||Y.type==3){Y.length=D(Q,m);m+=2;Y.GL=D(Q,m);m+=2;Y.Xr=D(Q,m);m+=2;Y.hi=X.j(Q,m);
m+=4;Y.hZ=X.j(Q,m);m+=4;x=10}if(Y.type==1||Y.type==2||Y.type==4||Y.type==5){var T,$;$=R(Q,m);m+=4;T=R(Q,m);
m+=4;Y.G$=new v(T*y,$*l);$=R(Q,m);m+=4;T=R(Q,m);m+=4;Y.v=new v(T*y,$*l);$=R(Q,m);m+=4;T=R(Q,m);m+=4;
Y.RQ=new v(T*y,$*l);x=0}for(var L=0;L<x;L++)if(Q[m+L]!=0){console.log("Unexpected non-zero byte!",Y,L,Q[m+L])}}return O};
Le.c_=function(Q,S,B,y,l){var D=X.Kn,R=X.Yd,p=B.length;for(var O=0;O<p;O++){var M=S+O*26,U=B[O];D(Q,M,U.type);
M+=2;if(U.type==6){}if(U.type==8)D(Q,M,U.all);if(U.type==0||U.type==3){D(Q,M,U.length);M+=2;D(Q,M,U.GL);
M+=2;D(Q,M,U.Xr);M+=2}if(U.type==1||U.type==2||U.type==4||U.type==5){R(Q,M,U.G$.y/l);M+=4;R(Q,M,U.G$.x/y);
M+=4;R(Q,M,U.v.y/l);M+=4;R(Q,M,U.v.x/y);M+=4;R(Q,M,U.RQ.y/l);M+=4;R(Q,M,U.RQ.x/y);M+=4}}};function rf(){}rf.fY=function(Q){var S=new Uint8Array(Q),B=[],y=0;
y=rf.AR(S,y,B);if(y+3<S.length){B=[];y=rf.AR(S,y,B)}return B};rf.AR=function(Q,S,B){var y=X.Si,l=X.Ll,D=y(Q,S);
S+=2;var R=y(Q,S);S+=2;for(var O=0;O<R;O++){var M=rf.Yr(Q,S);S+=10;if(D==2){M.MX=X.Ub(Q,S);S+=4+M.MX.length*2+2}B.push(M)}return S};
rf.Yr=function(Q,S){var B=X.Si,y=X.Ll,l=B(Q,S),T=null;S+=2;var D=B(Q,S);S+=2;var R=B(Q,S);S+=2;var O=B(Q,S);
S+=2;var M=B(Q,S);S+=2;var U=1/65535,m=255/65535,Y=100/65535,x=255/1e4;if(l==0)T={t:D*m,e:R*m,R:O*m};
else if(l==1){T=k.OS(D*U,R*U,O*U);T.t*=255;T.e*=255;T.R*=255}else if(l==2)T=k.Kg.RT({classID:"CMYC",Cyn:{t:"doub",v:100-D*Y},Mgnt:{t:"doub",v:100-R*Y},Ylw:{t:"doub",v:100-O*Y},Blck:{t:"doub",v:100-M*Y}});
else if(l==7){var $=k.xw(D/100,y(Q,S-6)/100,y(Q,S-4)/100);T=$}else if(l==8){T={t:255-D*x,e:255-R*x,R:255-O*x}}else throw"e "+l+", ";
return T};rf.Oo=function(Q){var S=new R_,B=0,y=X.DB;y(S,B,2);B+=2;y(S,B,Q.length);B+=2;for(var l=0;l<Q.length;
l++){var D=Q[l];S.vq(B,10);rf.Z_(S.data,B,D);B+=10;var R=(D.MX?D.MX:"")+"\0";X.EV(S,B,R);B+=4+R.length*2}return S.data.slice(0,B).buffer};
rf.hj=function(Q,S){Q.MX=S};rf.Z_=function(Q,S,B){var y=65535/255,l=X.nD;l(Q,S,0);l(Q,S+2,Math.round(B.t*y));
l(Q,S+4,Math.round(B.e*y));l(Q,S+6,Math.round(B.R*y));l(Q,S+8,0)};function mI(){}mI.fY=function(Q){var S=new Uint8Array(Q),B=4,y={};
y.$a=X.Ub(S,B);B+=4+y.$a.length*2+2;y.exp=S[B++]==1;y.S=[];var l=X.j(S,B);B+=4;for(var D=0;D<l;D++){var R={};
y.S.push(R);R.d_=X.Si(S,B);B+=2;R.shift=S[B++]==1;R.mut=S[B++]==1;R.color=X.Si(S,B);B+=2;R.$a=X.Ub(S,B);
B+=4+R.$a.length*2+2;R.exp=S[B++]==1;R.S=[];var mq=X.j(S,B);B+=4;for(var p=0;p<mq;p++){var O={};R.S.push(O);
O.exp=S[B++]==1;O.o=S[B++]==1;O.mFz=S[B++]==1;O.m_B=S[B++];var M=X.Ly(S,B,4);B+=4;if(M=="TEXT"){O.QF=mI.Za(S,B);
B+=4+O.QF.length}else if(M=="long"){O.QF=X.Ly(S,B,4);B+=4}else throw"e";O.iT=mI.Za(S,B);B+=4+O.iT.length;
var U=X.$I(S,B);B+=4;if(U==-1){O.$o={};var m=NE.sY(S,O.$o,B);B+=m}}}console.log(y);var Y=new Uint8Array(mI.Oo(y));
for(var D=0;D<Y.length;D++)if(Y[D]!=S[D]){console.log(Y.length,S.length);var x=4*(D>>>2)-16;console.log(X.fo(S,x,64));
console.log(X.fo(Y,x,64));console.log(S.slice(x,x+64));console.log(Y.slice(x,x+64));throw D}console.log(y);
return[y]};mI.Za=function(Q,S){var B=X.j(Q,S);return X.Ly(Q,S+4,B)};mI.AL=function(Q,S,B){X.g(Q,S,B.length);
X.NF(Q,S+4,B)};mI.Oo=function(Q){var S=new R_,B=0;X.g(S,B,16);B+=4;X.EV(S,B,Q.$a+"\0");B+=4+Q.$a.length*2+2;
S.vq(B,1);S.data[B++]=Q.exp?1:0;var y=Q.S.length;X.g(S,B,y);B+=4;for(var l=0;l<y;l++){var D=Q.S[l];X.DB(S,B,D.d_);
B+=2;S.vq(B,2);S.data[B++]=D.shift?1:0;S.data[B++]=D.mut?1:0;X.DB(S,B,D.color);B+=2;X.EV(S,B,D.$a+"\0");
B+=4+D.$a.length*2+2;S.vq(B,1);S.data[B++]=D.exp?1:0;var mq=D.S.length;X.g(S,B,mq);B+=4;for(var R=0;
R<mq;R++){var p=D.S[R];S.vq(B,4);S.data[B++]=p.exp?1:0;S.data[B++]=p.o?1:0;S.data[B++]=p.mFz?1:0;S.data[B++]=p.m_B;
var O=p.QF=="LqFy"||p.QF=="Avrg"||p.QF=="GEfc";X.NF(S,B,O?"long":"TEXT");B+=4;if(!O){mI.AL(S,B,p.QF);
B+=4+p.QF.length}else{X.NF(S,B,p.QF);B+=4}mI.AL(S,B,p.iT);B+=4+p.iT.length;X.Nz(S,B,p.$o?-1:0);B+=4;
if(p.$o){var M=NE.HE(S,p.$o,B);B+=M}}}return S.data.slice(0,B).buffer};function QB(){}QB.fY=function(Q){var S=new Uint8Array(Q),B=0,y=X.j(S,B),O;
B+=4;var l=X.Ly(S,B,8);B+=8;var D=X.qj(S,B);B+=4;var R=X.qj(S,B);B+=4;var p=X.qj(S,B);B+=4;if(y==2){O=new Float32Array(Q,32,Q.byteLength-32>>>2)}else if(y==3){O=new Float32Array(R*p*2);
var M=0,U=0,m=!0;B=32;while(B<S.length){var Y=X.qj(S,B);B+=4;if(m)U+=Y;else{for(var x=0;x<Y;x++){O[M+U+x<<1]=X.dc(S,B);
O[(M+U+x<<1)+1]=X.dc(S,B+4);B+=8}U+=Y}m=!m;if(Y!=0&&U==R){M+=R;U=0;m=!0;if(M==R*p)break}}}else throw"unknown Mesh version: "+y;
return{QP:R,Kj:p,map:O}};QB.iP=function(Q){var S=Q.QP,B=Q.Kj,y=Q.map,l=new Uint8Array(32+B*S*8+B*8),D=0,R=0;
X.$m(l,D,3);D+=4;X.dW(l,D,"yfqLhseM");D+=8;X.sI(l,D,2);D+=4;X.sI(l,D,S);D+=4;X.sI(l,D,B);D+=4;X.sI(l,D,0);
D+=4;X.sI(l,D,1);D+=4;for(var p=0;p<B;p++){X.sI(l,D,0);D+=4;X.sI(l,D,S);D+=4;for(var O=0;O<S;O++){X.dd(l,D,y[R]);
X.dd(l,D+4,y[R+1]);R+=2;D+=8}}return l.buffer};function LD(){}LD.fY=function(Q){var S=new Uint8Array(Q),B=0,y=X.Ly(S,B,4);
B+=4;var l=X.Si(S,B);B+=2;var D=X.j(S,B);B+=4;var R=[];for(var p=0;p<D;p++){var O=X.j(S,B);B+=4;var M={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
R.push(M);var U=X.Ub(S,B);M.Nm.v=U;B+=4+U.length*2+2;var m=X.Si(S,B);B+=2;var Y=X.Si(S,B);B+=2;for(var x=0;
x<Y;x++){var T=k.$T.nd(0,0,!0);T.v.Vrtc.v=X.Si(S,B);B+=2;T.v.Hrzn.v=X.Si(S,B);B+=2;M.Crv.v.push(T)}if(O==1){}else if(O==2){for(var x=0;
x<Y;x++){M.Crv.v[x].v.Cnty.v=S[B]==1;B+=1}}else throw"error";var $=X.j(S,B);B+=4;var L=X.j(S,B);B+=4}return R};
LD.hj=function(Q,S){Q.Nm.v=S};LD.Oo=function(Q){var S=new R_,B=0;X.NF(S,B,"8BFS");B+=4;X.DB(S,B,1);B+=2;
X.g(S,B,Q.length);B+=4;for(var y=0;y<Q.length;y++){X.g(S,B,2);B+=4;var l=Q[y];X.EV(S,B,l.Nm.v+"\0");
B+=4+l.Nm.v.length*2+2;X.DB(S,B,2);B+=2;var D=l.Crv.v.length;X.DB(S,B,D);B+=2;for(var R=0;R<D;R++){var p=l.Crv.v[R];
X.DB(S,B,p.v.Vrtc.v);B+=2;X.DB(S,B,p.v.Hrzn.v);B+=2}S.vq(B,D);for(var R=0;R<D;R++){S.data[B]=l.Crv.v[R].v.Cnty.v;
B++}X.g(S,B,0);B+=4;X.g(S,B,0);B+=4}return S.data.slice(0,B).buffer};function ro(){}ro.fY=function(Q){var S=new Uint8Array(Q),B=4,y=X.Si(S,B);
B+=2;var l=X.j(S,B);B+=4;var D=[];for(var R=0;R<l;R++){var p={};D.push(p);B=ro.Ay(S,B,p)}return D};ro.hj=function(Q,S){Q.name=S};
ro.Oo=function(Q){var S=new R_,B=0;X.NF(S,B,"8BPT");B+=4;X.DB(S,B,1);B+=2;X.g(S,B,Q.length);B+=4;for(var y=0;
y<Q.length;y++){B=ro.Aq(S,B,Q[y])}return S.data.slice(0,B).buffer};ro.Ay=function(Q,S,B){var y=X.j(Q,S);
S+=4;if(y!=1)alert("Unknown version of pattern");var l=X.j(Q,S);S+=4;if(l!=1&&l!=2&&l!=3)console.log("Unsupported mode of pattern: "+l);
var D=X.Si(Q,S);S+=2;var R=X.Si(Q,S);S+=2;B.q=new w(0,0,R,D);B.name=X.Ub(Q,S);S+=4+2*B.name.length+2;
var p=Q[S];S++;B.id=X.Ly(Q,S,p);S+=B.id.length;var O=-1;if(l==2){O=S;S+=3*256+4}var M=new k.rp(R*D);
S=ro.mai(Q,S,M);if(l==2){for(var U=0;U<M.t.length;U++){var m=3*M.t[U];M.t[U]=Q[O+m+0];M.e[U]=Q[O+m+1];
M.R[U]=Q[O+m+2]}}B.Ko=k.Q(B.q.Z()*4);k.Cc(M,B.Ko);return S};ro.Aq=function(Q,S,B){X.g(Q,S,1);S+=4;X.g(Q,S,3);
S+=4;X.DB(Q,S,B.q.O);S+=2;X.DB(Q,S,B.q.r);S+=2;X.EV(Q,S,B.name+"\0");S+=4+2*B.name.length+2;X.TH(Q,S,B.id.length);
S++;X.NF(Q,S,B.id);S+=B.id.length;var y=new k.rp(B.q.Z());k.Cd(B.Ko,y);S=ro.mak(Q,S,y,B);return S};ro.mai=function(Q,S,B){var y=S,l={q:null,T$:[],m_T:null,co:null},D=X.j(Q,S);
S+=4;var R=X.j(Q,S);S+=4;l.q=X.Gc(Q,S);S+=16;var p=X.j(Q,S);S+=4;for(var O=0;O<p+2;O++){var M=X.j(Q,S);
S+=4;if(M==0)continue;var U=X.j(Q,S);S+=4;if(U==0)continue;var m=X.j(Q,S);S+=4;var Y=X.Gc(Q,S);S+=16;
var x=X.Si(Q,S);S+=2;var T=Q[S];S++;var $=Rr.Zf(!1,m,Q,Y.r,Y.O,S,T);if(O<p)l.T$.push($);if(O==p)l.m_T=$;
if(O==p+1)l.co=$;S+=U-23}if(l.T$[0])B.t=l.T$[0];if(l.T$[1])B.e=l.T$[1];else B.e=k.clone(l.T$[0]);if(l.T$[2])B.R=l.T$[2];
else B.R=k.clone(l.T$[0]);if(l.co)B.n=l.co;else k.set(B.n,255);return S};ro.mak=function(Q,S,B,y){var l=S,D={q:y.q,T$:[B.t,B.e,B.R],m_T:null,co:B.n};
X.g(Q,S,3);S+=4;X.g(Q,S,0);S+=4;X.nL(Q,S,D.q);S+=16;X.g(Q,S,24);S+=4;for(var R=0;R<24+2;R++){var p=S,O=R<3||R==25?1:0;
X.g(Q,S,O);S+=4;if(O==0)continue;X.g(Q,S,0);S+=4;X.g(Q,S,8);S+=4;X.nL(Q,S,D.q);S+=16;X.DB(Q,S,8);S+=2;
X.TH(Q,S,1,1);S++;var M=R<3?D.T$[R]:D.co;Q.vq(S,y.q.Z()+2);S=Rr.f_(M,Q.data,y.q.r,y.q.O,S,1);X.g(Q,p+4,S-p-8)}X.g(Q,l+4,S-l-8);
return S};function LH(){}LH.fY=function(Q){var S=new Uint8Array(Q),B=0,y=X.Ly(S,B,4);B+=4;var l=X.Si(S,B);
B+=2;var D={},R=NE.sY(S,D,B+4),p=D.GrdL.v,O=[];for(var M=0;M<p.length;M++)O[M]=p[M].v.Grad.v;return O};
LH.hj=function(Q,S){Q.Nm.v=S};LH.Oo=function(Q){var S=new R_,B=0;X.NF(S,B,"8BGR");B+=4;X.DB(S,B,5);B+=2;
X.g(S,B,16);B+=4;var y={classID:"null",GrdL:{t:"VlLs",v:[]}},l=y.GrdL.v;for(var D=0;D<Q.length;D++)l[D]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:Q[D]}}};
B+=NE.HE(S,y,B);return S.data.slice(0,B).buffer};function Lm(){}Lm.fY=function(Q){var S=new Uint8Array(Q),B=[],y=[],l=[],D=0,R=X.Ly(S,D,4);
D+=4;var p=X.j(S,D);D+=4;var O=X.j(S,D);D+=4;while(D<S.length){var M=X.Ly(S,D,4);D+=4;var U=X.Ly(S,D,4);
D+=4;var m=X.j(S,D);D+=4;if(U=="tppa"){y=Qr.fN(S,D,m);D+=m}else if(U=="tpbd"){l=Qr.AM(S,D,m,1,1);D+=m}else if(U=="tptp"){var Y=X.j(S,D);
D+=4;for(var x=0;x<Y;x++){var T=X.Ub(S,D);D+=6+T.length*2;D+=4;var $={};D+=NE.sY(S,$,D);B.push([T,$])}while((D&3)!=0)D++}else{console.log(S.slice(D-8,D+64));
console.log(X.Ly(S,D-8,64));throw U}}return{gZ:l,JR:y,list:B}};Lm.hj=function(Q,S){Q[0]=S};Lm.Oo=function(Q){var S=new R_,B=0;
X.NF(S,B,"8BTP");B+=4;X.g(S,B,3);B+=4;X.g(S,B,1);B+=4;var y=[Q.JR,Q.gZ,Q.list];for(var l=0;l<3;l++){if(y[l].length==0)continue;
X.NF(S,B,"8BIM");B+=4;var D=["tppa","tpbd","tptp"][l];X.NF(S,B,D);B+=4;var R=B;B+=4;if(D=="tppa"){B=Qr.fR(S,B,Q.JR)}else if(D=="tpbd"){B=Qr.Ar(S,B,Q.gZ)}else if(D=="tptp"){X.g(S,B,Q.list.length);
B+=4;for(var p=0;p<Q.list.length;p++){var O=Q.list[p];X.EV(S,B,O[0]+"\0");B+=6+O[0].length*2;X.g(S,B,16);
B+=4;B+=NE.HE(S,O[1],B)}}X.g(S,R,B-R-4);while((B&3)!=0)B++;S.vq(B,0)}return S.data.slice(0,B).buffer};
function mP(){}mP.fY=function(Q,S){var B=new Uint8Array(Q),y;if(X.j(B,0)==B.length)y="icc";else if(B[0]=="<".charCodeAt(0))y="look";
else if(X.dm(B,"LUT_3D_SIZE")!=-1)y="cube";else y="3DL";if(y!="icc"){var l=mP.mab(B,y),D=mP.maZ(l[0],l[1]);
B=D}var R=[];for(var p=0;p<B.length;p++)R.push(B[p]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:S?S:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:R}}]};
mP.Oo=function(Q){var S=Q[0],B=new Uint8Array(S.profile.v);return B.buffer};mP.hj=function(Q,S){Q.Nm.v=S};
mP.maZ=function(Q,S){var B=new R_,y=128;B.vq(0,128);var l=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var D=0;D<l.length;D++)B.data[D]=l[D];var R=["desc","A2B0"],p=R.length,O=128+4+p*12;X.g(B,y,p);y+=4;
for(var M=0;M<p;M++){var U=R[M];X.NF(B,y,U);y+=4;X.g(B,y,O);y+=4;var m=O;if(U=="desc"){X.NF(B,m,"mluc");
m+=4;m+=4;X.g(B,m,1);m+=4;X.g(B,m,12);m+=4;X.NF(B,m,"enUS");m+=4;var Y="ICC by Photopea\0",x=Y.length*2+2;
X.g(B,m,x);m+=4;X.g(B,m,28);m+=4;B.vq(m,x);for(var D=0;D<Y.length;D++)B.data[m+D*2+1]=Y.charCodeAt(D);
m+=x}if(U=="A2B0"){X.NF(B,m,"mAB ");m+=4;m+=4;B.vq(m,4);B.data[m]=3;B.data[m+1]=3;m+=4;B.vq(m,4*5);m+=4*3;
X.g(B,m,m+8-O);m+=4;m+=4;B.vq(m,20);B.data[m]=Q;B.data[m+1]=Q;B.data[m+2]=Q;m+=16;B.data[m]=2;m+=4;var T=Q*Q*Q*3;
B.vq(m,T*2);for(var D=0;D<T;D++)X.nD(B.data,m+D*2,Math.max(0,Math.min(65535,Math.round(S[D]*65535))));
m+=T*2}var $=m-O;while(($&3)!=0)$++;X.g(B,y,$);y+=4;O+=$}X.g(B,0,O);return B.data.slice(0,O)};mP.mab=function(Q,S){S="LUTFormat"+S.toUpperCase();
var B=[],y=0,l=X.nl(Q,0,Q.length),D="";for(var R=0;R<Q.length&&D=="";R++){if(Q[R]==10)D="\n";else if(Q[R]==13){D="\r";
if(Q[R+1]==10)D+="\n"}}if(S=="LUTFormatCUBE"){var p=l.split(D);for(var R=0;R<p.length;R++){if(p[R]==""||p[R][0]=="#")continue;
var O=p[R].split(" "),M=O[0];if(M=="LUT_3D_SIZE"){y=parseInt(O[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(M)!=-1)continue;
B.push(parseFloat(O[0]),parseFloat(O[1]),parseFloat(O[2]))}B=mP.AJ(y,B)}else if(S=="LUTFormat3DL"){var p=l.split(D),U=1/4095;
for(var R=0;R<p.length;R++){var m=p[R];if(m==""||m=="3DMESH"||m.startsWith("Mesh")||m[0]=="#")continue;
var O=m.split(" "),M=O[0];if(y==0){y=O.length;continue}B.push(parseFloat(O[0])*U,parseFloat(O[1])*U,parseFloat(O[2])*U)}}else if(S=="LUTFormatLOOK"){var Y=new DOMParser,x=Y.parseFromString(l,"text/xml"),T=x.getElementsByTagName("LUT")[0],$=T.children[0].textContent;
y=parseInt(JSON.parse($));var L=T.children[1].textContent;L=L.replace(/"/g,"").replace(/\s/g,"");var s=3*y*y*y,j=s*4,Z=new Uint8Array(j);for(var R=0;R<j;R++){var e=L.charCodeAt(R*2),J=L.charCodeAt(R*2+1),N=e<58?e-48:e-55,E=J<58?J-48:J-55;Z[R]=(N<<4)+E}for(var R=0;R<s;R++)B.push(X.dc(Z,R<<2));B=mP.AJ(y,B)}else throw S;return[y,B]};mP.AJ=function(Q,S){var B=[],y=Q*Q*Q;for(var l=0;l<y;l++)B.push(0,0,0);for(var D=0;D<Q;D++)for(var R=0;R<Q;R++)for(var p=0;p<Q;p++){var l=3*(p+R*Q+D*Q*Q),O=3*(D+R*Q+p*Q*Q);B[O]=S[l];B[O+1]=S[l+1];B[O+2]=S[l+2]}return B};function NE(){}NE.sY=function(Q,S,B,y){var l=B,D,R=X.j(Q,B);if(R==0){D="";B+=4}else{D=X.Ub(Q,B);B+=4+2*D.length+2}if(D!="")S.__name=D;if(y)console.log("---------------------",D,D.length);S.classID=NE.rj(Q,B);if(y)console.log("- reading descriptor",S.classID,B);B+=NE.rZ(Q,B);var p=X.$I(Q,B);B+=4;for(var O=0;O<p;O++){if(y)console.log(Q.slice(B,B+32),X.fo(Q,B,32));var M=NE.rj(Q,B);B+=NE.rZ(Q,B);if(y)console.log(M);var U=NE.Au(Q,B,y);S[M]=U;B+=U.size;delete U.size}return B-l};NE.HE=function(Q,S,B,y){var l=B,D=S.__name;if(D==null)D="";D+="\0";X.EV(Q,B,D);B+=4+2*D.length;NE.rK(Q,B,S.classID);B+=NE.rZ(Q.data,B);X.Nz(Q,B,Object.keys(S).length-1-(S.__name==null?0:1));B+=4;for(var R in S){if(R=="classID")continue;if(R=="__name")continue;NE.rK(Q,B,R);B+=NE.rZ(Q.data,B);B+=NE.A_(Q,B,S[R])}return B-l};NE.Au=function(Q,S,B){var y=S,l=X.Ly(Q,S,4);S+=4;var D={size:0,t:l,v:null};if(B)console.log("reading key",l,y);switch(l){case"obj ":case"VlLs":D.v=[];var R=X.j(Q,S);S+=4;for(var p=0;p<R;p++){var O=NE.Au(Q,S,B);S+=O.size;delete O.size;D.v.push(O)}break;case"UntF":D.v={type:X.Ly(Q,S,4),val:X.nS(Q,S+4)};S+=12;break;case"doub":D.v=X.nS(Q,S);S+=8;break;case"bool":D.v=Q[S]==1;S+=1;break;case"long":D.v=X.$I(Q,S);S+=4;break;case"Objc":D.v={};var M=NE.sY(Q,D.v,S,B);S+=M;break;case"TEXT":var U=X.j(Q,S);if(U==0){D.v="";S+=4}else{D.v=X.Ub(Q,S);S+=4+D.v.length*2+2}break;case"enum":var m=NE.rj(Q,S);S+=NE.rZ(Q,S);var Y=NE.rj(Q,S);S+=NE.rZ(Q,S);D.v={};D.v[m]=Y;break;case"tdta":var x=X.$I(Q,S);S+=4;D.v=[];for(var p=0;p<x;p++)D.v.push(Q[S+p]);S+=x;break;case"ObAr":var T=X.j(Q,S);S+=4;var $=X.Ub(Q,S);S+=4+2*$.length+2;if($!="")throw $;var L=NE.rj(Q,S);S+=4+Math.max(4,L.length);D.v={classID:L,arr:[]};var s=X.j(Q,S);S+=4;for(var p=0;p<s;p++){var L=NE.rj(Q,S);S+=4+Math.max(4,L.length);var m=X.Ly(Q,S,4);S+=4;var j=X.Ly(Q,S,4);S+=4;var Z={id:L,type:m,uID:j,arr:[]};D.v.arr.push(Z);var e=X.j(Q,S,4);S+=4;for(var J=0;J<e;J++){var N=X.nS(Q,S);S+=8;Z.arr.push(N)}}break;case"Pth ":var E=S,x=X.j(Q,S);S+=4;var h=X.Ly(Q,S,4);S+=4;var o=X.qj(Q,S);S+=4;var V=X.mEh(Q,S);S+=4+V.length*2;D.v={sig:h,pth:V};break;case"Clss":case"type":var V=X.Ub(Q,S);S+=4+V.length*2+2;var n=NE.rj(Q,S);S+=4+Math.max(4,n.length);D.v={classID:n};if(V!="")D.v.__name=V;break;case"prop":case"Enmr":case"indx":case"name":var t=NE.fu[l],V=X.Ub(Q,S);S+=4+V.length*2+2;if(V.length!=0){console.log(l,V);throw"e"}D.v={};for(var p=0;p<t.length;p++){var n=NE.rj(Q,S);S+=4+Math.max(4,n.length);D.v[t[p]]=n}if(l=="name"){var V=X.Ub(Q,S);S+=4+V.length*2+2;D.v.val=V}if(l=="indx"){D.v.val=X.j(Q,S);S+=4}break;case"alis":var x=X.j(Q,S);S+=4;D.v=X.Ly(Q,S,x);S+=x;break;default:{console.log("unknown oskey: "+l+", "+y);throw"e";return D}}if(B)console.log(D.v,y);D.size=S-y;return D};NE.fu={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};NE.A_=function(Q,S,B){var y=S,l=B.t;B=B.v;X.NF(Q,S,l);S+=4;switch(l){case"obj ":case"VlLs":X.Nz(Q,S,B.length);S+=4;for(var D=0;D<B.length;D++){var R=NE.A_(Q,S,B[D]);S+=R}break;case"UntF":X.NF(Q,S,B.type);X.nP(Q,S+4,B.val);S+=12;break;case"doub":X.nP(Q,S,B);S+=8;break;case"bool":X.TH(Q,S,B?1:0,1);S+=1;break;case"long":X.Nz(Q,S,B);S+=4;break;case"Objc":var R=NE.HE(Q,B,S);S+=R;break;case"TEXT":X.EV(Q,S,B+"\0");S+=4+B.length*2+2;break;case"enum":var p=Object.keys(B)[0],O=B[p];NE.rK(Q,S,p);S+=NE.rZ(Q.data,S);NE.rK(Q,S,O);S+=NE.rZ(Q.data,S);break;case"tdta":X.g(Q,S,B.length);S+=4;X.dS(Q,S,B);S+=B.length;break;case"ObAr":X.g(Q,S,B.arr[0].arr.length);S+=4;X.EV(Q,S,"\0");S+=6;NE.rK(Q,S,B.classID);S+=4+Math.max(4,B.classID.length);X.g(Q,S,B.arr.length);S+=4;for(var M=0;M<B.arr.length;M++){var U=B.arr[M];NE.rK(Q,S,U.id);S+=4+Math.max(4,U.id.length);X.NF(Q,S,U.type);S+=4;X.NF(Q,S,U.uID);S+=4;X.g(Q,S,U.arr.length);S+=4;for(var D=0;D<U.arr.length;D++){X.nP(Q,S,U.arr[D]);S+=8}}break;case"Pth ":var m=B.pth.length*2+4+8;X.g(Q,S,m);S+=4;X.NF(Q,S,B.sig);S+=4;X.Nm(Q,S,m);S+=4;X.mzL(Q,S,B.pth);S+=B.pth.length*2+4;break;case"Clss":case"type":var Y=B.__name;if(Y==null)Y="";X.EV(Q,S,Y+"\0");S+=4+Y.length*2+2;var x=B.classID;NE.rK(Q,S,x);S+=4+Math.max(4,x.length);break;case"prop":case"Enmr":case"indx":case"name":var T=NE.fu[l];X.g(Q,S,1);S+=6;for(var M=0;M<T.length;M++){var x=B[T[M]];NE.rK(Q,S,x);S+=4+Math.max(4,x.length)}if(l=="name"){X.EV(Q,S,B.val+"\0");S+=4+B.val.length*2+2}if(l=="indx"){X.g(Q,S,B.val);S+=4}break;case"alis":var m=B.length;X.g(Q,S,m);S+=4;X.NF(Q,S,B);S+=m;break;default:console.log("unknown oskey: "+l);S=y;break}return S-y};NE.rj=function(Q,S){var B=X.$I(Q,S);if(B>1e3)throw"e";if(B==0)B=4;return X.Ly(Q,S+4,B).trim()};NE.rZ=function(Q,S){var B=X.$I(Q,S);return B==0?8:4+B};NE.rK=function(Q,S,B){var y="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow".split(" "),l=4<B.length||y.indexOf(B)!=-1;X.Nz(Q,S,l?B.length:0);X.NF(Q,S+4,B);if(B.length<4&&!l){var D="";for(var R=B.length;R<4;R++)D+=" ";X.NF(Q,S+4+B.length,D)}};NE.maP=function(Q){var S={};for(var B in Q){if(B=="classID")S[B]=Q[B];else if(B=="__name")S[B]=Q[B];else S[B]=NE.AG(Q[B])}return S};NE.AG=function(Q){if(Q.xQ=="Objc")return NE.maP(Q.v);else if(Q.xQ=="VlLs"){var S=[];for(var B=0;B<Q.v.length;B++)S.push(NE.AG(Q.v[B]));return S}else if(Q.xQ=="UntF")return Q.v.val;else return Q.v};function RS(){}RS.Aa=function(Q,S,B,y,l,D){while(S<B){var R=X.Ly(Q,S,4);S+=4;if(R!="8BIM"&&R!="8B64"){console.log("layer information signature error! "+R,"PSB = "+l);alert("Error in PSD file: wrong signature.");return B}var p=X.Ly(Q,S,4);S+=4;var O=X.$I(Q,S);S+=4;if(l&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(p)!=-1){O=O<<32|X.$I(Q,S);S+=4}if(l&&["pths"].indexOf(p)!=-1){O=O<<32|X.$I(Q,S);S+=4}var M=["lrFX","PlLd"];if(M.indexOf(p)!=-1){if(O%4!=0)O+=4-O%4;S+=O;continue}switch(p){case"iOpa":y[p]=Q[S];break;case"brst":y[p]=[1,1,1];for(var U=0;U<O;U+=4)y[p][X.j(Q,S+U)]=0;break;case"knko":y[p]=Q[S];break;case"infx":y[p]=Q[S];break;case"clbl":y[p]=Q[S];break;case"lmgm":y[p]=Q[S];break;case"vmgm":y[p]=Q[S];break;case"lyid":y[p]=X.j(Q,S);break;case"lsct":y[p]={type:X.j(Q,S)};if(O>=12)y[p].wk=X.Ly(Q,S+8,4);break;case"lsdk":y.lsct={type:X.j(Q,S)};break;case"lyvr":y[p]=X.j(Q,S);break;case"lnsr":var m={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};y[p]=X.Ly(Q,S,4);break;case"lspf":y[p]=X.j(Q,S);break;case"lclr":y[p]=X.Si(Q,S);break;case"luni":y[p]=X.UZ(Q,S);break;case"fxrp":y[p]=new v(X.nS(Q,S),X.nS(Q,S+8));break;case"artb":case"artd":y[p]={};NE.sY(Q,y[p],S+4);break;case"SoCo":y[p]={};NE.sY(Q,y[p],S+4);break;case"GdFl":y[p]={};NE.sY(Q,y[p],S+4);RS.cn(y[p],p);break;case"PtFl":y[p]={};NE.sY(Q,y[p],S+4);RS.cn(y[p],p);break;case"CgEd":var Y=y.brit=m_.yh("brit"),x={};NE.sY(Q,x,S+4);Y.Brgh.v=x.Brgh?x.Brgh.v:0;Y.Cntr.v=x.Cntr?x.Cntr.v:0;Y.useLegacy.v=x.useLegacy?x.useLegacy.v:0;break;case"brit":if(y.brit==null){var Y=y.brit=m_.yh("brit"),x={};Y.Brgh.v=X.Ll(Q,S);Y.Cntr.v=X.Ll(Q,S+2);Y.useLegacy.v=!1}break;case"levl":var T=Q.buffer.slice(S,S+O);y[p]=MR.fY(T);break;case"curv":y[p]=me.ZN(Q,S,O);break;case"expA":var $=X.Si(Q,S),L=y[p]=m_.yh("expA");L.Exps.v=X.nr(Q,S+2);L.Ofst.v=X.nr(Q,S+6);L.gammaCorrection.v=X.nr(Q,S+10);break;case"vibA":y[p]={};NE.sY(Q,y[p],S+4);break;case"hue2":y[p]=ma.ZN(Q,S,O);break;case"blnc":var L=y[p]=m_.yh(p);L.PrsL.v=Q[S+18]==1;var s=["ShdL","MdtL","HghL"];for(var U=0;U<3;U++)for(var j=0;j<3;j++)L[s[U]].v[j].v=X.Ll(Q,S+U*6+j*2);break;case"blwh":var Z={};NE.sY(Q,Z,S+4);var L=m_.yh(p),e="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");for(var U=0;U<e.length;U++){L[e[U]]=Z[e[U]];delete Z[e[U]]}y[p]=L;break;case"phfl":var L=y[p]=m_.yh(p),J=L.Clr.v,$=X.Si(Q,S);if($==3){var N=[X.j(Q,S+2),X.j(Q,S+6),X.j(Q,S+10)],E=32768,h=k.xa(N[0]/E,N[1]/E,N[2]/E);J.Lmnc.v=h.iu;J.A.v=h.n;J.B.v=h.R}if($==2){var o=X.Si(Q,S+2);if(o!=7)throw"e";J.Lmnc.v=X.Ll(Q,S+4)/100;J.A.v=X.Ll(Q,S+6)/100;J.B.v=X.Ll(Q,S+8)/100}var V=S+2+($==3?12:10);L.Dnst.v=X.j(Q,V);V+=4;L.PrsL.v=Q[V]==1;break;case"mixr":var n={Db:X.Si(Q,S+2)==1,z:[]};for(var U=0;U<20;U++)n.z.push(X.Ll(Q,S+4+U*2));y[p]=Nf.oy(n);break;case"clrL":case"rplc":y[p]={};NE.sY(Q,y[p],S+6);break;case"nvrt":y[p]={};break;case"post":y[p]=m_.yh("post");y[p].Lvls.v=X.Si(Q,S);break;case"thrs":y[p]=m_.yh("thrs");y[p].Lvl.v=X.Si(Q,S);break;case"grdm":var t={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{xQ:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:""},Trns:{t:"VlLs",v:[]}},q={rev:Q[S+2]==1,mnq:Q[S+3]==1,Kg:t},u=S+4;t.Nm.v=X.UZ(Q,u);u+=4+t.Nm.v.length*2;var g=X.Si(Q,u);u+=2;if(g==0)throw"e";for(var U=0;U<g;U++){var r=X.j(Q,u),f=X.j(Q,u+4),J=rf.Yr(Q,u+8),I={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:J.t},Grn:{t:"doub",v:J.e},Bl:{t:"doub",v:J.R}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:r},Mdpn:{t:"long",v:f}}};t.Clrs.v.push(I);u+=20}var d=X.Si(Q,u);u+=2;for(var U=0;U<d;U++){var r=X.j(Q,u),f=X.j(Q,u+4),a=X.Si(Q,u+8),I={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*a/255)}},Lctn:{t:"long",v:r},Mdpn:{t:"long",v:f}}};t.Trns.v.push(I);u+=10}var c=X.Si(Q,u);u+=2;t.Intr.v=X.Si(Q,u);u+=2;var _=X.Si(Q,u);u+=2;q.mode=X.Si(Q,u);u+=2;q.iF=X.j(Q,u);u+=4;q.mng=X.Si(Q,u)==1;u+=2;q.mnF=X.Si(Q,u)==1;u+=2;q.mzI=X.j(Q,u);u+=4;q.mmQ=X.Si(Q,u);u+=2;q.UW=[];for(var U=0;U<4;U++)q.UW.push(X.Si(Q,u+U*2));u+=8;q.UG=[];for(var U=0;U<4;U++)q.UG.push(X.Si(Q,u+U*2));u+=8;var C=X.Si(Q,u);u+=2;var F=m_.yh("grdm");F.Rvrs.v=q.rev;F.Grad.v=q.Kg;y[p]=F;break;case"selc":y[p]=ms.ZN(Q,S,O);break;case"vmsk":case"vsms":var i=y.vmsk=new z.hm,rP=X.$I(Q,S+4),rH=(rP>>0&1)==1;i.om=(rP>>1&1)==0;i.isEnabled=(rP>>2&1)==0;i.A=Le.fC(Q,S+8,O-8,D.r,D.O);break;case"shmd":y[p]={};var rK=X.j(Q,S),V=S+4;for(var U=0;U<rK;U++){var R=X.Ly(Q,V,4);V+=4;var rY=X.Ly(Q,V,4);V+=4;V+=4;var Nc=X.j(Q,V);V+=4;if(rY=="cust"||rY=="cmls"||rY=="extn"||rY=="mlst"){var G=X.j(Q,V);if(G!=16)V+=4;var Z={};NE.sY(Q,Z,V+4,!1);y[p][rY]=Z;if(rY=="cmls")mw.LS.mWZ(y[p][rY])}else{console.log("unknown shmd key: "+rY+", size: "+Nc)}V+=Nc}break;case"shpa":var $=X.j(Q,S),rI=X.j(Q,S+4);if(rI!=0)console.log("some patterns present!");break;case"TySh":var rb=y[p]={},$=X.Si(Q,S);rb.V=X.b$(Q,S+2);var Nr=X.Si(Q,S+2+48);rb.oH={};var Nz=NE.sY(Q,rb.oH,S+56),NL=rA.mhj();for(var Nm in NL)if(rb.oH[Nm]==null)rb.oH[Nm]=NL[Nm];rb.IT={};var NN=NE.sY(Q,rb.IT,S+56+Nz+6);rb._Q=X.mmI(Q,S+56+Nz+6+NN);rb.Nd=Mq.fY(rb.oH.EngineData.v);rA.mpW(rb.Nd.EngineDict.StyleRun.RunArray);if(rb.Nd.ResourceDict==null)rb.Nd.ResourceDict=JSON.parse(JSON.stringify(rb.Nd.DocumentResources));delete rb.oH.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var Ne=X.j(Q,S),Ny=X.j(Q,S+4);y.lmfx={};var Nz=NE.sY(Q,y.lmfx,S+8);RS.fW(y.lmfx);break;case"FMsk":y[p]=X.dA(Q,S,O);break;case"Txt2":y[p]={};y[p].raw=X.dA(Q,S,O);y[p].v_=mN.fY(y[p].raw);break;case"Patt":y[p]=Qr.fN(Q,S,O);break;case"SoLd":var NG=X.Ly(Q,S,4),NC=X.j(Q,S+4),Ng=X.j(Q,S+8);y[p]={};var NM=NE.sY(Q,y[p],S+12);if(y[p].nonAffineTransform==null)y[p].nonAffineTransform=JSON.parse(JSON.stringify(y[p].Trnf));var NQ=y[p].filterFX;if(NQ){var NR=NQ.v.filterFXList.v;for(var U=0;U<NR.length;U++){var NV=NR[U].v,md=NV.filterID;if(md&&md.v==993)NV.filterID.v=689}}break;case"vstk":case"pths":var NC=X.j(Q,S);y[p]={};var NM=NE.sY(Q,y[p],S+4);break;case"vscg":var rY=X.Ly(Q,S,4),NC=X.j(Q,S+4);y[rY]={};var NM=NE.sY(Q,y[rY],S+8);RS.cn(y[rY],rY);break;case"vogk":var NW=X.j(Q,S),NC=X.j(Q,S+4);y[p]={};var NM=NE.sY(Q,y[p],S+8);y[p]=y[p].keyDescriptorList.v;for(var U=0;U<y[p].length;U++){}break;case"lnk2":case"lnkD__":case"lnk3__":y[p]=[];var u=S;while(u<S+O){var Nh=new z.KJ;y[p].push(Nh);var _=X.nM(Q,u);u+=8;var Nt=u;Nh.type=X.Ly(Q,u,4);u+=4;if(Nh.type!="liFD"){alert("Unknown Linked Layer type: "+Nh.type);break;throw Nh.type}Nh.cH=X.j(Q,u);u+=4;var NU=X.dl(Q,u);u+=1+NU.ho.length;Nh.LB=NU.ho;Nh.oK=X.Ub(Q,u);u+=4+Nh.oK.length*2+2;Nh.Vx=X.Ly(Q,u,4);u+=4;Nh.vG=X.Ly(Q,u,4);u+=4;var Mw=X.nM(Q,u);u+=8;Nh.open=Q[u];u+=1;if(Nh.open!=0){var mp={},Nz=NE.sY(Q,mp,u+4);if(Nz%4!=0)Nz+=4-Nz%4;console.log(mp);u+=Nz+4}Nh.open=0;Nh.raw=X.dA(Q,u,Mw);u=Nt+_;if(_%4!=0)u+=4-_%4}break;case"FEid":var u=S;y[p]=[];var Na=u+O,$=X.j(Q,u);u+=4;while(u<Na){u+=4;var _=X.j(Q,u);u+=4;var NX={};y[p].push(NX);NX.id=X.dl(Q,u).ho;u+=NX.id.length+1;var $=X.j(Q,u);u+=4;u+=4;var Ni=X.j(Q,u);u+=4;NX.rect=X.Gc(Q,u);u+=16;var mm=X.j(Q,u);u+=4;var NT=X.j(Q,u);u+=4;var NF=new k.rp(0);for(var U=0;U<NT+2;U++){var Ns=X.j(Q,u);u+=4;if(Ns!=0){u+=4;var NB=X.j(Q,u),Rz=null;u+=4;if(U<3||U==25)Rz=Rr.cs(!0,mm,Q,NX.rect.r,NX.rect.O,u,NB);if(U==0)NF.t=Rz;if(U==1)NF.e=Rz;if(U==2)NF.R=Rz;if(U==25)NF.n=Rz;u+=NB}}NX.buffer=k.Q(NX.rect.Z()*4);k.Cc(NF,NX.buffer);k.aH(NX);var Nk=Q[u];u++;if(Nk!=0){NX.k=new z.oW;NX.k.rect=X.Gc(Q,u);u+=16;u+=4;var RJ=X.j(Q,u);u+=4;NX.k.channel=Rr.cs(!0,mm,Q,NX.k.rect.r,NX.k.rect.O,u,RJ);NX.k.color=255;NX.k.On();u+=RJ}if(_%4!=0)u+=4-_%4}break;case"Lr16":Me.cC(D,Q,S);break;default:console.log("unknown layer tag: "+p+", size: "+O);break}var mv="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");if(mv.indexOf(p)==-1)if(O%4!=0)console.log("size not multiple of 4!!!",p);if(p!="luni"&&p!="TySh"&&p!="tySh"&&p!="lfx2")if(O%4!=0)O+=4-O%4;S+=O}var NA=[];for(var U=0;U<NA.length;U++)delete y[NA[U]];return S};RS.Aw=function(Q,S,B,y){for(var l in B)if(B[l]==null){alert("A bug occured (see console).");console.log("Please, report a bug, that \""+l+"\" tag was present with a null value.");
delete B[l]}for(var l in B){X.NF(Q,S,"8BIM");S+=4;var D=S,R=0;X.NF(Q,S,l);S+=4;X.Nz(Q,S,0);S+=4;switch(l){case"iOpa":X.TH(Q,S,B[l],1);
R=4;break;case"brst":R=0;for(var p=0;p<3;p++)if(B[l][p]==0){X.g(Q,S+R,p);R+=4}break;case"knko":X.TH(Q,S,B[l],1);
R=4;break;case"infx":X.TH(Q,S,B[l],1);R=4;break;case"clbl":X.TH(Q,S,B[l],1);R=4;break;case"lmgm":X.TH(Q,S,B[l],1);
R=4;break;case"vmgm":X.TH(Q,S,B[l],1);R=4;break;case"lyid":X.g(Q,S,B[l]);R=4;break;case"lsct":X.g(Q,S,B[l].type);
R=4;if(B[l].wk){X.NF(Q,S+4,"8BIM");X.NF(Q,S+8,B[l].wk);R=12}break;case"lyvr":X.g(Q,S,B[l]);R=4;break;
case"lnsr":X.NF(Q,S,B[l]);R=4;break;case"lspf":X.g(Q,S,B[l]);R=4;break;case"lclr":X.DB(Q,S,B[l]);R=8;
break;case"luni":X.EV(Q,S,B[l]);R=4+2*B[l].length;break;case"fxrp":X.nP(Q,S,B[l].x);X.nP(Q,S+8,B[l].y);
R=16;break;case"artb":case"artd":X.g(Q,S,16);R=NE.HE(Q,B[l],S+4)+4;break;case"SoCo":X.g(Q,S,16);R=NE.HE(Q,B[l],S+4)+4;
break;case"GdFl":X.g(Q,S,16);R=NE.HE(Q,B[l],S+4)+4;break;case"PtFl":X.g(Q,S,16);R=NE.HE(Q,B[l],S+4)+4;
break;case"CgEd":var O={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},M=O,U=B[l];
M.Brgh.v=U.Brgh.v;M.Cntr.v=U.Cntr.v;M.useLegacy.v=U.useLegacy.v;X.g(Q,S,16);R=NE.HE(Q,O,S+4)+4;break;
case"brit":Q.vq(S,8);R=8;break;case"levl":var m=new R_;R=MR.Oo(m,B[l]);X.dS(Q,S,m.data);break;case"curv":R=me.Zc(Q,S,B[l]);
break;case"expA":R=14;Q.vq(S,14);X.nD(Q.data,S,1);X.Np(Q.data,S+2,B[l].Exps.v);X.Np(Q.data,S+6,B[l].Ofst.v);
X.Np(Q.data,S+10,B[l].gammaCorrection.v);break;case"vibA":X.g(Q,S,16);R=NE.HE(Q,B[l],S+4)+4;break;case"hue2":R=ma.Zc(Q,S,B[l]);
break;case"blnc":R=19;Q.vq(S,R);var Y=["ShdL","MdtL","HghL"];for(var p=0;p<3;p++){var x=B[l][Y[p]].v;
for(var T=0;T<3;T++)x.push(X.Kn(Q.data,S+p*6+T*2,x[T].v))}Q.data[S+18]=B[l].PrsL.v?1:0;break;case"blwh":var O={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},$="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var p=0;p<$.length;p++){O[$[p]]=B[l][$[p]]}X.g(Q,S,16);R=NE.HE(Q,O,S+4)+4;break;case"phfl":X.DB(Q,S,2);
var L=B[l].Clr.v;X.DB(Q,S+2,7);X.DB(Q,S+4,Math.round(L.Lmnc.v*100));X.DB(Q,S+6,Math.round(L.A.v*100));
X.DB(Q,S+8,Math.round(L.B.v*100));X.DB(Q,S+10,0);var s=S+2+10;Q.vq(s,5);X.$m(Q.data,s,B[l].Dnst.v);s+=4;
Q.data[s]=B[l].PrsL.v?1:0;s++;R=s-S;break;case"mixr":R=44;Q.vq(S,R);var j=Nf.XK(B[l]);X.nD(Q.data,S,1);
X.nD(Q.data,S+2,j.Db?1:0);for(var p=0;p<20;p++)X.Kn(Q.data,S+4+p*2,j.z[p]);break;case"clrL":case"rplc":X.DB(Q,S,1);
X.g(Q,S+2,16);R=NE.HE(Q,B[l],S+6)+6;break;case"nvrt":R=0;break;case"post":X.DB(Q,S,B[l].Lvls.v);R=2;
break;case"thrs":X.DB(Q,S,B[l].Lvl.v);R=2;break;case"grdm":var Z={rev:B[l].Rvrs.v,mnq:!1,Kg:B[l].Grad.v,mode:0,iF:867527939,mng:!1,mnF:!0,mzI:2048,mmQ:3,UW:[0,0,0,0],UG:[32768,32768,32768,32768]},e=Z.Kg;
Q.vq(S,4);X.nD(Q.data,S,1);Q.data[S+2]=Z.rev?1:0;Q.data[S+3]=Z.mnq?1:0;var J=S+4;X.EV(Q,J,e.Nm.v);J+=4+e.Nm.v.length*2;
var N=e.Clrs.v.length;X.DB(Q,J,N);J+=2;for(var p=0;p<N;p++){var L=e.Clrs.v[p];X.g(Q,J,L.v.Lctn.v);X.g(Q,J+4,L.v.Mdpn.v);
X.DB(Q,J+8,0);var E=k.Kg.Od(k.Kg.RT(L.v.Clr.v)),h=[E.Rd.v,E.Grn.v,E.Bl.v,0];for(var T=0;T<4;T++)X.DB(Q,J+10+T*2,Math.round(65535*(h[T]/255)));
J+=20}var o=e.Trns.v.length;X.DB(Q,J,o);J+=2;for(var p=0;p<o;p++){var L=e.Trns.v[p];X.g(Q,J,L.v.Lctn.v);
X.g(Q,J+4,L.v.Mdpn.v);X.DB(Q,J+8,Math.round(255*L.v.Opct.v.val/100));J+=10}X.DB(Q,J,2);J+=2;X.DB(Q,J,e.Intr.v);
J+=2;X.DB(Q,J,32);J+=2;X.DB(Q,J,Z.mode);J+=2;X.g(Q,J,Z.iF);J+=4;X.DB(Q,J,Z.mng?1:0);J+=2;X.DB(Q,J,Z.mnF?1:0);
J+=2;X.g(Q,J,Z.mzI);J+=4;X.DB(Q,J,Z.mmQ);J+=2;for(var p=0;p<4;p++)X.DB(Q,J+p*2,Z.UW[p]);J+=8;for(var p=0;
p<4;p++)X.DB(Q,J+p*2,Z.UG[p]);J+=8;J+=2;R=J-S;break;case"selc":R=ms.Zc(Q,S,B[l]);break;case"FMsk":X.dS(Q,S,B[l]);
R=B[l].length;break;case"Txt2":var V=new R_,n=mN.iP(B[l].v_,V),t=k.Q(n,!0);for(var p=0;p<n;p++)t[p]=V.data[p];
X.dS(Q,S,t);R=t.length;break;case"vmsk":var q=B[l],u=0;X.g(Q,S,3);if(!q.om)u+=1<<1;if(!q.isEnabled)u+=1<<2;
X.g(Q,S+4,u);R=8;var g=q.A.length;Q.vq(S+8,g*26);Le.c_(Q.data,S+8,q.A,y.r,y.O);R+=g*26;break;case"shmd":X.g(Q,S,Object.keys(B[l]).length);
var s=S+4;for(var r in B[l]){X.NF(Q,s,"8BIM");s+=4;X.NF(Q,s,r);s+=4;X.g(Q,s,0);s+=4;X.g(Q,s,0);s+=4;
X.g(Q,s,16);s+=4;var f=NE.HE(Q,B[l][r],s);if(f%4!=0)f+=4-f%4;X.g(Q,s-8,f+4);s+=f}R=s-S;break;case"TySh":var s=S;
X.fx(Q,s,1);s+=2;var I=B[l],V=new R_;I.Nd.DocumentResources=JSON.parse(JSON.stringify(I.Nd.ResourceDict));
var n=Mq.iP(I.Nd,V),t=k.Q(n,!0);for(var p=0;p<n;p++)t[p]=V.data[p];I.oH.EngineData={t:"tdta",v:t};var d=I.Nd.EngineDict.Editor.Text;
I.oH.Txt.v=d.substring(0,d.length-1);X.mmP(Q,s,I.V);s+=48;X.fx(Q,s,50);s+=2;X.g(Q,s,16);s+=4;s+=NE.HE(Q,I.oH,s);
X.fx(Q,s,1);s+=2;X.g(Q,s,16);s+=4;s+=NE.HE(Q,I.IT,s);X.mMz(Q,s,I._Q);s+=16;R=s-S;break;case"lmfx":X.g(Q,S,0);
X.g(Q,S+4,16);var O=JSON.parse(JSON.stringify(B[l])),a=!1;RS.cv(O);for(var p=0;p<rx.or.length;p++)if(O[rx.or[p]]!=null)a=!0;
X.NF(Q,D,a?"lmfx":"lfx2");R=NE.HE(Q,O,S+8)+8;break;case"Patt":var s=Qr.fR(Q,S,B[l]);R=s-S;break;case"SoLd":X.NF(Q,S,"soLD");
X.g(Q,S+4,4);X.g(Q,S+8,16);R=NE.HE(Q,B[l],S+12)+12;break;case"vstk":case"pths":X.g(Q,S,16);R=NE.HE(Q,B[l],S+4)+4;
break;case"vscg__":X.NF(Q,S,B[l].key);X.g(Q,S+4,16);R=NE.HE(Q,B[l].z,S+8)+8;break;case"vogk":X.g(Q,S,1);
X.g(Q,S+4,16);k.SI.mzy(B[l]);for(var p=0;p<B[l].length;p++){var c=B[l][p].v.keyOriginResolution;if(c)c.v=y.LY}var _={classID:"null",keyDescriptorList:{t:"VlLs",v:B[l]}};
R=NE.HE(Q,_,S+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var J=S;for(var p=0;p<B[l].length;p++){var C=B[l][p],F=J;
X.dQ(Q,J,0);J+=8;X.NF(Q,J,C.type);J+=4;X.g(Q,J,C.cH);J+=4;Q.vq(J,1);Q.data[J]=C.LB.length;J++;X.NF(Q,J,C.LB);
J+=C.LB.length;X.EV(Q,J,C.oK+"\0");J+=4+C.oK.length*2+2;X.NF(Q,J,C.Vx);J+=4;X.NF(Q,J,C.vG);J+=4;X.dQ(Q,J,C.raw.length);
J+=8;Q.vq(J,1);Q.data[J]=C.open;J++;X.dS(Q,J,C.raw);J+=C.raw.length;X.g(Q,J,1);J+=4;J+=11;var i=J-F-8;
X.dQ(Q,F,i);if(i%4!=0){Q.vq(J,4-i%4);J+=4-i%4}}R=J-S;break;case"FEid":var J=S;X.g(Q,J,3);J+=4;for(var rP=0;
rP<B[l].length;rP++){var rH=B[l][rP];J+=4;var rK=J;J+=4;X.bq(Q,J,rH.id);J+=rH.id.length+1;X.g(Q,J,1);
J+=4;J+=4;var rY=J;J+=4;X.nL(Q,J,rH.rect);J+=16;X.g(Q,J,8);J+=4;X.g(Q,J,24);J+=4;var Nc=new k.rp(rH.rect.Z());
k.Cd(rH.buffer,Nc);for(var p=0;p<24+2;p++){var G=null;if(p==0)G=Nc.t;if(p==1)G=Nc.e;if(p==2)G=Nc.R;if(p==25)G=Nc.n;
X.g(Q,J,G!=null?1:0);J+=4;if(G!=null){J+=4;var rI=J;J+=4;Q.vq(J,rH.rect.Z()+2);J=Rr.ct(G,Q.data,rH.rect.r,rH.rect.O,J,3);
X.g(Q,rI,J-(rI+4))}}X.g(Q,rY,J-(rY+4));Q.vq(J,1);Q.data[J]=rH.k?1:0;J++;if(rH.k!=null){var rb=rH.k.rect,Nr=rH.k.channel;
rb=rH.rect;Nr=k.Q(rb.Z());k.set(Nr,rH.k.color);k.ht(rH.k.channel,rH.k.rect,Nr,rb);X.nL(Q,J,rb);J+=16;
J+=4;var Nz=J;J+=4;Q.vq(J,rb.Z()+2);J=Rr.ct(Nr,Q.data,rb.r,rb.O,J,3);X.g(Q,Nz,J-(Nz+4))}var i=J-(rK+4);
X.g(Q,rK,i);if(i%4!=0)J+=4-i%4}R=J-S;break;default:console.log("unknown layer tag: "+l+", size: "+R);
S-=12;continue}var NL=["Txt2","artd","extd","luni","pths"];if(NL.indexOf(l)==-1)if(R%4!=0)R+=4-R%4;X.Nz(Q,S-4,R);
if(l!="luni"&&l!="TySh")if(R%4!=0)R+=4-R%4;S+=R}return S};RS.fW=function(Q){for(var S=0;S<rx.order.length;
S++){var B=rx.order[S],y=rx.or[S];if(Q[y]==null)Q[y]={t:"VlLs",v:[]};if(Q[B]!=null){Q[y].v.push(Q[B]);
delete Q[B]}var l=[];for(var D=0;D<Q[y].v.length;D++){var R=Q[y].v[D];if(R.v.present==null||R.v.present.v==!0)l.push(R)}Q[y].v=l}};
RS.cv=function(Q){for(var S=0;S<rx.order.length;S++){var B=rx.order[S],y=rx.or[S],l=Q[y].v.length;if(l==0){delete Q[y];
continue}if(l==1){Q[B]=Q[y].v[0];delete Q[y];continue}}};RS.cn=function(Q,S){if(S=="GdFl"){if(Q.Angl==null)Q.Angl={v:{type:"#Ang",val:90},t:"UntF"};
if(Q.Algn==null)Q.Algn={v:!0,t:"bool"};if(Q.Scl==null)Q.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(Q.Ofst==null)Q.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(Q.Rvrs==null)Q.Rvrs={v:!1,t:"bool"};if(Q.Dthr==null)Q.Dthr={v:!1,t:"bool"}}if(S=="PtFl"){if(Q.Algn==null)Q.Algn={v:!0,t:"bool"};
if(Q.Scl==null)Q.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(Q.phase==null)Q.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
RS.clone=function(Q,S){var B={};if(Q=="TySh"){B.V=S.V.clone();B.oH=JSON.parse(JSON.stringify(S.oH));
B.IT=JSON.parse(JSON.stringify(S.IT));B._Q=S._Q.clone();B.Nd=JSON.parse(JSON.stringify(S.Nd));if(S.add)B.add={vmsk:S.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(S.add.vogk))};
return B}else if(Q=="fxrp")return S.clone();else if(Q=="vmsk")return S.clone();else return JSON.parse(JSON.stringify(S))};
function Rs(Q,S){}Rs.fY=function(Q,S,B,y){y=Rs.maI(Q,S,B,y);return y};Rs.iP=function(Q,S,B,y,l){y=Rs.mvO(Q,S,B,y,l);
return y};Rs.maI=function(Q,S,B,y){var l=y;Q.rect=X.Gc(B,y);y+=16;var D=X.Si(B,y);y+=2;Q.cS=[];var R=S.UI;
for(var p=0;p<D;p++){Q.cS[p]={id:X.Ll(B,y),length:(R?X.nM:X.j)(B,y+2)};y+=R?10:6}var O=X.Ly(B,y,4);y+=4;
if(O!="8BIM"){console.log("Invalid Blend mode signature: "+O);alert("Error in Photoshop file: wrong signature.");
throw"e"}Q.wk=X.Ly(B,y,4);y+=4;Q.opacity=B[y];y+=1;Q.J$=B[y]==1;y+=1;Q.$N=B[y];y+=1;if(B[y]!=0)console.log("error in filler!");
y+=1;var M=X.j(B,y);y+=4;var U=y;y=Rs.mvB(Q,B,y);y=Rs.mwu(Q,B,y);var m=X.dl(B,y);Q.name=m.ho;y+=m.length;
if(m.length%4!=0)y+=4-m.length%4;y=RS.Aa(B,y,U+M,Q.add,R,S);if(Q.UU){var Y=Q.UU;if(Q.Tb()){Q.Tb().FO=Y[0];
Q.Tb().Mu=Y[1]}if(Q.add.vmsk){Q.add.vmsk.FO=Y[2];Q.add.vmsk.Mu=Y[3]}}if(Q.add.lsct){if(Q.add.lsct.wk)Q.wk=Q.add.lsct.wk;
Q.add.lsct=Q.add.lsct.type}return y};Rs.mvO=function(Q,S,B,y,l){var D=y;X.nL(B,y,Q.rect);y+=16;var R=Q.mLB();
X.DB(B,y,R.length);y+=2;l.push(y);for(var p=0;p<R.length;p++){X.fx(B,y,R[p]);X.g(B,y+2,0);y+=6}X.NF(B,y,"8BIM");
y+=4;X.NF(B,y,Q.wk);y+=4;X.TH(B,y,Q.opacity,1);y+=1;X.TH(B,y,Q.J$?1:0,1);y+=1;X.TH(B,y,Q.$N,1);y+=1;
X.TH(B,y,0,1);y+=1;var O=y;X.g(B,y,0);y+=4;var M=y;y=Rs.mwc(Q,B,y);y=Rs.mwU(Q,B,y);var U=X.bq(B,y,Q.name.slice(0,255));
y+=U;if(U%4!=0)y+=4-U%4;if(Q.add.lsct){Q.add.lsct={type:Q.add.lsct};if(Q.wk=="pass"){Q.add.lsct.wk="pass";
Q.wk="norm"}}if(Q.wk=="pass")Q.add.lsct={type:Q.add.lsct,wk:"pass"};if(Q.add.brit)Q.add.CgEd=Q.add.brit;
y=RS.Aw(B,y,Q.add,S);delete Q.add.CgEd;if(Q.add.lsct){if(Q.add.lsct.wk)Q.wk=Q.add.lsct.wk;Q.add.lsct=Q.add.lsct.type}var m=y-M;
X.g(B,O,m);return y};Rs.mvB=function(Q,S,B){var y=X.j(S,B);B+=4;if(y==0)return B;var l=B;Q.k=new z.oW;
Q.k.rect=X.Gc(S,B);B+=16;Q.k.color=S[B];B+=1;var D=Rs.An(Q.k,S,B);B+=1;if(D){var R=!1,O=255,M=0,U=255,m=0;
for(var p=0;p<Q.cS.length;p++)if(Q.cS[p].id==-3)R=!0;if(R){Q.xE=Rs.Af(S,B);B+=18}var Y=B,x=S[B];B++;
if(x>>0&1){O=S[B];B++}if(x>>1&1){M=X.nS(S,B);B+=8}if(x>>2&1){U=S[B];B++}if(x>>3&1){m=X.nS(S,B);B+=8}if((B-Y&1)==1)B++;
Q.UU=[O,M,U,m]}else{if(y==20)B+=2;else{Q.xE=Rs.Af(S,B);B+=18}}return l+y};Rs.mwc=function(Q,S,B){X.g(S,B,0);
B+=4;if(Q.k==null)return B;var y=B,l=!0;X.g(S,B,0);X.nL(S,B,Q.k.rect);B+=16;X.TH(S,B,Q.k.color);B+=1;
Rs.At(Q.k,S,B,l);B+=1;if(l){if(Q.xE){Rs.mwV(S,B,Q.xE);B+=18}X.TH(S,B,15);B+=1;var D=Q.Tb(),R=Q.add.vmsk;
X.TH(S,B,D?D.FO:255);B+=1;X.nP(S,B,D?D.Mu:0);B+=8;X.TH(S,B,R?R.FO:255);B+=1;X.nP(S,B,R?R.Mu:0);B+=8;
B++;X.g(S,y-4,B-y)}return B};Rs.Af=function(Q,S){var B=new z.oW;Rs.An(B,Q,S);S+=1;B.color=Q[S];S+=1;
B.rect=X.Gc(Q,S);S+=16;return B};Rs.mwV=function(Q,S,B){Rs.At(B,Q,S,!1);S+=1;X.TH(Q,S,B.color);S+=1;
X.nL(Q,S,B.rect);S+=16};Rs.An=function(Q,S,B){var y=S[B];Q.om=(y>>0&1)==0;Q.isEnabled=(y>>1&1)==0;Q.jS=(y>>3&1)==1;
return y>>4&1};Rs.At=function(Q,S,B,y){var l=0;if(!Q.om)l+=1<<0;if(!Q.isEnabled)l+=1<<1;if(Q.jS)l+=1<<3;
if(y)l+=1<<4;X.TH(S,B,l)};Rs.mwu=function(Q,S,B){var y=X.j(S,B);B+=4;if(y==0)return B;if(y!=5*8)console.log("unexpected Layer Blending Ranges content, size:",y);
for(var l=0;l<y;l++)Q.US[l]=S[B+l];return B+40};Rs.mwU=function(Q,S,B){X.g(S,B,Q.US.length);B+=4;S.vq(B,40);
for(var y=0;y<40;y++){S.data[B+y]=Q.US[y]}return B+40};function Rr(){}Rr.fY=function(Q,S,B,y){y=Rr.mwE(S.UI,S.ii,S.dL,Q,B,y);
return y};Rr.Oo=function(Q,S,B,y,l){B=Rr.mws(Q,S,B,y,l);return B};Rr.mwE=function(Q,S,B,y,l,D){var R=y.cS,p={},O=D;
for(var M=0;M<R.length;M++){var U=R[M],m=U.id,Y=U.length,x;if(m==-3)x=y.xE.rect;else if(m==-2)x=y.k.rect;
else x=y.rect;var T=Rr.cs(Q,S,l,x.r,x.O,D,Y);D+=Y;if(m==-3)y.xE.channel=T;else if(m==-2)y.k.channel=T;
else p["c"+m]=T}var $=new k.rp(0);$.n=null;if(B==3){$.t=p.c0;$.e=p.c1;$.R=p.c2;$.n=p["c-1"]}else if(B==1){$.t=p.c0;
$.e=p.c0;$.R=p.c0;$.n=p["c-1"]}else if(B==4){var L=p.c0,s=p.c1,j=p.c2,Z=p.c3,e=L.length,J=1/255;for(var M=0;
M<e;M++){var N=L[M],E=s[M],h=j[M],o=Z[M]*J;L[M]=Math.round(N*o);s[M]=Math.round((.2*N+.8*E)*o);j[M]=Math.round((.2*E+.8*h)*o)}$.t=L;
$.e=s;$.R=j;$.n=p["c-1"];console.log("converting from CMYK to RGB")}if($.t==null)$.t=k.Q(0);if($.n==null&&$.t!=null){$.n=k.clone($.t);
k.set($.n,255)}if($.e==null)$.e=$.t.slice(0);if($.R==null)$.R=$.t.slice(0);y.buffer=k.Q(Math.max(0,y.rect.Z()*4));
k.Cc($,y.buffer);return D};Rr.mws=function(Q,S,B,y,l){var D=Q.mLB(),R=new k.rp(Q.rect.Z());k.Cd(Q.buffer,R);
for(var p=0;p<D.length;p++){var O=D[p],M,U;if(O==-3)M=Q.xE.rect;else if(O==-2)M=Q.k.rect;else M=Q.rect;
if(O==-3)U=Q.xE.channel;if(O==-2)U=Q.k.channel;if(O==-1)U=R.n;if(O==0)U=R.t;if(O==1)U=R.e;if(O==2)U=R.R;
S.vq(B,M.Z()*3+4);var m=B;B=Rr.ct(U,S.data,M.r,M.O,B,l[1]?3:1);var Y=B-m;if(Y%2!=0){Y+=Y%2;B++}X.$m(S.data,y+p*6+2,Y)}return B};
Rr.cs=function(Q,S,B,y,l,D,R){var p=X.Si(B,D);D+=2;return Rr.Zf(Q,S,B,y,l,D,p,R-2)};Rr.ct=function(Q,S,B,y,l,D){X.Kn(S,l,D);
l+=2;l=Rr.f_(Q,S,B,y,l,D);return l};Rr.Zf=function(Q,S,B,y,l,D,R,p){var O,M=y*l*(S>>>3),U=M&3,m=M+(U==0?0:4-U);
if(R>3){console.log("unknown compression: "+R,y,l,y*l,p);R=0}if(R==0){if(D+m<=B.length)O=B.slice(D,D+m);
else{O=k.Q(M);for(var Y=0;Y<M;Y++)O[Y]=B[D+Y]}D+=M}else if(R==1){O=k.Q(M);var x=Q?4:2,T=Rr.AX(B,O,y,l,D,D+x*l,x);
D+=x*l+T}else if(R==2||R==3){var $=new Uint8Array(B.buffer,D+2,p-6),L=pako.inflateRaw($);if(R==3){if(S==8)for(var s=0;
s<l;s++){var j=s*y+1,Z=j+y-1,e=L[j-1];for(var J=j;J<Z;J++){e+=L[J];L[J]=e&255}}else for(var s=0;s<l;
s++){var j=s*y+1,Z=j+y-1,e=L[2*j-2]<<8|L[2*j-1];for(var J=j;J<Z;J++){var N=J<<1;e+=L[N]<<8|L[N+1];L[N]=e>>>8;
L[N+1]=e&255}}}if(L.length==m)O=L;else{O=k.Q(m);for(var Y=0;Y<L.length;Y++)O[Y]=L[Y]}}if(S==16){var E=k.Q(y*l);
for(var Y=0;Y<M;Y+=2)E[Y>>>1]=O[Y];O=E}return O};Rr.f_=function(Q,S,B,y,l,D){var R=B*y;if(D==0)for(var p=0;
p<R;p++)S[l++]=Q[p];else if(D==1){var O=Rr.Al(Q,S,B,y,l,l+2*y);l+=2*y+O}else if(D==2||D==3){if(D==3){var M=new Uint8Array(Q.length);
for(var U=0;U<y;U++){var m=U*B+1,Y=m+B-1,x=Q[m-1];M[m-1]=x;for(var T=m;T<Y;T++){M[T]=Q[T]+(256-x)&255;
x=Q[T]}}Q=M}S[l]=120;S[l+1]=156;l+=2;var $=pako.deflateRaw(Q,{mpf:4});X.Yy(S,l,$);l+=$.length+4}else console.log("Unknown compression: "+D);
return l};Rr.AX=function(Q,S,B,y,l,D,R){var p=D,O=y|0;if(R==2)for(var M=0;M<O;M++){var U=X.Si(Q,l+(M<<1));
Rr.cl(Q,D,U,S,M*B,B);D+=U}else for(var M=0;M<O;M++){var U=X.j(Q,l+(M<<2));Rr.cl(Q,D,U,S,M*B,B);D+=U}return D-p};
Rr.Al=function(Q,S,B,y,l,D){var R=D;for(var p=0;p<y;p++){var O=Rr.mwt(Q,p*B,B,S,D);X.nD(S,l+p*2,O);D+=O}return D-R};
Rr.mwt=function(Q,S,B,y,l){var D,R,p,O,M,U,m;O=S+B;for(p=S,R=l;B>0;p=D,B-=U){m=B<128?B:128;if(p<=O-3&&Q[p+1]==Q[p+0]&&Q[p+2]==Q[p+0]){for(D=p+3;
D<p+m&&Q[D]==Q[p+0];)++D;U=D-p;y[R++]=1+256-U;y[R++]=Q[p+0]}else{for(D=p;D<p+m;)if(D<=O-3&&Q[D+1]==Q[D+0]&&Q[D+2]==Q[D+0])break;
else++D;U=D-p;y[R++]=U-1;for(var Y=0;Y<U;Y++)y[R+Y]=Q[p+Y];R+=U}}return R-l};Rr.cl=function(Q,S,B,y,l,D){for(var R=0;
R<B;){var p=Q[S++];if(p>=128){var O=Q[S++],M=l+(257-p);y.fill(O,l,M);l=M;R+=2}else{var M=l+(1+p);while(l<M)y[l++]=Q[S++];
R+=1+1+p}}};function Me(){}Me.fY=function(Q,S){S.UI=!1;S.ii=8;var B=new Uint8Array(Q),y=0,l=0,_,rY=0,Nr=!1,Nz=!0,NL=!1;
l=Me.cx(S,B,y);y=l;l=Me.mwA(S,B,y);y=l;l=Me.mfc(S,B,y);y=l;l=Me.mfu(S,B,y);y=l;l=Me.mUa(S,B,y);y=l;if(S.G.length==0){var D=S.oz();
D.pM("Background");S.G.push(D);D.buffer=k.clone(S.buffer);D.rect=new w(0,0,S.r,S.O)}if(S.Kw.r1005){S.LY=X.Si(S.Kw.r1005,0)}if(S.Kw.r1026){var B=S.Kw.r1026;
for(var R=0;R<B.length;R+=2){var l=S.G[R>>>1];if(l)l.Gl=X.Si(B,R)}}if(S.Kw.r1032){var B=S.Kw.r1032,p=X.j(B,12);
for(var R=0;R<p;R++){var O=B[16+R*5+4],M=X.j(B,16+R*5)/32;S.WM[O].push(M)}}delete S.Kw.r1039;if(S.Kw.r1050){var U=X.j,m=S.Kw.r1050,Y=X.j(m,0);
if(Y==6){var x=4,T=X.Gc(m,x);x+=16;var $=X.UZ(m,x);x+=4+$.length*2;var L=U(m,x);x+=4;var s=S.$q;for(var R=0;
R<L;R++){var j=K.GM.uP(),e;s.push(j);j=j.v;j.sliceID.v=U(m,x);x+=4;j.groupID.v=U(m,x);x+=4;var Z=U(m,x);
x+=4;if(Z==1){e=U(m,x);x+=4}var $=X.UZ(m,x);x+=4+$.length*2;var J=U(m,x);x+=4;var N=[U(m,x),U(m,x+4),U(m,x+8),U(m,x+12)];
x+=16;K.GM.$t(s,s.length-1,N);var E=j.url.v=X.UZ(m,x);x+=4+E.length*2;var h=j.null.v=X.UZ(m,x);x+=4+h.length*2;
var o=j.Msge.v=X.UZ(m,x);x+=4+o.length*2;var V=j.altTag.v=X.UZ(m,x);x+=4+V.length*2;j.cellTextIsHTML.v=m[x]==1;
x++;var n=j.cellText.v=X.UZ(m,x);x+=4+n.length*2;var t=U(m,x);x+=4;var q=U(m,x);x+=4;var u=m.slice(x,x+4);
x+=4;if(Z!=2)s.pop()}}else if(Y==8){var g={};NE.sY(m,g,8,!1);var m=S.$q=g.slices.v;for(var R=0;R<m.length;
R++){if(m[R].v.origin.v.ESliceOrigin!="userGenerated"){m.splice(R,1);R--}}}}if(S.Kw.r1065){var B=S.Kw.r1065;
S.qC={};NE.sY(B,S.qC,4,!1)}if(S.Kw.r1069){var B=S.Kw.r1069,r=[];for(var R=2;R<B.length;R+=4){var e=X.j(B,R);
for(var f=0;f<S.G.length;f++){var l=S.G[f];if(l.add.lyid==e&&l.add.lsct!=3)r.push(f)}}S.I=r}if(S.Kw.r1025){var I=S.Kw.r1025;
delete S.Kw.r1025;var d=Le.fC(I,0,I.length,S.r,S.O),a=new z.hm;a.A=d;S.SX[0]=mV.qK("Working Path",{vmsk:a})}var c=S.add.pths;
delete S.add.pths;var C=S.Kw.r3000;if(C){_={};NE.sY(C,_,4,!1);delete S.Kw.r3000}for(var F=0;F<=997;F++){var i="r"+(2e3+F),I=S.Kw[i];
if(I==null)break;var d=Le.fC(I,0,I.length,S.r,S.O),rP=c?c.pathList.v[F].v.pathUnicodeName.v:"Path "+F,rH=_?_.keyRootDescriptorList.v[F].v.keyDescriptorList.v:z.sr(d),a=new z.hm;
a.A=d;S.SX[F+1]=mV.qK(rP,{vmsk:a,vogk:rH});delete S.Kw[i]}delete S.UI;var rK=new w(0,0,S.r,S.O),Nc=S.add.Txt2,G=Nc;
if(G){G=G.v_;if(G._DocumentResources==null)G=Rg.mLR(G)}if(Nc&&Nc.v_._DocumentResources!=null){var rI="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),rb=Nc.v_._DocumentResources._TextFrameSet._Resources;
for(var R=0;R<rb.length;R++){}}for(var R=0;R<S.G.length;R++){var l=S.G[R],Nm=l.add.vmsk,NN=l.Tb();if(l.name==""){l.name="Layer "+(R+1);
NL=!0}if(NL&&l.So()&&l.wk=="norm")l.wk="pass";if(l.as()&&l.DG(S).k){var Ne=l.DG(S);Ne.k.isEnabled=l.add.SoLd.filterFX.v.filterMaskEnable.v}if(Nm&&l.iG()){var Ny=rx.xD.default;
if(l.add.vstk==null)l.add.vstk=JSON.parse(JSON.stringify(Ny));else{var NG="strokeStyleLineDashSet";if(l.add.vstk[NG]==null)l.add.vstk[NG]=JSON.parse(JSON.stringify(Ny[NG]))}}if(Nm&&(l.add.vogk==null||k.c.Tm(Nm.A)!=l.add.vogk.length))l.sr();
if(NN==null&&l.k!=null){if(l.k.jS==!1){l.k.jS=!0;l.xE=l.k.clone()}else{Nm.xE=l.k;Nm.DP=!1;l.k.Mu=Nm.Mu;
l.k.FO=Nm.FO}}if(NN!=null&&Nm!=null&&(NN.Mu+Nm.Mu!=0||NN.FO+Nm.FO!=2*255))l.Zs(S);var NC=l.add.vstk;
if(l.iG()&&(l.rect.Kq()||Nm&&Nm.Mu!=0||NC&&!NC.fillEnabled.v&&(!NC.strokeEnabled.v||NC.strokeStyleLineWidth.v.val==0)))l.Dd(S);
if(l.add.TySh){Nr=!0;if(!l.rect.Kq())Nz=!1}if(l.add.TySh&&G){var Ng=l.add.TySh.Nd,NM=rA.Dy(Ng),NQ=Ng.EngineDict.ParagraphRun.RunArray,NR=G._DocumentObjects._TextObjects;
if(NR.length<=rY){console.log("Txt2 incomplete");continue}NR=NR[rY]._Model._ParagraphRun._RunArray;var NV=Math.min(NR.length,NQ.length);
for(var f=0;f<NV;f++){var md=NQ[f].ParagraphSheet.Properties,NW=G._DocumentResources._ParagraphSheetSet._Resources,Nh=NR[f]._RunData._ParagraphSheet;
if(typeof Nh=="string")Nh=NW[parseInt(Nh.slice(1))]._Resource;var Nt=Nh._Parent==null?Nh:NW[parseInt(Nh._Parent.slice(1))]._Resource,NU=Nh._Features._ParagraphDirection;
if(NU==null)NU=Nt._Features._ParagraphDirection;if(NU)md._Direction=parseInt(NU.slice(1))}var Mw=G._DocumentResources,mp=Mw._TextFrameSet._Resources,Na=mp[rY]._Resource,NX=Na._Data,Ni=new Nu(1,0,0,1,0,0);
if(Na._0){var mm=parseFloat(Na._0[0].slice(1)),NT=parseFloat(Na._0[1].slice(1));Ni.translate(mm,NT)}if(NM){Ni.translate(NM[0],NM[1]);
rA.vl(Ng,[0,0,NM[2]-NM[0],NM[3]-NM[1]])}else{if(Na._Bezier&&Na._Bezier._Points){var d=Na._Bezier._Points,mm=parseFloat(d[0].slice(1)),NT=parseFloat(d[1].slice(1));
if(mm!=0||NT!=0){Ni.translate(mm,NT)}}}if(Na._Data&&Na._Data._FrameMatrix){var NF=Na._Data._FrameMatrix;
NF=NF.map(function(Rz){return parseFloat(Rz.slice(1))});Ni.concat(new Nu(NF[0],NF[1],NF[2],NF[3],NF[4],NF[5]))}Ni.concat(l.add.TySh.V);
l.add.TySh.V=Ni;rY++;var J=NX._Type?parseInt(NX._Type.slice(1)):0;if(J==2||J==1&&NX._PathData._Spacing=="i-3"){var Ns=function(Rz){return parseFloat(Rz.slice(1))},d=Na._Bezier._Points.map(Ns);
if(NM)k.i.V(d,new Nu(1,0,0,1,-NM[0],-NM[1]),d);var NB=NX._PathData._Reversed;Ng.Curve={Points:d,TextOnPathTRange:NX._TextOnPathTRange.map(Ns),Reversed:NB==null?!1:NB};
l.add.TySh.add={vmsk:new z.hm,vogk:null};rA.R$(l.add.TySh)}}}mw.LS.qp(S,!0)};Me.iP=function(Q,S,B){mw.LS.tF(Q);
mw.LS.qp(Q,!1);var y=[],l=[],D=[],R=[],p=[],V=16,rK=0;for(var O=0;O<Q.G.length;O++){var M=Q.G[O];if(M.as()&&M.DG(Q).k){M.add.SoLd.filterFX.v.filterMaskEnable.v=M.DG(Q).k.isEnabled}if(M.add.SoLd){l.push(M.add.SoLd.Idnt.v);
D.push(M.add.SoLd.placed.v)}if(M.add.TySh){var U=M.add.TySh.Nd,m=rA.Ry(U);M.add.TySh.oH.TextIndex={t:"long",v:y.length};
y.push(U);if(m==2)rA.pt(M.add.TySh)}if(M.add.PtFl)R.push(M.add.PtFl.Ptrn.v.Idnt.v);if(M.add.lmfx){for(var Y=0;
Y<rx.or.length;Y++){var x=M.add.lmfx[rx.or[Y]].v;for(var T=0;T<x.length;T++)if(x[T].v.Ptrn)R.push(x[T].v.Ptrn.v.Idnt.v)}}var $=M.add.vstk;
if($&&$.strokeStyleContent.v.classID=="patternLayer"){R.push($.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(M.iG()){p[O]=[M.rect,M.buffer];
M.rect=new w;M.buffer=k.Q(0)}}if(y.length>0){var L=Q.add.Txt2?Q.add.Txt2.v_:null;Q.add.Txt2={};Q.add.Txt2.v_=Mf.mNz(y,null,L)}var s=Q.add.lnk2;
if(s){var j=Q.add.lnk2=[];for(var O=0;O<s.length;O++)if(l.indexOf(s[O].LB)!=-1)j.push(s[O]);if(j.length==0)delete Q.add.lnk2}var Z=Q.add.FEid;
if(Z){var e=Q.add.FEid=[];for(var O=0;O<Z.length;O++)if(D.indexOf(Z[O].id)!=-1)e.push(Z[O]);if(e.length==0)delete Q.add.FEid}var J=Q.add.Patt;
if(J){var N=Q.add.Patt=[];for(var O=0;O<J.length;O++)if(R.indexOf(J[O].id)!=-1)N.push(J[O])}Q.Kw.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
X.nD(Q.Kw.r1005,0,Q.LY);X.nD(Q.Kw.r1005,8,Q.LY);if(Q.na()){Q.Kw.r1022=new Uint8Array([0,3+Q.Ka.length-1,0])}else delete Q.Kw.r1022;
Q.Kw.r1026=new Uint8Array(Q.G.length*2);for(var O=0;O<Q.G.length;O++)X.nD(Q.Kw.r1026,O*2,Q.G[O].Gl);
var E=Q.WM,h=E[0].length+E[1].length,o=Q.Kw.r1032=k.Q(16+5*h,!0);X.$m(o,0,1);X.$m(o,4,576);X.$m(o,8,576);
X.$m(o,12,h);for(var O=0;O<2;O++)for(var T=0;T<E[O].length;T++){X.$m(o,V,Math.round(E[O][T]*32));o[V+4]=O;
V+=5}delete Q.Kw.r1045;delete Q.Kw.r1006;delete Q.Kw.r1077;var n=new R_;V=0;var t=new Uint8Array(4+(1+Q.Ka.length)*13);
t[3]=1;t[6]=t[7]=255;t[15]=100;t[16]=1;for(var O=0;O<1+Q.Ka.length;O++){var q=Q.Ka[O-(O==0?0:1)],u=(O==0?"Transparency":q.name)+"\0";
X.EV(n,V,u);V+=4+u.length*2;if(O!=0){var g=4+O*13;rf.Z_(t,g,q.mn);t[g+11]=q.dJ;t[g+12]=q.ok}}Q.Kw.r1045=n.data.slice(0,V);
Q.Kw.r1077=t;for(var O=0;O<Q.$q.length;O++)Q.$q[Q.$q.length-O-1].v.sliceID.v=2+O*3;var r={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:Q.$q}},n=new R_;
X.g(n,0,8);X.g(n,4,16);var f=NE.HE(n,r,8);Q.Kw.r1050=n.data.slice(0,f+8);var n=new R_;X.g(n,0,16);var f=NE.HE(n,Q.qC,4);
Q.Kw.r1065=n.data.slice(0,f+4);var I=Q.I;o=Q.Kw.r1069=k.Q(2+I.length*4,!0);X.nD(o,0,I.length);for(var O=0;
O<I.length;O++)X.$m(o,2+4*O,Q.G[I[O]].add.lyid);var d=new Date,a=[d.getFullYear(),d.getMonth()+1,d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds()];
for(var O=0;O<6;O++)a[O]=(a[O]+"").padStart(2,"0");var c=[{t274:[1],t282:[72],t283:[72],t296:[2],t305:["Photopea Editor (www.photopea.com)"],t306:[a[0]+":"+a[1]+":"+a[2]+" "+a[3]+":"+a[4]+":"+a[5]]},{t259:[6],t282:[72],t283:[72],t296:[2],t513:[302],t514:[0]}];
Q.Kw.r1058=new Uint8Array(UTIF.encode(c));var _=[],C=[];for(var O=0;O<Q.SX.length;O++){var F=Q.SX[O],i=F.add.vmsk.A;
if(O==0&&i.length==2)continue;var rP=k.Q(i.length*26);Le.c_(rP,0,i,Q.r,Q.O);var rH=O==0?1025:2e3+O-1;
Q.Kw["r"+rH]=rP;if(O!=0){_.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:F.name}}});
C.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:F.add.vogk}}})}}if(_.length!=0){Q.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:_}};
C={classID:"null",keyRootDescriptorList:{t:"VlLs",v:C}};var n=new R_;X.g(n,0,16);var f=NE.HE(n,C,4);
Q.Kw.r3000=n.data.slice(0,f+4)}else{delete Q.add.pths;delete Q.Kw.r3000}rK=Me.mwo(Q,S,rK);rK=Me.mfL(Q,S,rK);
rK=Me.mfd(Q,S,rK);rK=Me.mUz(Q,S,rK,B);rK=Me.mUo(Q,S,rK,B[0]);for(var O=0;O<Q.G.length;O++){var M=Q.G[O];
if(M.iG()){M.rect=p[O][0];M.buffer=p[O][1]}}if(s)Q.add.lnk2=s;if(Z)Q.add.FEid=Z;if(J)Q.add.Patt=J;mw.LS.qp(Q,!0);
return rK};Me.cx=function(Q,S,B){var y=X.Ly(S,B,4);B+=4;if(y!="8BPS")alert("invalid header signature: "+y);
var l=X.Si(S,B);B+=2;Q.UI=l==2;if(l!=1&&l!=2)alert("invalid version: "+l);B+=6;Q.dX=X.Si(S,B);B+=2;Q.O=X.$I(S,B);
B+=4;Q.r=X.$I(S,B);B+=4;Q.ii=X.Si(S,B);B+=2;Q.dL=X.Si(S,B);B+=2;return B};Me.mwo=function(Q,S,B){S.vq(0,64);
X.dW(S.data,B,"8BPS");B+=4;X.nD(S.data,B,1);B+=2;X.$m(S.data,B,0);B+=4;X.nD(S.data,B,0);B+=2;X.nD(S.data,B,4+Q.Ka.length);
B+=2;X.kR(S.data,B,Q.O);B+=4;X.kR(S.data,B,Q.r);B+=4;X.nD(S.data,B,8);B+=2;X.nD(S.data,B,3);B+=2;return B};
Me.mwA=function(Q,S,B){var y=X.$I(S,B);B+=4;if(y!=0)Q.iI=S.slice(B,B+y);B+=y;return B};Me.mfL=function(Q,S,B){X.Nz(S,B,0);
B+=4;return B};Me.mfc=function(Q,S,B){var y=X.j(S,B),l=0;B+=4;var D=[];while(l<y){var R=X.Ly(S,B+l,4);
l+=4;var p=X.Si(S,B+l);l+=2;var O=X.dl(S,B+l);l+=O.length;if(R!="8BIM"){D.push(p);console.log("Unknown Image Resources signature: "+R+", ID: "+p)}var M=X.j(S,B+l);
l+=4;if(Q.Kw["r"+p]!=null)console.log("--- two resources with same ID");Q.Kw["r"+p]=X.dA(S,B+l,M);l+=M+(M&1)}for(var U=0;
U<D.length;U++)delete Q.Kw["r"+D[U]];if(Q.qQ()==null)Q.Mr(30);return B+y};Me.mfd=function(Q,S,B){var y=B,l=0;
B+=4;for(var D in Q.Kw){X.NF(S,B+l,"8BIM");l+=4;var R=parseInt(D.substring(1));X.DB(S,B+l,R);l+=2;var p=X.bq(S,B+l,"");
l+=p;var O=Q.Kw["r"+R],M=O.length;X.g(S,B+l,M);l+=4;X.dS(S,B+l,O);l+=M;if(M%2==1)l++}X.g(S,y,l);return B+l};
Me.mfu=function(Q,S,B){var y=B,l,D=Q.UI?8:4;if(Q.UI)l=X.nM(S,B);else l=X.j(S,B);B+=D;if(l==0)return y+D;
B=Me.mUe(Q,S,B);B=Me.mUW(Q,S,B);B=RS.Aa(S,B,y+D+l,Q.add,Q.UI,Q);return y+D+l};Me.mUz=function(Q,S,B,y){var l=B;
X.g(S,B,0);B+=4;B=Me.mUh(Q,S,B,y);B=Me.mUG(Q,S,B);B=RS.Aw(S,B,Q.add,Q);X.g(S,l,B-l-4);return B};Me.mUe=function(Q,S,B){var y,l=Q.UI?8:4;
if(Q.UI)y=X.nM(S,B);else y=X.j(S,B);B+=l;if(y!=0)Me.cC(Q,S,B);return B+y};Me.cC=function(Q,S,B){var y=X.Ll(S,B);
B+=2;var l=Math.abs(y);for(var D=0;D<l;D++){var R=new z;B=Rs.fY(R,Q,S,B);Q.G[D]=R}var p=new w(0,0,Q.r,Q.O);
for(var D=0;D<l;D++){var O=Q.G[D];B=Rr.fY(O,Q,S,B);var M=O.rect.Z(),U=O.rect.nG(p),m=U.Z()/M;if(M>2e3*3e3&&m<.5){var Y=k.Q(U.Z()*4);
k.oD(O.buffer,O.rect,Y,U);O.buffer=Y;O.rect=U;alert("Removing hidden parts of layers")}}};Me.mUh=function(Q,S,B,y){var l=B;
X.g(S,B,0);B+=4;var D=Q.G.length;X.DB(S,B,-D);B+=2;var R=[];for(var p=0;p<D;p++)B=Rs.iP(Q.G[p],Q,S,B,R);
for(var p=0;p<D;p++)B=Rr.Oo(Q.G[p],S,B,R[p],y);var O=B-l-4;if(O%2!=0)O++;X.g(S,l,O);return l+O+4};Me.mUW=function(Q,S,B){var y=X.j(S,B);
B+=4;B+=y;return B};Me.mUG=function(Q,S,B){var y=X.g(S,B,0);B+=4;return B};Me.mUa=function(Q,S,B){var y=Q.dL,l="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),D=[1,1,1,3,4,1,1,3],R,$;
if(y!=3){if(y==1||y==2||y==4)alert("Project will be converted from "+l[y]+" to "+l[3]+" mode.");else{alert("Color mode "+l[y]+" is not supported yet :(")}}if(Q.Kw.r1045){R=[];
var p=Q.Kw.r1045,O=0;while(O<p.length){var M=X.Ub(p,O);R.push(M);O+=4+2+M.length*2}}var U=D[y]+(R==null||R[0]=="Transparency"?1:0),m=Q.r,Y=Q.O,x=m*Y,T=X.Si(S,B);
B+=2;Q.buffer=k.Q(x*4);k.St(Q.buffer,4278190080);var L=B;for(var s=0;s<Q.dX;s++){if(T==0){$=Rr.Zf(Q.UI,Q.ii,S,m,Y,B,T);
B+=x*(Q.ii>>>3)}else if(T==1){$=k.Q(x);var j=Q.UI?4:2;if(s==0)B+=Q.dX*Y*j;B+=Rr.AX(S,$,m,Y,L+s*Y*j,B,j)}else{console.log("unknown compression of image data: ",T);
return}if(s<U){k.KF($,Q.buffer,s);if(Q.dX==1&&s==0){k.KF($,Q.buffer,1);k.KF($,Q.buffer,2)}}else{var Z=new z.oW,e=s-U,J=s-D[Q.dL];
Z.name=R?R[J]:"Alpha";if(Z.name=="Quick Mask"){Z.TX=!0;Q.rL.push(e)}Z.rect=new w(0,0,m,Y);Z.channel=$;
Z.color=0;Z.On();Q.Ka[e]=Z;if(Q.Kw.r1077){var p=Q.Kw.r1077.slice(4+J*13);Z.mn=rf.Yr(p,0);Z.dJ=p[11];
Z.ok=p[12];if(Z.ok==2)Z.TX=!0}}}Q.dX=4;if(Q.dL==2)for(var N=0;N<x;N++){var E=N*4,h=Q.buffer[E];Q.buffer[E]=Q.iI[0+h];
Q.buffer[E+1]=Q.iI[256+h];Q.buffer[E+2]=Q.iI[512+h]}return B};Me.mUo=function(Q,S,B,y){var l=1,D=16,R=Q.r,p=Q.O,M,U;
X.DB(S,B,l);B+=2;var O=R*p;if(!y){U=new k.rp(R*p);k.Cd(Q.buffer,U);for(var m=0;m<O;m++){var Y=U.n[m]*(1/255);
U.t[m]=~~(U.t[m]*Y+255*(1-Y));U.e[m]=~~(U.e[m]*Y+255*(1-Y));U.R[m]=~~(U.R[m]*Y+255*(1-Y))}}else M=k.Q(O);
var x=[M,M,M,M];if(!y)x=[U.t,U.e,U.R,U.n];for(var m=0;m<Q.Ka.length;m++){x.push(Q.Ka[m].Xz(new w(0,0,Q.r,Q.O)))}var T=B;
for(var $=0;$<x.length;$++){S.vq(B,R*p+4);M=x[$];if(l==0||l==2||l==3)B=Rr.f_(M,S.data,R,p,B,l);else{if($==0)B+=x.length*p*2;
var L=B;B+=Rr.Al(M,S.data,R,p,T+$*p*2,B)}}return B};function Mq(){}Mq.fY=function(Q){var S={};Mq.fa(Q,S,0,0);
return S};Mq.iP=function(Q,S){var B=0;B=Mq.fU(Q,S,B,0);return B};Mq.fa=function(Q,S,B,y){while(Q[B]!="<".charCodeAt(0))B++;
B+=2;while(!0){if(Q[B]=="/".charCodeAt(0)){B++;var l=X.indexOf(Q," ".charCodeAt(0),B,B+50),D=X.indexOf(Q,"\n".charCodeAt(0),B,B+50);
if(D==-1)D=Infinity;if(l==-1)l=Infinity;var R=Math.min(D,l),p=X.Ly(Q,B,R-B),O=Mq.Zi(Q,R+1,y+1,p);S[p]=O.z;
B=R+1;B+=O.size}else if(Q[B]==">".charCodeAt(0)){B+=2;break}else{var M=Q[B];if(M==10||M==9||M==32)B++;
else{console.log("unknown byte: "+M+", char: "+String.fromCharCode(M),B);B++}}}return B};Mq.fU=function(Q,S,B,y){X.NF(S,B,"<<\n");
B+=3;var l=Mq.mUb;for(var D in Q){X.TH(S,B,"\t".charCodeAt(0),y+1);B+=y+1;X.NF(S,B,"/"+D);B+=1+D.length;
if(l(Q[D])||Q[D]instanceof Array){X.NF(S,B," ");B++}else{X.NF(S,B,"\n");B++;X.TH(S,B,"\t".charCodeAt(0),y+1);
B+=y+1}B=Mq.be(Q[D],S,B,y+1);X.NF(S,B,"\n");B++}X.TH(S,B,"\t".charCodeAt(0),y);B+=y;X.NF(S,B,">>");B+=2;
return B};Mq.Zi=function(Q,S,B,y){var l=S,D={size:0,z:0};while(!0){while(Q[S]==" ".charCodeAt(0)||Q[S]=="\t".charCodeAt(0)||Q[S]=="\n".charCodeAt(0))S++;
if(Q[S]=="<".charCodeAt(0)){D.z={};S=Mq.fa(Q,D.z,S,B+1);break}else if(Q[S]=="(".charCodeAt(0)){S+=3;
var R=S;while(!0){if(Q[R-1]!="\\".charCodeAt(0)&&Q[R]==")".charCodeAt(0)&&(Q[R+1]=="\n".charCodeAt(0)||Q[R+1]==" ".charCodeAt(0)))break;
else R++}D.z=X.AA(Q,S,R);S=R+2;break}else if(Q[S]=="[".charCodeAt(0)){S++;D.z=[];while(Q[S]==" ".charCodeAt(0)||Q[S]=="\t".charCodeAt(0)||Q[S]=="\n".charCodeAt(0))S++;
while(Q[S]!="]".charCodeAt(0)){var p=Mq.Zi(Q,S,B+1,y);D.z.push(p.z);S+=p.size;while(Q[S]==" ".charCodeAt(0)||Q[S]=="\t".charCodeAt(0)||Q[S]=="\n".charCodeAt(0))S++}S++;
break}else{var O=X.indexOf(Q," ".charCodeAt(0),S,S+50),M=X.indexOf(Q,"\n".charCodeAt(0),S,S+50);if(M==-1)M=Infinity;
if(O==-1)O=Infinity;var U=X.Ly(Q,S,Math.min(O,M)-S).trim(),m=parseFloat(U);if(!isNaN(m)){D.z=parseFloat(U);
S=Math.min(O,M)+1;break}else if(U=="true"||U=="false"){D.z=U=="true";S=Math.min(O,M)+1;break}else if(U=="null"){D.z=0;
S=Math.min(O,M)+1;break}else{console.log("unknown identifier: "+U);throw"e"}S=Math.min(O,M)+1}}D.size=S-l;
return D};Mq.be=function(Q,S,B,y){if(Q instanceof Array){var l=Q.length==0||typeof Q[0]=="number";if(l){X.NF(S,B,"[ ");
B+=2;for(var D=0;D<Q.length;D++){var R=Q[D]+" ";X.NF(S,B,R);B+=R.length}X.NF(S,B,"]");B+=1}else{X.NF(S,B,"[\n");
B+=2;for(var D=0;D<Q.length;D++){X.TH(S,B,"\t".charCodeAt(0),y);B+=y;B=Mq.be(Q[D],S,B,y);X.NF(S,B,"\n");
B++}X.TH(S,B,"\t".charCodeAt(0),y);B+=y;X.NF(S,B,"]");B+=1}}else if(Q instanceof Object){B=Mq.fU(Q,S,B,y)}else if(typeof Q=="string"){X.NF(S,B,"(");
B++;X.TH(S,B,254);B++;X.TH(S,B,255);B++;B=X.AS(S,B,Q);X.NF(S,B,")");B+=1}else{var R=Q+"";X.NF(S,B,R);
B+=R.length}return B};Mq.mUb=function(Q){var S=typeof Q;return S=="string"||S=="number"||S=="boolean"};
function mN(){}mN.fY=function(Q){var S={};mN.Ao(Q,S,0,0);return S};mN.iP=function(Q,S){var B=0;X.NF(S,B," ");
B++;B=mN.AT(Q,S,B,0);B--;S.vq(B,2);S.data[B]=S.data[B+1]=0;B+=2;return B};mN.fa=function(Q,S,B,y){while(Q[B]!="<".charCodeAt(0)){B++;
console.log("\u0161ipka")}B+=2;B=mN.Ao(Q,S,B,y);return B};mN.fU=function(Q,S,B,y){X.NF(S,B,"<< ");B+=3;
B=mN.AT(Q,S,B,y);X.NF(S,B,">>");B+=2;return B};mN.ci=function(Q){return Q==9||Q==10||Q==32};mN.Ao=function(Q,S,B,y){while(!0){while(mN.ci(Q[B])||Q[B]==0)B++;
if(B>=Q.length)break;if(Q[B]=="/".charCodeAt(0)){B++;var l=B;while(!mN.ci(Q[l]))l++;var D=X.Ly(Q,B,l-B);
B=l+1;var R=mN.Zi(Q,B,y,D);S["_"+D]=R.z;B+=R.size}else if(Q[B]==">".charCodeAt(0)){B+=2;break}else{var p=Q[B];
console.log(X.Ly(Q,B,B+100));console.log("unknown byte: "+p+", char: "+String.fromCharCode(p)+", offset: "+B);
B++;throw"e";return-1}}return B};mN.AT=function(Q,S,B,y){for(var l in Q){var D=l.substring(1,l.length);
X.NF(S,B,"/"+D);B+=1+D.length;X.NF(S,B," ");B++;B=mN.be(Q[l],S,B,y+1);X.NF(S,B," ");B++}return B};mN.Zi=function(Q,S,B,y){var l=S,D={type:"",size:0,z:0};
while(mN.ci(Q[S]))S++;if(Q[S]=="<".charCodeAt(0)){D.type="Object";D.z={};S=mN.fa(Q,D.z,S,B+1)}else if(Q[S]=="(".charCodeAt(0)){D.type="String";
S++;if(Q[S]==")".charCodeAt(0)){D.z="s";S++}else{S+=2;var R=S,mq=0;while(!0){if(Q[R]==")".charCodeAt(0)&&Q[R-1]!="\\".charCodeAt(0))break;
else R+=1}D.z="s"+X.AA(Q,S,R);S=R+2}}else if(Q[S]=="[".charCodeAt(0)){S++;D.z=[];D.type="Array";while(mN.ci(Q[S]))S++;
while(Q[S]!="]".charCodeAt(0)){var p=mN.Zi(Q,S,B+1,y);if(p==-1)return-1;D.z.push(p.z);S+=p.size;delete p.size;
while(mN.ci(Q[S]))S++}S++}else{var O=S;while(!mN.ci(Q[O]))O++;var M=X.Ly(Q,S,O-S),U=parseFloat(M);if(!isNaN(U)&&M.indexOf(".")!=-1){D.type="Float";
var m=parseFloat(M);D.z="f"+m}else if(!isNaN(U)&&M.indexOf(".")==-1){D.type="Integer";D.z="i"+parseInt(M)}else if(M=="true"||M=="false"){D.type="Boolean";
D.z=M=="true"}else if(M.charAt(0)=="/"){D.type="BString";D.z=M}else{console.log("unknown value",JSON.stringify(M));
throw"e"}S=O+1}D.size=S-l;return D};mN.mUS=function(Q){if(Q==Math.round(Q))return Q+".0";var S=Q.toFixed(5);
if(0<Q&&Q<1)S=S.substring(1,S.length);if(-1<Q&&Q<0)S="-"+S.substring(2,S.length);return S};mN.be=function(Q,S,B,y){var l=typeof Q=="string"?Q.charAt(0):"";
if(Q instanceof Array){X.NF(S,B,"[ ");B+=2;for(var D=0;D<Q.length;D++){B=mN.be(Q[D],S,B,y);X.NF(S,B," ");
B++}X.NF(S,B,"]");B+=1}else if(Q instanceof Object){B=mN.fU(Q,S,B,y)}else if(l=="s"){X.NF(S,B,"(");B++;
X.TH(S,B,254);B++;X.TH(S,B,255);B++;B=X.AS(S,B,Q.substring(1));X.NF(S,B,")");B++}else if(l=="/"){X.NF(S,B,Q);
B+=Q.length}else if(l=="f"){var R=parseFloat(Q.substring(1)),p=mN.mUS(R);X.NF(S,B,p);B+=p.length}else if(l=="i"){X.NF(S,B,Q.substring(1));
B+=Q.length-1}else{var p=Q+"";X.NF(S,B,p);B+=p.length}return B};function v(Q,S){if(!Q)Q=0;if(!S)S=0;
this.x=Q;this.y=S}v.prototype.add=function(Q){return new v(this.x+Q.x,this.y+Q.y)};v.prototype.clone=function(){return new v(this.x,this.y)};
v.prototype.Ue=function(Q){this.x=Q.x;this.y=Q.y};v.prototype.UH=function(Q){return this.x==Q.x&&this.y==Q.y};
v.prototype.normalize=function(Q){var S=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=Q/S;this.y*=Q/S};
v.prototype.offset=function(Q,S){this.x+=Q;this.y+=S};v.prototype.yZ=function(Q,S){this.x=Q;this.y=S};
v.prototype.la=function(Q){return new v(this.x-Q.x,this.y-Q.y)};v.Ui=function(Q,S){return v.mnQ(Q.x,Q.y,S.x,S.y)};
v.Qg=function(Q,S,B){return new v(Q.x+B*(S.x-Q.x),Q.y+B*(S.y-Q.y))};v.mnM=function(Q,S){return new v(Q*Math.cos(S),Q*Math.sin(S))};
v.mnQ=function(Q,S,B,y){return Math.sqrt((B-Q)*(B-Q)+(y-S)*(y-S))};v.cP={};v.nC={};v.cP.create=function(){var Q=new Float32Array(4);
return Q};v.nC.create=function(Q){var S=new Float32Array(16);S[0]=S[5]=S[10]=S[15]=1;if(Q)v.nC.set(Q,S);
return S};v.cP.add=function(Q,S,B){B[0]=Q[0]+S[0];B[1]=Q[1]+S[1];B[2]=Q[2]+S[2];B[3]=Q[3]+S[3]};v.cP.set=function(Q,S){S[0]=Q[0];
S[1]=Q[1];S[2]=Q[2];S[3]=Q[3]};v.nC.set=function(Q,S){S[0]=Q[0];S[1]=Q[1];S[2]=Q[2];S[3]=Q[3];S[4]=Q[4];
S[5]=Q[5];S[6]=Q[6];S[7]=Q[7];S[8]=Q[8];S[9]=Q[9];S[10]=Q[10];S[11]=Q[11];S[12]=Q[12];S[13]=Q[13];S[14]=Q[14];
S[15]=Q[15]};v.nC.multiply=function(Q,S,B){var y=Q[0],l=Q[1],D=Q[2],R=Q[3],p=Q[4],O=Q[5],M=Q[6],U=Q[7],m=Q[8],Y=Q[9],x=Q[10],T=Q[11],$=Q[12],L=Q[13],s=Q[14],j=Q[15],Z=S[0],e=S[1],J=S[2],N=S[3];
B[0]=Z*y+e*p+J*m+N*$;B[1]=Z*l+e*O+J*Y+N*L;B[2]=Z*D+e*M+J*x+N*s;B[3]=Z*R+e*U+J*T+N*j;Z=S[4];e=S[5];J=S[6];
N=S[7];B[4]=Z*y+e*p+J*m+N*$;B[5]=Z*l+e*O+J*Y+N*L;B[6]=Z*D+e*M+J*x+N*s;B[7]=Z*R+e*U+J*T+N*j;Z=S[8];e=S[9];
J=S[10];N=S[11];B[8]=Z*y+e*p+J*m+N*$;B[9]=Z*l+e*O+J*Y+N*L;B[10]=Z*D+e*M+J*x+N*s;B[11]=Z*R+e*U+J*T+N*j;
Z=S[12];e=S[13];J=S[14];N=S[15];B[12]=Z*y+e*p+J*m+N*$;B[13]=Z*l+e*O+J*Y+N*L;B[14]=Z*D+e*M+J*x+N*s;B[15]=Z*R+e*U+J*T+N*j;
return B};v.nC.inverse=function(Q,S){var B=Q[0],y=Q[1],l=Q[2],D=Q[3],R=Q[4],p=Q[5],O=Q[6],M=Q[7],U=Q[8],m=Q[9],Y=Q[10],x=Q[11],T=Q[12],$=Q[13],L=Q[14],s=Q[15],j=B*p-y*R,Z=B*O-l*R,e=B*M-D*R,J=y*O-l*p,N=y*M-D*p,E=l*M-D*O,h=U*$-m*T,o=U*L-Y*T,V=U*s-x*T,n=m*L-Y*$,t=m*s-x*$,q=Y*s-x*L,u=j*q-Z*t+e*n+J*V-N*o+E*h;
if(!u){return null}u=1/u;S[0]=(p*q-O*t+M*n)*u;S[1]=(l*t-y*q-D*n)*u;S[2]=($*E-L*N+s*J)*u;S[3]=(Y*N-m*E-x*J)*u;
S[4]=(O*V-R*q-M*o)*u;S[5]=(B*q-l*V+D*o)*u;S[6]=(L*e-T*E-s*Z)*u;S[7]=(U*E-Y*e+x*Z)*u;S[8]=(R*t-p*V+M*h)*u;
S[9]=(y*V-B*t-D*h)*u;S[10]=(T*N-$*e+s*j)*u;S[11]=(m*e-U*N-x*j)*u;S[12]=(p*o-R*n-O*h)*u;S[13]=(B*n-y*o+l*h)*u;
S[14]=($*Z-T*J-L*j)*u;S[15]=(U*J-m*Z+Y*j)*u;return S};v.nC.mVT=function(Q,S,B){var y=S[0],l=S[1];B[0]=y*Q[0]+l*Q[4]+Q[12];
B[1]=y*Q[1]+l*Q[5]+Q[13]};v.nC.mVH=function(Q,S,B){var y=S[0],l=S[1],D=S[2],R=S[3];B[0]=Q[0]*y+Q[4]*l+Q[8]*D+Q[12]*R;
B[1]=Q[1]*y+Q[5]*l+Q[9]*D+Q[13]*R;B[2]=Q[2]*y+Q[6]*l+Q[10]*D+Q[14]*R;B[3]=Q[3]*y+Q[7]*l+Q[11]*D+Q[15]*R};
function Nu(Q,S,B,y,l,D){if(typeof Q==="undefined"){Q=1;S=0;B=0;y=1;l=0;D=0}this.n=Q;this.R=S;this.ce=B;
this.en=y;this.Ni=l;this.pg=D}Nu.prototype.GK=function(){return Math.sqrt(Math.abs(this.n*this.en-this.R*this.ce))};
Nu.prototype.Ax=function(){var Q=this,S=function(B){return Math.abs(B)<1e-9?0:B};Q.n=S(Q.n);Q.R=S(Q.R);
Q.ce=S(Q.ce);Q.en=S(Q.en);Q.Ni=S(Q.Ni);Q.pg=S(Q.pg)};Nu.prototype.Dv=function(Q){return new v(Q.x*this.n+Q.y*this.ce+this.Ni,Q.x*this.R+Q.y*this.en+this.pg)};
Nu.prototype.translate=function(Q,S){this.Ni+=Q;this.pg+=S};Nu.prototype.rotate=function(Q){var S=new Nu(Math.cos(Q),-Math.sin(Q),Math.sin(Q),Math.cos(Q),0,0);
this.concat(S)};Nu.prototype.scale=function(Q,S){var B=new Nu(Q,0,0,S,0,0);this.concat(B)};Nu.prototype.concat=function(Q){this.Ue(new Nu(this.n*Q.n+this.R*Q.ce,this.n*Q.R+this.R*Q.en,this.ce*Q.n+this.en*Q.ce,this.ce*Q.R+this.en*Q.en,this.Ni*Q.n+this.pg*Q.ce+Q.Ni,this.Ni*Q.R+this.pg*Q.en+Q.pg))};
Nu.prototype.SD=function(){var Q=this.n*this.en-this.R*this.ce;this.Ue(new Nu(this.en/Q,-this.R/Q,-this.ce/Q,this.n/Q,(this.ce*this.pg-this.en*this.Ni)/Q,(this.R*this.Ni-this.n*this.pg)/Q))};
Nu.prototype.clone=function(){return new Nu(this.n,this.R,this.ce,this.en,this.Ni,this.pg)};Nu.prototype.Ue=function(Q){this.n=Q.n;
this.R=Q.R;this.ce=Q.ce;this.en=Q.en;this.Ni=Q.Ni;this.pg=Q.pg};function X(){}X.cA=function(Q){var S="";
for(var B=3;B>=0;B--)S+=String.fromCharCode(Q>>B*8&255);return S};X.mne=function(Q){var S=0;for(var B=Q.length-1;
B>=0;B--)S|=Q.charCodeAt(B)<<(3-B)*8;return S};X.indexOf=function(Q,S,B,y){if(B==null)B=0;if(y==null)y=Q.length;
y=Math.min(y,Q.length);for(var l=B;l<y;l++)if(Q[l]==S)return l;return-1};X.dm=function(Q,S,B){if(B==null)B=0;
if(typeof S=="string"){var y=[];for(var l=0;l<S.length;l++)y.push(S.charCodeAt(l));S=y}for(var l=B;l<Q.length;
l++){var D=!0;for(var R=0;R<S.length;R++)if(S[R]!=Q[l+R]){D=!1;break}if(D)return l}return-1};X.AA=function(Q,S,B){var y=[],D="";
while(S<B){var l=Q[S++];if(l=="\\".charCodeAt(0))y.push(Q[S++]);else y.push(l)}for(var R=0;R<y.length;
R+=2)D+=String.fromCharCode(y[R]<<8|y[R+1]);return D};X.mnj=function(Q,S,B){var y=new Uint8Array(2);
for(var l=0;l<B.length;l++){X.nD(y,0,B.charCodeAt(l));if(y[0]==")".charCodeAt(0)||y[0]=="(".charCodeAt(0)||y[0]=="\\".charCodeAt(0)){Q[S]="\\".charCodeAt(0);
S++}Q[S]=y[0];S++;if(y[1]==")".charCodeAt(0)||y[1]=="(".charCodeAt(0)||y[1]=="\\".charCodeAt(0)){Q[S]="\\".charCodeAt(0);
S++}Q[S]=y[1];S++}return S};X.AS=function(Q,S,B){Q.vq(S,4*B.length);return X.mnj(Q.data,S,B)};X.AK=function(Q,S,B){var y="";
for(var l=0;l<B;l++){var D=Q[S++]|Q[S++]<<8;y+=String.fromCharCode(D)}return y};X.dM=function(Q,S,B){var y="";
for(var l=0;l<B;l++){var D=Q[S++]<<8|Q[S++];y+=String.fromCharCode(D)}return y};X.mnb=function(Q,S,B){for(var y=0;
y<B.length;y++){var l=B.charCodeAt(y);X.dF(Q,S+2*y,l)}};X.Yz=function(Q,S,B){for(var y=0;y<B.length;
y++){var l=B.charCodeAt(y);X.nD(Q,S+2*y,l)}};X.mVA=function(Q,S,B){Q.vq(S,2*B.length);X.Yz(Q.data,S,B)};
X.mnx=function(Q,S,B){var y=[],l=0,D=0;B+=S;while(S<B){l=Q[S++];if((l&128)==0)D=l;else if((l&224)==192){D=(l&31)<<6;
l=Q[S++];D|=l&63}else if((l&240)==224){D=(l&15)<<12;l=Q[S++];D|=(l&63)<<6;l=Q[S++];D|=l&63}else if((l&248)==240){D=(l&7)<<18;
l=Q[S++];D|=(l&63)<<12;l=Q[S++];D|=(l&63)<<6;l=Q[S++];D|=l&63}else throw"e";y.push(D)}return y};X.Ym=window.TextDecoder?new window.TextDecoder("utf8"):null;
X.nl=function(Q,S,B){if(S==null)S=0;if(B==null)B=Q.length;if(X.Ym&&S==0&&B==Q.length)return X.Ym.decode(Q);
var y=X.mnx(Q,S,B),l=y.length;for(var D=0;D<l;D++)y[D]=String.fromCharCode(y[D]);return y.join("")};
X.Yp=window.TextEncoder?new window.TextEncoder("utf8"):null;X.mEM=function(Q){if(X.Yp)return X.Yp.encode(Q);
var S=new Uint8Array(Q.length*4),B=X.cb(Q,S,0);return S.slice(0,B)};X.cb=function(Q,S,B){var y=Q.length,l=0;
for(var D=0;D<y;D++){var R=Q.charCodeAt(D);if((R&4294967295-(1<<7)+1)==0){S[B+l]=R;l++}else if((R&4294967295-(1<<11)+1)==0){S[B+l]=192|R>>6;
S[B+l+1]=128|R>>0&63;l+=2}else if((R&4294967295-(1<<16)+1)==0){S[B+l]=224|R>>12;S[B+l+1]=128|R>>6&63;
S[B+l+2]=128|R>>0&63;l+=3}else if((R&4294967295-(1<<21)+1)==0){S[B+l]=240|R>>18;S[B+l+1]=128|R>>12&63;
S[B+l+2]=128|R>>6&63;S[B+l+3]=128|R>>0&63;l+=4}else throw"e"}return l};X.dp=function(Q,S){var B=X.j(Q,S),y=X.nl(Q,S+4,B-1);
return{YZ:y,io:4+B}};X.mEh=function(Q,S){var B=X.qj(Q,S),y=X.AK(Q,S+4,B);return y};X.UZ=function(Q,S){var B=X.j(Q,S),y=X.dM(Q,S+4,B);
return y};X.Ub=function(Q,S){var B=X.j(Q,S),y=X.dM(Q,S+4,B-1);return y};X.mEw=function(Q,S,B){X.sI(Q,S,B.length);
S+=4;X.mnb(Q,S,B)};X.mzQ=function(Q,S,B){X.$m(Q,S,B.length);S+=4;X.Yz(Q,S,B)};X.EV=function(Q,S,B){Q.vq(S,4+2*B.length);
X.mzQ(Q.data,S,B)};X.mzL=function(Q,S,B){Q.vq(S,4+2*B.length);X.mEw(Q.data,S,B)};X.fo=function(Q,S,B){var y=[];
for(var l=0;l<B;l++)y.push(String.fromCharCode(Q[S+l]));return y};X.mVY=function(Q,S,B){var y=!1,l=Q.length-B.length;
for(var D=S;D<l;D++){for(var R=0;R<B.length;R++){if(Q[D+R]!=B.charCodeAt(R))break;if(R==B.length-1)return D}}};
X.Ly=function(Q,S,B){var y="";for(var l=0;l<B;l++)y+=String.fromCharCode(Q[S+l]);return y};X.dW=function(Q,S,B){for(var y=0;
y<B.length;y++)Q[S+y]=B.charCodeAt(y)};X.NF=function(Q,S,B){Q.vq(S,B.length);X.dW(Q.data,S,B)};X.mzb=function(Q,S,B){var y="";
for(var l=0;l<B;l++){var D=Q[S+l];if(D<10)y+="  ";else if(D<100)y+=" ";y+=D+", "}return y};X.Si=function(Q,S){return Q[S]<<8|Q[S+1]};
X.nD=function(Q,S,B){Q[S]=B>>8&255;Q[S+1]=B&255};X.DB=function(Q,S,B){Q.vq(S,4);X.nD(Q.data,S,B)};X.ng=function(Q,S){return Q[S+1]<<8|Q[S]};
X.dF=function(Q,S,B){Q[S+1]=B>>8&255;Q[S]=B&255};X.da=function(Q,S,B){Q.vq(S,4);X.dF(Q.data,S,B)};X.Ll=function(Q,S){X.fK[0]=Q[S+1];
X.fK[1]=Q[S];return X.dq[0]};X.fT=function(Q,S){X.fK[0]=Q[S];X.fK[1]=Q[S+1];return X.dq[0]};X.Kn=X.nD;
X.fx=X.DB;X.$I=function(Q,S){X.iv[0]=Q[S+3];X.iv[1]=Q[S+2];X.iv[2]=Q[S+1];X.iv[3]=Q[S];return X.Ev[0]};
X.kR=function(Q,S,B){X.Ev[0]=B;Q[S+3]=X.iv[0];Q[S+2]=X.iv[1];Q[S+1]=X.iv[2];Q[S+0]=X.iv[3]};X.Nz=function(Q,S,B){Q.vq(S,4);
X.kR(Q.data,S,B)};X.fP=function(Q,S,B,y){B[y+0]=Q[S+0];B[y+1]=Q[S+1];B[y+2]=Q[S+2];B[y+3]=Q[S+3]};X.qj=function(Q,S){X.fP(Q,S,X.iv,0);
return X.Yq[0]};X.sI=function(Q,S,B){X.Yq[0]=B;X.fP(X.iv,0,Q,S)};X.Nm=function(Q,S,B){Q.vq(S,4);X.sI(Q.data,S,B)};
X.Yc=function(Q,S){X.fP(Q,S,X.iv,0);return X.Ev[0]};X.mzP=function(Q,S,B){X.Ev[0]=B;X.fP(X.iv,0,Q,S)};
X.mVS=function(Q,S,B){Q.vq(S,4);X.mzP(Q.data,S,B)};X.j=function(Q,S){var B=Q[S]*(256*256*256)+(Q[S+1]<<16|Q[S+2]<<8|Q[S+3]);
return B};X.$m=function(Q,S,B){Q[S]=B>>24&255;Q[S+1]=B>>16&255;Q[S+2]=B>>8&255;Q[S+3]=B>>0&255};X.g=function(Q,S,B){Q.vq(S,4);
X.$m(Q.data,S,B)};X.nM=function(Q,S){return X.j(Q,S)<<32|X.j(Q,S+4)};X.mmp=function(Q,S,B){X.$m(Q,S,B>>16>>16);
X.$m(Q,S+4,B&4294967295)};X.dQ=function(Q,S,B){Q.vq(S,8);X.mmp(Q.data,S,B)};X.nS=function(Q,S){var B=new Uint8Array(8);
for(var y=0;y<8;y++)B[y]=Q[S+7-y];var l=new Float64Array(B.buffer);return l[0]};X.mmc=function(Q,S){var B=new Uint8Array(8);
for(var y=0;y<8;y++)B[y]=Q[S+y];var l=new Float64Array(B.buffer);return l[0]};X.no=function(Q,S,B){var y=new Float64Array(1);
y[0]=B;var l=new Uint8Array(y.buffer);for(var D=0;D<4;D++){var R=l[D];l[D]=l[7-D];l[7-D]=R}for(var D=0;
D<8;D++)Q[S+D]=l[D]};X.nP=function(Q,S,B){Q.vq(S,8);X.no(Q.data,S,B)};X.nr=function(Q,S){X.iv[0]=Q[S+3];
X.iv[1]=Q[S+2];X.iv[2]=Q[S+1];X.iv[3]=Q[S+0];return X.Uz[0]};X.dc=function(Q,S){X.iv[0]=Q[S+0];X.iv[1]=Q[S+1];
X.iv[2]=Q[S+2];X.iv[3]=Q[S+3];return X.Uz[0]};X.Np=function(Q,S,B){X.Uz[0]=B;Q[S+0]=X.iv[3];Q[S+1]=X.iv[2];
Q[S+2]=X.iv[1];Q[S+3]=X.iv[0]};X.mhq=function(Q,S,B){Q.vq(S,4);X.Np(Q.data,S,B)};X.dd=function(Q,S,B){X.Uz[0]=B;
Q[S+0]=X.iv[0];Q[S+1]=X.iv[1];Q[S+2]=X.iv[2];Q[S+3]=X.iv[3]};X.mhg=function(Q,S,B){Q.vq(S,4);X.dd(Q.data,S,B)};
X.mm_=function(Q,S){var B=X.$I(Q,S),y=B*(1/(1<<24));return y};X.Yd=function(Q,S,B){var y=Math.floor(B*(1<<24));
X.kR(Q,S,y)};X.mhv=function(Q,S,B){Q.vq(S,4);X.Yd(Q.data,S,B)};X.dl=function(Q,S){var B=Q[S],y=X.Ly(Q,S+1,B);
B+=1-B%2;return{ho:y,length:B+1}};X.mmx=function(Q,S,B){var y=B.length;Q[S]=y;X.dW(Q,S+1,B);if(y%2==0){Q[S+1+y]=0;
++y}return y+1};X.bq=function(Q,S,B){Q.vq(S,B.length+2);return X.mmx(Q.data,S,B)};X.b$=function(Q,S){var B=new Nu;
B.n=X.nS(Q,S+0*8);B.R=X.nS(Q,S+1*8);B.ce=X.nS(Q,S+2*8);B.en=X.nS(Q,S+3*8);B.Ni=X.nS(Q,S+4*8);B.pg=X.nS(Q,S+5*8);
return B};X.di=function(Q,S,B){X.no(Q,S+0*8,B.n);X.no(Q,S+1*8,B.R);X.no(Q,S+2*8,B.ce);X.no(Q,S+3*8,B.en);
X.no(Q,S+4*8,B.Ni);X.no(Q,S+5*8,B.pg)};X.mmP=function(Q,S,B){Q.vq(S,48);X.di(Q.data,S,B)};X.mmI=function(Q,S){var B=X.nr(Q,S),y=X.nr(Q,S+4),l=X.nr(Q,S+8),D=X.nr(Q,S+12);
return new w(B,y,l-B,D-y)};X.mmH=function(Q,S,B){X.Np(Q,S,B.x);X.Np(Q,S+4,B.y);X.Np(Q,S+8,B.x+B.r);X.Np(Q,S+12,B.y+B.O)};
X.mMz=function(Q,S,B){Q.vq(S,16);X.mmH(Q.data,S,B)};X.Gc=function(Q,S){var B=X.$I(Q,S),y=X.$I(Q,S+4),l=X.$I(Q,S+8),D=X.$I(Q,S+12);
return new w(y,B,D-y,l-B)};X.Ye=function(Q,S,B){X.kR(Q,S,B.y);X.kR(Q,S+4,B.x);X.kR(Q,S+8,B.y+B.O);X.kR(Q,S+12,B.x+B.r)};
X.nL=function(Q,S,B){Q.vq(S,16);X.Ye(Q.data,S,B)};X.dA=function(Q,S,B){var y=new Uint8Array(B);for(var l=0;
l<B;l++)y[l]=Q[S+l];return y};X.Yy=function(Q,S,B){Q.set(B,S)};X.dS=function(Q,S,B){Q.vq(S,B.length);
X.Yy(Q.data,S,B)};X.mMm=function(Q,S,B,y){if(!y)y=1;for(var l=0;l<y;l++)Q[S+l]=B};X.TH=function(Q,S,B,y){if(!y)y=1;
Q.vq(S,y);X.mMm(Q.data,S,B,y)};X.dq=new Int16Array(1);X.fK=new Uint8Array(X.dq.buffer);X.Ev=new Int32Array(1);
X.Yq=new Uint32Array(X.Ev.buffer);X.iv=new Uint8Array(X.Ev.buffer);X.Uz=new Float32Array(X.Ev.buffer);
function w(Q,S,B,y){if(!Q)Q=0;if(!S)S=0;if(!B)B=0;if(!y)y=0;this.x=Q;this.y=S;this.r=B;this.O=y}w.prototype.Z=function(){return this.r*this.O};
w.prototype.clone=function(){return new w(this.x,this.y,this.r,this.O)};w.prototype.contains=function(Q,S){return Q>=this.x&&Q<=this.x+this.r&&(S>=this.y&&S<=this.y+this.O)};
w.prototype._D=function(Q){return this.contains(Q.x,Q.y)};w.prototype.vM=function(Q){return this.x<=Q.x&&this.y<=Q.y&&Q.x+Q.r<=this.x+this.r&&Q.y+Q.O<=this.y+this.O};
w.prototype.Ue=function(Q){this.x=Q.x;this.y=Q.y;this.r=Q.r;this.O=Q.O};w.prototype.UH=function(Q){return this.x==Q.x&&this.y==Q.y&&this.r==Q.r&&this.O==Q.O};
w.prototype.Jq=function(Q,S){this.x-=Q;this.y-=S;this.r+=2*Q;this.O+=2*S};w.prototype.mhk=function(Q){this.Jq(Q.x,Q.y)};
w.prototype.nG=function(Q){var S=Math.max(this.x,Q.x),B=Math.max(this.y,Q.y),y=Math.min(this.x+this.r,Q.x+Q.r),l=Math.min(this.y+this.O,Q.y+Q.O);
if(y<S||l<B)return new w;else return new w(S,B,y-S,l-B)};w.prototype.nc=function(Q){if(Q.y+Q.O<this.y||Q.x>this.x+this.r||Q.y>this.y+this.O||Q.x+Q.r<this.x)return!1;
return!0};w.prototype.Kq=function(){return this.r<=0||this.O<=0};w.prototype.offset=function(Q,S){this.x+=Q;
this.y+=S};w.prototype.YJ=function(Q){this.offset(Q.x,Q.y)};w.prototype.mCJ=function(){this.x=this.y=this.r=this.O=0};
w.prototype.yZ=function(Q,S,B,y){this.x=Q;this.y=S;this.r=B;this.O=y};w.prototype.wM=function(Q){if(this.Kq())return Q.clone();
if(Q.Kq())return this.clone();var S=this.clone();S.mMs(Q);return S};w.vy=new Float32Array(2);w.prototype.mMs=function(Q){if(Q.Kq())return;
if(this.Kq()){this.Ue(Q);return}this.UM(Q.x,Q.y);this.UM(Q.x+Q.r,Q.y+Q.O)};w.prototype.UM=function(Q,S){var B=Math.min(this.x,Q),y=Math.min(this.y,S);
this.r=Math.max(this.x+this.r,Q)-B;this.O=Math.max(this.y+this.O,S)-y;this.x=B;this.y=y};w.prototype.mCf=function(Q,S,B,y){if(this.r==0&&this.O==0)this.mMX(Q,S);
else this.UM(Q,S);this.UM(B,y)};w.prototype.mMX=function(Q,S){this.x=Q;this.y=S;this.r=this.O=0};function r$(){}r$.fY=function(Q,S){var B=new Uint8Array(Q),y=0,l=X.Ly(B,y,9),p=4,O=100;
y+=9;var D=X.Ly(B,y,4);y+=4;y++;S.r=X.j(B,y);y+=4;S.O=X.j(B,y);y+=4;var R=X.j(B,y);y+=4;if(R!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(D)==-1){O=X.j(B,y);y+=4;if(parseInt(D.slice(1))>=7){O=O}else alert("Unknown XCF version: "+D);
p=8}var M={};y=r$.dh(B,y,M);var U=[];y=r$.dV(B,y,U,p);var m=[];y=r$.dV(B,y,m,p);S.od=0;for(var Y=0;Y<U.length;
Y++)r$.mMj(B,U[Y],S,M,p,O);while(S.od>0){S.G.push(S.rg());S.od--}S.G.reverse();delete S.od;S.buffer=k.Q(S.r*S.O*4);
if(S.G.length==0)console.log("No layers!!!");for(var Y=0;Y<m.length;Y++){var x=r$.YC(B,m[Y],M,p,O);if(x.dP[Rt.mrp])S.m={channel:x.dv,rect:new w(0,0,S.r,S.O)}}};
r$.mMj=function(Q,S,B,y,l,D){var R=B.oz(),p=X.j(Q,S),m=0;S+=4;var O=X.j(Q,S);S+=4;R.rect=new w(0,0,p,O);
var M=X.j(Q,S);S+=4;var U=X.dp(Q,S);S+=U.io;R.pM(U.YZ);var Y={};S=r$.dh(Q,S,Y);if(Y[Rt.Yn]){var x=Y[Rt.Yn];
m=x.length/4-1}if(Y[Rt.dC]){R.rect.x=X.$I(Y[Rt.dC],0);R.rect.y=X.$I(Y[Rt.dC],4)}if(Y[Rt.Ya]){R.opacity=X.j(Y[Rt.Ya],0)}if(Y[Rt.mrT]){R.add.lsct=NI.YG;
R.rect=new w(0,0,0,0);R.buffer=k.Q(0);R.$N=24}if(Y[Rt.Yv]){var T=X.j(Y[Rt.Yv],0);R.wk=Rt.mrI[T];if(R.So()&&R.wk=="norm")R.wk="pass"}if(Y[Rt.Yw]){if(X.j(Y[Rt.Yw],0)==0)R.$N+=2}if(Y[Rt.Y$]){var $=X.j(Y[Rt.Y$],0);
R.add.lsct=$&1==1?NI.YG:NI.Tu}if(Y[Rt.du]){var L=Y[Rt.du];for(var s in L){var j=L[s];if(s=="gimp-text-layer"){var Z=r$.mMH(j),e=Z.text,J=Z.font,N=Z.color,E=Z["font-size"];
if(e==null&&Z.markup){var h=new DOMParser,o=h.parseFromString(Z.markup,"image/svg+xml");while(o.firstChild!=null&&o.firstChild.tagName!=null){o=o.firstChild;
var V=o.getAttribute("font"),n=o.getAttribute("foreground"),t=o.getAttribute("size");if(V!=null)J=V;
if(n!=null){n=CSS.Yr(n);N=[1,n.t/255,n.e/255,n.R/255]}if(t!=null){E=""+parseFloat(t)/245}}e=o.textContent}R.add.lnsr="rend";
R.add.TySh=rA.Xq(0,0);R.add.TySh._Q=new w(0,0,100,100);R.add.TySh.V=new Nu(1,0,0,1,R.rect.x,R.rect.y);
var q=R.add.TySh.Nd;rA.MS(q,0,e);var u=rA.$d(q,0,0),g=Z.justify,r=Z["line-spacing"];if(N)u.EQ.FillColor={Type:1,Values:[1,parseFloat(N[1]),parseFloat(N[2]),parseFloat(N[3])]};
if(E){E=Math.round(parseFloat(E));u.EQ.FontSize=E;R.add.TySh.V.pg+=Math.min(17,E*.17)}if(r){r=Math.round(parseFloat(r)+u.EQ.FontSize*1.2);
u.EQ.Leading=r;u.EQ.AutoLeading=!1}if(g)u.Kb.Justification=["left","right","center","fill"].indexOf(g);
if(J&&J!="Sans-serif"){var f=J.toLowerCase(),I="bold italic semi extra regular condensed light".split(" "),d=f.length;
for(var a=0;a<I.length;a++){var c=f.indexOf(I[a]);if(c!=-1&&c<d&&f[c-1]==" ")d=c}if(d!=f.length)J=J.slice(0,d-1).split(" ").join("")+"-"+J.slice(d).split(" ").join("");
rA.sU(u,J)}rA.Dh(q,0,e.length,u);var _=Z["box-width"],C=Z["box-height"],F=_?parseFloat(_):R.rect.r,i=C?parseFloat(C):R.rect.O;
rA.XG(q,1);rA.vl(q,[0,0,Math.ceil(F),Math.ceil(i)])}else console.log("Unknown property "+s)}}while(B.od>m){B.G.push(B.rg());
B.od--}B.od=m;if(R.add.lsct==NI.YG||R.add.lsct==NI.Tu)B.od++;var rP=l==4?X.j:X.nM;if(R.tK()){R.buffer=k.Q(R.rect.Z()*4);
var rH=new k.rp(R.rect.Z()),rK=rP(Q,S);S+=l;var rY=rP(Q,S);S+=l;r$.Y_(Q,rK,rH,y,l,D);k.Cc(rH,R.buffer);
if(rY!=0){R.k=new z.oW;R.k.color=0;R.k.rect=R.rect.clone();R.k.channel=r$.YC(Q,rY,y,l,D).dv;if(Y[Rt.Yf])R.k.isEnabled=X.j(Y[Rt.Yf],0)==1}}B.G.push(R)};
r$.mMH=function(Q){var S="("+X.nl(Q,0,Q.length-1)+")",B=[],y={};r$.Yh(S,1,B);r$.mpv(B,y);return y};r$.mpv=function(Q,S){for(var B=0;
B<Q.length;B++){var y=Q[B],l=y[0];if(y.length==2)S[l]=y[1];else S[l]=y.slice(1)}};r$.Yh=function(Q,S,B){while(!0){if(S>=Q.length)throw"e";
var y=Q.charAt(S);S++;if(y=="("){var l=[];S=r$.Yh(Q,S,l);B.push(l)}else if(y==" "||y=="\n"||y=="\r"){}else if(y==")")return S;
else if(y=="\""){var D=S;while(!0){var R=Q[S];S++;if(R=="\"")break;if(R=="\\")S++}B.push(JSON.parse(Q.slice(D-1,S)))}else{var D=S-1;
while(Q[S]!=" "&&Q[S]!=")")S++;B.push(Q.slice(D,S))}}};r$.YC=function(Q,S,B,y,l){var D=X.j(Q,S);S+=4;
var R=X.j(Q,S);S+=4;var p=X.dp(Q,S);S+=p.io;var O={};S=r$.dh(Q,S,O);var M=new k.rp(D*R),U=y==4?X.j:X.nM,m=U(Q,S);
S+=y;r$.Y_(Q,m,M,B,y,l);return{dv:M.t,dP:O}};r$.Y_=function(Q,S,B,y,l,D){var R=X.j(Q,S);S+=4;var p=X.j(Q,S);
S+=4;var O=X.j(Q,S);S+=4;var M=l==4?X.j:X.nM,U=M(Q,S);S+=l;r$.mpl(Q,U,B,y,O,l,D)};r$.mpl=function(Q,S,B,y,l,D,R){var p=X.j(Q,S),U=0,j=0;
S+=4;var O=X.j(Q,S);S+=4;var M=new w(0,0,p,O);if(R==100)U=1;else if(R==150)U=1;else if(R==600)U=4;else alert("unsupported bit depth "+R);
var m=l/U,U=Math.round(l/m),Y=[];S=r$.dV(Q,S,Y,D);var x=new k.rp(64*64*U),T=new w,$=y[Rt.mrQ][0],L=[x.t,x.e,x.R,x.n];
if(m==3)k.set(x.n,255);var s=Date.now();for(var Z=0;Z<O;Z+=64)for(var e=0;e<p;e+=64){var J=Math.min(p-e,64),N=Math.min(O-Z,64),E=J*N;
T.yZ(e,Z,J,N);r$.mpx(Q,Y[j++],E*U,$,m,L);if(R==600){var h=r$.mpk(),o=new Uint32Array(1),V=new Float32Array(o.buffer);
for(var n=0;n<m;n++){var t=L[n];for(var q=0;q<E;q++){o[0]=t[q]<<24|t[E+q]<<16|t[(E<<1)+q]<<8|t[(E<<1)+E+q]<<0;
var u=V[0];if(u<0)u=0;else if(u>1)u=1;t[q]=h[~~(.5+u*1e3)]}}}k.rk(x,T,B,M)}};r$.mpk=function(){var Q=r$.mCT;
if(Q!=null)return Q;Q=r$.mCT=new Uint8Array(1001);for(var S=0;S<1001;S++)Q[S]=~~(.49+255*k.rf(S*.001));
return Q};r$.mpx=function(Q,S,B,y,l,D){if(y==1){for(var R=0;R<l;R++){var p=D[R],O=0;while(O<B){var M=Q[S];
S++;if(M<127){var U=Q[S];S++;M++;for(var m=0;m<M;m++)p[O+m]=U}else if(M==127){var Y=Q[S];S++;var x=Q[S];
S++;var U=Q[S];S++;M=Y<<8|x;for(var m=0;m<M;m++)p[O+m]=U}else if(M==128){var Y=Q[S];S++;var x=Q[S];S++;
M=Y<<8|x;for(var m=0;m<M;m++)p[O+m]=Q[S+m];S+=M}else{M=256-M;for(var m=0;m<M;m++)p[O+m]=Q[S+m];S+=M}O+=M}}}else if(y==2){var T=pako.inflate(Q.slice(S)),$=Math.round(T.length/B);
for(var m=0;m<B;m++){var L=m*$;D[0][m]=T[L];D[1][m]=T[L+1];D[2][m]=T[L+2];D[3][m]=$==3?255:T[L+3]}}else alert("Unknown compression "+y)};
r$.dV=function(Q,S,B,y){var l=y==4?X.j:X.nM;while(!0){var D=l(Q,S);S+=y;if(D==0)break;else B.push(D)}return S};
r$.dh=function(Q,S,B){while(!0){var y=X.j(Q,S);S+=4;var l=X.j(Q,S);S+=4;if(y==Rt.mrM)break;else if(y==Rt.du)B[y]=r$.mpA(Q,S,S+l);
else B[y]=X.dA(Q,S,l);S+=l}return S};r$.mpA=function(Q,S,B){var y={};while(S<B){var l=X.dp(Q,S);S+=l.io;
var D=X.j(Q,S);S+=4;if(D!=1)console.log("unknown flags",D);var R=X.j(Q,S);S+=4;y[l.YZ]=X.dA(Q,S,R);S+=R}return y};
var Rt={mrM:0,mCD:1,mCk:2,muO:3,mrp:4,mui:5,Ya:6,Yv:7,Yw:8,muK:9,mgz:10,Yf:11,mgr:12,mgB:13,mgS:14,dC:15,mWm:16,mrQ:17,mWr:18,mWV:19,mWg:20,du:21,mWW:22,mWE:23,mWD:24,mWO:25,mFU:26,mFl:27,mFT:28,mrT:29,Yn:30,Y$:31,mFi:32,m_M:33,mG_:34,maM:35,mau:36,mag:37,maU:38,ma$:0,maB:1,mal:2,mvR:3,mvL:1,mvh:2,mvC:0,mvu:1,mvg:1};
Rt.mrI="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function NH(){}NH.fY=function(Q,S){var B=NH,y=Ra.parse(Q),D=0;if(y.pages.length>1)console.log(y.pages.length,"pages");
var l=[],R=new w;for(var p=0;p<y.pages.length;p++){var O=y.pages[p],M=O.layers,U=B.vQ(M,p),Y=!1;if(U.Z()>8e3*8e3||U.r>3e4||U.O>3e4){B.YX(M,!0);
var m=B.vQ(M,p);if(m.Z()>=U.Z())B.YX(M,!1)}U=B.vQ(M,p);for(var x=0;x<M.length;x++){var T=M[x];if(B.Nq(T)=="artboard")Y=!0}if(!Y){console.log("no artboard");
var $={};for(var L in O)$[L]=O[L];$._class="group";O.layers=[$]}l.push(U.clone());if(U.Kq())continue;
U.x=0;U.y=D;D+=U.O+200;R=R.wM(U)}var s={};if(y.foreignSymbols)for(var j=0;j<y.foreignSymbols.length;
j++){var Z=y.foreignSymbols[j].symbolMaster;s[Z.symbolID]={iH:Z}}B.Yk(y.pages,s,S);for(var e in s){var T=s[e].iH,J=B.YP(T.layers)}var N=NH.dg(R,8192*8192);
S.vb=!0;S.r=Math.round(R.r/N);S.O=Math.round(R.O/N);S.buffer=k.Q(S.r*S.O*4);S.Ol(y.pages[0].layers.length);
S.jZ={};S.km=[];D=0;for(var p=0;p<y.pages.length;p++){var E=y.pages[p],U=l[p],h=new Nu(N,0,0,N,U.x,U.y-D);
B.dw(E.layers,S,h,y,s,{},[]);D+=U.O+200}delete S.jZ;delete S.km;if(N!=1)alert("File scaled down "+N+"x")};
NH.mvW=0;NH.Nq=function(Q){return Q._class?Q._class:Q.$class};NH.dg=function(Q,S){var B=1;while(Math.round(Q.r/B)*Math.round(Q.O/B)>S)B++;
if(B!=1&&!window.confirm("Your image is quite large ("+Q.r+" x "+Q.O+" px).\n"+"Press OK to scale it down "+B+"x, or Cancel to keep the size."))B=1;
return B};NH.vQ=function(Q,S){var B=[],y=NH;for(var l=0;l<Q.length;l++){var D=Q[l],R=y.Gc(D.frame);if(S==0||y.Nq(D)=="artboard")B.push(R)}return k.rect.w_(B)};
NH.YX=function(Q,S){var B=[],y=NH;for(var l=0;l<Q.length;l++){var D=Q[l],R=y.Gc(D.frame);R.r+=150;R.O+=150;
B.push(R)}var p=k.rect.w_(B);k.rect.mmX(B,S);var O=k.rect.w_(B);if(O.Z()*1.5<p.Z()||p.r>3e4&&O.r<=3e4||p.O>3e4&&O.O<=3e4){alert("Re-arranging artboards");
for(var l=0;l<Q.length;l++){var M=B[l],D=Q[l],U=D.frame;U.x=M.x;U.y=M.y}}};NH.Yk=function(Q,S,B){var y=NH;
for(var l=0;l<Q.length;l++){var D=Q[l],R=y.Nq(D);if(["page","artboard","group"].indexOf(R)!=-1)y.Yk(D.layers,S,B);
else if(R=="symbolMaster")S[D.symbolID]={iH:D}}};NH.YP=function(Q){var S=NH;for(var B=0;B<Q.length;B++){var y=Q[B],l=S.Nq(y),D=null;
if(["page","artboard","group"].indexOf(l)!=-1)D=S.YP(y.layers);if(l=="symbolMaster"||l=="symbolInstance")D=y;
if(D!=null)return D}return null};NH.dw=function(Q,S,B,y,l,D,R){var p=NH,O=[];for(var M=0;M<Q.length;
M++){var U=Q[M],m=U.frame?p.Gc(U.frame):null,Y=U.style,j="",h=null,o=!1;if(Y==null){console.log("no styles")}var x=p.SL(U,B),T=p.Nq(U),$=T=="shapeGroup"||T=="shapePath"||T=="rectangle"||T=="oval"||T=="triangle",L=["page","artboard","group"].indexOf(T)!=-1;
if(T=="shapeGroup"){for(var s=0;s<U.layers.length;s++)if(p.Nq(U.layers[s])=="shapeGroup")L=!0}var Z=U.exportOptions;
if(Z){var e=Z.exportFormats;if(e==null)e=Z.sizes;if(T!="artboard"&&(e&&e.length!=0)){var J=e[0].scale;
j="-e"+(J==1?"":J)+"-"}}var N=S.oz();N.SO(U.isVisible);var E=U.name;if(!(typeof E=="string"))E=T;N.pM(j+E.slice(0,250));
if(Y!=null)h=p.mR_(y,S,Y,m,x,N.getName(),$||T=="artboard"||L);if(T=="rectangle"&&Y&&Y.fills&&Y.fills[0]){var V=Y.fills[0];
if(V.fillType==4&&V.patternFillType>1&&V.image!=null)o=!0}if(U.shouldBreakMaskChain){while(O.length!=0)p.SQ(O.pop(),S)}if(L){N.add.lsct=U.layerListExpandedType==2?NI.YG:NI.Tu;
N.wk="pass";N.$N=24;N.SO(U.isVisible);S.G.push(S.rg());if(T=="artboard"){var n=m.clone(),t=x.GK();n.x=-Math.floor(x.Ni/t);
n.y=-Math.floor(x.pg/t);n.r=Math.floor(n.r/t);n.O=Math.floor(n.O/t);N.hr(n);var q=U.backgroundColor,u=Math.round(255*q.blue)<<16|Math.round(255*q.green)<<8|Math.round(255*q.red);
if(u!=16777215){var g=S.oz();g.pM("Artboard Background");g.rect=n;g.buffer=k.Q(g.rect.Z()*4);k.St(g.buffer,255<<24|u);
S.G.push(g)}}p.dw(U.layers,S,x,y,l,D,R)}else if($&&!o){N.add.vmsk=new z.hm;N.add.vstk=JSON.parse(JSON.stringify(rx.xD.default));
N.add.vstk.strokeEnabled.v=!1;N.add.vogk=[];var r=h!=null&&h.frameFXMulti.v.length==1,f=Y?Y.fills:null,I=Y?p.YI(y,f,m,x,N.getName(),S,p.df(R,U.do_objectID+"_image")):[];
if(I.length==0){if(r)N.add.vstk.fillEnabled.v=!1;else N.add.iOpa=0;N.add.SoCo={classID:"null",Clr:{t:"Objc",v:k.Kg.Od({t:0,e:0,R:0})}}}else{var d=I[0],a=null,c=null;
if(d.type=="SoFi"){a="SoCo";c=rx.ti}if(d.type=="GrFl"){a="GdFl";c=rx.nj}if(d.type=="patternFill"){a="PtFl";
c=rx.sG}if(a!=null){N.add[a]={classID:"null"};for(var s=0;s<c.length;s++){var _=c[s];N.add[a][_]=d.z.v[_]}var C=d.z.v.Opct.v.val;
if(r&&C==0)N.add.vstk.fillEnabled.v=!1;else N.add.iOpa=Math.round(255*C/100)}}N.$N|=16;N.add.vmsk.A=p.kv(U.layers?U.layers:[U],U.layers?x:B,N.add.vogk);
var F=Y?Y.blur:null;if(F&&F.isEnabled&&F.type<=1)N.add.vmsk.Mu=F.radius;if(N.add.vmsk.A.length==2){console.log("shape with no content:",N.getName())}if(r){var i=h.frameFXMulti.v[0].v,rP=N.add.vstk,rH=Y.borders[0];
h.frameFXMulti.v=[];Nq.mQR(i,rP);var rK=Y.borderOptions,rY=Y.miterLimit;if(rK){var Nc=rK.dashPattern;
rP.strokeStyleLineCapType.v.strokeStyleLineCapType=rx.xD.mI[rK.lineCapStyle];rP.strokeStyleLineJoinType.v.strokeStyleLineJoinType=rx.xD.join[rK.lineJoinStyle];
if(Nc)rP.strokeStyleLineDashSet.v=Nq.hg(Nc,1/ i.Sz.v.val);if(rY!=null)rP.strokeStyleMiterLimit.v=rY}}N.Zs(S)}else if(T=="bitmap"||o){var G=o?Y.fills[0]:null,rI=o?G.image.bdata:U.image.bdata,rb=S.ge(rI,N.getName(),0,0);
rb.$N=N.$N;N=rb;var F=Y.blur,Nr=Y.colorControls;if(F||Nr){N.add.SoLd.filterFX=m_.Vc();S.uD({id:N.add.SoLd.placed.v,rect:new w,buffer:k.Q(1),k:new z.oW});
var f=N.add.SoLd.filterFX.v.filterFXList.v;if(F){var Nz=m_.Dc("GsnB",{});Nz.v.enab.v=F.isEnabled;Nz.v.Fltr.v.Rds.v.val=F.radius;
f.push(Nz)}if(Nr){var NL=Nr.brightness,Nm=Nr.contrast,NN=Nr.hue,Ne=Nr.saturation;if(NN!=0||Ne!=1){var Nz=m_.Dc("hue2",{});
Nz.v.enab.v=Nr.isEnabled;ma.FA(Nz.v.Fltr.v,0,[Math.round(NN*180/Math.PI),Math.round((Ne-1)*100),0]);
f.push(Nz)}if(NL!=0||Nm!=1){var Nz=m_.Dc("brit",{});Nz.v.enab.v=Nr.isEnabled;Nm=Nm-1;if(Nm>0)Nm/=2;var Ny=Nz.v.Fltr.v;
Ny.Brgh.v=Math.round(NL*255);Ny.Cntr.v=Math.round(Nm*255);Ny.useLegacy.v=!0;f.push(Nz)}}}if(o){var NG=G.patternFillType;
if(NG==3){var NC=N.rect.r/N.rect.O,Ng=m.r/m.O;if(NC<Ng){x.translate(-(m.r*(1-NC/Ng))/2,0);x.scale(Ng/NC,1)}else{x.translate(0,-(m.O*(1-Ng/NC))/2);
x.scale(1,NC/Ng)}}}m.x=m.y=0;var NM=k.i.wS(m).M;x.SD();k.i.V(NM,x,NM);N.add.SoLd.Trnf=K.Sj.tQ(NM);N.add.SoLd.nonAffineTransform=K.Sj.tQ(NM);
N._T(S,!1)}else if(T=="text"){if(U.attributedString==null)continue;var NQ=x.clone(),NR,NV,NU=0;NQ.SD();
NQ.n=NQ.en=Math.min(NQ.n,NQ.en);N.add.lnsr="rend";N.add.TySh=rA.Xq(0,0);N.add.TySh._Q=new w(0,0,m.r,m.O);
N.add.TySh.V=NQ;var md=U.attributedString;if(md.archivedAttributedString)md=md.archivedAttributedString;
var NW=md.NSString;if(NW==null)NW=md.string;if(NW["NS.string"])NW=NW["NS.string"];if(D[U.do_objectID]!=null)NW=D[U.do_objectID];
var Nh=p.df(R,U.do_objectID+"_stringValue");if(Nh)NW=Nh.value;if(md.attributes!=null){NR=[];NV=[];var Nt=md.attributes;
for(var s=0;s<Nt.length;s++){NR.push(Nt[s].length,s);NV.push(Nt[s].attributes)}}else if(md.NSAttributeInfo==null){NR=[NW.length,0];
NV=[md.NSAttributes]}else{NR=md.NSAttributeInfo["NS.data"];NV=md.NSAttributes;NR=NH.mRr(NR,NV)}for(var s=0;
s<NR.length;s+=2)NU+=NR[s];if(NU!=NW.length){while(NU>NW.length){NR[NR.length-2]--;NU--;if(NR[NR.length-2]==0){NR.pop();
NR.pop()}}NR[NR.length-2]+=NW.length-NU}NW=NW.replace(/\u2028/g,"\n");NW=NW.replace(/\u2029/g,"\n");
NW=NW.replace(/\r/g,"\n");var Mw=N.add.TySh.Nd;rA.MS(Mw,0,NW);if(NW!=""){var mp=U.textBehaviour,Na=p.mRQ(Mw,NR,NV,NW),t=NQ.GK(),NX=rA.$d(Mw,0,1),NT=0;
if(NX.EQ.Font){var Ni=NX.vA[NX.EQ.Font].Name;if(Ni=="FontAwesome"||Ni=="Ionicons")Na*=.87}var mm=NX.EQ.AutoLeading?0:NX.EQ.Leading*.6,NF=Math.max(Na,mm)*t,Ns=m.r,NB=m.O;
if(mp==0){rA.XG(Mw,0);var Rz=rA.pF(NX.Kb);if(Rz==1)NT=Ns*t;if(Rz==2)NT=Ns*t*.5}else{rA.XG(Mw,1);rA.vl(Mw,[0,0,Math.round(Ns),Math.round(NB)]);
NF=NF*.35}N.add.TySh.V.translate(NT,NF)}}else if(T=="symbolInstance"||T=="symbolMaster"){var Nk=U.symbolID;
if(D[U.do_objectID])Nk=D[U.do_objectID].symbolID;var RJ=p.df(R,U.do_objectID+"_symbolID");if(RJ)Nk=RJ.value;
if(Nk=="")continue;var mv={};for(var _ in D)mv[_]=D[_];if(U.overrides)for(var _ in U.overrides)mv[_]=U.overrides[_];
var NA=R.slice(0);if(U.overrideValues)NA=NA.concat(U.overrideValues);var Mr=l[Nk];if(Mr==null){console.log("Unknown master master",U.symbolID);
continue}var p$=NH.Gc(Mr.iH.frame),RL=p$.r/m.r,mR=p$.O/m.O,Ro=x.clone();Ro.scale(RL,mR);N.add.lsct=NI.Tu;
N.wk="pass";N.$N=24;N.SO(U.isVisible);S.G.push(S.rg());var mQ=Mr.iH;if(S.km.indexOf(mQ)==-1){S.km.push(mQ);
p.dw(mQ.layers,S,Ro,y,l,mv,NA);S.km.pop()}}else if(T=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+T,U);continue}if(Y&&Y.contextSettings){var mS=Y.contextSettings,Rh=mS.blendMode;
if(Rh<p.bO.length){N.wk=No.ea[No.oM.indexOf(p.bO[Rh])]}N.opacity=Math.round(N.opacity*mS.opacity)}if(h!=null){N.add.lmfx=h}S.G.push(N);
if(U.hasClippingMask&&Q.length>1){O.push(N);S.G.push(S.rg())}}while(O.length!=0)p.SQ(O.pop(),S)};NH.df=function(Q,S){for(var B=0;
B<Q.length;B++)if(Q[B].overrideName.startsWith(S))return Q[B]};NH.mRr=function(Q,S){var B=0,y=[];while(B+1<Q.length){var l=Q[B];
B++;if(l>127){l+=128*(Q[B]-1);B++;if(Q[B-1]>127){l+=128*(Q[B]-1);B++}}var D=Q[B];B++;y.push(l,D)}return y};
NH.mRQ=function(Q,S,B,y){var l=NH,D=0,m=0,Y=0;for(var R=0;R<y.length;R++){var p=y.charCodeAt(R),O=1473<=p&&p<=1479||1488<=p&&p<=1514||1520<=p&&p<=1524,M=1569<=p&&p<=1594||1600<=p&&p<=1749;
if(O||M)D++}var U=D>y.length/2;for(var R=0;R<S.length;R+=2){var x=S[R],N=0,E="";if(x==0)continue;var T=S[R+1],$=B[T],L=rA.$d(Q,m,m+x-1),s=$.NSColor;
if(s==null){var s=$.MSAttributedStringColorDictionaryAttribute;if(s==null)s=$.MSAttributedStringColorAttribute;
if(s==null)s="0 0 0";else s=[s.red,s.green,s.blue].join(" ")}else if(l.Nq(s)=="MSArchivedColor")s=s.dr+" "+s.dg+" "+s.db;
else if(s.NSRGB){s=s.NSRGB;s=X.Ly(s,0,s.length-1)}else if(s.NSCMYK){s=s.NSCMYK;s=X.Ly(s,0,s.length-1);
s=s.split(" ").map(parseFloat);var j=1-s[0],Z=1-s[1],e=1-s[2],J=1-s[3];s=j*J+" "+Z*J+" "+e*J}else if(s.NSWhite){s="1 1 1"}s=s.split(" ");
L.EQ.FillColor={Type:1,Values:[1,parseFloat(s[0]),parseFloat(s[1]),parseFloat(s[2])]};if($.NSFont){N=$.NSFont.NSSize;
E=$.NSFont.NSName}else{var h=$.MSAttributedStringFontAttribute;if(h.attributes){h=h.attributes;N=h.size;
E=h.name}else{h=h.NSFontDescriptorAttributes;N=h.NSFontSizeAttribute;E=h.NSFontNameAttribute}if(E==null)E="DejaVuSans"}var Y=Math.max(Y,N);
L.EQ.FontSize=Math.round(N);rA.sU(L,E);var o=$.NSKern;if(o==null)o=$.kerning;if(o!=null)L.EQ.Tracking=Math.round(1e3*o/N);
if($.NSUnderline!=null)L.EQ.Underline=$.NSUnderline>0;if($.NSStrikethrough!=null)L.EQ.Strikethrough=$.NSStrikethrough>0;
if($.MSAttributedStringTextTransformAttribute==1)L.EQ.FontCaps=2;var V=$.NSParagraphStyle;if(V==null)V=$.paragraphStyle;
if(V){var n=V.paragraphSpacing;if(n!=null){L.Kb.SpaceAfter=n}var t=V.NSAlignment;if(t==null)t=V.alignment;
if(t!=null){var q=0;if(!1){}else if(t==1)q=1;else if(t==2)q=2;else if(t==4)q=0;else{q=t;console.log("unknown align",t)}if(U&&q<2)q=1-q;
L.Kb.Justification=q}var u=V.NSMinLineHeight;if(u==null)u=V.minimumLineHeight;if(u!=null){L.EQ.AutoLeading=!1;
L.EQ.Leading=Math.round(u)}}L.Kb._Direction=U?1:0;rA.Dh(Q,m,m+x,L);m+=x}return Y};NH.mR_=function(Q,S,B,y,l,D,R){var p=NH,O=JSON.parse(rx.default),U=!1;
for(var M=0;M<rx.order.length;M++)O[rx.or[M]]={t:"VlLs",v:[]};var m=B.fills,Y=p.YI(Q,m,y,l,D,S);for(var x=0;
x<2;x++){var T=B[["shadows","innerShadows"][x]];if(T==null)continue;var $=["DrSh","IrSh"][x],L=rx.or[rx.order.indexOf($)];
for(var M=0;M<T.length;M++){var s=T[M];if(!s.isEnabled)continue;if(s.contextSettings.opacity==0||s.color.alpha==0)continue;
var j=JSON.parse(rx.Pf[rx.order.indexOf($)]);O[L].v.unshift({t:"Objc",v:j});U=!0;j.Clr.v=p.Yr(s.color);
j.blur.v.val=Math.round(s.blurRadius/l.GK());var Z=l.clone();Z.Ni=Z.pg=0;Z.SD();var e=Z.Dv(new v(s.offsetX,s.offsetY)),J=Math.sqrt(e.x*e.x+e.y*e.y);
j.Dstn.v.val=Math.round(J);j.lagl.v.val=Math.round(Math.atan2(e.y,-e.x)*(180/Math.PI));if(j.layerConceals)j.layerConceals.v=Y.length!=0;
p.dU(s,j)}}var N=B.borders;if(N!=null&&(Y.length==0||B.blur==null||!B.blur.isEnabled))for(var M=0;M<N.length;
M++){var E=N[M];if(!E.isEnabled)continue;var j=JSON.parse(rx.Pf[rx.order.indexOf("FrFX")]),L=rx.or[rx.order.indexOf("FrFX")];
O[L].v.unshift({t:"Objc",v:j});U=!0;j.Clr.v=p.Yr(E.color);if(E.fillType!=0&&E.gradient){var h=p.bj(E.gradient,y,l,D),o=["Type","Angl","Ofst","Scl"];
for(var M=0;M<o.length;M++)j[o[M]]=h[o[M]];j.Grad.v=h.Grad.v;j.PntT.v.FrFl="GrFl"}j.Sz.v.val=E.thickness/l.GK();
j.Styl.v.FStl=["CtrF","InsF","OutF"][E.position];p.dU(E,j)}for(var M=R?1:0;M<Y.length;M++){var V=Y[M],L=rx.or[rx.order.indexOf(V.type)];
O[L].v.unshift(V.z);U=!0}return U?O:null};NH.YI=function(Q,S,B,y,l,D,R){if(S==null)return[];var p=NH,O=[];
for(var M=0;M<S.length;M++)if(S[M].isEnabled)O.push(S[M]);S=O;var U=[];for(var M=0;M<S.length;M++){var m=S[M],Y=null,x=null;
if(m.fillType==0){Y="SoFi";var T=JSON.parse(rx.Pf[rx.order.indexOf("SoFi")]);x={t:"Objc",v:T};x.v.Clr.v=p.Yr(m.color)}else if(m.fillType==1){Y="GrFl";
x={t:"Objc",v:p.bj(m.gradient,B,y,l)}}else if(m.fillType==4&&m.image!=null){var $=m.image;if(R)$=R.value;
var L=Np.Ge($.bdata.buffer);if(L!=null&&L!="pdf"&&L!="eps"){var s,J=0,N=0,E=0;if(D.jZ[$.key])s=D.jZ[$.key];
else{var j=Np.hG(L).tm($.bdata)[0];s={data:j.data,q:new w(0,0,j.iQ.r,j.iQ.O)};s.id=mV._H()+"-d71c-11e5-b1ae-a548a96e5f9f";
s.name="someImage";s.Ko=new Uint8Array(s.data);delete s.data;D.DL(s);D.jZ[$.key]=s}var T=JSON.parse(rx.Pf[rx.order.indexOf("patternFill")]);
Y="patternFill";x={t:"Objc",v:T};var Z=m.patternFillType,e=m.patternTileScale;T.Algn.v=!0;T.Ptrn.v.Idnt.v=s.id;
if(Z==0){J=e*s.q.r/Math.min(s.q.r,s.q.O);N=-y.Ni;E=-y.pg}else{J=Math.max(B.r/s.q.r,B.O/s.q.O);N=-y.Ni-(s.q.r*J-B.r)/2;
E=-y.pg-(s.q.O*J-B.O)/2}T.Scl.v.val=100*J*(1/y.GK());T.phase.v.Hrzn.v=Math.round(N/y.GK());T.phase.v.Vrtc.v=Math.round(E/y.GK())}}else if(m.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",m.fillType);
if(Y!=null){p.dU(m,x.v);U.push({type:Y,z:x})}}return U};NH.mva=function(Q){var S=NH,B=new w(0,0,1,1);
Q=Q.slice(0);while(!0){var y=!1;for(var l=0;l<Q.length-1;l++){var D=Q[l],R=Q[l+1],p=null,O=D.contextSettings;
if(D.fillType==0&&(O==null||O.opacity==1&&O.blendMode==0)&&D.color.alpha==1){var M="norm",U=1,O=R.contextSettings;
if(O){U=O.opacity;M=No.oQ(S.bO[O.blendMode])}if(R.fillType==0){p=JSON.parse(JSON.stringify(R));S.YH(p.color,D.color,p.color,B,M,U)}if(R.fillType==1){p=JSON.parse(JSON.stringify(R));
var m=p.gradient.stops;for(var Y=0;Y<m.length;Y++)S.YH(m[Y].color,D.color,m[Y].color,B,M,U)}if(p!=null&&p.contextSettings){var O=p.contextSettings;
O.opacity=1;O.blendMode=0}}if(p!=null){Q.splice(l,0,p);y=!0;break}}if(!y||Q.length<2)break}return Q};
NH.YH=function(Q,S,B,y,l,D){var R=NH,p=k.Q(4);R.Sp(Q,p);var O=k.Q(4);R.Sp(S,O);k.X.Rc(l,p,y,O,y,y,D);
R.mRG(O,B)};NH.Sp=function(Q,S){S[0]=255*Q.red;S[1]=255*Q.green;S[2]=255*Q.blue;S[3]=255*Q.alpha};NH.mRG=function(Q,S){S.red=Q[0]/255;
S.green=Q[1]/255;S.blue=Q[2]/255;S.alpha=Q[3]/255};NH.SQ=function(Q,S){Q=Q.clone();Q.$N=24;Q.pM("Mask by "+Q.getName());
S.G.push(Q);Q.add.lsct=NI.YG;Q.add.lyid=S.OK();delete Q.add.lmfx;delete Q.add.SoCo;delete Q.add.GdFl;
delete Q.add.PtFl;delete Q.add.iOpa;if(Q.add.vmsk)Q.add.vmsk.DP=!0;Q.Zs(S);if((Q.$N&16)==16)Q.$N-=16;
if((Q.$N&2)==2)Q.$N-=2;Q.wk="pass";Q.opacity=255};NH.bO="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
NH.bj=function(Q,S,B,y){B=B.clone();B.SD();B.Ni=B.pg=0;var l=B.GK(),Y=0,x=0;B.scale(1/l,1/l);var D=NH,R=JSON.parse(rx.Pf[rx.order.indexOf("GrFl")]),p=R.Grad.v;
p.Intr.v=0;if(Q==null)return R;var O=Q.gradientType,M=D.ne(Q.from),U=D.ne(Q.to);M.offset(-.5,-.5);U.offset(-.5,-.5);
M=B.Dv(M);U=B.Dv(U);var m=Math.atan2(-(U.y-M.y),U.x-M.x);R.Type.v.GrdT=["Lnr","Rdl","Angl"][O];R.Scl.v.val=100*v.Ui(M,U);
if(O==0){R.Angl.v.val=180/Math.PI*m;R.Scl.v.val=100*v.Ui(M,U);Y=(M.x+U.x)/2;x=(M.y+U.y)/2}if(O==1){R.Scl.v.val=200*v.Ui(M,U);
Y=M.x;x=M.y}if(O==2){R.Angl.v.val=180/Math.PI*(m-Math.PI/2)}var T=R.Ofst.v;T.Hrzn.v.val=Y*100;T.Vrtc.v.val=x*100;
var $=[];for(var L=0;L<Q.stops.length;L++){var s=Q.stops[L],j=s.color;$.push([s.position,j?[j.red,j.green,j.blue]:[0,0,0],j.alpha])}k.Kg.vi($,p);
return R};NH.dU=function(Q,S){var B=NH,y=1,l=Q.contextSettings;if(l!=null){S.Md.v.BlnM=B.bO[l.blendMode];
y*=l.opacity}else S.Md.v.BlnM=B.bO[0];S.enab.v=Q.isEnabled;if(S.uglg!=null)S.uglg.v=!1;if(Q.color!=null)y*=Q.color.alpha;
S.Opct.v.val=Math.round(y*100)};NH.Yr=function(Q){return k.Kg.Od(Q?{t:Q.red*255,e:Q.green*255,R:Q.blue*255}:{t:0,e:0,R:0})};
NH.kv=function(Q,S,B){var y=NH,l=[{type:6},{type:8,all:0}];for(var D=0;D<Q.length;D++){var R=Q[D],p=R.booleanOperation,O=0,M=R._class,$=!1;
if(M=="group"||M=="text"||M=="symbolInstance"||M=="slice"){console.log(M+" inside ShapeGroup");continue}if(p==-1)O=0;
else if(p==0)O=1;else if(p==1)O=2;else if(p==2)O=3;else if(p==3)O=0;if(D==0)O=1;var U=NH.Gc(R.frame),m=y.SL(R,S),Y=R.path?R.path:R,x=[{type:0,length:0,GL:O,Xr:2,hi:0,hZ:0}],T=Y.points;
for(var L=0;L<T.length;L++){var s=T[L],j=y.ne(s.curveTo),Z=y.ne(s.point),e=y.ne(s.curveFrom);$=$||s.hasCurveFrom&&!e.UH(Z)||s.hasCurveTo&&!j.UH(Z)}var J=[];
if(!$){var N=[],E=T.length;if(E==0)continue;for(var L=0;L<E;L++){J[L]=T[L].cornerRadius;var s=y.ne(T[L].point);
N.push(s.x,s.y)}m.scale(1/U.r,1/U.O);m.SD();k.i.V(N,m,N);var h=k.c.wf(N,J);x=x.concat(h);x[0].length=x.length-1}else{var o=T.length;
x[0].length=o;var V=[];for(var L=0;L<o;L++){var s=T[L],n=s.curveMode,t=y.ne(s.point);x[1+L]={type:n==2||n==4?1:2,G$:s.hasCurveTo?y.ne(s.curveTo):t.clone(),v:t,RQ:s.hasCurveFrom?y.ne(s.curveFrom):t.clone()}}m.scale(1/U.r,1/U.O);
m.SD();k.c.ZU(x,m);for(var L=0;L<o;L++){var s=T[L],n=s.curveMode,q=s.cornerRadius;if(n==1&&q!=0){var u=x[1+(L-1+o)%o].v,g=x[1+(L+0+o)%o].v,r=x[1+(L+1+o)%o].v;
q=Math.min(q,v.Ui(u,g)/2,v.Ui(g,r)/2);var f=k.i.Id(u.x,u.y,g.x,g.y,r.x,r.y,0,q),I={type:1,G$:new v(f[2],f[3]),v:new v(f[2],f[3]),RQ:new v(f[4],f[5])},d={type:1,G$:new v(f[6],f[7]),v:new v(f[8],f[9]),RQ:new v(f[8],f[9])};
x.splice(L+1,1,I,d);x[0].length++}}}if(!Y.isClosed)for(var L=0;L<x.length;L++)x[L].type+=3;l=l.concat(x);
var a=k.SI.VE(),c=y.Nq(R);if(m.R==0&&m.ce==0){var _=m.Ni,C=m.pg,F=_+m.n,i=C+m.en,rP=[_,C,F,i];if(c=="rectangle"&&J.length==4)a=k.SI.gl(2,rP,J);
if(c=="oval")a=k.SI.gl(5,rP)}B.push(a)}return l};NH.SL=function(Q,S){var B=S.clone(),y=Q.frame?NH.Gc(Q.frame):null;
if(y)B.translate(-y.x-y.r/2,-y.y-y.O/2);if(Q.isFlippedHorizontal)B.scale(-1,1);if(Q.isFlippedVertical)B.scale(1,-1);
B.rotate(-Q.rotation*(Math.PI/180));if(y)B.translate(y.r/2,y.O/2);return B};NH.ne=function(Q){Q=Q.slice(1,Q.length-1).split(",");
return new v(parseFloat(Q[0]),parseFloat(Q[1]))};NH.Gc=function(Q){return new w(Q.x,Q.y,Q.width,Q.height)};
NH.Ye=function(Q){return{_class:"rect",constrainProportions:!1,x:Q.x,y:Q.y,width:Q.r,height:Q.O}};function Mp(){}Mp.fY=function(Q,S){var B=Mp,y=UZIP.parse(Q),l=JSON.parse(X.nl(y.manifest)),D=JSON.parse(X.nl(y["resources/graphics/graphicContent.agc"])).resources,R=[],p=l.children;
for(var O=0;O<p.length;O++){var M=p[O];if(M.name=="artwork"){var U=M.children;for(var m=0;m<U.length;
m++)if(U[m]["uxdesign#bounds"]){var Y=U[m],x=JSON.parse(X.nl(y["artwork/"+Y.path+"/graphics/graphicContent.agc"]));
if(x.children.length!=1)throw"e";Y._node=x.children[0];R.push(Y)}}}var T=[],$=new w;for(var O=0;O<R.length;
O++){var Y=R[O],L=NH.Gc(Y["uxdesign#bounds"]);T.push(L);$=$.wM(L)}var s=NH.dg($,8192*8192);S.vb=!0;S.r=Math.round($.r/s);
S.O=Math.round($.O/s);S.buffer=k.Q(S.r*S.O*4);S.Ol(R.length);var j=new Nu(s,0,0,s,$.x,$.y);S.jZ={};for(var O=0;
O<R.length;O++){var Y=R[O],L=NH.Gc(Y["uxdesign#bounds"]),Z=Y._node,e=j.clone(),J=L.clone(),N=e.GK();
e.translate(-L.x,-L.y);J.x=-Math.floor(e.Ni/N);J.y=-Math.floor(e.pg/N);J.r=Math.floor(J.r/N);J.O=Math.floor(J.O/N);
e.translate(L.x,L.y);Mp.bo(Z,S,e,D,y,J);var E=S.G[S.G.length-1];E.pM(Y.name);E.hr(J);if(O!=R.length-1)E.add.lsct=NI.Tu}delete S.jZ;
console.log(S.I)};Mp.b$=function(Q){if(Q==null)return new Nu;return new Nu(Q.a,Q.b,Q.c,Q.d,Q.tx,Q.ty)};
Mp.bo=function(Q,S,B,y,l,D){var R=Mp,p=Q.type,O=Q[p],M=Q.style,U=R.b$(Q.transform),T,$="none",L,s="none",j,Z;
U.SD();var m=B.clone();m.concat(U);var Y=S.oz(),x=Q.name;Y.pM(x?x.slice(0,250):"Layer");if(Q.visible!=null)Y.SO(Q.visible);
if(M){T=M.stroke;$=T?T.type:"none";L=M.fill;s=L?L.type:"none";j=M.filters;Z=M.clipPath;if(M.opacity)Y.opacity=Math.round(255*M.opacity);
if(s=="solid"&&L.color.alpha)Y.opacity=Math.round(Y.opacity*L.color.alpha);if(j){Y.add.lmfx=R.mRk(j);
for(var e=0;e<j.length;e++)if(j[e].type=="uxdesign#blur"){var J=j[e],N=J.params,E=N.brightnessAmount;
if(E==null)E=0;E=Math.abs(E/100);if((J.visible==null||J.visible==!0)&&N.backgroundEffect)Y.opacity=Math.round(Y.opacity*(E+(1-E)*N.fillOpacity))}}if(s=="pattern"&&L.pattern.meta.ux.uid=="")s="none"}if(p=="artboard"||p=="group"){if(Z&&y.clipPaths[Z.ref]){var h=y.clipPaths[Z.ref].children[0],U=R.b$(h.transform);
U.SD();var o=m.clone();o.concat(U);Y.add.vmsk=new z.hm;Y.add.vmsk.A=R.kv(h.shape);o=o.clone();o.SD();
k.c.ZU(Y.add.vmsk.A,o);Y.Zs(S)}Y.add.lsct=NI.YG;Y.wk="pass";Y.$N=24;if(Q.visible!=null)Y.SO(Q.visible);
S.G.push(S.rg());var V=O.children,n=L;if(n)n=n.color;if(n)n=n.value;if(L&&(s!="solid"||n.r!=255||n.g!=255||n.b!=255)){var t=S.oz();
t.pM("BACKGROUND");t.$N|=16;t.add.vstk=JSON.parse(JSON.stringify(rx.xD.default));t.add.vmsk=new z.hm;
t.add.vmsk.A=R.kv({type:"rect",x:D.x,y:D.y,width:D.r,height:D.O});R.xm(L,s,m,D,D,t,S,y,l);t.Zs(S);S.G.push(t)}for(var e=0;
e<V.length;e++){Mp.bo(V[e],S,m,y,l,D)}}else if(p=="shape"&&Q.shape.type=="rect"&&(Q.shape.r==null||Q.shape.r==0)&&s=="pattern"&&Math.abs(Q.shape.width/Q.shape.height-L.pattern.width/L.pattern.height)<.01){var q=L.pattern,u=q.meta.ux,g=u.uid,r=l["resources/"+g];
if(r==null){console.log(q);return}var f=S.ge(r,Y.getName(),0,0);f.$N=Y.$N;f.opacity=Y.opacity;Y=f;var I=k.i.wS(new w(0,0,q.width,q.height)).M,d=new Nu;
d.scale(q.width/Q.shape.width,q.height/Q.shape.height);m.concat(d);m.SD();k.i.V(I,m,I);Y.add.SoLd.Trnf=K.Sj.tQ(I);
Y.add.SoLd.nonAffineTransform=K.Sj.tQ(I);Y._T(S,!1)}else if(p=="shape"){Y.$N|=16;Y.add.vstk=JSON.parse(JSON.stringify(rx.xD.default));
Y.add.vmsk=new z.hm;Y.add.vmsk.A=R.kv(O);var a=k.c.Fi(Y.add.vmsk.A,null),o=m.clone();o.SD();k.c.ZU(Y.add.vmsk.A,o);
var c=k.c.Fi(Y.add.vmsk.A,null);if($=="none"){}else{var _=T.color.value,C,F;C="SoFi";var i=JSON.parse(rx.Pf[rx.order.indexOf("SoFi")]);
F={t:"Objc",v:i};F.v.Clr.v=k.Kg.Od({t:_.r,e:_.g,R:_.b});var rP=T.align,rH=T.cap;if(rP==null)rP="center";
var rK=Y.add.vstk;rK.strokeEnabled.v=!0;rK.strokeStyleLineWidth.v.val=T.width;if(rP)rK.strokeStyleLineAlignment.v.strokeStyleLineAlignment=rx.xD.XQ[["inside","center","outside"].indexOf(rP)];
if(rH)rK.strokeStyleLineCapType.v.strokeStyleLineCapType=rx.xD.mI[["butt","round","square"].indexOf(rH)];
var rY=["SoFi","GrFl","patternFill"].indexOf(C),Nc=[rx.ti,rx.nj,rx.sG][rY];rK.strokeStyleContent.v={classID:rx.xD.Uc[0]};
var G=rK.strokeStyleContent.v={classID:rx.xD.Uc[rY]};for(var e=0;e<Nc.length;e++)G[Nc[e]]=F.v[Nc[e]]}if(j)for(var e=0;
e<j.length;e++)if(j[e].type=="uxdesign#blur"&&j[e].visible){var rI=j[e];Y.add.vmsk.Mu=rI.params.blurAmount}R.xm(L,s,m,a,c,Y,S,y,l);
Y.Zs(S)}else if(p=="text"&&Q.text){var rb=Q.text,Nr=rb.frame,Nz=M.font,NL=M.textAttributes,U=m.clone(),NC=0;
U.SD();Y.add.lnsr="rend";Y.add.TySh=rA.Xq(0,0);Y.add.TySh._Q=new w(0,0,100,100);Y.add.TySh.V=U;var Nm=Y.add.TySh.Nd,NN=rb.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
rA.MS(Nm,0,NN);if(NN!=""){var Ne=rA.$d(Nm,0,1),Ny=Nz.postscriptName;if(Ny==null)Ny=Nz.family;rA.sU(Ne,Ny);
Ne.EQ.FontSize=Math.round(Nz.size);if(L){var _=L.color.value;Ne.EQ.FillColor={Type:1,Values:[1,_.r/255,_.g/255,_.b/255]}}if(NL){if(NL.paragraphAlign)Ne.Kb.Justification=["left","right","center"].indexOf(NL.paragraphAlign);
if(NL.letterSpacing)Ne.EQ.Tracking=Math.round(NL.letterSpacing);if(NL.lineHeight){Ne.EQ.AutoLeading=!1;
Ne.EQ.Leading=Math.round(NL.lineHeight)}}rA.Dh(Nm,0,NN.length,Ne)}var NG=Q.meta.ux.rangedStyles;if(NG)for(var e=0;
e<NG.length;e++){var O=NG[e],Ng=Math.min(O.length,NN.length-NC),Ne=rA.$d(Nm,NC,NC+Ng),NM=O.textScript,NQ=O.underline,NR=O.fontSize,J=O.fill;
if(NM&&NM!="none")Ne.EQ.FontBaseline=NM=="superscript"?1:2;if(NQ!=null)Ne.EQ.Underline=NQ;if(NR!=null)Ne.EQ.FontSize=Math.round(NR);
if(J!=null){var NV=J.value;Ne.EQ.FillColor={Type:1,Values:[1,(NV>>>16&255)/255,(NV>>>8&255)/255,(NV>>>0&255)/255]}}rA.Dh(Nm,NC,NC+Ng,Ne);
NC+=Ng}if(Nr.type=="area"){rA.XG(Nm,1);rA.vl(Nm,[0,0,Nr.width,Nr.height])}}else console.log(p,Q);S.G.push(Y)};
Mp.kv=function(Q){var S=Q.type,B=[{type:6},{type:8,all:0}];if(S=="rect"){var y=Q.r,l=Q.x,D=Q.y,R=Q.width,p=Q.height;
if(y==null)B=k.c.MV.Rect(l,D,R,p,0);else B=B.concat([{type:0,GL:1,length:8,hi:0,hZ:0,Xr:1}]).concat(k.c.wf([l,D,l+R,D,l+R,D+p,l,D+p],y,!1))}else if(S=="circle"){var y=Q.r;
B=k.c.MV.TJ(Q.cx-y,Q.cy-y,2*y,2*y)}else if(S=="ellipse"){var O=Q.rx,M=Q.ry;B=k.c.MV.TJ(Q.cx-O,Q.cy-M,2*O,2*M)}else if(S=="path"||S=="compound"){var U=Typr.U.SVGToPath(Q.path);
B=k.i.Ua({F:U.cmds,M:U.crds},!1)}else if(S=="line"){var m=Q.x1,Y=Q.x2,x=Q.y1,T=Q.y2;B=B.concat([{type:0,GL:1,length:2,hi:0,hZ:0,Xr:1}]).concat(k.c.wf([m,x,Y,T],0,!0))}else if(S=="polygon"){var $=Q.points,L=[];
for(var s=0;s<$.length;s++)L.push($[s].x,$[s].y);B=B.concat(k.c.MV.nJ(L,0,!1).slice(2))}else console.log(S,Q);
return B};Mp.mRk=function(Q){var S=JSON.parse(rx.default);for(var B=0;B<rx.order.length;B++)S[rx.or[B]]={t:"VlLs",v:[]};
for(var B=0;B<Q.length;B++){var y=Q[B],l=y.type,D=y.params,R=y.visible;if(l=="dropShadow"){var p=rx.or[rx.order.indexOf("DrSh")],O=JSON.parse(rx.Pf[rx.order.indexOf("DrSh")]);
S[p].v.unshift({t:"Objc",v:O});var M=D.dropShadows;if(M.length!=1)throw"e";var U=M[B],m=U.color,Y=m.value,x=U.dx,T=U.dy;
O.Clr.v=k.Kg.Od({t:Y.r,e:Y.g,R:Y.b});O.Opct.v.val=Math.round((m.alpha!=null?m.alpha:1)*100);O.uglg.v=!1;
O.enab.v=R!=null?R:!0;O.lagl.v.val=Math.round(180/Math.PI*Math.atan2(T,-x));O.Dstn.v.val=Math.round(Math.sqrt(x*x+T*T));
O.blur.v.val=Math.round(U.r*2.3)}}return S};Mp.xm=function(Q,S,B,y,l,D,R,p,O){var M=Mp;if(S=="none"){D.add.vstk.fillEnabled.v=!1;
D.add.SoCo={classID:"null",Clr:{t:"Objc",v:k.Kg.Od({t:0,e:0,R:0})}}}else{var U,m,Y;if(S=="solid"){var x=Q.color.value;
U="SoCo";m=rx.ti;var T=JSON.parse(rx.Pf[rx.order.indexOf("SoFi")]);Y={t:"Objc",v:T};Y.v.Clr.v=k.Kg.Od({t:x.r,e:x.g,R:x.b})}else if(S=="gradient"){U="GdFl";
m=rx.nj;var T=JSON.parse(rx.Pf[rx.order.indexOf("GrFl")]),$=T.Grad.v,e,J,N;$.Intr.v=0;var L=Q[S],s=p.gradients[L.ref],j=["linear","radial"].indexOf(s.type),Z=s.stops;
T.Type.v.GrdT=["Lnr","Rdl","Angl"][j];if(j==0){var e=new v(L.x1,L.y1),J=new v(L.x2,L.y2);e.x=J.x+.5*(e.x-J.x);
e.y=J.y+.5*(e.y-J.y)}else{var e=new v(L.cx,L.cy),J=new v(L.cx+L.r,L.cy)}N=l;if(L.units=="objectBoundingBox"){var E=new Nu(y.r,0,0,y.O,y.x,y.y);
e=E.Dv(e);J=E.Dv(J)}var E=M.b$(L.transform);e=E.Dv(e);J=E.Dv(J);E=B.clone();E.SD();e=E.Dv(e);J=E.Dv(J);
k.Kg.Nb(e,J,N,T);var h=[];for(var o=0;o<Z.length;o++){var V=Z[o],n=V.color,x=n.value,t=n.alpha;if(t==null)t=1;
h.push([V.offset,[x.r/255,x.g/255,x.b/255],t])}k.Kg.vi(h,$);Y={t:"Objc",v:T}}else if(S=="pattern"){U="PtFl";
m=rx.sG;var T=JSON.parse(rx.Pf[rx.order.indexOf("patternFill")]),I,C=1,F=0,i=0,rP=1;Y={t:"Objc",v:T};
var q=Q[S],u=q.meta.ux,g=u.uid,r=O["resources/"+g].buffer,f=Np.Ge(r);if(R.jZ[g])I=R.jZ[g];else{var d=new w(0,0,q.width,q.height),a;
if(d.Kq()){d=new w(0,0,1,1);a=new ArrayBuffer(4)}else{var c=Np.hG(f);if(c.oc){var _=new mV;c.tm(r,_);
a=_.qB().buffer}else a=c.tm(r)[0].data}I={data:a,q:d};I.id=mV._H()+"-d71c-11e5-b1ae-a548a96e5f9f";I.name="someImage";
I.Ko=new Uint8Array(I.data);delete I.data;R.DL(I);R.jZ[g]=I}T.Algn.v=!0;T.Ptrn.v.Idnt.v=I.id;if(u.scaleBehavior=="cover"){C=rP*Math.max(l.r/I.q.r,l.O/I.q.O);
if(u.scale!=null)C*=u.scale;F=l.x-(I.q.r*C-l.r)/2;i=l.y-(I.q.O*C-l.O)/2;if(u.offsetX!=null)F+=u.offsetX*I.q.r*C;
if(u.offsetY!=null)i+=u.offsetY*I.q.O*C}else if(u.scaleBehavior=="fill"){C=rP*Math.min(l.r,l.O)/Math.max(I.q.r,I.q.O);
F=l.x-(I.q.r*C-l.r)/2;i=l.y-(I.q.O*C-l.O)/2}else throw"Unknown scale behaviour";T.Scl.v.val=100*C;T.phase.v.Hrzn.v=Math.round(F);
T.phase.v.Vrtc.v=Math.round(i)}else console.log(S);if(U!=null){D.add[U]={classID:"null"};for(var o=0;
o<m.length;o++){var rH=m[o];D.add[U][rH]=Y.v[rH]}}}};function Nj(){}Nj.fY=function(Q,S){Q=new Uint8Array(Q);
var B=X.nl(Q,0,Q.length),y=new DOMParser,l=y.parseFromString(B,"image/svg+xml"),D=l.getElementsByTagName("style")[0];
if(D)D=Typr.U.SVG.cssMap(D.textContent);else D={};var R=l.firstChild;while(R.tagName!="svg")R=R.nextSibling;
var p=new w(0,0,100,100),O=R.getAttribute("viewBox");if(O){var M=O.split(" ").map(parseFloat);p.x=M[0];
p.y=M[1];p.r=M[2];p.O=M[3]}else if(R.getAttribute("width")){p.r=parseFloat(R.getAttribute("width"));
p.O=parseFloat(R.getAttribute("height"))}p=k.i.Uf(p);S.vb=!0;S.r=p.r;S.O=p.O;S.buffer=k.Q(p.Z()*4);var U=new Nu(1,0,0,1,-p.x,-p.y),m={rG:Nj.Ur(R),mmL:D};
Nj.cC(l,R.children,S,U,m,new Nu);if(S.G.length==0){var Y=S.oz();Y.pM("Layer");S.G.push(Y)}};Nj.cC=function(Q,S,B,y,l,D){var R=Nj,p=["display","opacity","fill-opacity"];
for(var O=0;O<S.length;O++){var M=S[O],U=M.tagName,m=M.getAttribute("id"),Y=R.Ur(M,l.mmL),T=13,Z=1,N="clip-path",E=null;
for(var x in l.rG)if(p.indexOf(x)==-1&&Y[x]==null)Y[x]=l.rG[x];if(Y["font-size"])T=R.dn(Y["font-size"],T);
if(M.getAttribute("dx"))y.Ni+=R.dn(M.getAttribute("dx"),T);if(M.getAttribute("dy"))y.pg+=R.dn(M.getAttribute("dy"),T);
var $=R.Up(M);$.concat(y);var L=M.getAttribute("visibility"),s=Y.display,j=B.oz();if(L=="hidden"||s=="none")j.SO(!1);
j.pM(m!=null?m.split(":::")[0]:"Layer");if(Y.opacity)Z*=parseFloat(Y.opacity);if(Y["fill-opacity"]){var e=parseFloat(Y["fill-opacity"]);
if(e!=0)Z*=e}j.opacity=Math.round(255*Z);if(Y["mix-blend-mode"]){var J=No.IF.indexOf(Y["mix-blend-mode"]);
if(J!=-1)j.wk=No.ea[J]}if(M.getAttribute(N)==null)N="mask";if(M.getAttribute(N)!=null){var h=M.getAttribute(N);
h=h.slice(4,h.length-1);var o=Q.getElementById(h.slice(1));if(o){var V=o.children;E=B.oz();E.pM("Clip-Path"+(m?": "+m:""));
E.add.lsct=NI.YG;E.wk="pass";E.$N=24;var n=E.add.vmsk=new z.hm;B.G.push(B.rg());var t=[];if(o.getAttribute(N)){var h=o.getAttribute(N);
h=h.slice(4,h.length-1);t=Q.getElementById(h.slice(1)).children}for(var q=0;q<V.length;q++){var u=R.Up(V[q]);
u.concat($);var g=R.kv(Q,V[q],!1).slice(2);k.c.ZU(g,u);n.A=n.A.concat(g)}for(var q=0;q<t.length;q++){var u=R.Up(V[q]);
u.concat($);var g=R.kv(Q,t[q],!1).slice(2);for(var r=0;r<g.length;r++)if(g[q].GL!=null)g[q].GL=3;k.c.ZU(g,u);
n.A=n.A.concat(g)}E.sr();E.Zs()}}if(U=="g"||U=="a"||U=="svg"||U=="switch"||(U=="text"||U=="textPath")&&M.children.length>0){if(U=="text")D=R.Ef(M,D);
var f=M.getAttribute("viewBox"),I=M.getAttribute("width"),d=M.getAttribute("height");if(f&&I&&d){var a=f.split(" ").map(parseFloat),c=R.Ef(M),_=new Nu;
_.scale(parseFloat(I)/a[2],parseFloat(d)/a[3]);_.translate(c.Ni,c.pg);_.concat($);$=_}var C=M.children.length,F=l.rG;
l.rG=Y;var i=U!="text"&&U!="textPath"||C>1;if(i){var rP=j.qm();j.add.lsct=rP&&(m==null||!m.endsWith(":::"))?NI.YG:NI.Tu;
j.wk="pass";j.$N=24;j.SO(rP);B.G.push(B.rg())}R.cC(Q,M.children,B,$,l,D);if(i)B.G.push(j);l.rG=F}else if(U=="use"){var _=R.Ef(M);
_.concat($);var rH=R.UC(M),rK=Q.getElementById(rH.slice(1)),F=l.rG;l.rG=Y;R.cC(Q,[rK],B,_,l,D);l.rG=F}else if(U=="path"||U=="rect"||U=="circle"||U=="ellipse"||U=="polygon"||U=="polyline"||U=="line"){j.$N|=16;
j.add.vmsk=new z.hm;j.add.vstk=JSON.parse(JSON.stringify(rx.xD.default));j.add.vstk.strokeEnabled.v=!1;
var rY=j.add.vstk,n=j.add.vmsk;n.A=R.kv(Q,M,Y["fill-rule"]=="evenodd");k.c.ZU(n.A,$);var Nc=k.c.Fi(n.A),G=Y.stroke,rI=Y["stroke-width"],rb=Y["stroke-dasharray"],Nr=Y.fill,Nz=Y["stroke-linejoin"],NL=Y["stroke-linecap"],Nm=Y["paint-order"];
if(G==null||G=="none"){}else{var NN=R.Sc(Q,G,$,Nc),Ne=["SoFi","GrFl","patternFill"].indexOf(NN.type),Ny=[rx.ti,rx.nj,rx.sG][Ne],NG=rY.strokeStyleContent.v={classID:rx.xD.Uc[Ne]},NC=1;
for(var q=0;q<Ny.length;q++)NG[Ny[q]]=NN.z.v[Ny[q]];rI=rI?parseFloat(rI):1;if(Nm&&Nm.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){NC=2;
rI/=2}rY.strokeEnabled.v=!0;if(Nz)rY.strokeStyleLineJoinType.v.strokeStyleLineJoinType=rx.xD.join[["miter","round","bevel"].indexOf(Nz)];
if(NL)rY.strokeStyleLineCapType.v.strokeStyleLineCapType=rx.xD.mI[["butt","round","square"].indexOf(NL)];
rY.strokeStyleLineWidth.v.val=rI*K.Sj.GK($);rY.strokeStyleLineAlignment.v.strokeStyleLineAlignment=rx.xD.XQ[NC];
rY.strokeStyleOpacity.v.val=100*(Y["stroke-opacity"]?parseFloat(Y["stroke-opacity"]):1);if(rb!=null&&rb!="none")rY.strokeStyleLineDashSet.v=Nq.hg(rb.split(",").map(parseFloat),1/rI)}if(Nr=="none"||Y["fill-opacity"]&&parseFloat(Y["fill-opacity"])==0){j.add.vstk.fillEnabled.v=!1;
j.add.SoCo={classID:"null",Clr:{t:"Objc",v:k.Kg.Od({t:0,e:0,R:0})}}}else{var NN=R.Sc(Q,Nr,$,Nc),Ng=null,NM=null;
if(NN.type=="SoFi"){Ng="SoCo";NM=rx.ti}if(NN.type=="GrFl"){Ng="GdFl";NM=rx.nj}if(NN.type=="patternFill"){Ng="PtFl";
NM=rx.sG}if(Ng!=null){j.add[Ng]={classID:"null"};for(var q=0;q<NM.length;q++){var x=NM[q];j.add[Ng][x]=NN.z.v[x]}}}if(Y.filter&&Y.filter!="none"){var NQ=Y.filter;
NQ=NQ.slice(5,NQ.length-1);var NR=Q.getElementById(NQ).children[0];if(NR.tagName=="feGaussianBlur"){j.add.vmsk.Mu=parseFloat(NR.getAttribute("stdDeviation"))*K.Sj.GK($)}}j.sr();
j.Zs(B);B.G.push(j)}else if((U=="text"||U=="tspan")&&M.textContent!=""){D=R.Ef(M,D);var _=D.clone();
_.concat($);if(M.children.length>0){var NV=R.Ur(M.children[0],l.mmL);for(var x in NV)if(p.indexOf(x)==-1)Y[x]=NV[x]}var md=Y["xml:space"],NW=M.textContent;
if(md=="preserve")NW=NW.replace(/\t/g," ").replace(/\n/g," ");if(m==null)j.pM(NW);j.add.lnsr="rend";
j.add.TySh=rA.Xq(0,0);j.add.TySh._Q=new w(0,0,100,100);j.add.TySh.V=_.clone();var Nh=j.add.TySh.Nd;rA.MS(Nh,0,NW);
var Nr=Y.fill,Nt=Y["font-weight"],NU=Y["font-family"],Mw=Y["text-decoration"],G=Y.stroke,rI=Y["stroke-width"];
if(Y["dominant-baseline"]=="text-before-edge")j.add.TySh.V.translate(0,T);var mp=rA.$d(Nh,0,1);if(Nr&&Nr!="none"){var Na=CSS.Yr(Nr);
mp.EQ.FillColor={Type:1,Values:[1,Na.t/255,Na.e/255,Na.R/255]}}if(Mw=="underline")mp.EQ.Underline=!0;
mp.EQ.FontSize=Math.round(T);rA.sU(mp,"LiberationSans");if(Nt=="bold")rA.sU(mp,"LiberationSans-Bold");
if(NU){var NX=NU+":"+(Nt?Nt:"normal"),Ni={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(Ni[NX])rA.sU(mp,Ni[NX]);else rA.sU(mp,NU)}if(Y["text-anchor"])mp.Kb.Justification=["start","end","middle"].indexOf(Y["text-anchor"]);
rA.Dh(Nh,0,NW.length,mp);if(G==null||G=="none"){}else{var mm=JSON.parse(rx.Pf[rx.order.indexOf("FrFX")]);
mm.Clr.v=k.Kg.Od(CSS.Yr(G));mm.Sz.v.val=Math.round(parseFloat(rI)*K.Sj.GK(_));var NT=JSON.parse(rx.default);
for(var q=0;q<rx.order.length;q++)NT[rx.or[q]]={t:"VlLs",v:[]};NT.frameFXMulti.v.push({t:"Objc",v:mm});
j.add.lmfx=NT}B.G.push(j)}else if(U=="image"){var rH=R.UC(M);if(rH.slice(0,4)=="data"){var NF=Np.xN(rH),Ns=NF,NB=B.ge(Ns,j.getName(),0,0);
NB.$N=j.$N;j=NB;var Rz=j.rect.clone();Rz.x=Rz.y=0;var Nk=M.getAttribute("width"),RJ=M.getAttribute("height");
if(Nk)Rz.r=parseFloat(Nk);if(RJ)Rz.O=parseFloat(RJ);var mv=R.Ef(M);mv.concat($);var NA=k.i.wS(Rz).M;
k.i.V(NA,mv,NA);j.add.SoLd.Trnf=K.Sj.tQ(NA);j.add.SoLd.nonAffineTransform=K.Sj.tQ(NA);j._T(B,!1);B.G.push(j)}}else console.log("unknown tag: "+U,M.children.length,M.textContent.length);
if(E!=null)B.G.push(E)}};Nj.kv=function(Q,S,B){var y=Nj,l=[{type:6},{type:8,all:0}],D=S.tagName;if(D=="use"){var R=y.UC(S),p=Q.getElementById(R.slice(1)),O=new Nu;
if(p.tagName!="rect")O=y.Ef(p);O.concat(y.Up(p));l=y.kv(Q,p,B);k.c.ZU(l,O)}else if(D=="path"){var M=S.getAttribute("d");
if(M==null)return l;var U=Typr.U.SVGToPath(M);l=k.i.Ua({M:U.crds,F:U.cmds},B)}else if(D=="rect"){var m=S.getAttribute("rx"),Y=y.Ef(S);
l=k.c.MV.Rect(Y.Ni,Y.pg,parseFloat(S.getAttribute("width")),parseFloat(S.getAttribute("height")),m?parseFloat(m):0)}else if(D=="circle"||D=="ellipse"){var x=[0,0,0,0],T=["cx","cy","rx","ry","r"];
for(var $=0;$<5;$++){var L=S.getAttribute(T[$]);if(L){L=parseFloat(L);if($<4)x[$]=L;else x[2]=x[3]=L}}l=k.c.MV.TJ(x[0]-x[2],x[1]-x[3],2*x[2],2*x[3])}else if(D=="polygon"||D=="polyline"||D=="line"){var s;
if(D=="line")s=[S.getAttribute("x1"),S.getAttribute("y1"),S.getAttribute("x2"),S.getAttribute("y2")].map(parseFloat);
else s=S.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
l=k.c.MV.nJ(s,0,D!="polygon")}return l};Nj.dn=function(Q,S){if(Q.charAt(Q.length-1)=="m")return S*parseFloat(Q.slice(0,Q.length-2));
else return parseFloat(Q)};Nj.Sc=function(Q,S,B,y){var l,D,R=Nj,p=S!=null?S.indexOf("("):-1;if(p!=-1){var O=S.indexOf(")"),M=S.slice(0,p).trim(),U=S.slice(p+1,O).trim();
if(M=="url"){if(U.charAt(0)=="#"){var m=Q.getElementById(U.slice(1));if(m.tagName.toLowerCase().endsWith("gradient")){var Y=R.bj(Q,m,B,y);
l="GrFl";D={t:"Objc",v:Y}}}else console.log("unknown url",url)}else if(M=="rgb"){l="SoFi";var x=JSON.parse(rx.Pf[rx.order.indexOf("SoFi")]);
D={t:"Objc",v:x};D.v.Clr.v=k.Kg.Od(CSS.Yr(S))}else console.log("unknown fill",S)}else{l="SoFi";var x=JSON.parse(rx.Pf[rx.order.indexOf("SoFi")]);
D={t:"Objc",v:x};D.v.Clr.v=k.Kg.Od(CSS.Yr(S))}return{type:l,z:D}};Nj.Up=function(Q){var S=new Nu,B=Q.getAttribute("transform");
if(B)S=Nj.dE(B);var y=Q.getAttribute("style");if(y!=null){var l={};Nj.ds(l,y,["transform"]);y=l.transform;
if(y)S.concat(Nj.dE(y))}return S};Nj.Ef=function(Q,S){var B=new Nu,y=Q.getAttribute("x"),l=Q.getAttribute("y");
if(y)B.Ni=parseFloat(y);else if(S)B.Ni=S.Ni;if(l)B.pg=parseFloat(l);else if(S)B.pg=S.pg;return B};Nj.dE=function(Q){var S=Typr.U.SVG.readTrnf(Q);
return new Nu(S[0],S[1],S[2],S[3],S[4],S[5])};Nj.Ur=function(Q,S){var B={},y="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var l=0;l<y.length;l++){var D=Q.getAttribute(y[l]);if(D!=null&&D!="inherit")B[y[l]]=D}var R=Q.getAttribute("class");
if(S!=null&&R!=null&&S["."+R]!=null)Nj.ds(B,S["."+R],y);var p=Q.getAttribute("style");if(p!=null)Nj.ds(B,p,y);
return B};Nj.ds=function(Q,S,B){S=S.trim().split(";");for(var y=0;y<S.length;y++){var l=S[y].split(":"),D=l[0]?l[0].trim():"",R=l[1]?l[1].trim():"";
for(var p=0;p<B.length;p++)if(D==B[p]&&R!="inherit")Q[B[p]]=R}};Nj.UC=function(Q){var S=Q.getAttribute("xlink:href");
if(S==null)S=Q.getAttribute("href");return S};Nj.bj=function(Q,S,B,y){var l=Nj,D=new Nu,R=S.getAttribute("gradientTransform");
if(R)D=l.dE(R);D.concat(B);var p=JSON.parse(rx.Pf[rx.order.indexOf("GrFl")]),O=p.Grad.v;O.Intr.v=0;var M=S.tagName,U=new v(0,0),m=new v(y.r,0);
if(M=="linearGradient"){p.Type.v.GrdT="Lnr";if(S.getAttribute("x1"))U.x=parseFloat(S.getAttribute("x1"));
if(S.getAttribute("y1"))U.y=parseFloat(S.getAttribute("y1"));if(S.getAttribute("x2"))m.x=parseFloat(S.getAttribute("x2"));
if(S.getAttribute("y2"))m.y=parseFloat(S.getAttribute("y2"));U.x=m.x+.5*(U.x-m.x);U.y=m.y+.5*(U.y-m.y)}if(M=="radialGradient"){p.Type.v.GrdT="Rdl";
if(S.getAttribute("cx"))U.x=parseFloat(S.getAttribute("cx"));if(S.getAttribute("cy"))U.y=parseFloat(S.getAttribute("cy"));
m.yZ(U.x,U.y);if(S.getAttribute("r"))m.x+=parseFloat(S.getAttribute("r"))}if(S.getAttribute("gradientUnits")=="userSpaceOnUse"){U=D.Dv(U);
m=D.Dv(m)}else{U.x=y.x+U.x*y.r;U.y=y.y+U.y*y.O;m.x=y.x+m.x*y.r;m.y=y.y+m.y*y.O}k.Kg.Nb(U,m,y,p);var Y=S.children;
if(Y.length==0){var x=l.UC(S);if(x==null)throw"gradient has no stops";var T=Q.getElementById(x.slice(1));
if(T==null){console.log(x.slice(1));throw"e"}var $=l.bj(Q,T,D,y);p.Grad=$.Grad}else{var L=[];for(var s=0;
s<Y.length;s++){var j=Y[s],Z=l.Ur(j),e=Z["stop-color"],J=Z["stop-opacity"],N=j.getAttribute("offset");
if(e==null)e="#000000";if(J==null)J="1";var E=N?parseFloat(N):0;e=CSS.Yr(e);L.push([E,[e.t/255,e.e/255,e.R/255],parseFloat(J)])}k.Kg.vi(L,O)}return p};
Nj.Oo=function(Q,S,B){var y=[],l=Nj;l.Sd=S.m_i?"\t":"";var D=S.mhN,R=S.mhR;y.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+Q.r+" "+Q.O+"\" width=\""+D+"\" height=\""+R+"\">");
var p={ic:[],S:[],kN:0,Uj:0,UT:0,nF:{},n_:{},wr:0,dR:{},kW:{},kw:0,Tt:[]};Nj.Se(Q,p,Q.root.children,1,S,B);
if(p.ic.length!=0){y.push(l.lF(1)+"<defs>");y=y.concat(p.ic);y.push(l.lF(1)+"</defs>")}y.push(l.lF(1)+"<style>");
y.push(l.lF(2)+"tspan { white-space:pre }");for(var O in p.dR)y.push(l.lF(2)+"."+O+" { "+p.dR[O]+" } ");
y.push(l.lF(1)+"</style>");y=y.concat(p.S);y.push("</svg>");y=y.join(S.m_i?"\n":"");var M=k.Q(Math.round(y.length*1.5)),U=X.cb(y,M,0);
if(l.nz){console.log(l.nz);var m="SVGParser.gen.db = [\n";for(var Y=0;Y<l.nz.length;Y++){var x=l.nz[Y];
m+="{\n\tnam: \""+x.wW+"\",\n\tpts: [\n";for(var T=0;T<x.KZ.length;T++){var $=x.KZ[T];m+="\t\t[\""+$[0]+"\", { cmds: "+JSON.stringify($[1].F)+", crds:"+JSON.stringify($[1].M)+" } ]"+(T==x.KZ.length-1?"":",")+"\n"}m+="\t]\n}"+(Y==l.nz.length-1?"":",")+"\n"}m+="]\n";
console.log(m)}return M.buffer.slice(0,U)};Nj.Sd="";Nj.lF=function(Q){var S="";for(var B=0;B<Q;B++)S+=Nj.Sd;
return S};Nj.nK=function(Q){return""+parseFloat(Q.toFixed(3))};Nj.Se=function(Q,S,B,y,l,D){var R=Nj;
for(var p=0;p<B.length;p++){var O=B[p].$,M=O.add.lsct,U=O.add.vmsk,m=O.add.vstk,Y=O.add.TySh,x=[];if(!l.hidden&&!O.qm())continue;
var T=O.opacity/255,$=O.add.iOpa?O.add.iOpa/255:1;if(T!=1)x.push("opacity: "+R.nK(T));if($!=1)x.push("fill-opacity: "+R.nK($));
if(O.wk!="norm"){var L=No.IF[No.ea.indexOf(O.wk)];if(L!=null)x.push("mix-blend-mode: "+L)}if(!O.qm())x.push("display: none");
var s=[],j=[],Z=O.getName(),e=Z.indexOf(" .");if(e!=-1){j.push(Z.slice(e+2));Z=Z.slice(0,e)}if(l.names)s.push("id=\""+R.ho(Z)+"\"");
var J=O.add.lmfx;if(J)J=J.solidFillMulti.v[0];if(J)J=J.v;if(J&&!J.enab.v)J=null;if(O.So()){if(R.nz&&O.getName().split("-").length==3){R.nz.push({wW:O.getName(),Ad:0,KZ:[]})}if(U||O.add.artb){var N;
if(U)N=k.c.Ij(U.A).wL;else{var E=O.ma(),h=k.i.wS(E);N=Typr.U.pathToSVG({crds:h.M,cmds:h.F},2)}S.UT++;
s.push("clip-path=\"url(#cp"+S.UT+")\"");S.ic.push(R.lF(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+S.UT+"\">");
S.ic.push(R.lF(3)+"<path d=\""+N+"\" />");S.ic.push(R.lF(2)+"</clipPath>")}if(x.length!=0)s.push("style=\""+x.join(";")+"\"");
S.S.push(R.lF(y)+"<g "+R.sq(s,j)+">");R.Se(Q,S,B[p].children,y+1,l,D);S.S.push(R.lF(y)+"</g>")}else if(O.iG()&&U==null){var o=new w(0,0,Q.r,Q.O);
R.Sy(x,O.add,S,o);if(x.length!=0)s.push("style=\""+x.join(";")+"\"");S.S.push(R.lF(y)+"<rect width=\""+Q.r+"\" height=\""+Q.O+"\" "+R.sq(s,j)+" />")}else if(U){var o=k.c.Fi(U.A),N=k.c.Ij(U.A);
if(N.gb!=0){s.push("fill-rule=\"evenodd\"")}var V=N.wL;R.Sy(x,O.add,S,o);if(x.length!=0){var n=x.join(";"),t=S.kW[n];
if(t==null){t="shp"+S.kw;S.kw++;S.kW[n]=t;S.dR[t]=n}j.push(t)}S.S.push(R.lF(y)+"<path "+R.sq(s,j)+" d=\""+V+"\" />");
if(R.nz&&R.nz[R.nz.length-1]){var q=k.i.vn(U.A);q.M=q.M.map(Math.round);var u=R.nz[R.nz.length-1];u.Ad+=JSON.stringify(q).length;
u.KZ.push([x[0].split("#").pop(),q])}}else if(Y&&l.mVj){var g=Y.Nd,r=new mn(g,D);if(J)s.push("fill=\""+CSS.rl(J.Clr.v)+"\"");
var f=Ru.Bw(r,Y),I=k.i.QJ(f);for(var d in I){if(J==null)s.push("fill=\""+d+"\"");var h=I[d],V=Typr.U.pathToSVG({crds:h.M,cmds:h.F},2);
S.S.push(R.lF(y)+"<path "+R.sq(s,j)+" d=\""+V+"\" />");if(J==null)s.pop()}}else if(Y&&!l.mhM){var g=Y.Nd,a=Y.V.clone(),Nc=0,G=0;
if(rA.Ry(g)==1){var c=rA.$d(g,0,0).Kb.Justification,_=0,C=rA.Dy(g)[2];if(c==2)_=C/2;if(c==1)_=C;a.translate(_,0)}x.push("transform: "+R.di(a));
var F=rA.qx(g),i=g.EngineDict.ParagraphRun,rP=i.RunArray,rH=i.RunLengthArray;if(x.length!=0)s.push("style=\""+x.join(";")+"\"");
S.S.push(R.lF(y)+"<text "+R.sq(s,j)+" >");var rK=O.add.lmfx;if(rK)rK=rK.frameFXMulti.v[0];if(rK)rK=rK.v;
var rY=J?CSS.rl(J.Clr.v):null;for(var rI=0;rI<rP.length;rI++){var rb=[],Nr=rH[rI],Nz=F.slice(Nc,Nc+Nr-1),NL=rA.$d(g,Nc,Nc),Nm=NL.vA[NL.EQ.Font].Name;
if(S.Tt.indexOf(Nm)==-1)S.Tt.push(Nm);CSS.mNp(rb,NL,Y.V,!0,l.Tt,rY);if(rK){x.push("stroke: "+CSS.rl(rK.Clr.v));
x.push("stroke-width: "+rK.Sz.v.val)}var NN=NL.EQ.FontSize*1.12;if(rI==0)NN=rA.Ry(g)==0?0:NL.EQ.FontSize;
G+=NN;if(Nz!=""){var n=rb.join(";"),t=S.kW[n],Ny="";if(t==null){t="txt"+S.kw;S.kw++;S.kW[n]=t;S.dR[t]=n}var Ne=NL.EQ.Tracking;
if(Ne!=null&&Ne!=0){Ne=Math.round(Ne*NL.EQ.FontSize/1e3);Ny=" dx=\"0";for(var NG=1;NG<Nz.length;NG++)Ny+=" "+Ne;
Ny+="\" "}S.S.push(R.lF(y+1)+"<tspan x=\"0\" y=\""+R.nK(G)+"\" class=\""+t+"\""+Ny+">"+R.ho(Nz)+"</tspan>")}Nc+=Nr}S.S.push(R.lF(y)+"</text>")}else if(O.add.SoLd){var NC=O.add.SoLd,Ng=NC.Idnt.v,NM=0,NQ=NC.Crop?NC.Crop.v:null;
if(S.n_[Ng]!=null)NM=S.n_[Ng];else{S.wr++;NM=S.wr;S.n_[Ng]=S.wr;var NR=Q.Bd(Ng,NQ),NW="";if(NR==null)return;
var NV=NR.Km,md=Np.Ge(NR.raw.buffer);if(md=="pdf"){var Nh=new mV("h");Np.PDF.tm(NR.raw.buffer,Nh);Nh.Jc();
Nh.Bq();Nh.s();Nh.re();if(NC.Crop&&NC.Crop.v==1){K.SK.Im(Nh,Nh.root.jH(Nh,!0))}var Nt=Np.SVG.Ba(Nh,Nh.r,Nh.O,null,{Tt:D});
NW="data:image/svg+xml;base64,"+Np.aa(Nt)}else if(md=="jpg"||md=="png"||md=="gif"||md=="svg"){var NU={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
NW="data:"+NU[md]+";base64,"+Np.aa(NR.raw.buffer)}else{NW=Np.jq(NV[0].buffer,NV[1].r,NV[1].O)}S.ic.push(R.lF(2)+"<image width=\""+NV[1].r+"\" height=\""+NV[1].O+"\" id=\"img"+NM+"\" href=\""+NW+"\"/>")}var Mw=k.W.P$(NC);
if(x.length!=0)s.push("style=\""+x.join(";")+"\"");var mp=R.sq(s,j);S.S.push(R.lF(y)+"<use "+mp+" href=\"#img"+NM+"\" transform=\""+R.di(Mw)+"\"/>")}else if(!O.rect.Kq()&&(l.mV_||Y)){if(x.length!=0)s.push("style=\""+x.join(";")+"\"");
var mp=R.sq(s,j),Na=O.buffer;if(J)Na=Nq.mLP(Na,J,O.rect);var NX=O.rect;S.wr++;var NW=Np.jq(Na.buffer,NX.r,NX.O,"png",null,!0);
S.ic.push(R.lF(2)+"<image width=\""+O.rect.r+"\" height=\""+O.rect.O+"\" id=\"img"+S.wr+"\" href=\""+NW+"\"/>");
S.S.push(R.lF(y)+"<use "+mp+" href=\"#img"+S.wr+"\" x=\""+NX.x+"\" y=\""+NX.y+"\" />")}}};Nj.sq=function(Q,S){if(S.length!=0)Q.push("class=\""+S.join(" ")+"\"");
return Q.join(" ")};Nj.ho=function(Q){return String(Q).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
Nj.di=function(Q){var S=[Q.n,Q.R,Q.ce,Q.en,Q.Ni,Q.pg].map(Nj.nK);return"matrix("+S.join(",")+")"};Nj.Sy=function(Q,S,B,y){var l=Nj,D=S.vstk,R=S.vmsk,p=S.lmfx;
if(R&&R.Mu!=0){var O=l.nK(R.Mu);if(B.nF[O]==null){B.Uj++;B.nF[O]=B.Uj;B.ic.push(l.lF(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+B.Uj+"\"> <feGaussianBlur stdDeviation=\""+O+"\" /> </filter>")}Q.push("filter: url(#flt"+B.nF[O]+")")}var M=Nq.hL(p,S),U=M[0],m=M[1];
if(D&&!D.fillEnabled.v)Q.push("fill: none");else if(U){var Y=CSS.rl(U.Clr.v);Q.push("fill: "+Y)}else if(m){l.Uu(m,B,y);
Q.push("fill: url(#grd"+B.kN+")")}if(D==null||!D.strokeEnabled.v)D=Nq.hV(p);if(D&&D.strokeEnabled.v){var x=D.strokeStyleContent.v,T=x.classID;
if(T=="solidColorLayer")Q.push("stroke: "+CSS.rl(x.Clr.v));else{l.Uu(x,B,y);Q.push("stroke: url(#grd"+B.kN+")")}var $=rx.xD.mI.indexOf(D.strokeStyleLineCapType.v.strokeStyleLineCapType),L=rx.xD.join.indexOf(D.strokeStyleLineJoinType.v.strokeStyleLineJoinType),s=D.strokeStyleOpacity.v.val/100,j=D.strokeStyleLineWidth.v.val,Z=rx.xD.XQ.indexOf(D.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(Z==2){j*=2;Q.push("paint-order:stroke fill markers")}var e=D.strokeStyleLineDashSet.v,J=[];for(var N=0;
N<e.length;N++)J.push(Math.round(e[N].v.val*j));if($!=0)Q.push("stroke-linecap:"+["butt","round","square"][$]);
if(L!=0)Q.push("stroke-linejoin:"+["miter","round","bevel"][L]);if(s!=1)Q.push("stroke-opacity:"+l.nK(s));
if(j!=1)Q.push("stroke-width: "+l.nK(j));if(J.length!=0)Q.push("stroke-dasharray: "+J.join(","))}};Nj.Uu=function(Q,S,B){S.kN++;
var y=Nj,l=Q.Grad.v,D=l.Clrs.v.slice(0),R=l.Trns.v.slice(0),p=Q.Ofst.v,O=Q.Type.v.GrdT=="Rdl"?1:0,M=(O==1?"radial":"linear")+"Gradient",U=k.Kg.NT(Q,B);
if(O==0){U[0].x=U[1].x+2*(U[0].x-U[1].x);U[0].y=U[1].y+2*(U[0].y-U[1].y)}var m=y.lF(2)+"<"+M+" id=\"grd"+S.kN+"\" gradientUnits=\"userSpaceOnUse\" ";
if(O==0)S.ic.push(m+" x1=\""+y.nK(U[0].x)+"\" y1=\""+y.nK(U[0].y)+"\" x2=\""+y.nK(U[1].x)+"\" y2=\""+y.nK(U[1].y)+"\">");
if(O==1)S.ic.push(m+" cx=\""+y.nK(U[0].x)+"\" cy=\""+y.nK(U[0].y)+"\" r=\""+y.nK(v.Ui(U[0],U[1]))+"\">");
var Y=Q.Rvrs.v;if(Y){D.reverse();R.reverse()}for(var x=0;x<D.length;x++){var T=D[x].v,$=x<R.length?R[x].v.Opct.v.val/100:1,$=$==1?"":"stop-opacity=\""+y.nK($)+"\"",L=T.Lctn.v/4096;
if(Y)L=1-L;S.ic.push(y.lF(3)+"<stop offset=\""+y.nK(L)+"\" stop-color=\""+CSS.rl(T.Clr.v)+"\" "+$+" />")}S.ic.push(y.lF(2)+"</"+M+">")};
Nj.MV=function(Q,S,B,y,l){var D=[],R=Nj.MV,p=!1,O={QP:Q,Kj:S,kB:[!0,!0,!0],dD:!1,iF:B,mmG:0};O.Sx=Math.round(Math.max(Q,S)*(.02+R.Wq(O)*.03));
O.dO=R.mcr(O);O.dj=R.mLa(O.dO,(R.Wq(O)<.5?-1:1)*(.2+R.Wq(O)*.3));if(R.Wq(O)<.5){var M=O.dO;O.dO=O.dj;
O.dj=M}O.mCb=R.Wq(O)<.4&&R.mLi(O.dj,{t:1,e:1,R:1})>.3;O.muy=R.Wq(O)<.5?0:1;D.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+Q+" "+S+"\" width=\""+Q+"\" height=\""+S+"\">");
O.nU=y[Math.floor(R.dT(O)*y.length)];O.nn=y[Math.floor(R.dT(O)*y.length)];D.push("<style>");D.push("@font-face {  font-family: "+O.nU[2]+";  src: url(rsrc/fonts/"+O.nU[5]+");  }");
D.push("@font-face {  font-family: "+O.nn[2]+";  src: url(rsrc/fonts/"+O.nn[5]+");  }");D.push("</style>");
var U=[0,0,Q,S],m=U;if(l==null)D.push("<path style=\"fill: "+R.nh(O.dO)+"\" d=\""+R.Rect(U[0],U[1],U[2]-U[0],U[3]-U[1])+"\" id=\"Background\" />");
else{O.dD=!0;R.Sh(O,U,D,l)}if(R.Wq(O)<.25&&!O.dD){O.kB[0]=O.kB[2]=!1;R.mRH(U,O,D);m=U}else if(R.Wq(O)<.25||O.dD)m=U;
else{var Y=.52+R.Wq(O)*.2;if(R.Wq(O)<.5)Y=1-Y;var x=U.slice(0),T=U.slice(0);if(R.Wq(O)<.5)x[2]=T[0]=Math.round(Y*Q);
else x[3]=T[1]=Math.round(Y*S);if(R.Wq(O)<.5){var M=x;x=T;T=M}m=x;R.mQl(O,T,D,l)}R.mQV(O,m,D);D.push("</svg>");
D=D.join("\n");var $=k.Q(Math.round(D.length*1.5)),L=X.cb(D,$,0);return[$.buffer.slice(0,L),O.Pb]};Nj.MV.mRH=function(Q,S,B){var y=Nj.MV,l=Q[2]-Q[0],D=Q[3]-Q[1];
if(y.Wq(S)<.5){B.push("<path id=\"Border\" style=\"fill: "+y.nh(S.dj)+"\" d=\""+y.mLu(Q[0],Q[1],Q[2]-Q[0],Q[3]-Q[1],S.Sx)+"\" />")}else if(y.Wq(S)<-.4){y.mLm(S,Q,B)}else{var R=y.Wq(S)<.5?0:1,p=(R==0?D:l)/4,O=y.dt(S,R,Q,B,p,!0),O=y.dt(S,R+2,Q,B,p,!0,O)}};
Nj.MV.mQV=function(Q,S,B){var y=Nj.MV,l="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.".split("-"),D=2*Math.floor(y.Wq(Q)*l.length/2),R=S[2]-S[0],p=S[3]-S[1],M=0,m=0;
Q.Fx=(Q.QP+R)*.5*(.04+y.Wq(Q)*.05);Q.Fx=Math.min(Q.Fx,p*.4,R*.12);Q.Fx=Math.round(Q.Fx);var O=Math.min(Q.Fx*l[D].length*(.35+.3*y.Wq(Q)),R*.9),U=(S[1]+S[3])/2,Y=k.ob(Q.dO)<.85?{t:1,e:1,R:1}:{t:.1,e:.1,R:.1};
if(y.Wq(Q)<.25&&Q.kB[0]){m=0;M=S[0]+Q.Sx}else if(y.Wq(Q)<.33&&Q.kB[2]){m=2;M=S[2]-Q.Sx}else{m=1;M=(S[0]+S[2])/2}var x=Y.t==1?"0,0,0":"255,255,255",T=Q.dD&&y.Wq(Q)<1;
if(T){var $=S[0],L=R,s=U-Q.Fx*1.1,j=Q.Fx*2.2,Z=.7;if(m==1&&y.Wq(Q)<.5){$=s=.2*Math.min(R,p);L=R-2*s;
j=p-s-s}else if(y.Wq(Q)<.7){$=s=0;L=R;j=p;Z=.25}B.push("<path id=\"Strip\" style=\"fill: rgb("+x+"); opacity: "+Z+"\" d=\""+y.Rect($,s,L,j)+"\" />")}if(y.Wq(Q)<.4){var e=Q.Fx*.07;
e*=1.5+y.Wq(Q)*1;if(m==-1&&R/p<3&&!T){B.push("<path id=\"Bar-bottom\" style=\"fill: "+y.nh(Y)+"\" d=\""+y.Rect(M-O/2,U+Q.Fx*1.1-e/2,O,e)+"\" />");
B.push("<path id=\"Bar-top\"    style=\"fill: "+y.nh(Y)+"\" d=\""+y.Rect(M-O/2,U-Q.Fx*1.1-e/2,O,e)+"\" />")}if(m!=1){B.push("<path id=\"Bar\" style=\"fill: "+y.nh(Y)+"\" d=\""+y.Rect(M-e/2,U-Q.Fx*.8,e,Q.Fx*.8*2)+"\" />");
M+=(m==0?1:-1)*Q.Fx/3}}var J=Q.Fx*.4;B.push(y.Sg(l[D+1],M,U+J*1.6,J,Y,m,Q.nn));B.push(y.Sg(l[D],M,U+Q.Fx*.04,Q.Fx,Y,m,Q.nU))};
Nj.MV.mQl=function(Q,S,B,y){var l=S[2]-S[0],D=S[3]-S[1],R=Math.max(l,D),p=Math.min(l,D),O=Nj.MV;if(R/p<5&&!Q.dD&&!1){O.Sh(Q,S,B,y)}else if(O.Wq(Q)<0)B.push("<path style=\"fill: "+O.nh(Q.dj)+"\" d=\""+O.Rect(S[0],S[1],l,D)+"\" />");
else{var M=0;if(S[3]!=Q.Kj)M=0;if(S[2]!=Q.QP)M=3;if(S[0]!=0)M=1;if(S[1]!=0)M=2;var U=M+2&3;if(R/p<3){var m=O.mLq(U),Y=m[Math.round(O.Wq(Q)*(m.length-1))],x=Y.wW.slice(0,4),T=x.indexOf(1);
Y=JSON.parse(JSON.stringify(Y));var $=-1;if(x!="0000"){var L=new Nu;if(Y.wW[5]=="0"){if(T==3&&M==1){$=1;
L.scale(-1,1)}else $=T}else{var s=U;while(s==U)s=Math.floor(O.Wq(Q)*4)&3;L.rotate((-T+s)*Math.PI/2)}O.V(Y,L)}var j=O.vQ(Y),Z=l-2*Q.Sx,e=D-2*Q.Sx;
if($!=-1){if(($&1)==0)e-=Q.Sx;else Z-=Q.Sx}var J=Math.min(Z/j.r,e/j.O),N=new Nu;N.translate(-j.x,-j.y);
N.scale(J,J);var E=(l-j.r*J)/2,h=(D-j.O*J)/2;if($!=-1){if($==3)E=0;if($==0)h=0;if($==1)E=l-j.r*J;if($==2)h=D-j.O*J}N.translate(S[0]+E,S[1]+h);
O.sE(Q,Y,N,Q.dj,B)}else{O.dt(Q,M,S,B,1e9)}}};Nj.MV.Sh=function(Q,S,B,y){var l=S[2]-S[0],D=S[3]-S[1],R=Math.max(l,D),p=Math.min(l,D),O=Nj.MV,M=O.dT(Q),U,m,Y,x=y[0]instanceof ArrayBuffer;
if(x){U="data:image/jpg;base64,"+Nx._J(y[0]);m=y[1];Y=y[2]}else{var T=Math.floor(M*y.length),$=y[T];
Q.Pb=$;U=$.webformatURL;m=$.webformatWidth;Y=$.webformatHeight}var L=S[0],s=S[1],j=l,Z=D;if(l/D>m/Y){Z=j*Y/m;
s=s-(Z-D)/2}else{j=Z*m/Y;L=L-(j-l)/2}if(x){B.push("<defs>");B.push("<image width=\""+m+"\" height=\""+Y+"\" id=\"Background\" href=\""+U+"\" />");
B.push("</defs>");var e=j/m;B.push("<use href=\"#Background\" transform=\""+Nj.di(new Nu(e,0,0,e,L,s))+"\" />")}else{var J="cp"+Math.random();
B.push("<clipPath id=\""+J+"\">");B.push("<path style=\"fill: "+O.nh(Q.dj)+"\" d=\""+O.Rect(S[0],S[1],l,D)+"\" />");
B.push("</clipPath>");B.push("<image  clip-path=\"url(#"+J+")\" xlink:href=\""+U+"\" x=\""+L+"\" y=\""+s+"\" width=\""+j+"\" height=\""+Z+"\" />")}};
Nj.MV.Sg=function(Q,S,B,y,l,D,R){var p=Nj.MV;return"<text x=\""+S+"\" y=\""+B+"\" style=\"fill:"+p.nh(l)+"; font-size:"+y+"px; text-anchor:"+["start","middle","end"][D]+"; font-family:"+R[2]+";\"><tspan>"+Q+"</tspan></text>"};
Nj.MV.sE=function(Q,S,B,y,l){var D=Nj.MV,R=[];for(var p=0;p<S.KZ.length;p++){R.push(y);if(Q.mCb){y=(p&1)==Q.muy?{t:1,e:1,R:1}:R[0]}}l.push("<g id=\""+S.wW.split("-")[2]+":::\" style=\"transform: "+Nj.di(B)+";\" >");
for(var p=0;p<S.KZ.length;p++){var O=S.KZ[p];y=R.pop();l.push("<path style=\"fill: "+(y?D.nh(y):"#"+O[0])+"\" d=\""+Typr.U.pathToSVG({crds:O[1].M,cmds:O[1].F})+"\" />")}l.push("</g>")};
Nj.MV.mLm=function(Q,S,B){var y=Nj.MV,l=Nj.MV.NK,D=[];for(var R=0;R<l.length;R++){var p=l[R],O=p.wW.slice(0,4);
if(O!="1001")continue;D.push(p)}var p=D[Math.floor(y.Wq(Q)*D.length)];if(y.Wq(Q)<.5)y.V(p,new Nu(0,1,1,0,0,0));
var M=S[3]-S[1],U=S[2]-S[0],m=y.vQ(p),Y=.7*Math.min(U,M,.5*Math.max(U,M))/Math.max(m.r,m.O),x=new Nu;
x.scale(Y,Y);if(y.Wq(Q)<.5){x.scale(1,-1);x.translate(0,M)}y.sE(Q,p,x,Q.dj,B);x.rotate(Math.PI);x.translate(U,M);
y.sE(Q,p,x,Q.dj,B)};Nj.MV.mLq=function(Q){var S=Nj.MV.NK,B=[];for(var y=0;y<S.length;y++){var l=S[y],D=l.wW.slice(0,4);
if(D=="0000"){B.push(l);continue}if(["1000","0100","0010","0001"].indexOf(D)==-1)continue;var R=D.indexOf("1");
if(l.wW[5]=="0"&&Q==R&&R!=3)continue;B.push(l)}return B};Nj.MV.dt=function(Q,S,B,y,l,D,R){var p=Nj.MV.NK,O=Nj.MV,M=[],Z,e;
for(var U=0;U<p.length;U++){var m=p[U],Y=m.wW.slice(0,4);if(["1110","1101","1011","0111"].indexOf(Y)==-1)continue;
var x=Y.indexOf("0")+2&3;if(m.wW[5]=="0")if(D==!0||S!=x&&!(S==1&&x==3))continue;M.push(m)}var T=R!=null?R:Math.floor(O.Wq(Q)*M.length),m=M[T],m=JSON.parse(JSON.stringify(m)),Y=m.wW.slice(0,4),x=Y.indexOf("0")+2&3;
if(x==3&&S==1)k.V(m,new Nu(1,0,0,-1,0,1e3));var $=new Nu;$.translate(-500,-500);$.rotate(-x*Math.PI/2);
$.translate(500,500);O.V(m,$);var L=B[3]-B[1],s=B[2]-B[0],j=O.vQ(m);if(j.y<0){j.O+=j.y;j.y=0}if(j.y>0){j.O+=j.y;
j.y=0}if((S&1)==0){e=L;Z=s}else{Z=L;e=s}var J=Math.min(Math.min(.5+.5*O.Wq(Q))*Math.min(s,L),l)/j.O,N=Math.ceil(Z/(1e3*J)),E=new Nu,h=new Nu;
h.scale(J,J);if(S==0||S==2){h.translate(-(s/2),-(L/2));h.rotate(-S*Math.PI/2);h.translate(s/2+B[0],L/2+B[1])}else{h.rotate(Math.PI/2);
h.scale(1,-1);h.translate(B[0],B[1]);if(S==1){h.scale(-1,1);h.translate(s,0)}}y.push("<g id=\"Border-"+["top","right","bottom","left"][S]+":::\">");
for(var U=0;U<N;U++){var o=E.clone();o.concat(h);O.sE(Q,m,o,Q.dj,y);E.translate(1e3-2,0)}y.push("</g>");
return T};Nj.MV.Rect=function(Q,S,B,y){return Typr.U.pathToSVG({crds:[Q,S,Q+B,S,Q+B,S+y,Q,S+y],cmds:["M","L","L","L","Z"]})};
Nj.MV.mLu=function(Q,S,B,y,l){var D=[Q,S,Q+B,S,Q+B,S+y,Q,S+y];Q+=l;S+=l;B-=2*l;y-=2*l;D.push(Q,S,Q,S+y,Q+B,S+y,Q+B,S);
return Typr.U.pathToSVG({crds:D,cmds:"M L L L Z M L L L Z".split(" ")})};Nj.MV.mLa=function(Q,S){var B=k.hl(Q.t,Q.e,Q.R);
B.io=Math.max(.1,Math.min(.9,B.io+S));return k.qd(B.Kj,B.YZ,B.io)};Nj.MV.mvv=function(Q,S){var B=k.hl(Q.t,Q.e,Q.R);
B.Kj+=S;return k.qd(B.Kj,B.YZ,B.io)};Nj.MV.mvE=function(Q){var S=k.hl(Q.t,Q.e,Q.R);S.io=1-S.io;return k.qd(S.Kj,S.YZ,S.io)};
Nj.MV.mLi=function(Q,S){var B=Q.t-S.t,y=Q.e-S.e,l=Q.R-S.R;return Math.sqrt(B*B+y*y+l*l)};Nj.MV.mcr=function(Q){var S=Nj.MV;
return{t:S.Wq(Q),e:S.Wq(Q),R:S.Wq(Q)}};Nj.MV.nh=function(Q){return CSS.Z_({t:Q.t*255,e:Q.e*255,R:Q.R*255})};
Nj.MV.vQ=function(Q){var S=Q.KZ,B=new w;for(var y=0;y<S.length;y++)B=B.wM(k.i.vQ(S[y][1].M));return B};
Nj.MV.V=function(Q,S){var B=Q.KZ;for(var y=0;y<B.length;y++)k.i.V(B[y][1].M,S,B[y][1].M)};Nj.MV.Wq=function(Q){Q.mmG++;
var S=Q.mmG&3;if(S==0)Q.iF=Nj.MV.ol(Q.iF);var B=Q.iF>>>8*S&255;return B*(.99999999/255)};Nj.MV.dT=function(Q){var S=Nj.MV.ol(Q.iF);
Q.iF=Nj.MV.ol(S);return S*(1/4294967295)};Nj.MV.ol=function(Q){Q=(Q^61^Q>>>16)>>>0;Q=Q+(Q<<3)>>>0;Q=(Q^Q>>>4)>>>0;
Q=Q*668265261>>>0;Q=(Q^Q>>>15)>>>0;return Q};Nj.MV.NK=[{wW:"0001-0-bird",KZ:[["4b3c34",{F:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),M:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{F:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),M:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{F:"M C C C C C C C C C C C C L Z".split(" "),M:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{wW:"0001-0-bird2",KZ:[["ff7f2a",{F:"M L L L Z M L L L Z".split(" "),M:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{F:"M C C C C C C C C C C C L Z".split(" "),M:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{F:"M C C C C C C L Z M C C Z".split(" "),M:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{F:"M L L L Z M L L L Z".split(" "),M:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{F:"M L C C C C C C C C L Z".split(" "),M:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{F:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),M:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{wW:"0000-1-flower",KZ:[["7a59a2",{F:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),M:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{wW:"0000-1-flower",KZ:[["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),M:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{wW:"0000-1-flower",KZ:[["ffac42",{F:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),M:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{wW:"0000-1-flower",KZ:[["d04040",{F:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),M:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{wW:"0000-1-flower",KZ:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),M:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{F:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),M:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{wW:"0000-0-hearts",KZ:[["d17070",{F:"M C C C C C C C C C L Z".split(" "),M:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{F:"M C C C C C C C C C L Z".split(" "),M:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{F:"M C C C C C C C C C L Z".split(" "),M:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{wW:"0000-0-anchor",KZ:[["2a3b66",{F:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),M:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{wW:"0000-1-leaf",KZ:[["fbb600",{F:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),M:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{wW:"0000-1-acorn",KZ:[["a05a2c",{F:"M C C C C C C C L Z".split(" "),M:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{F:"M C C C C C C C C C C C Z".split(" "),M:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{wW:"0000-0-skull",KZ:[["808080",{F:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),M:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{wW:"0000-0-ghost",KZ:[["e6e6e6",{F:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),M:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{F:"M C C C C Z M C C C C Z".split(" "),M:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{wW:"1001-1-rose",KZ:[["9e1460",{F:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),M:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{F:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),M:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{wW:"1001-1-curls",KZ:[["53a7ab",{F:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),M:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{F:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),M:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{wW:"0111-0-pines",KZ:[["e9e9e9",{F:"M C C C C C C C C L L L Z".split(" "),M:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{F:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),M:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{wW:"0111-0-flowers",KZ:[["8cae40",{F:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),M:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),M:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{wW:"1101-1-confetti",KZ:[["e789ff",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),M:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),M:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{wW:"1101-1-branch",KZ:[["7f500b",{F:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),M:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),M:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{wW:"1101-1-sticks",KZ:[["ec7272",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),M:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),M:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{wW:"1101-1-dots",KZ:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),M:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),M:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{F:["M","C","C","Z"],M:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{wW:"1101-1-strips",KZ:[["ffc88c",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),M:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),M:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{F:["M","C","C","Z"],M:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{wW:"1101-1-circs",KZ:[["ec7272",{F:"M C C C C Z M C C C C Z".split(" "),M:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{F:"M C C C C Z M C C C C Z".split(" "),M:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{F:["M","C","C","Z"],M:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{wW:"1101-1-squares",KZ:[["014ea7",{F:"M L L L L Z M L L L L Z".split(" "),M:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{F:"M L L L L Z M L L L L Z".split(" "),M:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{F:["M","C","C","Z"],M:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{wW:"1101-0-christmas",KZ:[["014ea7",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),M:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),M:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var Ra={};Ra.parse=function(Q){var S=new Uint8Array(Q),B=null;if(S[0]==80&&S[1]==75){var y=Date.now(),l=UZIP.parse(S.buffer),B=l["document.json"];
B=JSON.parse(X.nl(B,0,B.length));Ra.dk(B,l)}else{var D=NS.parse(Q);B=Ra.S_(D[2][0][1])}return B};Ra.dk=function(Q,S){var B=typeof Q;
if(B=="string"||B=="number"||B=="boolean")return Q;if(Q instanceof Array){for(var y=0;y<Q.length;y++)Q[y]=Ra.dk(Q[y],S);
return Q}var l=Q._class;if(l==null)return Q;if(l=="MSJSONFileReference"){var D=Q._ref;if(!1){}else if(S[D+".json"]!=null){var R=S[D+".json"],p=R.length;
for(var y=0;y<p;y++)if(R[y]==11)R[y]=32;var O=X.nl(R,0,p);Q=JSON.parse(O)}else if(S[D+".png"]!=null)return{key:D.split("/").pop(),bdata:S[D+".png"]};
else if(S[D+".jpg"]!=null)return{key:D.split("/").pop(),bdata:S[D+".jpg"]};else if(S[D+".pdf"]!=null)return{key:D.split("/").pop(),bdata:S[D+".pdf"]};
else if(S[D]!=null)return{key:D.split("/").pop(),bdata:S[D]};else{console.log(Q,S);throw"e"}}else if(l=="MSAttributedString"){var O=atob(Q.archivedAttributedString._archive),M=O.length-1,U=new Uint8Array(M);
for(var y=0;y<M;y++)U[y]=O.charCodeAt(y);Q.archivedAttributedString=Ra.S_(U)}for(var m in Q)Q[m]=Ra.dk(Q[m],S);
return Q};Ra.SF=function(Q,S,B,y){if(Q instanceof Uint8Array)return null;if(y.indexOf(Q)!=-1)return null;
y.push(Q);if(Q==S)return B;for(var l in Q){B.push(l);var D=Ra.SF(Q[l],S,B,y);if(D){console.log(Q,D);
throw"e"}B.pop()}};Ra.S_=function(Q){var S=mK.parse(Q,0),B=S.$objects,y=new Uint8Array(B.length),l=Ra.RM(B,y,S.$top.root);
for(var D=0;D<B.length;D++)if(y[D]==0&&D!=0){console.log(D,B[D]);Ra.SF(l,D,[],[])}for(var D=0;D<B.length;
D++){var R=B[D];if(R._class&&(R._class=="bitmap"||R._class=="fill"&&R.fillType==4&&(R.image||R.imageSHA))){var p=R.image,O=R.imageSHA,M=null,U=null;
if(p=="$null")p=null;if(O=="$null")O=null;if(p&&p.data){U=p.sha1["NS.bytes"];U=btoa(X.Ly(U,0,U.length));
M=p.data instanceof Uint8Array?p.data:p.data["NS.bytes"]}else if(p==null&&O==null){var m=Np.PNG.Ba([[k.Q(4).buffer]],1,1);
M=new Uint8Array(m)}else{var Y=(l.assets?l.assets.imageCollection:l.images).images;if(O)U=O instanceof Uint8Array?O:O["NS.bytes"];
else U=p.sha1["NS.bytes"];U=btoa(X.Ly(U,0,U.length));var M=Y[U].data;if(M["NS.bytes"])M=M["NS.bytes"]}M=new Uint8Array(M.buffer.slice(M.byteOffset,M.byteOffset+M.length));
delete R.imageSHA;R.image={key:U,bdata:M}}}return l};Ra.mce=function(Q){return Q.slice(0,11)=="MSImmutable"?"MS"+Q.slice(11):Q};
Ra.RM=function(Q,S,B){var y=Q[B];if(S[B]==1){return y}S[B]=1;if(typeof y=="string")return y;if(typeof y=="number")return y;
if(typeof y=="boolean")return y;if(y instanceof Array)return y;if(y instanceof Uint8Array){return y}if(Q[y.$class]==null){if(y.$class==null&&y["NS.data"]!=null)return y;
console.log(B,y);throw"e"}var l=Q[y.$class],D=Ra.mce(l.$classname);S[y.$class]=1;y.$class=D;if(Ra.Sa[D]){delete y.$class;
y._class=Ra.Sa[D]}var R=Ra.RM;if(D=="NSMutableArray"||D=="NSArray"){var p=[];if(y["NS.objects"]!=null)for(var O=0;
O<y["NS.objects"].length;O++)p.push(R(Q,S,y["NS.objects"][O]));else for(var O=0;y["NS.object."+O]!=null;
O++)p.push(R(Q,S,y["NS.object."+O]));Q[B]=p;return p}if(D=="NSDictionary"||D=="NSMutableDictionary"){var M={$class:D};
if(y["NS.keys"]!=null)for(var O=0;O<y["NS.keys"].length;O++){var U=R(Q,S,y["NS.keys"][O]);if(U instanceof Uint8Array)U=btoa(Ra.eR.Ly(U,0,U.length));
else if(typeof U!="string"&&typeof U!="number")U=btoa(Ra.eR.Ly(U["NS.bytes"],0,U["NS.bytes"].length));
M[U]=R(Q,S,y["NS.objects"][O])}else for(var O=0;y["NS.key."+O]!=null;O++){var U=R(Q,S,y["NS.key."+O]);
if(U instanceof Uint8Array)U=btoa(Ra.eR.Ly(U,0,U.length));else if(typeof U!="string"&&typeof U!="number")U=btoa(Ra.eR.Ly(U["NS.bytes"],0,U["NS.bytes"].length));
M[U]=R(Q,S,y["NS.object."+O])}for(var m in y)delete y[m];for(var m in M)y[m]=M[m];return y}if(D=="NSURL")return{$class:D,base:R(Q,S,y["NS.base"]),relative:R(Q,S,y["NS.relative"])};
if(Ra.mcF.indexOf(D)!=-1){Q[B]=R(Q,S,y.array_do);return Q[B]}if(y.do_objectID!=null)y.do_objectID=R(Q,S,y.do_objectID);
if(Ra.mcw.indexOf(D)!=-1)return y;var Y=Ra.mcU[D];if(Y==null){console.log(Q,y);throw"unknown class "+D}for(var O=0;
O<Y.length;O++)if(y[Y[O]]!=null)y[Y[O]]=R(Q,S,y[Y[O]]);if(D=="MSTextLayer"){var x=y,T,$,L,s;if(x.attributedString)T=x.attributedString.archivedAttributedString;
else T=x.storage;s=T.NSString;if(typeof s!="string")s=X.nl(s["NS.bytes"],0,s["NS.bytes"].length);if(T.NSAttributeInfo)$=T.NSAttributeInfo["NS.bytes"];
else{var j=s.length,Z=[];while(j>0){var e=Math.min(100,j);Z.push(e,0);j-=e}$=new Uint8Array(Z)}L=T.NSAttributes instanceof Array?T.NSAttributes:[T.NSAttributes];
var J={$class:"NSAttributedString",NSString:s,NSAttributes:L};x.attributedString={_class:"MSAttributedString",archivedAttributedString:J};
J.NSAttributeInfo={$class:"NSMutableData","NS.data":$};delete x.storage}return y};Ra.eR={Si:function(Q,S){return Q[S+1]<<8|Q[S]},j:function(Q,S){return Q[S+3]<<24|Q[S+2]<<16|Q[S+1]<<8|Q[S]},Ly:function(Q,S,B){var y="";
for(var l=0;l<B;l++)y+=String.fromCharCode(Q[S+l]);return y}};Ra.Sa={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
Ra.mcF=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
Ra.mcw="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
Ra.mcU={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"]};
var mK={};mK.parse=function(Q,S){var B=X.Ly(Q,S,8);S+=8;var y=mK.parse.mco(Q,Q.length-31),l=[];if(y.wR==1){var S=Q.length-31-y.wR*y.wC;
for(var D=0;D<y.wC;D++)l.push(Q[S+D])}else if(y.wR==2){var S=Q.length-31-y.wR*y.wC;for(var D=0;D<y.wC;
D++)l.push(X.Si(Q,S+D*2))}else if(y.wR==4){var S=Q.length-31-y.wR*y.wC;for(var D=0;D<y.wC;D++)l.push(X.j(Q,S+D*4))}else{throw"e"}var R=mK.parse.RM(Q,l,y.root,y);
return R};mK.parse.RM=function(Q,S,B,y){var l=mK.eR,D=y.muq,R=D==4?l.j:D==2?l.Si:l.mcT,p=mK.parse,O=S[B],M=Q[O],U=M>>4,m=M&15,x=null;
O+=1;if([4,5,6,10,12,13].indexOf(U)!=-1&&m==15){var Y=p.$I(Q,O);O+=Y.Ad;m=Y.z}if(!1){}else if(U==0)x=m==8?!1:m==9?!0:null;
else if(U==1)x=p.$I(Q,O-1).z;else if(U==2)x=1<<m==4?X.nr(Q,O):X.nS(Q,O);else if(U==3)x=X.nS(Q,O);else if(U==4)x=new Uint8Array(Q.buffer,O,m);
else if(U==5)x=X.Ly(Q,O,m);else if(U==6)x=X.dM(Q,O,m);else if(U==8){x=0;for(var T=0;T<m+1;T++)x=x<<8|Q[O+T]}else if(U==10){x=[];
for(var T=0;T<m;T++)x.push(p.RM(Q,S,R(Q,O+D*T),y))}else if(U==12){x=[];for(var T=0;T<m;T++)x.push(p.RM(Q,S,R(Q,O+D*T),y))}else if(U==13){x={};
for(var T=0;T<m;T++){var $=p.RM(Q,S,R(Q,O+D*T),y),L=p.RM(Q,S,R(Q,O+D*(m+T)),y);x[$]=L}}else throw"unknown mask "+U;
return x};mK.parse.$I=function(Q,S){var B=1<<(Q[S]&15),y=0;for(var l=0;l<B;l++)y=y<<8|Q[S+1+l];return{z:y,Ad:B+1}};
mK.parse.mco=function(Q,S){var B={};S+=6;B.wR=Q[S];S++;B.muq=Q[S];S++;S+=4;B.wC=X.j(Q,S);S+=4;S+=4;B.root=X.j(Q,S);
S+=4;S+=4;B.mrg=X.j(Q,S);S+=4;return B};mK.eR={mcT:function(Q,S){return Q[S]},Si:function(Q,S){return Q[S]<<8|Q[S+1]},j:function(Q,S){return Q[S]<<24|Q[S+1]<<16|Q[S+2]<<8|Q[S+3]},Ly:function(Q,S,B){var y="";
for(var l=0;l<B;l++)y+=String.fromCharCode(Q[S+l]);return y}};var NS={parse:function(Q){var S=new Uint8Array(Q),B=NS.cx(S),y=[],l=new Uint8Array(S.length),D=[];
y.push(D);NS.dZ(S,B,1,l,D);for(var R=0;R<D.length;R++){var p=[];y.push(p);NS.dZ(S,B,D[R][3],l,p);D[R][3]=R+1}return y},dZ:function(Q,S,B,y,l){B--;
var D=B*S.oP+(B==0?100:0),R=Q[D],p=NS.Si(Q,D+1);if(p!=0)throw"free block in a page";var O=NS.Si(Q,D+3),M=NS.Si(Q,D+5);
if(M==0)M=65536;var U=Q[D+7],m=NS.Si(Q,D+8);if(R==2||R==5)D+=4;else m=0;for(var Y=0;Y<O;Y++){var x=B*S.oP+NS.Si(Q,D+8+2*Y),T=-1,$=0,L=0,s=0;
if(R==2||R==5){T=NS.j(Q,x);x+=4}if(R==2||R==10||R==13){$=NS.U_(Q,x);x+=$.Ad}if(R==5||R==13){L=NS.U_(Q,x);
x+=L.Ad}if(R==5){NS.dZ(Q,S,T,y,l);continue}var j=S.oP-(B==0?100:0),Z=$.Kh,e=R==13?j-35:Math.floor((j-12)*64/255)-23,J=Math.floor((j-12)*32/255)-23,N=J+(Z-J)%(j-4);
if(Z<=e){NS.MK(Q,x,y,0,Z)}else{var E=N<=e?N:J,h=0;NS.MK(Q,x,y,0,E);h+=E;s=NS.j(Q,x+E);while(s!=0){var o=(s-1)*S.oP;
s=NS.j(Q,o);var V=Math.min(S.oP-4,Z-h);NS.MK(Q,o+4,y,h,V);h+=V}}l.push(NS.mdr(y,Z))}},mdr:function(Q,S){var B=0,y=NS.U_(Q,B);
B+=y.Ad;var l=[],D=[];while(B<y.Kh){var R=NS.U_(Q,B);B+=R.Ad;l.push(R.Kh)}if(B!=y.Kh)throw"e";for(var p=0;
p<l.length;p++){var R=l[p];if(!1){}else if(R==0)D.push(null);else if(R==1){D.push(NS.mdj(Q,B));B+=1}else if(R==2){D.push(NS.Ll(Q,B));
B+=2}else if(R==3){D.push(NS.mdn(Q,B));B+=3}else if(R==4){D.push(NS.$I(Q,B));B+=4}else if(R==7){D.push(NS.mdk(Q,B));
B+=16}else if(R==8)D.push(0);else if(R==9)D.push(1);else if(R>=12&&(R&1)==0){var O=R-13>>1,M=new Uint8Array(O);
NS.MK(Q,B,M,0,O);D.push(M);B+=O}else if(R>=13&&(R&1)==1){var O=R-12>>1;D.push(NS.nl(Q,B,O));B+=O}else throw"unknonw type "+R}return D},cx:function(Q){if(!(Q[18]==1&&Q[19]==1&&Q[20]==0&&Q[21]==64&&Q[22]==32&&Q[23]==32))throw"unexpected SQL3 header";
var S={nB:NS.Ly(Q,0,15),oP:NS.Si(Q,16),mr_:NS.j(Q,24),size:NS.j(Q,28),mrG:NS.j(Q,32),mra:NS.j(Q,36),mrv:NS.j(Q,40),mrw:NS.j(Q,44),mrf:NS.j(Q,48),mrU:NS.j(Q,52),mMl:NS.j(Q,56),mrE:NS.j(Q,60),mrs:NS.j(Q,64)!=0,mr$:NS.j(Q,68),mrt:NS.j(Q,92),mrX:NS.j(Q,96)};
if(S.oP==1)S.oP=65536;if(S.mMl!=1)throw"unsupported text encoding "+S.mMl;return S},mdU:function(Q,S){return Q[S]<<16|Q[S+1]<<8|Q[S+2]},mdn:function(Q,S){var B=NS.mdU(Q,S),y=B&8388608;
return y?-(16777215-B+1):B},mdj:function(Q,S){NS.Rd[0]=Q[S];return NS.meh[0]},$I:function(Q,S){var B=NS.Rd;
for(var y=0;y<4;y++)B[y]=Q[S+3-y];return NS.meW[0]},Ll:function(Q,S){var B=NS.Rd;B[0]=Q[S+1];B[1]=Q[S];
return NS.meC[0]},Si:function(Q,S){return Q[S]<<8|Q[S+1]},j:function(Q,S){return Q[S]<<24|Q[S+1]<<16|Q[S+2]<<8|Q[S+3]},mdk:function(Q,S){var B=NS.Rd;
for(var y=0;y<8;y++)B[y]=Q[S+7-y];return NS.met[0]},U_:function(Q,S){var B=S,y=0;while(!0){var l=Q[S];
S++;y=y*128+(l&127);if(l<128)break}return{Kh:y,Ad:S-B}},Ly:function(Q,S,B){var y="";for(var l=0;l<B;
l++)y+=String.fromCharCode(Q[S+l]);return y},nl:function(Q,S,B){var y="";for(var l=0;l<B;l++)y+="%"+NS.mdA(Q[S+l].toString(16));
return decodeURIComponent(y)},MK:function(Q,S,B,y,l){if(Q[S+l-1]==null||B[y+l-1]==null){console.log(S,y,l);
throw"e"}for(var D=0;D<l;D++)B[y+D]=Q[S+D]},mdA:function(Q){return Q.length<2?"0"+Q:Q}};NS.Rd=new Uint8Array(8);
NS.meh=new Int8Array(NS.Rd.buffer);NS.meC=new Int16Array(NS.Rd.buffer);NS.meW=new Int32Array(NS.Rd.buffer);
NS.met=new Float64Array(NS.Rd.buffer);function Rq(Q,S,B){this.wJ=Q;this.Cj=S;this.muJ=B;this.iV=new v(0,0);
this.Ck=-1;this.CK=0;this.kl=0;this.dB=new w;this.dH=[];this.nT=null;this.mMT=null;this.ni=null;this.wg=null;
this.kk=null;this.mpc=null}Rq.prototype.StartPage=function(Q,S,B,y){var l=this.Cj,D=l.GK(),R=1;while((B-Q)*(y-S)*D*D/(R*R)>8e3*8e3)R++;
l.scale(1/R,1/R);this.mMT=[Q,S,B,y];var R=l.GK();Q=Math.round(Q*R);S=Math.round(S*R);B=Math.round(B*R);
y=Math.round(y*R);var p=this.wJ,O=this.ni;if(O==null){l.Ni=-Q}else{var M=O[2]-O[0]+30,U=Math.round(B-Q)+30;
if(this.iV.x+M+U>8192){l.Ni=-Q;this.iV.x=0;this.iV.y+=this.kl+120;this.kl=0}else{l.Ni+=M;this.iV.x+=M}}l.pg=this.iV.y+(this.muJ?y:-S);
this.kl=Math.max(this.kl,Math.round(y-S));this.ni=[Q,S,B,y];p.G.push(p.rg())};Rq.prototype.Sv=function(){var Q=this.wJ,S=Q.G[Q.G.length-1];
return S};Rq.prototype.Sw=function(){var Q=JSON.parse(JSON.stringify(rx.xD.default));Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
Q.strokeEnabled.v=!1;Q.fillEnabled.v=!1;return Q};Rq.prototype.Sf=function(){var Q=this.wJ,S=Q.oz();
S.pM("Path "+Q.G.length);this.wJ.G.push(S);S.$N|=16;S.add.SoCo={classID:"null",Clr:{t:"Objc",v:k.Kg.Od({t:0,e:0,R:0})}};
S.add.vmsk=new z.hm;S.add.vstk=this.Sw();return S};Rq.prototype.db=function(Q){var S={M:Q.crds,F:Q.cmds},B=k.i.Ua(S,!1);
k.c.ZU(B,this.Cj);return B};Rq.SE=function(Q,S){for(var B=0;B<Q.length;B++)if(Q[B].GL!=null)Q[B].GL=S};
Rq.meH=function(Q){return Math.sqrt(Math.abs(Q[0]*Q[3]-Q[1]*Q[2]))};Rq.ec=function(Q){return k.Kg.Od({t:Q[0]*255,e:Q[1]*255,R:Q[2]*255})};
Rq.UE=function(Q){return new Nu(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])};Rq.prototype.Stroke=function(Q){if(this.Ck!=-1&&this.Ck!=this.CK)return;
if(Q.pth.cmds.length<=1)return;var S=this.db(Q.pth);if(S.length<=2)return;this.Us(Q);Rq.SE(S,-1);S[2].GL=1;
var B=Rq.ec(Q.COLR),y=this.Sv(),l=this.Sw();l.strokeEnabled.v=!0;l.strokeStyleMiterLimit.v=Q.mlimit;
l.strokeStyleLineDashSet.v=Nq.hg(Q.dash,1/Q.lwidth);l.strokeStyleLineDashOffset.v.val=Q.doff;l.strokeStyleLineJoinType.v.strokeStyleLineJoinType=rx.xD.join[Q.ljoin];
l.strokeStyleLineCapType.v.strokeStyleLineCapType=rx.xD.mI[Q.lcap];l.strokeStyleLineWidth.v.val=Math.max(.4,Q.lwidth*Rq.meH(Q.ctm)*this.Cj.GK());
l.strokeStyleContent.v.Clr.v=B;var D=y!=null&&y.add.vmsk!=null&&!y.So(),R=D&&!y.add.vstk.strokeEnabled.v&&z.hm.mwW(y.add.vmsk.A,S,!0),p=D&&!y.add.vstk.fillEnabled.v&&JSON.stringify(l)==JSON.stringify(y.add.vstk);
if(p){Rq.SE(S,-1);y.add.vmsk.A=y.add.vmsk.A.concat(S.slice(2))}else if(R){y.add.vstk=l;l.fillEnabled.v=!0}else{y=this.Sf();
y.add.vmsk.A=S;y.add.vstk=l}};Rq.prototype.Fill=function(Q,S){if(this.Ck!=-1&&this.Ck!=this.CK)return;
if(Q.ca==0)return;var B=Q.pth.cmds;if(B.length==0)return;if(B.length==2&&JSON.stringify(B)=="[\"M\",\"L\"]")return;
var y=k.i.vQ(Q.cpth.crds),l=k.i.vQ(Q.pth.crds);if(l.nG(y).Kq())return;var D=Q.pth;if(this.wg==null&&UDOC.G.isBox(D,[l.x,l.y,l.x+l.r,l.y+l.O])&&l.vM(y)){D=Q.cpth}else this.Us(Q);
var R=this.db(D),p=k.i.wS(l);k.i.V(p.M,this.Cj,p.M);l=k.i.vQ(p.M);var O=Rq.Kx(Q.colr,this.Cj,l),M=this.Sv(),U=M!=null&&M.add.vstk!=null&&!M.add.vstk.strokeEnabled.v&&M.add.SoCo&&O.type=="SoFi"&&JSON.stringify(M.add.SoCo.Clr.v)==JSON.stringify(O.z.v.Clr.v);
if(U){var m=!1;for(var Y=0;Y<R.length;Y++){if(R[Y].GL==0||R[Y].GL==2)m=!0}if(m){var x=k.i.vQ(k.c.nq(M.add.vmsk.A)),T=k.i.vQ(k.c.nq(R));
U=x.nG(T).Kq()}}if(U){var $=M.add.vmsk.A;for(var Y=2;Y<R.length;Y++)$.push(R[Y])}else{M=this.Sf();delete M.add.SoCo;
M.add.vmsk.A=z.hm.tS(R);Rq.xm(Q.colr,M,this.Cj,l);Rq.KI(Q,M)}};Rq.xm=function(Q,S,B,y){var l=Rq.Kx(Q,B,y),D=null,R=null;
S.add.vstk.fillEnabled.v=!0;if(l.type=="SoFi"){D="SoCo";R=rx.ti}if(l.type=="GrFl"){D="GdFl";R=rx.nj}if(l.type=="patternFill"){D="PtFl";
R=rx.sG}if(D!=null){S.add[D]={classID:"null"};for(var p=0;p<R.length;p++){var O=R[p];S.add[D][O]=l.z.v[O]}}};
Rq.prototype.Us=function(Q){var S=this.wJ,B=Q.cpth,y=B.cmds.join(""),l=B.crds,D=y+" "+l.join(","),R=UDOC.G.isBox(B,this.mMT);
if(R&&this.wg==null)return;if(D==this.wg)return;this.ST();if(!R){this.wg=D;S.G.push(S.rg());var p=S.oz();
p.pM("Mask");p.add.lsct=NI.Tu;p.wk="pass";p.$N=24;var O=p.add.vmsk=new z.hm;O.A=this.db(Q.cpth);if(UDOC.G.isBox(B)){this.kk=k.c.Fi(O.A);
this.kk.Jq(3,3)}else this.kk=null;this.mpc=p}};Rq.prototype.ST=function(){var Q=this.wJ;if(this.wg!=null){var S=Q.G.length-1,B=S,y=!1;
while(B>=0&&Q.G[B].add.lsct!=NI.hR)B--;var l=this.kk;if(l){var D=new w,R=S;while(R>B){D=Q.G[R].el(this.wJ,!1,!0);
R--}y=l.vM(D)}if(y){this.dH.splice(B,1);Q.G.splice(B,1)}else{Q.G.push(this.mpc)}this.wg=null}};Rq.Kx=function(Q,S,B){var y,l;
if(Q.length!=null){y="SoFi";var D=JSON.parse(rx.Pf[rx.order.indexOf("SoFi")]);l={t:"Objc",v:D};l.v.Clr.v=Rq.ec(Q)}else{var R=Rq.meS(Q,S,B);
y="GrFl";l={t:"Objc",v:R}}return{type:y,z:l}};Rq.meS=function(Q,S,B){var y=JSON.parse(rx.Pf[rx.order.indexOf("GrFl")]),l=y.Grad.v;
l.Intr.v=0;var D=Rq.UE(Q.mat);D.concat(S);var R=new v(0,0),p=new v(B.r,0),O=Q.crds;if(Q.typ=="rad"){y.Type.v.GrdT="Rdl";
var M=.7;R.x=(1-M)*O[0]+M*O[3];R.y=(1-M)*O[1]+M*O[4];p.x=R.x;p.y=R.y;p.x+=Math.max(O[2],O[5])}else{y.Type.v.GrdT="Lnr";
R.x=O[0];R.y=O[1];p.x=O[2];p.y=O[3];R.x=p.x+.5*(R.x-p.x);R.y=p.y+.5*(R.y-p.y)}R=D.Dv(R);p=D.Dv(p);k.Kg.Nb(R,p,B,y);
var U=Q.grad;k.Kg.vi(U,l);return y};Rq.prototype.PutText=function(Q,S,B){var y=S.charCodeAt(0),m=null;
if(this.Ck!=-1&&this.Ck!=this.CK)return;if(S.length==0||S.length==1&&(y==0||y==8203))return;this.Us(Q);
var l=this.wJ,D=Q.font,R=Rq.UE(Q.ctm);R.concat(this.Cj);var p=Rq.UE(D.Tm);p.concat(R);var O=K.Sj.GK(p),M=new Nu(1/O,0,0,-1/O,0,0);
M.concat(p);var U=D.Tfs*O;if(D.Th!=100||D.Trise!=0){console.log(D)}var Y=l.G.length-1;while(Y>=0&&l.G[Y].add.TySh==null)Y--;
if(Y>=0&&l.G[Y].add.TySh){var x=l.G[Y],T=this.dH[Y],$=x.add.TySh.V,L=($.Ni+T.dY-M.Ni)/U,s=Math.abs(L),j=S.indexOf(" ")==-1,Z=$.n==M.n&&$.R==M.R&&$.ce==M.ce&&$.en==M.en,e=Z&&Math.abs(T.ep-M.pg)<1e-5&&s<.6,J=M.pg-T.ep;
if(e){m=x;T.dY=M.Ni-$.Ni;if(L>.2&&j&&[".",",","?",":","!"].indexOf(S)==-1)S=" "+S}else if(Z&&Math.abs(M.Ni-$.Ni)<1e-5&&0<J&&J<U*1.7&&T.mpq==U){m=x;
this.KP(T);T.ep=M.pg;S="\n"+S}}if(m==null){Y=l.G.length;this.dH[Y]={em:[],dY:0,ep:M.pg,nH:"",mpq:U};
m=l.oz();l.G.push(m);m.add.lnsr="rend";m.add.TySh=rA.Xq(0,0);m.add.TySh.V=M}var T=this.dH[Y];T.dY+=B*U;
T.nH+=S;var N=m.add.TySh.Nd,E=rA.qx(N),h=E.length-1,o=h+S.length;rA.MS(N,h,S);if(this.nT==null)this.nT=rA.$d(N,h,h);
var V=this.nT;V.EQ.FontSize=Math.round(U);V.EQ.Tracking=Math.round(D.Tc*100);V.EQ.Underline=D.Tun==1;
V.EQ.FillColor={Type:1,Values:[1,Q.colr[0],Q.colr[1],Q.colr[2]]};if(D.Tal!=0)V.Kb.Justification=D.Tal;
if(T.em.length!=0){V.EQ.AutoLeading=!1;V.EQ.Leading=T.ep-T.em[T.em.length-1].y}var n=D.Tf;n=n.replace(/#2B/g,"+");
n=n.replace(/#2C/g,"-");n=n.split("+").pop();var t={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(t[n])n=t[n];rA.sU(V,n);rA.Dh(N,h,o-1,V);m.Vv()};Rq.prototype.KP=function(Q){Q.em.push({QP:Q.dY,xQ:Q.nH.slice(Q.em.length==0?0:1)+"\n",y:Q.ep,YZ:Q.mpq});
Q.dY=0;Q.nH=""};Rq.prototype.PutImage=function(Q,S,B,y,l,D,R){if(this.Ck!=-1&&this.Ck!=this.CK)return;
var p=this.wJ,O=Q.font.Tmode;if(O==7&&p.G[p.G.length-1].add.TySh){return}this.Us(Q);var M=Rq.UE(Q.ctm);
M.concat(this.Cj);var U=new Nu(1/B,0,0,-1/y,0,1);U.concat(M);M=U;S=Rq.KA(S,B,y);if(l)l=Rq.KA(l,B,y);
if(l==null){if(S.length==B*y*4)S=new Uint8Array(Np.PNG.Ba([[S.buffer,0]],B,y))}else{S=this.KY(S,B,y,D,!1);
l=this.KY(l,B,y,R,!0);var m=k.Q(B*y);k.MA(l,m,0);k.KF(m,S,3);S=new Uint8Array(Np.PNG.Ba([[S.buffer,0]],B,y))}var Y=p.ge(S,"Bitmap",0,0),x=Y.rect.clone();
x.x=x.y=0;var T=k.i.wS(x).M;k.i.V(T,M,T);Y.add.SoLd.Trnf=K.Sj.tQ(T);Y.add.SoLd.nonAffineTransform=K.Sj.tQ(T);
Y._T(p,!1);Rq.KI(Q,Y);p.G.push(Y)};Rq.KI=function(Q,S){S.opacity=Math.round(255*Q.ca);var B=Rq.eM[Q.bmode];
if(B==null)console.log("Unknown blend mode",B);else S.wk=B};Rq.eM={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
Rq.KA=function(Q,S,B){var y=Np.Ge(Q.buffer);if(y=="jpg"){try{Q=new Uint8Array(Np.JPG.mMZ(Q.buffer))}catch(Rf){Q=new Uint8Array(S*B*4)}}if(y==null&&Q.length!=S*B*4){var l=new Uint8Array(S*B*4),D=new Uint8Array(Math.ceil(S*B/8));
UTIF.decode._decodeG4(Q,0,Q.length,D,0,S,1);for(var R=0;R<S*B;R++){var p=R*4,O=(D[R>>3]>>7-(R&7)&1)*255;
l[p]=O;l[p+1]=O;l[p+2]=O;l[p+3]=255}Q=l}return Q};Rq.prototype.KY=function(Q,S,B,y,l){if(Q.length!=S*B*4){var D=Np.Ge(Q.buffer),R=Np.hG(D);
if(R==null||D=="tga")R=Np.hG("jpg");Q=new Uint8Array(R.tm(Q,y,l)[0].data)}return Q};Rq.prototype.ShowPage=function(){var Q=this.wJ;
this.CK++;var S=this.ni;this.ST();var B=Q.oz();Q.G.push(B);var y=new w(Math.round(this.iV.x),Math.round(this.iV.y),Math.round(S[2]-S[0]),Math.round(S[3]-S[1]));
this.dB=this.dB.wM(y);B.hr(y);B.pM("Page "+this.CK);B.add.lsct=NI.Tu;B.wk="pass";B.$N=24};Rq.prototype.Print=function(Q){console.log("Print:",Q)};
Rq.prototype.Done=function(){var Q=this.wJ;if(this.CK==1)Q.G[Q.G.length-1].add.lsct=NI.YG;Q.Ol(this.CK);
for(var S=0;S<Q.G.length;S++){var B=Q.G[S],y=B.add.vmsk,l=B.add.TySh,D=this.dH[S];B.sr();B.Zs(Q);if(l&&D.em.length!=0){this.KP(D);
var R=l.Nd,p=D.em.length,O=D.em[0],M=0,m=0;for(var U=0;U<p;U++)M=Math.max(M,D.em[U].QP);rA.XG(R,1);l.V.pg-=O.YZ*.7;
rA.vl(R,[0,0,Math.ceil(M*1.1),Math.ceil(D.em[p-1].y-O.y+O.YZ*2)])}if(l){var R=l.Nd;rA.mrV(R);var Y=rA.qx(R).split("\n");
for(var U=0;U<Y.length-1;U++){var x=Y[U],T=0;for(var $=0;$<x.length;$++){var L=x.charCodeAt($);if(1473<=L&&L<=1524)T++}if(T>x.length/2){Y[U]=x.split("").reverse().join("");
var s=R.EngineDict.ParagraphRun.RunArray[U].ParagraphSheet.Properties;s._Direction=1;s.Justification=rA.pF(s)}}rA.Cw(R,Y.join("\n"))}}Q.vb=!0;
Q.r=this.dB.r;Q.O=this.dB.O;Q.buffer=k.Q(this.dB.Z()*4)};var Qd={};Qd.Oo=function(Q,S,B,y){var l=!1,D=[Q.root],R=Q.root.children;
if(Q.add.artd){l=!0;for(var p=0;p<R.length;p++)if(R[p].$.add.artb==null)l=!1;if(l)D=R}var O=new w(0,0,Q.r,Q.O),M=S[0];
M=M.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();M=M.split(" ");var U=[];for(var p=0;
p<M.length;p++){var m=M[p];if(m=="-"){var Y=U.pop(),x=parseInt(M[p+1]);while(Y<x){U.push(Y);Y++}}else U.push(parseInt(m))}M=U;
for(var p=0;p<M.length;p++)if(isNaN(M[p])||M[p]<1||M[p]>D.length){M.splice(p,1);p--}var T=72/Q.LY;for(var p=0;
p<D.length;p++){if(M.length!=0&&M.indexOf(p+1)==-1)continue;var $=D[p],L=l?$.$.ma():O,s=Math.round(L.r*T),j=Math.round(L.O*T);
B.StartPage(0,0,s,j);var Z=UDOC.getState([[0,0,s,j]]),e=new Nu;e.translate(-L.x,-L.y-L.O);e.scale(T,-T);
if(S[1]){var J=Q.qB();if(!O.UH(L)){J=k.Q(L.Z()*4);k.oD(Q.qB(),O,J,L)}var N=new Nu;N.translate(L.x,L.y);
Qd.MU(Z,B,J,L,N,e)}else Qd.MG(Q,$,Z,B,e,S,y);B.ShowPage()}B.Done()};Qd.Zo=function(Q){Q=k.Kg.RT(Q);return[Q.t/255,Q.e/255,Q.R/255]};
Qd.MG=function(Q,S,B,y,l,D,R){var p=S.$,O=p.add.lsct,M=p.add.lmfx,U=p.add.vmsk,m=p.add.vstk,Y=p.add.TySh;
if(!p.qm())return;var x=p.opacity/255,T=p.add.iOpa?p.add.iOpa/255:1;for(var $ in Rq.eM)if(Rq.eM[$]==p.wk)B.bmode=$;
B.ca=B.CA=x*T;var L=M;if(L)L=L.solidFillMulti.v[0];if(L)L=L.v;if(L&&!L.enab.v)L=null;if(p.So()){for(var s=0;
s<S.children.length;s++)Qd.MG(Q,S.children[s],B,y,l,D,R)}else if(U){var j=U.A,Z=k.c.Fi(j),e=k.i.vn(j),J=!1,N=!1,E=!1;
k.i.V(e.M,l,e.M);B.pth={cmds:e.F,crds:e.M};if(m.fillEnabled.v){var h=Nq.hL(M,p.add),o=h[0],V=h[1];if(o){B.colr=Qd.Zo(o.Clr.v)}else if(V){var n=V,t=[],q,u=n.Type.v.GrdT=="Rdl"?"rad":"lin",g=k.Kg.NT(n,Z),r=l.Dv(g[0]),f=l.Dv(g[1]);
if(u=="rad")q=[r.x,r.y,0,r.x,r.y,v.Ui(r,f)];else{r.yZ(f.x+(r.x-f.x)*2,f.y+(r.y-f.y)*2);q=[r.x,r.y,f.x,f.y]}var I=n.Grad.v.Clrs.v;
for(var s=0;s<I.length;s++){var d=I[s].v;t.push([d.Lctn.v/4096,Qd.Zo(d.Clr.v)])}B.colr={typ:u,mat:[1,0,0,1,0,0],grad:t,crds:q}}J=!0}var a=Nq.hV(M);
if(!m.strokeEnabled.v&&a)m=a;if(m.strokeEnabled.v){var c=m.strokeStyleContent.v,_=m.strokeStyleLineDashSet.v,C=rx.xD.XQ.indexOf(m.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(c.Clr==null)return;var F=k.Kg.RT(c.Clr.v);B.COLR=[F.t/255,F.e/255,F.R/255];B.lwidth=m.strokeStyleLineWidth.v.val*(C==2?2:1)*l.GK();
B.mlimit=m.strokeStyleMiterLimit.v;B.doff=m.strokeStyleLineDashOffset.v.val;B.ljoin=rx.xD.join.indexOf(m.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
B.lcap=rx.xD.mI.indexOf(m.strokeStyleLineCapType.v.strokeStyleLineCapType);B.dash=[];for(var s=0;s<_.length;
s++)B.dash.push(_[s].v.val*B.lwidth);if(B.dash.length==1&&B.dash[0]==0)B.dash=[];N=!0;if(C==2)E=!0}if(J&&!E)y.Fill(B);
if(N)y.Stroke(B);if(J&&E)y.Fill(B)}else if(Y&&D[3]){var i=Y.Nd,rP=new mn(i,R),e=Ru.Bw(rP,Y),rH=k.i.QJ(e);
for(var F in rH){var rK=parseInt(F.slice(1),16);B.colr=L?Qd.Zo(L.Clr.v):[(rK>>>16&255)/255,(rK>>>8&255)/255,(rK&255)/255];
var rY=rH[F];k.i.V(rY.M,l,rY.M);rY=k.i.mzE(rY);B.pth={cmds:rY.F,crds:rY.M};y.Fill(B)}}else if(Y&&D[2]==!1){var i=Y.Nd,Nc=Y.V.clone(),G=new Nu(1,0,0,-1,0,0);
G.concat(Nc);G.concat(l);var rI=rA.qx(i),rP=new mn(i,R);for(var s=0;s<rP.Kb.length;s++){var rb=rP.Kb[s];
if(rb.fF.length==1&&rb.fF[0].wB)continue;for(var Nr=0;Nr<rb.$R.length;Nr++){var Nz=rb.$R[Nr],NL=rb.hD.y+Nz.hD.y,Nm=rb.fF[Nz.start].start,NN=rb.fF[Nz.end-1].end,Ne=rA.mrJ(i,Nm,NN);
for(var Ny=0;Ny<Ne.length;Ny++){var NG=rP.Bi(Nm),NC=Ne[Ny],Ng=rA.$d(i,Nm,Nm),NM=Ng.vA[Ng.EQ.Font].Name;
B.font.Tf=NM;var F=rA.RT(Ng.EQ);B.colr=L?Qd.Zo(L.Clr.v):[F.t/255,F.e/255,F.R/255];B.font.Tfs=Math.round(Ng.EQ.FontSize);
var NQ=rI.slice(Nm,Nm+NC);if(Ng.EQ.FontCaps==2)NQ=NQ.toUpperCase();var NR=new Nu;NR.translate(NG.q.x,-NL);
NR.concat(G);B.ctm=[NR.n,NR.R,NR.ce,NR.en,NR.Ni,NR.pg];y.PutText(B,NQ,0);B.ctm=[1,0,0,1,0,0];Nm+=NC}}}}else if(!p.rect.Kq()){var NV,md,NW=new Nu;
if(p.add.SoLd){var Nh=p.add.SoLd,Nt=Nh.Idnt.v,NU=Q.Bd(Nt,Nh.Crop?Nh.Crop.v:null),Na="";if(NU==null)return;
var Mw=NU.Km,mp=Np.Ge(NU.raw.buffer);if(D[4].indexOf(mp)!=-1)NV=NU.raw;else NV=Mw[0];md=Mw[1];NW=k.W.P$(Nh)}else{NV=p.buffer;
md=p.rect;NW.translate(md.x,md.y)}if(L)NV=Nq.mLP(NV,L,md);Qd.MU(B,y,NV,md,NW,l)}};Qd.MU=function(Q,S,B,y,l,D){var R=new Nu;
R.scale(y.r,-y.O);R.translate(0,y.O);R.concat(l);R.concat(D);Q.ctm=[R.n,R.R,R.ce,R.en,R.Ni,R.pg];S.PutImage(Q,B,y.r,y.O);
Q.ctm=[1,0,0,1,0,0]};var Mm={};Mm.fY=function(Q){var S=new Uint8Array(Q);return Mm.nu(S,0)};Mm.nu=function(Q,S){var B=X.j,y=X.Ly,l={LB:y(Q,S,4),a:S+8,size:B(Q,S+4)},D=l.LB=="FORM"||l.LB=="LIST"||l.LB=="CAT ";
if(D)l.Uc=y(Q,S+8,4);if(l.size<0||l.a+l.size>Q.length)throw"e";if(D){l.sub=[];S+=12;var R=l.a+l.size;
while(S<R){var p=Mm.nu(Q,S);l.sub.push(p);S+=8+p.size+(p.size&1)}}return l};var pT={};pT.fY=function(Q,S){var B=new Uint8Array(Q);
return pT.nu(B,0,S)};pT.nu=function(Q,S,B){var y=X.qj,l=X.Ly,D={LB:l(Q,S,4),a:S+8,size:y(Q,S+4)};if(B&&B[D.size]!=null)D.size=B[D.size];
if(D.LB=="RIFF"||D.LB=="LIST"){D.Uc=l(Q,S+8,4)}if(D.size<0||D.a+D.size>Q.length)throw"e";if(D.LB=="RIFF"||D.LB=="LIST"&&(D.Uc!="cmpr"&&D.Uc!="stlt")){D.sub=[];
S+=12;var R=D.a+D.size;while(S<R){var p=pT.nu(Q,S,B);D.sub.push(p);S+=8+p.size+(p.size&1)}}return D};
var Mm={};Mm.fY=function(Q){var S=new Uint8Array(Q);return Mm.nu(S,0)};Mm.nu=function(Q,S){var B=X.j,y=X.Ly,l={LB:y(Q,S,4),a:S+8,size:B(Q,S+4)},D=l.LB=="FORM"||l.LB=="LIST"||l.LB=="CAT ";
if(D)l.Uc=y(Q,S+8,4);if(l.size<0||l.a+l.size>Q.length)throw"e";if(D){l.sub=[];S+=12;var R=l.a+l.size;
while(S<R){var p=Mm.nu(Q,S);l.sub.push(p);S+=8+p.size+(p.size&1)}}return l};function Nb(){}Nb.fY=function(Q,S){var B=new Uint8Array(Q);
S.vb=!0;var y=X.Ly(B,0,2);if(y=="WL"){alert("Unsupported CDR version")}else{var l=Nb.eN,D=pT.fY(B.buffer),R={data:B,a:0,nm:Nb.mJI(B[11])},Y=300;
R.nY=R.nm<600?16:32;Nb.eQ(R,D.sub,S,0);var p=l(D,"cmpr").sub,O=p[0],M=p.slice(1),U=l(O,"mcfg").z,m=U.muV;
Y/=NH.dg(new w(0,0,Math.round(m.x*Y),Math.round(m.y*Y)),8192*8192);var x=Math.round(m.x*Y),T=Math.round(m.y*Y);
S.r=x;S.O=T;S.buffer=k.Q(S.r*S.O*4);var $=l(O,"filt").sub,L=l(O,"otlt").sub;O.Ez={};for(var s=0;s<$.length;
s++)O.Ez[$[s].sub[0].z.id]=$[s].sub[0].z;O.Em={};for(var s=0;s<L.length;s++)O.Em[L[s].z.id]=L[s].z;var j=new Nu(Y,0,0,-Y,m.x*Y/2,m.y*Y/2),Z=M[1];
Nb.bo(Z,O,S,j);S.Ol(1);S.G[S.G.length-1].hr(new w(0,0,x,T))}};Nb.eN=function(Q,S){var B=null;for(var y=0;
y<Q.sub.length;y++){var l=Q.sub[y];if(l.LB==S||l.Uc==S)B=l}return B};Nb.bo=function(Q,S,B,y){var l=Nb.eN,D=Q.Uc?Q.Uc:Q.LB,R=l(Q,"lgob"),p=l(Q,"txsm"),O,M;
if(R){O=l(R,"trfl");M=l(R,"loda")}var U=O?O.sub[0].Sl.clone():new Nu;U.concat(y);var m=B.oz();if(D=="page"||D=="layr"||D=="grp "){m.pM((D=="page"?"Page":"Group")+" "+B.G.length);
m.add.lsct=NI.YG;m.wk="pass";m.$N=24;var Y=[];if(D=="page")Y=l(Q,"gobj").sub;if(D=="layr")Y=Q.sub.slice(2);
if(D=="grp ")Y=Q.sub.slice(4);if(Y.length==0)return;B.G.push(B.rg());for(var x=Y.length-1;x>=0;x--)Nb.bo(Y[x],S,B,y)}else if(D=="obj "&&M.z&&M.z.path){m.pM("Object "+B.G.length);
var T=S.Ez[M.z.mua],$=S.Em[M.z.mun],L=m.getName(),s=T&&T.type!=0,j=s&&T.z!=null?T.z:[0,0,0];m.$N|=16;
m.add.vstk=JSON.parse(JSON.stringify(rx.xD.default));var Z=m.add.vstk;Z.strokeEnabled.v=!1;m.add.vmsk=new z.hm;
if($&&$.muH!=1){Z.strokeEnabled.v=!0;Z.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
Z.strokeStyleLineWidth.v.val=$.lineWidth*y.GK();var e=$.color;Z.strokeStyleContent.v.Clr.v=k.Kg.Od({t:e[0]*255,e:e[1]*255,R:e[2]*255})}var J=M.z.path;
m.add.vmsk.A=k.i.Ua(J,!1);k.c.ZU(m.add.vmsk.A,U);Rq.xm(j,m,U,k.c.Fi(m.add.vmsk.A));Z.fillEnabled.v=s;
m.sr();m.Zs(B)}else if(D=="obj "&&p){var N=M.z.muS,E=M.z.mgd,V="";m.add.TySh=rA.Xq(0,0);var h=U.GK();
m.add.TySh.V.translate(U.Ni,U.pg);var o=m.add.TySh.Nd,n=p.z.mpH;for(var x=0;x<n.length;x++){var t=n[x],q=V.length;
V+=t.text+"\n";rA.MS(o,q,t.text+"\n");var u=Nb.myQ(t.mgh,S),g=rA.$d(o,q,V.length);if(u.align==3)g.Kb.Justification=1;
else g.Kb.Justification=0;var r=u.fill.z;g.EQ.FillColor={Type:1,Values:[1,r[0],r[1],r[2]]};g.EQ.FontSize=Math.round(u.mgg.fontSize*U.GK());
rA.Dh(o,q,V.length-1,g)}if(E){rA.XG(o,0)}else{rA.XG(o,1);rA.vl(o,[0,0,Math.round(N.x*U.n),Math.round(-N.y*U.en)])}m.pM(V.slice(0,10))}else{m=null}if(m)B.G.push(m)};
Nb.myQ=function(Q,S){var B=Nb.eN(S,"stlt").z,y=JSON.parse(JSON.stringify(B.Zn[Q]));if(y.Er!=0){var l=B.Zn[y.Er];
for(var D in l)if(y[D]==null||y[D]==0)y[D]=l[D];delete y.Er}y.align=B.mgs[y.mg$];y.fill=S.Ez[B.mgx[y.mRf]];
y.mNa=S.Em[B.mgK[y.mQb]];y.mgg=B.mcu[y.mWM];return y};Nb.myd=function(Q){var S=Q.data[Q.a];Q.a+=1;return S};
Nb.xy=function(Q){var S=X.ng(Q.data,Q.a);Q.a+=2;return S};Nb.xq=function(Q){var S=X.qj(Q.data,Q.a);Q.a+=4;
return S};Nb.mye=function(Q){var S=X.qj(Q.data,Q.a);Q.a+=8;return S};Nb.UD=function(Q){var S=X.fT(Q.data,Q.a);
Q.a+=2;return S};Nb.UO=function(Q){var S=X.Yc(Q.data,Q.a);Q.a+=4;return S};Nb.nS=function(Q){var S=X.mmc(Q.data,Q.a);
Q.a+=8;return S};Nb.Za=function(Q){if(Q.a>=Q.data.length)throw"e";var S=0;while(Q.data[Q.a+S]!=0)S++;
var B=X.Ly(Q.data,Q.a,S);Q.a+=S+1;return B};Nb.myl=function(Q){if(Q.nm<600)return Math.PI*Nb.UD(Q)/1800;
return Math.PI*Nb.UO(Q)/18e7};Nb.mqz=function(Q){if(Q.nm<1500)return Nb.eZ(Q);else return Nb.nS(Q)/254e3};
Nb.eZ=function(Q){if(Q.nm<600)return Nb.UD(Q)/1e3;else return Nb.UO(Q)/254e3};Nb.mqN=function(Q){if(Q.nm<600)return CRDParser.xy(Q);
else return Nb.xq(Q)};Nb.mqO=function(Q){if(Q.nm<600)return CRDParser.UD(Q);else return Nb.UO(Q)};Nb.eQ=function(Q,S,B,y){var l=Nb,D=l.myd,R=l.xy,p=l.xq,O=l.mye,M=l.UD,U=l.UO,m=l.nS,Y=l.eZ,x=l.mqz,T=l.myl,$=l.mqN,L=l.mqO;
for(var s=0;s<S.length;s++){var j=Q.nm,Z=S[s];Q.a=Z.a+(Z.LB=="LIST"?4:0);if(Z.LB=="vrsn"){var e=R(Q);
Q.nm=e;console.log("Version",e);Q.nY=e<600?16:32}else if(Z.LB=="DISP"){}else if(Z.LB=="LIST"&&Z.Uc=="cmpr"){var J=p(Q),N=p(Q),E=p(Q),h=p(Q),o=new Uint8Array(Q.data.buffer,Q.a+8+2,J-6-8),V=pako.inflateRaw(o),u=0;
Q.a+=J;o=new Uint8Array(Q.data.buffer,Q.a+8+2);var n=pako.inflateRaw(o),t=[];for(var q=0;q<n.length;
q+=4)t.push(X.qj(n,q));Z.sub=[];while(u<V.length){var g=pT.nu(V,u,t);u=g.a+g.size;Z.sub.push(g)}var r={data:V,a:0,nm:j,nY:Q.nY};
Nb.eQ(r,Z.sub,B,y+1)}else if(Z.LB=="LIST"&&Z.Uc=="stlt"){var f=Q.a,rb=32;Z.z={};var I=p(Q);if(I==0)return;
Z.z.mgx=Nb.ey(Q,j>=1300);Z.z.mgK=Nb.ey(Q);Z.z.mcu={};var d=p(Q);for(var a=0;a<d;a++){var c=p(Q);Q.a+=j<1e3?12:20;
var _=R(Q),C=R(Q);Q.a+=8;var F=Y(Q);Q.a+=j<1e3?12:20;Z.z.mcu[c]={mWp:_,mNE:C,fontSize:F}}Z.z.mgs=Nb.ey(Q);
var i=p(Q);Q.a+=52*i;var rP=p(Q);Q.a+=152*rP;var rH=p(Q);Q.a+=784*rH;var rK=p(Q);for(var a=0;a<rK;a++){Q.a+=40;
if(j>1300)Q.a+=4;if(j>=1300){if(p(Q))Q.a+=68;else Q.a+=12}else{Q.a+=20;if(j>=1e3)Q.a+=8;if(p(Q))Q.a+=8;
Q.a+=8}}var rY=p(Q);Z.z.mWe={};for(var a=0;a<rY;a++){var Nc=p(Q),G={};Q.a+=12;G.right=Y(Q);G.mN$=Y(Q);
G.left=Y(Q);Z.z.mWe[Nc]=G}var rI=p(Q);if(j>=1300)rb+=4;Q.a+=rb*rI;var Nr=p(Q);Q.a+=28*Nr;if(j>800){var Nz=p(Q);
Q.a+=12*Nz}Z.z.Zn={};for(var a=0;a<I;a++){var NL=p(Q),Nm=p(Q),NN={};NN.Er=p(Q);Q.a+=8;var Ne=p(Q);if(j>=1200)Ne*=2;
Q.a+=Ne;NN.mRf=p(Q);NN.mQb=p(Q);if(NL>1){NN.mWM=p(Q);NN.mg$=p(Q);NN.mNt=p(Q);NN.mNX=p(Q);if(j>800)NN.mND=p(Q)}if(NL>2){NN.mNO=p(Q);
NN.mNB=p(Q);NN.mNl=p(Q);NN.mNj=p(Q);NN.mNo=p(Q)}Z.z.Zn[Nm]=NN}}else if(Z.LB=="LIST")Nb.eQ(Q,Z.sub,B,y+1);
else if(Z.LB=="txsm"){Z.z={};if(j<600)throw"e";if(j<700)throw"e";if(j>=1600)throw"e";if(j>=1500)Q.a+=37;
else Q.a+=36;if(p(Q)){if(j<800)Q.a+=32}if(j<800)Q.a+=4;Z.z.mNT=p(Q);Z.z.mpH=[];Q.a+=48;if(j>=800){if(p(Q)){Q.a+=32;
if(j>=1300)Q.a+=8}}if(j>=1500)Q.a+=12;var NL=p(Q),Ny=1,NG=!1;if(!NL){if(j>=800)Q.a+=4;if(j>800)Q.a+=2;
if(j>=1400)Q.a+=2;Q.a+=24;if(j<800)Q.a+=8;Ny=p(Q)}for(var q=0;q<Ny;q++){var NC=p(Q),a=0;if(j>=1300&&NL)Q.a++;
Q.a++;var I=p(Q),Ng=[];for(a=0;a<I;a++){var NM=D(Q),NR=0;D(Q);var NQ=D(Q);if(j>=800)NR=D(Q);var NN={};
if(NQ&1){NN.mWp=R(Q);var NV=R(Q);if(NV)NN.mNi=NV}if(NQ&2)Q.a+=4;if(NQ&4)NN.mNk=Y(Q);if(NQ&8)Q.a+=4;if(NQ&16)Q.a+=4;
if(NQ&32)Q.a+=4;if(NQ&64){NN.mRf=p(Q);if(j>=1500)Q.a+=48}if(NQ&128){NN.mQb=p(Q)}if(NR&8){if(j>=1300){var md=p(Q);
if(Q.a+md*2>=Q.data.length){NG=!0;break}Q.a+=md*2}else Q.a+=4}if(NR&32){var NW=D(Q);if(NW)Q.a+=52}if(NM==2)if(j>=1300)Q.a+=48;
Ng.push(NN)}if(NG){break}var Nh=p(Q);if(Q.a+Nh*4>Q.data.length)break;var Nt=[];for(a=0;a<Nh;a++){var NU=0;
if(j>=1200)NU=O(Q)&4294967295;else NU=p(Q);Nt[a]=NU>>16|NU&1}var Mw=Nh;if(j>=1200)Mw=p(Q);var mp=Nb.Za(Q);
Z.z.mpH.push({mgh:NC,text:mp,Zn:Ng})}}else if(Z.LB=="font"){var Na=R(Q),NX=R(Q);Q.a+=14;var Ni=Nb.Za(Q);
Z.z={id:Na,mNZ:NX,name:Ni}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(Z.LB)!=-1){}else if(Z.LB=="flgs")Z.z=p(Q);
else if(Z.LB=="bbox"){var mm=Y(Q),NT=Y(Q),NF=Y(Q),Ns=Y(Q);Z.z=new w(mm,NT,NF-mm,Ns-NT)}else if(Z.LB=="fild"){var NB=p(Q),Rz=0,RJ;
if(j>=1300){Q.a+=4;Rz=R(Q);Q.a+=2}var Nk=R(Q);if(Nk==0){}else if(Nk==1){Q.a+=j>=1300?13:2;RJ=Nb.Yr(Q)}else if(Nk==2){Q.a+=j>=1300?8:2;
var mv=D(Q),NA=0;if(j>=1300){Q.a+=17;NA=M(Q)}else if(j>=600){Q.a+=19;NA=U(Q)}else{Q.a+=11;NA=M(Q)}var Mr=T(Q),p$=.5+L(Q),RL=.5+L(Q)-.5;
if(j>=600)Q.a+=2;var mR=$(Q)&255,Ro=D(Q)/100;Q.a++;var mQ=$(Q)&65535;if(j>=1300)Q.a+=3;var mS=[];for(var a=0;
a<mQ;a++){var Rh=Nb.Yr(Q);if(j>=1300){if(Rz==158||j>=1600&&Rz==150)Q.a+=26;else Q.a+=5}var ps=$(Q)/100;
if(j>=1300)Q.a+=3;mS.push([ps,Rh])}RJ={typ:mv==1?"lin":"rad",crds:[p$-Math.cos(Mr)/2,RL-Math.sin(Mr)/2,p$,RL],grad:mS,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",Nk);
Z.z={id:NB,type:Nk,z:RJ}}else if(Z.LB=="outl"){var mE=p(Q);if(j>=1300){var Rd=0,Qz=0;while(Rd!=1){Q.a+=Qz;
Rd=p(Q);Qz=p(Q)}}var rX=R(Q),Rm=R(Q),Ri=R(Q);if(j<1300&&j>=600)Q.a+=2;var Rl=Y(Q),mW=R(Q)/100;if(j>=600)Q.a+=2;
var RF=T(Q);if(j>=1300)Q.a+=46;else if(j>=600)Q.a+=52;var RJ=Nb.Yr(Q,mE==270963208||mE==276198e3,mE);
Z.z={id:mE,muH:rX,mNb:Rm,mNx:Ri,lineWidth:Rl,color:RJ}}else if(Z.LB=="mcfg"){if(1300<=j)Q.a+=12;else if(900<=j)Q.a+=4;
else if(600<=j&&j<700)Q.a+=28;var Rv=0,NK=0;if(j<400)throw"e";else{Rv=Y(Q);NK=Y(Q)}Z.z={muV:new v(Rv,NK)}}else if(Z.LB=="loda"){var f=Q.a,Mu=$(Q),RN=$(Q),pc=$(Q),RV=$(Q),RQ=$(Q),pa=[],RB=[];
Q.a=f+pc;for(var a=0;a<RN;a++)pa[a]=$(Q);Q.a=f+RV;for(var a=RN-1;a>=0;a--)RB[a]=$(Q);Z.z={};for(var a=0;
a<RN;a++){Q.a=f+pa[a];var Mc=RB[a];if(Mc==10)Z.z.mun=p(Q);else if(Mc==20)Z.z.mua=p(Q);else if(Mc==200)Z.z.mNP=$(Q);
else if(Mc==30){if(j<400)RQ--;if(RQ==1){var mm=x(Q),NT=x(Q),Rk=0,mt=0,MC=0,pF=0;if(j<1500){pF=x(Q);MC=j<900?pF:x(Q);
mt=j<900?pF:x(Q);Rk=j<900?pF:x(Q)}else throw"e";Z.z.path=k.i.vn(k.c.MV.Rect(0,0,mm,NT,Rk))}else if(RQ==2){var MU=Y(Q),Rp=Y(Q),RA=T(Q),rq=T(Q),RZ=Math.abs(MU),QN=Math.abs(Rp);
Z.z.path=k.i.vn(k.c.MV.TJ(0,0,RZ,-QN))}else if(RQ==3){Z.z.path=Nb.mJo(Q)}else if(RQ==4){Z.z.mgd=Nb.mqk(Q)}else if(RQ==6){Z.z.muS=Nb.mJf(Q)}else if(RQ==37){Z.z.path=Nb.R$(Q)}else console.log(RQ)}}}else if(Z.LB=="trfd"){var f=Q.a,Mu=$(Q),RN=$(Q),pc=$(Q);
Q.a=f+pc;var pa=[];for(var a=0;a<RN;a++)pa[a]=$(Q);for(var a=0;a<RN;a++){Q.a=f+pa[a];if(j>=1300)Q.a+=8;
var pQ=R(Q);if(pQ==8){var mk,RD,mm,pt,LW,NT;if(j>=600)Q.a+=6;if(j>=500){mk=m(Q);RD=m(Q);mm=m(Q)/(j<600?1e3:254e3);
pt=m(Q);LW=m(Q);NT=m(Q)/(j<600?1e3:254e3)}else throw"e";Z.Sl=new Nu(mk,pt,RD,LW,mm,NT)}else console.log(pQ)}}else if(!1){console.log(Z);
var rk=Math.min(Z.size,32);console.log(X.fo(data,Z.a,rk));console.log(X.mzb(data,Z.a,rk))}}};Nb.ey=function(Q,S){var B=Nb.xq,y={},l=B(Q);
for(var D=0;D<l;D++){var R=B(Q);Q.a+=4;var p=B(Q);y[R]=p;if(S)Q.a+=48}return y};Nb.mqk=function(Q){var S=Nb,B=S.eZ,y=B(Q),l=B(Q);
return new v(y,l)};Nb.mJf=function(Q){var S=Nb,B=S.eZ;Q.a+=4;var y=B(Q),l=B(Q);return new v(y,l)};Nb.R$=function(Q){var S=Nb,B=S.xq,y=S.xy,l=S.eZ;
Q.a+=4;var D=y(Q)+y(Q);Q.a+=16;var R=Nb.MZ(Q,D);return R};Nb.mJo=function(Q){var S=Nb.xy(Q);Q.a+=2;return Nb.MZ(Q,S)};
Nb.MZ=function(Q,S){var B=Nb,y=B.eZ,l=Q.nm<600?2:4,D=Q.a,R={M:[],F:[]},p=0,O=0,M=0;for(var U=0;U<S;U++){var p=y(Q),O=y(Q),m=Q.data[D+S*l*2+U];
if(!(m&64)&&!(m&128)){R.M.push(p,O);R.F.push("M");M+=2}else if(m&64&&!(m&128)){R.M.push(p,O);R.F.push("L");
M+=2}else if(!(m&64)&&m&128){R.M.push(p,O);R.F.push("C");M+=6}else if(m&64&&m&128){R.M.push(p,O)}}if(M!=R.M.length)throw"e";
return R};Nb.mvs=function(Q,S){var B=X.qj;S+=8;var y=B(Q,S);S+=4;var l=B(Q,S);S+=4;S+=4*7;var D=S,R=k.Q(y*l*4);
S+=1024;for(var p=0;p<l;p++)for(var O=0;O<y;O++){var M=p*y+O,U=(l-p-1)*y+O,m=Q[S+M]<<2,Y=U<<2;R[Y+0]=Q[D+m+2];
R[Y+1]=Q[D+m+1];R[Y+2]=Q[D+m+0];R[Y+3]=255}return{Ko:R,rect:new w(0,0,y,l)}};Nb.mJI=function(Q){if(Q==32)return 300;
else if(Q<49)return 0;else if(Q<58)return 100*(Q-48);else if(Q<65)return 0;return 100*(Q-55)};Nb.Yr=function(Q,S,B){var y=Nb.xy,l=Nb.xq,D=Q.nm,R=0,p=0;
if(D>=500){R=y(Q);if(R==1&&D>=1300)R=25;if(R==25||R==30)throw"e";else if(R==14)throw"e";else{Q.a+=6;
p=l(Q)}}else throw"e";var O=[];if(R==2||R==9||R==17){var M=[p>>>0&255,p>>>8&255,p>>>16&255,p>>>24&255];
if(R==2)for(var U=0;U<4;U++)M[U]=Math.round(255*M[U]/100);for(var U=0;U<4;U++)M[U]/=255;O=UDOC.C.cmykToRgb(M)}else if(R==1||R==5){O=[p>>>0&255,p>>>8&255,p>>>16&255];
for(var U=0;U<3;U++)O[U]=O[U]/255}else console.log("Unknown color model "+R,p,p.toString(16));return O};
var K={};K.WC=function(Q,S,B){this.name=Q;this.id=S;this.VP=null;if(B!=null)this.Ud=B};K.WC.prototype.Ox=function(Q,S,B,y,l){};
K.WC.prototype.enable=function(Q,S,B,y,l,D){var R=new b(P.E.T,!0);R.data={H:P.l.qL,YT:"default"};S.B(R)};
K.WC.prototype.disable=function(Q,S,B,y){};K.WC.prototype.MI=function(Q,S,B,y,l){return!1};K.WC.prototype.OQ=function(Q,S,B,y,l){};
K.WC.prototype.nV=function(Q,S,B,y,l){};K.WC.prototype.Uy=function(Q,S,B,y,l){};K.WC.prototype.sn=function(Q,S,B,y,l){};
K.WC.prototype.Ro=function(Q,S,B,y,l){};K.WC.prototype.qh=function(Q,S,B,y){};K.WC.prototype.s_=function(Q,S,B,y){};
K.WC.prototype.Lz=function(Q,S){};K.WC.prototype.$B=function(Q,S){};K.WC.prototype.sv=function(Q,S,B,y,l){};
K.WC.prototype.on=function(Q,S){};K.WC.prototype.bC=function(Q,S){return!1};K.WC.prototype.C$=function(Q,S){return!1};
K.WC.prototype.TA=function(){return!1};K.WC.prototype.eJ=function(Q,S){return!0};K.WC.prototype.nf=function(){return null};
K.WC.prototype.pz=function(Q,S,B){};K.WC.prototype.pm=function(){return!1};K.WC.prototype.pp=function(Q,S,B,y){};
K.WC.prototype.track=function(Q){var S=new b(P.E.RK,!0);S.data=Q;Q.eq=!0;this.VP.B(S)};K.WC.nX=function(Q,S,B,y,l){K.WC.pR(Q,S,[Nd.get([12,41]).charAt(0)+": "+k.hs.vH(B.r,y.LY,l,y.r,!0),Nd.get([12,42]).charAt(0)+": "+k.hs.vH(B.O,y.LY,l,y.O,!0)],y)};
K.WC.pR=function(Q,S,B,y){var l=14,D=130,R=B.length*17+8,p=new w(Q,S-R,D,R),O=K.WC.p_;if(O==null)O=K.WC.p_=document.createElement("canvas");
O.width=D;O.height=R;var M=O.getContext("2d");M.fillStyle="rgba(0,0,0,1)";M.fillRect(0,0,D,R);M.font=l+"px monospace";
M.fillStyle="rgba(255,255,"+(W.Kf?0:255)+",1)";for(var U=0;U<B.length;U++)M.fillText(B[U],6,(U+1)*17);
y.J.nQ=[[M.getImageData(0,0,D,R).data,p.clone()]]};K.WC.p_=null;K.vc="0";K.wl="1";K.mJY="2";K.mJK="3";
K.pf="5";K.mVm="6";K.mVN="7";K.nZ="8";K.mVG="9";K.wb="10";K.eh="11";K.nk="12";K.e_="13";K.ps="14";K.mVb="16";
K.pB="18";K.xF="19";K.pl="20";K.pi="22";K.Kz="23";K.nb="24";K.mVI="25";K.Ep="27";K.xG="31";K.mhc="32";
K.mhe="34";K.mhJ="35";K.xB="36";K.xP="37";K.sa="38";K.pb="39";K.pH="40";K.r_="41";K.ev="42";K.yz="43";
K.yC="47";K.RA="51";K.EL="52";K.Ec="54";K.ew="55";K.Ed="56";K.Ey="57";K.ef="58";K.yk="59";K.Gu="61";
K.fM="100";K.EC="101";K.Gf="230";K.mv$="231";K.CF="232";K.Sb="233";K.Qn="234";K.bI="235";K.EF="236";
K.Nk=function(Q){var S=K.nx,B=null;for(var y in S)if(S[y][1].indexOf(Q[1].classID)!=-1)B=y;return B};
K.nx={};K.nx[K.Kz]=["tools/brush",["PbTl"]];K.nx[K.nb]=["tools/pencil",["PcTl"]];K.nx[K.xG]=["tools/eraser",["ErTl"]];
K.KT=function(Q,S,B){K.WC.call(this,Q,S,B);this.ot={brush:Q?p_.pe():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!0],emode:0,wconf:[40,!0,!0],algnd:!1,sfrom:0,expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.Kv=null;this.ed=null;this.oL=null;this.kI=null;this.bF=null;this.yU=null;this.kH=null;this.eC=null;
this.vT=null;this.UB=null;this.EN=null;this.ER=null;this._v=null;this.Eu=1;this.$_=!1;this.hx=null;this.caller=null};
K.KT.prototype=new K.WC;K.KT.prototype.C$=function(Q,S){return Q.qv&&S.N(A.CP)};K.KT.prototype.nV=function(Q,S,B,y,l){if(y.N(A.qD)){this.yU=new v(l.x,l.y);
var D=this.ot.brush.Brsh.v,R=D.Dmtr.v.val,p=D.Hrdn!=null?D.Hrdn.v.val:-1;this.kH=[R,p,!0,JSON.parse(JSON.stringify(this.ot.brush)),l];
this.Su(B)}};K.KT.prototype.CH=function(Q,S,B){var y=this.kH,l=Q.u.C,D=B.x-y[4].x,R=B.y-y[4].y,p=y[0],O=y[1],M=Math.abs(D)>Math.abs(R);
if(M&&y[2]){var U=Math.round(2*D/l);p+=U;B.x-=D-.5*U*l}if(!M&&!y[2]&&O!=-1){var U=Math.round(.25*R);
O+=U;B.y-=R-4*U}p=Math.max(1,p);O=y[1]==-1?-1:Math.max(0,Math.min(100,O));var m=y[3];m.Brsh.v.Dmtr.v.val=p;
if(O!=-1)m.Brsh.v.Hrdn.v.val=O;this.kH=[p,O,M,m,B];var Y=Nl.CN(m,S.ml.gZ,l),x=Y[1];x.x=Math.round(this.yU.x-x.r/2);
x.y=Math.round(this.yU.y-x.O/2);Q.J.wo=[Y];var T=Q.u.FD(this.yU.x,this.yU.y);Q.J.Dx={kA:[],kS:[T.x-p/2,T.y,T.x+p/2,T.y]};
if(O!=-1)Q.J.Dx.kS.push(T.x+50/l,T.y-O/2,T.x+50/l,T.y+O/2);Q.rr=!0};K.KT.prototype.Ro=function(Q,S,B,y,l){if(this.id==K.pl)return;
if(this.yU){this.yU=null;this.eU(JSON.parse(JSON.stringify(this.kH[3])));Q.J.wo=[];Q.J.Dx=null;Q.rr=!0;
return}var D=new b(P.E.T,!0);D.data={H:P.l.tE,h:this.id,mWh:"showBrushOpts",eG:new v(l.Pz+4,l.in)};S.B(D)};
K.KT.prototype.eU=function(Q){var S=new b(P.E.T,!0);S.data={H:P.l.Kk,yQ:rS.tP,bW:Q};this.caller.B(S)};
K.KT.bH=function(Q,S,B,y){if(Q==null)Q="FrgC";if(S==null)S="norm";if(B==null)B=1;var l={classID:"Fl",Usng:{t:"enum",v:{FlCn:Q}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(B*100)}},Md:{t:"enum",v:{BlnM:No.KN(S)}}};
if(Q=="Clr")l.Clr={t:"Objc",v:y};if(Q=="contentAware")l.contentAwareColorAdaptationFill={t:"bool",v:!0};
return{QF:"fill",$o:l}};K.KT.prototype.Ox=function(Q,S,B,y,l){this.VP=S;var D=B.rL.length;if(D==0&&!B.pD())return;
var R=D!=0?-1-B.rL[0]:B.I[0],p=B.G[R];if(Q.H=="fromAction"){var O=Q.wT,M=O.$o;if(O.QF=="fill"){var U=(M.Opct?M.Opct.v.val:100)/100,m=M.Md?No.oQ(M.Md.v.BlnM):"norm",Y=M.Usng.v.FlCn,x;
if(Y=="contentAware"){if(B.m==null){alert("Select an area to heal first.");return}if(!B.pD())return;
this.xS(B);var T=B.m,$=k.Q(T.rect.Z()*4);k.KF(T.channel,$,3);this.sf(B,"sheal",$,T.rect,T.rect);this.s(B,T.rect);
this.finish(B,T.rect)}else{if(Y=="FrgC")x=l.Tq;else if(Y=="BckC")x=l.hB;else if(Y=="Blck")x=0;else if(Y=="Wht")x=16777215;
else if(Y=="Gry")x=8421504;else if(Y=="Clr"){var L=k.Kg.RT(M.Clr.v);x=L.t<<16|L.e<<8|L.R}var s=x>>16&255,j=x>>8&255,Z=x>>0&255;
this.Rw(B,p,B.m,s,j,Z,Math.round(255*U),m,[2,3])}}else if(O.QF=="delete"){var e=R<0?1:p.Wg,T=B.m,o;if(T==null)return;
var J=R<0?B.Ka[-R-1]:e<=0?null:e==1?p.Tb():p.DG(B).k,N=e<=0?p.rect:J.rect,E=e<=0?T.rect.nG(N):T.rect.clone();
if(E.Kq())return;var h=E.Z();if(e<=0){o=k.Q(h*4);k.oD(p.buffer,p.rect,o,E)}else{o=k.Q(h);J.extend(E);
k.ht(J.channel,J.rect,o,E)}if(0<=R&&p.De(B,T)){if(e<=0){k.St(o,0);k.oD(p.K_.ML,p.K_.jx,o,E)}else{k.set(o,255);
k.ht(p.K_.ML,p.K_.jx,o,E)}}else{if(e<=0){var V=k.Q(o.length>>2);k.MA(o,V,3);k.X.Qh(k.VE(T.rect.Z()),T.rect,V,E,T.channel,E,1);
k.KF(V,o,3)}else{var n=k.Q(T.rect.Z()),s=l.hB>>16&255,j=l.hB>>8&255,Z=l.hB>>0&255;k.set(n,Math.round(k.wc(s,j,Z)));
k.X.Qh(n,T.rect,o,E,T.channel,E,1)}}this.ei(B,!0,[2,2],R,e,E,o)}}if(Q.H=="stroke"){var t=Q.mW_,T=B.m;
if(T==null){T={rect:p.rect.clone(),channel:k.Q(p.rect.Z())};k.MA(p.buffer,T.channel,3)}var q=Nq.BC(t),u=K.pL.QE(T,Math.ceil(q[0]),Math.ceil(q[1])),x=k.Kg.RT(t.Clr.v),s=Math.round(x.t),j=Math.round(x.e),Z=Math.round(x.R);
this.Rw(B,p,u,s,j,Z,Math.round(255*t.Opct.v.val/100),No.oQ(t.Md.v.BlnM),[14,9])}if(Q.H=="fillBMP"){this.Rf(B,p,B.m,Q.vN,Q.KS,Q.$a)}if(Q.H=="draw"){var g=Q.$l,r=Q.mdp?mw.Fl.gR(g,B):g.rect,f=this.ot.bmode;
this.xS(B);this.ot.bmode="norm";this.sf(B,"draw",g.buffer,r,r.nG(new w(0,0,B.r,B.O)));this.ot.bmode=f;
this.s(B,r);this.finish(B,r,Q.$a,Q.mdp)}};K.KT.prototype.Rw=function(Q,S,B,y,l,D,R,p,O){var M=B==null?new w(0,0,Q.r,Q.O):B.rect,U=R<<24|D<<16|l<<8|y<<0,m=k.Q(M.Z()*4);
k.St(m,U);this.Rf(Q,S,B,m,p,O)};K.KT.prototype.Rf=function(Q,S,B,y,l,D){var R=Q.rL.length!=0?-1-Q.rL[0]:Q.I[0],p=R<0?1:S.Wg,O=R<0?Q.Ka[-1-R]:p<=0?null:p==1?S.Tb():S.DG(Q).k,M=p<=0?S.rect:O.rect,U=B==null?new w(0,0,Q.r,Q.O):B.rect,m=B==null?k.PM(Q.r*Q.O):B.channel,Y=U.Z(),x,T=null;
if(p<=0){x=k.Q(Y*4);k.oD(S.buffer,S.rect,x,U)}else{x=k.Q(Y);O.extend(U);k.ht(O.channel,O.rect,x,U)}if(B!=null)k.xY(m,y);
if(p>0){T=k.Q(Y);k.pE(y,T)}if(0<=R&&B&&S.De(Q,B)){var $=S.K_.o_,L=k.clone(S.K_.o_);if(p<=0)k.MK(y,L);
else k.MK(T,L);var s=new NO([2,3],this);s.data={H:"drawtemp",$:Q.I[0],qe:p,mWG:$,mW$:L};Q.Ra(s);this.Lz(s.data,Q)}else{if(p<=0)k.X.Rc(l,y,U,x,U,U,1);
else k.X.Qh(T,U,x,U,m,U,1);this.ei(Q,!0,D,R,p,U,x)}};K.KT.prototype.bC=function(Q){if(A.Ju.indexOf(Q)!=-1)return!0;
return!1};K.KT.prototype.qh=function(Q,S,B,y){var l=this.ot.brush,D=y.N(A.qD),R=D!=this.$_,p=K.KT.et(l,y);
if(p!=null)this.eU(p);if(!y.N(A.DQ)&&y.JN()!=-1){var O=P.mQY(Math.round(this.ot.opacity*100),y.JN())/100;
this.ot.opacity=O;var M=new b(P.E.T,!0);M.data={H:P.l.tE,h:this.id,gB:{opacity:O}};S.B(M)}if(this.id==K.nZ&&R&&Q!=null){var U=this.ot.qsmode;
if(U==2)U=Q.m==null?0:1;else U=2;this.eX(U,S)}this.$_=D;if(R){if(Q)this.Eu=Q.u.C;this.Su(B,y)}};K.KT.et=function(Q,S){var B=Q.Brsh.v.Dmtr.v.val,y=Q.Brsh.v.Hrdn!=null?Q.Brsh.v.Hrdn.v.val:-1,l=B,D=y,R=S.N(A.CP);
if(S.N(A.Jh)){if(R)y=25*Math.floor((y-1)/25);else{if(B<=10)B--;else if(B<=50)B=5*Math.floor((B-1)/5);
else if(B<=100)B=10*Math.floor((B-1)/10);else if(B<=200)B=25*Math.floor((B-1)/25);else if(B<=400)B=50*Math.floor((B-1)/50);
else B=100*Math.floor((B-1)/100)}}if(S.N(A.ET)){if(R)y=25*Math.ceil((y+1)/25);else{if(B<10)B++;else if(B<50)B=5*Math.ceil((B+1)/5);
else if(B<100)B=10*Math.ceil((B+1)/10);else if(B<200)B=25*Math.ceil((B+1)/25);else if(B<400)B=50*Math.ceil((B+1)/50);
else B=100*Math.ceil((B+1)/100)}}B=Math.max(1,B);y=Math.max(0,Math.min(100,y));if(D==-1)y=-1;if(B!=l||y!=D){var p=JSON.parse(JSON.stringify(Q));
p.Brsh.v.Dmtr.v.val=B;if(D!=-1)p.Brsh.v.Hrdn.v.val=y;return p}return null};K.KT.prototype.Su=function(Q,S,B,y){if(Q.ml.list.length==0)return;
var l=this.id,D;if((l==K.Ep||l==K.xF||l==K.Kz||l==K.nb)&&S!=null&&S.N(A.qD))D="crosshair";else{var R=this.Eu,p=this.ot.brush,O;
if(B&&B.I.length!=0)O=B.G[B.I[0]];if((l==K.Ep||l==K.xF)&&O!=null&&O.Wg<=0){var M=B.u.FD(y.x,y.y),U=this.Qo(M),m=this.ot.sfrom,Y=O.buffer,x=O.rect,J,N;
if(m!=0){x=new w(0,0,B.r,B.O);Y=B.qB(m==1&&B.I[0]!=B.G.length-1?B.I[0]:null)}var T=new w(x.x+U.x,x.y+U.y,x.r,x.O),$=Nl.CN(p,Q.ml.gZ,R),L=$[0],s=$[1],j=Math.ceil(s.r/R),Z=new w(Math.round(M.x-j/2),Math.round(M.y-j/2),j,j),e=k.Q(Z.Z()*4);
k.oD(Y,T,e,Z);if(R==1){J=e;N=Z}else if(R<1){var E=k.rX(e,Z,R);J=E.Ko;N=E.rect;if(N.Z()!=s.Z()){N=s.clone();
N.x=E.rect.x;N.y=E.rect.y;J=k.Q(N.Z()*4);k.oD(E.Ko,E.rect,J,N)}}else{J=L.slice(0);N=s;k.scale.LR(e,Z.r,Z.O,J,N.r,N.O,R)}var h=this.ot.opacity/255;
for(var o=0;o<J.length;o+=4)J[o+3]=h*(L[o+3]*J[o+3]);D={Pb:J,q:N,lC:new v(N.r/2,N.O/2)}}else D=Nl.CL(p,Q.ml.gZ,R)}var V=new b(P.E.T,!0);
V.data={H:P.l.qL,YT:D};if(this.caller)this.caller.B(V)};K.KT.prototype.enable=function(Q,S,B,y){this.Kv=B;
this.caller=S;this.eU(JSON.parse(JSON.stringify(this.ot.brush)));if(Q&&Q.u.C!=0)this.Eu=Q.u.C;this.Su(B,y)};
K.KT.prototype.on=function(Q,S){if(S==rS.tP){this.ot.brush=Q.ml.Zr;this.Su(Q)}};K.KT.prototype.sv=function(Q,S,B,y,l){for(var D in Q)this.ot[D]=Q[D]};
K.KT.prototype.xS=function(Q,S){var B=Q.rL.length!=0?-1-Q.rL[0]:Q.I[0],y=Q.G[B],l=B<0?1:y.Wg,D=B<0?Q.Ka[-B-1]:l<=0?null:l==1?y.Tb():y.DG(Q).k;
this._v=Q.m==null?null:{rect:Q.m.rect.clone(),channel:k.clone(Q.m.channel)};this.UB=D?D.channel:y.buffer;
this.vT=(D?D.rect:y.rect).clone();var R=new w(0,0,Q.r,Q.O),p=R.wM(this.vT);if((this.Ea()&&l<=0||p.UH(this.vT))&&S!=!0)this.UB=this.UB.slice(0);
else{if(D)D.extend(p);else y.extend(p)}this.EN=this.vT;this.ER=this.UB;if(l<=0&&(this.id==K.Ep||this.id==K.xF)){var O=this.ot.sfrom;
if(O!=0){this.EN=new w(0,0,Q.r,Q.O);this.ER=k.clone(Q.qB(O==1&&Q.I[0]!=Q.G.length-1?Q.I[0]:null))}}};
K.KT.prototype.EG=function(Q,S,B){if(Q.N(A.qD)){var y=new b(P.E.D,!0);y.h=K.ps;y.data={H:"pickhere",mWt:B};
S.B(y);return!0}return!1};K.KT.prototype.gs=function(Q,S,B,y,l,D){if(!Q.pD()){this.ed=null;return}this.xS(Q);
var R=new w(0,0,Q.r,Q.O),p=null;if(D!=null){var O=Q.rL.length!=0?-1-Q.rL[0]:Q.I[0],M=Q.G[O],U=O<0?Q.Ka[-O-1]:M.Wg<=0?null:M.Wg==1?M.Tb():M.DG(Q).k;
p=k.Q(R.Z()*4);if(U)K.KT.sB(this.UB,this.vT,U.color,p,R);else k.oD(this.UB,this.vT,p,R)}var m=this.ot;
if(this.ed&&this.id==K.nZ&&m.qsmode!=0){}else{var Y=S.Tq,x=S.hB;if(this.hx=="erase"){var T=Y;Y=x;x=T}var $=this.id==K.nZ?this.vT:R;
this.ed=new Nl(m.brush,S.ml.gZ,S.ml.JR,{Md:l,Ew:D,mWi:m.smth*50*P._()/Q.u.C,EE:this.id==K.nb||m.emode==1,ZL:m.prsr},Y,x,$,p)}if(this.id==K.nZ){this.ed.mFm(m.brush,m.qsmode==2?0:16777215)}var L=Q.u.FD(y.x,y.y);
L=K.Ku.d$(Q,L,S);if(B.N(A.CP)&&this.oL){this.ed.moveTo(this.oL.x,this.oL.y,y.eE);this.ed.lineTo(L.x,L.y,y.eE)}else this.ed.moveTo(L.x,L.y,y.eE);
this.oL=L;this.kI=L.clone();this.bF=new Lp(L)};K.KT.prototype.Wy=function(Q,S,B){if(Q.u.C!=0&&Q.u.C!=this.Eu){this.Eu=Q.u.C;
this.Su(B)}};K.KT.prototype.Fy=function(Q,S,B,y){if(this.ed==null)return;var l=Q.G[Q.I[0]],D=Q.u.FD(y.x,y.y);
D=K.Ku.d$(Q,D,S);var R=this.bF.B_(D,B);if(R.UH(this.oL))return 1;this.ed.lineTo(R.x,R.y,y.eE);this.oL=R};
K.KT.prototype.s_=function(Q,S,B,y){if(this.id!=K.nZ||Q==null)return;if(Q.m==null||Q.I[0]!=this.mFQ){this.mFQ=Q.I[0];
this.eX(0,S)}};K.KT.prototype.s=function(Q,S){if(Q.rL.length!=0){Q.rr=!0;return}var B=Q.G[Q.I[0]];if(S==null){S=this.ed.hK();
if(this.Ea()&&B.Wg<=0)S=S.nG(this.vT)}if(S.Kq())return;if(B.Wg<=0){B.s(S)}if(B.Wg==1){B.Tb().DP=!0;B.Zs(Q)}if(B.Wg==3){B.s()}Q.s(Q.root.VX(S,Q,Q.I[0]))};
K.KT.prototype.sn=function(Q,S,B,y,l){if(this.ed==null)return;this.ed.finish();if(this.id!=K.pB&&this.id!=K.xF&&this.id!=K.nZ)this.JJ(Q);
if(this.id==K.nZ){var D=Q.m;Q.m=this._v;var R=new b(P.E.D,!0);R.data={H:"setsel",$a:this.name,m:D};R.h=K.wl;
S.B(R);if(this.ot.qsmode==0)this.eX(1,S)}else{this.finish(Q,this.ed.WN());this.ed=null;this.eC=null}this.dir=0};
K.KT.prototype.eX=function(Q,S){if(Q==this.ot.qsmode)return;this.ot.qsmode=Q;var B=new b(P.E.T,!0);B.data={H:P.l.tE,h:this.id,gB:{qsmode:Q}};
S.B(B)};K.KT.prototype.Ea=function(){var Q=this.id;return Q==K.nZ||Q==K.xG||Q==K.pb||Q==K.pH||Q==K.r_||Q==K.pi};
K.KT.prototype.finish=function(Q,S,B,y){var l=Q.rL.length!=0?-1-Q.rL[0]:Q.I[0],D=Q.G[l],R=l<0?1:D.Wg,p=l<0?Q.Ka[-l-1]:R<=0?null:R==1?D.Tb():D.DG(Q).k,O=p?p.rect:D.rect,m;
if(this.Ea()||!O.UH(this.vT)){if(p==null){if(this.Ea())D.On();else{var M=S.wM(this.vT),U=k.Q(M.Z()*4);
k.oD(D.buffer,D.rect,U,M);D.buffer=U;D.rect=M}}else p.On();this.s(Q,O)}if(R<=0){m=k.Q(S.Z()*4);k.oD(this.UB,this.vT,m,S)}else{m=k.Q(S.Z());
k.set(m,p.color);k.ht(this.UB,this.vT,m,S)}this.ei(Q,!1,B?B:this.name,l,R,S,m,y)};K.KT.prototype.ei=function(Q,S,B,y,l,D,R,p){var O=R;
if(l>0){O=k.Q(D.Z()*4);K.KT.sB(R,D,0,O,D)}var M=new NO(B,this);M.data=[{$:y,qe:l,q:D,Fk:O}];if(p)M.data.mdP=[Q.m,null];
Q.Ra(M);if(S)this.Lz(M.data,Q);else if(p)Q.m=null;mw.ZE.Ft(Q,M.data)};K.KT.prototype.$B=function(Q,S){this.RU(Q,S,!1)};
K.KT.prototype.Lz=function(Q,S){this.RU(Q,S,!0)};K.KT.prototype.RU=function(Q,S,B){if(Q.H=="drawtemp"){var y=B?Q.mW$:Q.mWG,l=S.G[Q.$];
l.K_.o_=y;l.VY(S,0,0,S.m);l.s()}else{mw.ZE.JM(S,Q);if(Q.mdP){S.m=Q.mdP[B?1:0];S.mh=!0}}S.s()};K.KT.prototype.JJ=function(Q){this.sf(Q,this.hx,this.ed.Du(),this.ed.jH(),this.ed.hK());
this.s(Q)};K.KT.prototype.sf=function(Q,S,B,y,l){var D=this.ot,R=Q.G[Q.I[0]],p=Q.rL.length!=0?Q.Ka[Q.rL[0]]:R.Wg<=0?null:R.Wg==1?R.Tb():R.DG(Q).k,O=k.Q(l.Z()*4);
if(p==null){k.oD(this.UB,this.vT,O,l)}else{K.KT.sB(this.UB,this.vT,p.color,O,l)}if(Q.m&&S!="qselect"){var M=l.nG(Q.m.rect),U=k.Q(M.Z()*4);
if(S=="copy"){var m=k.Q(M.Z());k.ht(Q.m.channel,Q.m.rect,m,M);k.oD(O,l,U,M);k.X.ia(B,y,U,M,m,M,0,M,1,!1)}else{k.oD(B,y,U,M);
k.BX(Q.m.channel,Q.m.rect,U,M)}B=U;y=M}if(S=="idraw"||S=="ierase"){if(this.eC==null)this.eC=k.Q(this.vT.Z());
var Y=this.ot.samp,x=this.Kv.hB,T=Y==0?this.oL:this.kI,$=T.x,L=T.y,s=K.lv.$i(this.UB,this.vT,[T,new v($-2,L),new v($+2,L),new v($,L-2),new v($,L+2)]);
if(Y==2)s=[[x>>>16&255,x>>>8&255,x>>>0&255,255]];var j=K.lv.Cg(O,l,this.oL,s,this.ot.wconf),Z=k.Q(l.Z());
k.ht(this.eC,this.vT,Z,l);k.fZ.wM(j,Z,Z);k.ht(Z,l,this.eC,this.vT);k.BX(Z,l,B,y);S=S.slice(1)}if(S=="erase"&&(mw.ZE.Gz(Q)!=16777215||p))S="draw";
if(S=="draw")k.X.Rc(D.bmode,B,y,O,l,l,D.opacity);else if(S=="erase"){var e=k.Q(l.Z()*4);k.oD(B,y,e,l);
if(p==null){var J=k.Q(l.Z());k.MA(e,J,3);k.ax(J,D.opacity);k.SD(J);k.BX(J,l,O,l)}else{k.St(e,0,4278190080);
k.X.Rc("norm",e,l,O,l,l,D.opacity)}}else if(S=="clone"||S=="heal"){var N=this.ek(),E=this.EN.clone();
E.offset(N.x,N.y);var h=l.clone();h.Jq(1,1);var o=k.Q(h.Z()*4),V=k.Q(h.Z());k.oD(B,y,o,h);k.MA(o,V,3);
k.St(o,0);if(p==null){k.oD(this.ER,E,o,h);var n=k.Q(h.Z());k.MA(o,n,3);k.aP(n,V)}else K.KT.sB(this.UB,E,p.color,o,h);
if(S=="clone"){k.KF(V,o,3);k.X.Rc(D.bmode,o,h,O,l,l,D.opacity)}if(S=="heal"){var t=k.clone(V);k.round(t,20);
var q=k.Q(h.Z()*4);k.oD(this.UB,this.vT,q,h);k.X.ia(o,h,q,h,t,h,0,h,1,!1);k.wu.TF(q,t,h);k.X.ia(q,h,O,l,V,h,0,l,1,!1)}}else if(S=="dodge"||S=="burn"){var o=k.Q(l.Z()*4),r=1,f=0,I=0,d=0;
k.oD(B,y,o,l);var u=l.Z()*4,g=K.KT.EU;if(this.$_){if(S=="dodge")S="burn";else S="dodge"}var a=D.rng;
if(S=="dodge"){f=[1-r/2,1,1+r][a];I=[1,1/(1+r),1][a];d=[r/2,0,0][a]}if(S=="burn"){f=[1/(1-r/2),1,1-r/2][a];
I=[1,1+r,1][a];d=[-(r/2)/(1-r/2),0,0][a]}for(var c=0;c<u;c+=4){var _=o[c+3];O[c+0]=g(O[c+0],f,I,d,_);
O[c+1]=g(O[c+1],f,I,d,_);O[c+2]=g(O[c+2],f,I,d,_)}}else if(S=="sponge"||S=="redeye"){var o=k.Q(l.Z()*4),V=k.Q(l.Z());
k.oD(B,y,o,l);k.MA(o,V,3);k.MK(O,o);var C=D.smode;if(this.$_)C=1-C;var F=m_.yh("hue2");if(S=="sponge")ma.FA(F,0,[0,[-50,46][C],[6,5][C]]);
else ma.FA(F,1,{oV:[265,305,25,55],px:[0,-90,-70]});var i=Nf.eL("hue2",F);Nf.sp(i,o,o,l);k.X.ia(o,l,O,l,V,l,0,l,1,!1)}else if(S=="copy")k.oD(B,y,O,l);
else if(S=="sheal"){var o=k.Q(l.Z()*4),V=k.Q(l.Z());k.oD(B,y,o,l);k.MA(o,V,3);k.AO.TF(this.UB,this.vT,V,O,l)}else if(S=="qselect"){var rP=this.vT,rH=rP.r,rK=rP.O,rY=rH*rK,Nc=this.ed.Du(),s=this.UB,G=K.pL.sz,V=G.$A;
V.fill(128);for(var c=0;c<rY;c++){var rI=Nc[c<<2],rb=Nc[(c<<2)+3];if(rb==255&&(rI==0||rI==255))V[c]=rI}V[0]=V[rH-1]=0;
V[(rK>>>1)*rH]=V[(rK>>>1)*rH+rH-1]=0;K.IY.yT(G,!0);Q.m={rect:rP,channel:G.m.slice(0)};Q.mh=!0}if(p==null)k.oD(O,l,R.buffer,R.rect);
else K.KT.En(O,l,p)};K.KT.ek=function(){return null};K.KT.EU=function(Q,S,B,y,l){var D=Q*(1/255),R=y+S*Math.pow(D,B),p=Math.round(R*l+D*(255-l));
return Math.max(0,Math.min(255,p))};K.KT.sB=function(Q,S,B,y,l){var D=k.Q(l.Z());k.set(D,B);k.ht(Q,S,D,l);
k.St(y,4278190080);k.r$(D,y)};K.KT.En=function(Q,S,B){var y=k.Q(S.Z());k.pE(Q,y);k.ht(y,S,B.channel,B.rect)};
K.pL=function(Q,S,B){K.WC.call(this,Q,S,B);this.ot={po:"front",Mu:0,qt:{xQ:0,x:3,y:2},Es:[10,!0,!0]};
this.vF=new v(-1,-1);this.tR=new v(-1,-1);this.ZQ="default";this.VP=null;this.$S=!1;this.E$=!1;this.$_=!1;
this.wi=0;this.qa=0;this.wY=!1;this.es=null;this.e$=null;this.Ze=!1};K.pL.prototype=new K.WC;K.pL.sz={key:""};
K.pL.sm=function(Q,S){var B={QF:Q,$o:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(S)B.$o.T=S;return B};K.pL.ex=function(Q,S){return K.pL.sm("set",{t:"Objc",v:{classID:Q,Top:{t:"UntF",v:{type:"#Pxl",val:S.y}},Left:{t:"UntF",v:{type:"#Pxl",val:S.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:S.y+S.O}},Rght:{t:"UntF",v:{type:"#Pxl",val:S.x+S.r}}}})};
K.pL.Iz=function(Q,S){var B=[],y=[],R="set";for(var l=0;l<Q.length;l+=2){B.push(Q[l]);y.push(Q[l+1])}var D={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:B},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:y}]}}}};
if(S)R={front:"set",union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[S];return K.pL.sm(R,D)};
K.pL.mh_=function(Q,S){var B={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Q.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Q.y}}}},y=K.pL.sm("set",B);
y.$o.Tlrn={t:"long",v:S[0]};y.$o.AntA={t:"bool",v:S[1]};y.$o.Cntg={t:"bool",v:S[2]};return y};K.pL.Cv=function(Q){return K.pL.sm("set",{t:"enum",v:{Ordn:Q?"Al":"None"}})};
K.pL.mhG=function(Q,S,B){var y={classID:"null"};if(Q!="border")y.selectionModifyEffectAtCanvasBounds={t:"bool",v:B};
var l={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[Q[0]];y[l]={t:"UntF",v:{type:"#Pxl",val:S}};return{QF:Q,$o:y}};
K.pL.mhD=function(Q,S,B){var y={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},l={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Trsp","Msk"][B]}},{t:"name",v:{classID:"Lyr",val:Q}}]},D=[{classID:"null",null:y,T:l},{classID:"null",null:l,T:y},{classID:"null",null:l,From:y},{classID:"null",null:l,With:y}],R=["set","add","subtract","interfaceIconFrameDimmed"];
return{QF:R[S],$o:D[S]}};K.pL.Rn=function(Q,S){var B=new b(P.E.T,!0);B.data={H:P.l.Kk,yQ:rS.VW};if(!S.fn)Q.B(B);
B.data={H:P.l.Kk,yQ:rS.XU};if(!S.Ke.Zd)Q.B(B)};K.pL.prototype.Ox=function(Q,S,B,y,l){K.pL.Rn(S,l);this.VP=S;
var D=Q.H,R,p,O=new w(0,0,B.r,B.O),NN=!1,Ne,Ny;if(D=="fromAction"){var M=Q.wT,U=M.QF,m=M.$o,Y=m?m.selectionModifyEffectAtCanvasBounds:null,x=Y&&Y.v;
if(U=="inverse"){if(B.m==null){alert("No selection!");return}R={channel:k.Q(O.Z()),rect:O};k.ht(B.m.channel,B.m.rect,R.channel,R.rect);
k.SD(R.channel);p=[7,2]}else if(U=="expand"){var T=m.By.v.val,$=B.m.rect.clone();$.Jq(T,T);var L=k.Q($.Z()),s=k.Q($.Z());
k.ht(B.m.channel,B.m.rect,s,$);k.style.stroke(s,L,$,T);R={channel:L,rect:$};p=[7,4]}else if(U=="contract"){var T=m.By.v.val,j=B.m.rect.clone();
j.Jq(1,1);if(!x)j=j.nG(O);var s=k.Q(j.Z()),Z=k.Q(s.length);k.ht(B.m.channel,B.m.rect,s,j);k.SD(s);k.style.stroke(s,Z,j,T);
k.SD(Z);R={channel:Z,rect:j};k.On(R);p=[7,5]}else if(U=="border"){var T=m.Wdth.v.val;R=K.pL.QE(B.m,T/2,T/2);
p=[7,9]}else if(U=="feather"||U=="smoothness"){var T=m.Rds.v.val;R=K.pL.Qf(B.m,T,U=="smoothness",O,x);
p=U=="feather"?[7,6]:[19,3,0]}else{var e=m.null.v;function J(Ni){var mm=Ni.Top.v.val,NR=Ni.Left.v.val;
return new w(NR,mm,Ni.Rght.v.val-NR,Ni.Btom.v.val-mm)}function N(Ni){var mm=Ni[0].arr,NT=Ni[1].arr,NF={M:[],F:[]};
for(var Nz=0;Nz<mm.length;Nz++){NF.F.push(Nz==0?"M":"L");NF.M.push(mm[Nz],NT[Nz])}NF.F.push("Z");return NF}var E=["set","addTo","subtractFrom","interfaceWhite"].indexOf(U),h=m.T?m.T.v:null;
if(h&&h.classID=="Elps"){R=this.Qu(K.QB.dz(J(h)));p=[10,4]}else if(h&&h.classID=="Rctn"){var o=J(h);
R={channel:k.Q(o.Z()),rect:o.clone()};k.set(R.channel,255);p=[10,15]}else if(h&&h.classID=="ObSl"){var o=J(h),V=K.pL.sz,n=V.rect,t=V.$A,q=n.r,u=n.O,g=o.x-n.x,r=g+o.r-1,f=Math.max(g,Math.min(r,g+r>>>1)),I=o.y-n.y,d=I+o.O-1,a=Math.max(I,Math.min(d,I+d>>>1)),c=Math.max(g,0),_=Math.min(r,q),C=Math.max(I,0),F=Math.min(d,u);
t.fill(128);if(0<=I)for(var i=c;i<_;i++)t[I*q+i]=0;if(d<u)for(var i=c;i<_;i++)t[d*q+i]=0;if(0<=g)for(var rP=C;
rP<F;rP++)t[rP*q+g]=0;if(r<q)for(var rP=C;rP<F;rP++)t[rP*q+r]=0;var rH=K.tu.uH,rK=Math.round(o.r*rH),rY=Math.round(o.O*rH);
for(var i=Math.max(0,f-rK);i<Math.min(q,f+rK);i++)t[a*q+i]=255;for(var rP=Math.max(0,a-rY);rP<Math.min(u,a+rY);
rP++)t[rP*q+f]=255;K.IY.yT(V,!0);R={channel:V.m.slice(0),rect:n.clone()};p=[10,44]}else if(h&&h.classID=="Plgn"){R=this.Qu(N(h.Pts.v.arr));
p=[10,9]}else if(h&&h.classID=="Pnt"){R=K.lv.Ch(B,new v(h.Hrzn.v.val,h.Vrtc.v.val),[m.Tlrn.v,m.AntA==null||m.AntA.v,m.Cntg==null||m.Cntg.v]);
p=[10,12]}else if(h&&h.Ordn=="None"){R=null;p=[7,1]}else if(h&&h.Ordn=="Al"){R={channel:k.Q(O.Z()),rect:O};
k.set(R.channel,255);p=[7,0]}else{var Nc=B.I[0],Nr;if(e.length==2)Nc=mg.cY(B,e[1]);else if(h.length==2)Nc=mg.cY(B,h[1]);
var G=(h?h:e)[0].v.enum,rI=["Trsp","Msk","vectorMask"].indexOf(G);console.log(rI);var rb=E!=-1?E:["set","add","subtract","interfaceIconFrameDimmed"].indexOf(U);
if(h&&h[0].t=="name"){for(var Nz=0;Nz<B.Ka.length;Nz++)if(B.Ka[Nz].name==h[0].v.val)Nc=Nz;Nr={H:"fromchannel",oG:[-5-Nc,0,rb]}}else if(G=="RGB")Nr={H:"fromchannel",oG:[-1,0,rb]};
else Nr={H:"fromlayer",oG:[Nc,rI,rb]};this.Ox(Nr,S,B,y,l);return}if(m.Fthr)R=K.pL.Qf(R,m.Fthr.v.val,!1);
if(U!="set"&&B.m!=null)R=k.fZ.QI(R,B.m,["","union","difference","intersection"][E])}if(U=="expand"||U=="contract")if(!x&&!O.contains(R.rect)){var NL=R.rect.nG(O),Nm=k.Q(NL.Z());
k.ht(R.channel,R.rect,Nm,NL);R.channel=Nm;R.rect=NL}}if(D=="qmask"){NN=!0;var NG=B.na(),NC=new w(0,0,B.r,B.O);
if(NG){R=NG.rect.UH(NC)&&k.aZ(NG.channel,255)?null:{rect:NG.rect.clone(),channel:NG.channel.slice(0)};
Ne=NG}else{R=null;Ny=new z.oW;Ny.color=0;Ny.name="Quick Mask";Ny.TX=!0;if(B.m){Ny.rect=B.m.rect.clone();
Ny.channel=B.m.channel.slice(0)}else{Ny.rect=NC;Ny.channel=k.Q(Ny.rect.Z());k.set(Ny.channel,255)}}p=[6,6,1]}if(D=="setsel"){R=Q.m;
p=Q.$a}if(D=="crange"){var Ng=Q.ZO,NM=Q.ZZ;R=K.pL.Q$(B,Ng,NM,Q.go);p=[7,8];Ng={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:Ng.iu},A:{t:"doub",v:Ng.n},B:{t:"doub",v:Ng.R}}};
NM={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:NM.iu},A:{t:"doub",v:NM.n},B:{t:"doub",v:NM.R}}};this.track({QF:"colorRange",$o:{__name:"Color Range",classID:"ClrR",Fzns:{t:"long",v:Math.round(Q.go*200)},Mnm:Ng,Mxm:NM,colorModel:{t:"long",v:0}}})}if(D=="fromlayer"||D=="fromchannel"){var NQ=Q.oG[0],rI=Q.oG[1],E=Q.oG[2];
if(D=="fromlayer"){if(NQ==null)NQ=B.I[0];if(0<=NQ){var NR=B.G[NQ];if(rI==0){var NV=NR.rect,md=NR.buffer;
if(NV.Kq())return;var NW=k.Q(md.length>>>2);k.MA(md,NW,3);R={channel:NW,rect:NV.clone()}}else{var Nh=rI==1?NR.Tb():NR.k;
R=K.pL.RE(Nh,O)}this.track(K.pL.mhD(NR.getName(),E,rI))}else{var Nt=B.SX[-1-NQ],Nh=Nt.add.vmsk.Tb(),NU=Nh.jH();
if(NU.Z()==0)return;var NW=Nh.he(),Mw=B.lW.indexOf(-1-NQ);if(Mw!=-1)B.lW.splice(Mw,1);R={channel:NW,rect:NU}}}else{if(-5<NQ&NQ<0){var mp=-NQ-1,Na=B.qB(),NW=k.Q(O.Z());
if(mp==0)k.pE(Na,NW);else k.MA(Na,NW,mp-1);R={channel:NW,rect:O.clone()}}if(NQ<-4){R=K.pL.RE(B.Ka[-NQ-5],O)}}if(E!=0&&B.m)R=k.fZ.QI(R,B.m,["","union","difference","intersection"][E]);
p=[14,11]}if(R!=null&&k.aZ(R.channel,0)){R=null;p=[7,1]}if(R)k.On(R);var NX=new NO(p,this);NX.data={H:"changesel",_v:B.m,mT:R,na:NN,myO:Ne,mqQ:Ny};
B.Ra(NX);this.Lz(NX.data,B)};K.pL.RE=function(Q,S){var B,y;if(Q.RT()==0){y=Q.jH();if(y.Z()==0)return;
B=Q.he()}else{y=S;B=k.Q(y.Z());Q.Xz(y,B)}return{channel:B,rect:y}};K.pL.prototype.C$=function(Q){return this.wY||Q.qv&&this.id!=K.pf};
K.pL.prototype.PD=function(Q,S,B){var y=new b(S,!0);y.data=B;Q.B(y)};K.pL.prototype.QN=function(Q,S){var B=new b(P.E.T,!0);
B.data={H:P.l.qL,YT:S};Q.B(B)};K.pL.prototype.jH=function(Q,S,B){S=Q.m==null||this.wi>1||this.qa>1?S:null;
var y=this.vF,l=this.tR;if(B){y.x=Math.max(0,Math.min(Q.r,y.x));y.y=Math.max(0,Math.min(Q.O,y.y));l.x=Math.max(0,Math.min(Q.r,l.x));
l.y=Math.max(0,Math.min(Q.O,l.y))}var D=K.sE.ut(y,l,S,!0,this.ot.qt),R=D[0].x,p=D[0].y;return new w(R,p,D[1].x-R,D[1].y-p)};
K.pL.prototype.OQ=function(Q,S,B,y,l){if(this.eH())return;this.VP=S;this.$S=!1;this.E$=y.N(A.CP);this.$_=y.N(A.qD);
this.wi=this.E$?0:1;this.qa=this.$_?0:1;this.vF=Q.u.FD(l.x,l.y);this.vF=K.Ku.d$(Q,this.vF,B);if(this.QR(Q,this.vF)){this.wY=!0;
this.es=Q.m.rect.clone();return}this.Gg(Q,B,y,l);Q.u.M_=new w};K.pL.prototype.QR=function(Q,S){if(Q.m&&this.ot.po=="front")return k.CM(S,Q.m.channel,Q.m.rect);
return!1};K.pL.prototype.Uy=function(Q,S,B,y,l){this.VP=S;if(this.Ze)return;var D=Q.u.FD(l.x,l.y);if(v.Ui(this.vF,D)*Q.u.C>5)this.$S=!0;
if(y.N(A.tD)){if(this.e$==null)this.e$=new v(D.x-this.vF.x,D.y-this.vF.y);this.vF.x=D.x-this.e$.x;this.vF.y=D.y-this.e$.y}else this.e$=null;
this.tR=D;if(!this.wY)this.tR=K.Ku.d$(Q,this.tR,B);if(this.QR(Q,this.tR))this.QN(S,"move");else this.QN(S,this.ZQ);
if(this.wY){var R=this.es.clone();R.x+=this.tR.x-this.vF.x;R.y+=this.tR.y-this.vF.y;var p=K.Ku.qO(Q,R,B);
Q.m.rect.x=Math.round(this.tR.x-this.vF.x+this.es.x+p[0]);Q.m.rect.y=Math.round(this.tR.y-this.vF.y+this.es.y+p[1]);
Q.mh=!0;K.Ku.qU(Q,R,p);return}this.Re(Q,B,y,l);if(Q.u.M_)Q.u.M_=this.jH(Q,y)};K.pL.prototype.eH=function(){return!1};
K.pL.prototype.sn=function(Q,S,B,y,l){Q.u.M_=null;this.tR=Q.u.FD(l.x,l.y);this.tR=K.Ku.d$(Q,this.tR,B);
if(this.wY){this.wY=!1;if(this.tR.UH(this.vF)&&this.QC()=="front"){this.PD(S,P.E.RK,K.pL.Cv());return}this.QV(Q,this.es,Q.m.rect.clone());
if(Q!=null&&Q.J.Pg){Q.J.Pg=null;Q.rr=!0}return}this.ss(Q,B,y,l);K.pL.Rn(S,B)};K.pL.prototype.QV=function(Q,S,B){var y=Q.vO();
if(y!=null&&y.h==this&&y.data.H=="movesel"){}else{y=new NO([7,7],this);y.data={H:"movesel",rs:S};Q.Ra(y)}y.data.fJ=B;
this.Lz(y.data,Q)};K.pL.prototype.nV=function(Q,S,B,y,l){this.Ze=!0};K.pL.prototype.Ro=function(Q,S,B,y,l){var D=new b(P.E.T,!0);
D.data={H:P.l.tE,h:this.id,fv:l,wJ:Q,pn:B};S.B(D);this.Ze=!1};K.pL.prototype.qh=function(Q,S,B,y){var l=y.N(A.CP),D=y.N(A.qD);
if(this.$S){if(this.wi==0&&!l)this.wi++;if(this.wi==1&&l)this.wi++;if(this.qa==0&&!D)this.qa++;if(this.qa==1&&D)this.qa++}if(Q!=null&&Q.m!=null){var R=y.tt();
if(R.x!=0||R.y!=0){var p=Q.m.rect.clone();p.x+=R.x;p.y+=R.y;this.QV(Q,Q.m.rect.clone(),p)}}var O=K.pL.eS(this.ot.po,l,D),M=new b(P.E.T,!0);
M.data={H:P.l.tE,h:this.id,po:O};S.B(M)};K.pL.prototype.finish=function(Q,S,B,y){var l=Q.m,D=this.getSelection(Q,S,B,y);
if(D==null)D=K.pL.Cv();else{var R=this.ot.Mu,p=this.QC();if(R!=0)D.$o.Fthr={t:"UntF",v:{type:"#Pxl",val:R}};
if(p!="front"&&p!="xor")D.QF={union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[p]}this.PD(this.VP,P.E.RK,D);
this.vF.yZ(-1,-1);this.tR.yZ(-1,-1)};K.pL.prototype.QC=function(){return K.pL.eS(this.ot.po,this.E$,this.$_)};
K.pL.eS=function(Q,S,B){if(S)Q="union";if(B)Q="difference";if(S&&B)Q="intersection";return Q};K.pL.prototype.getSelection=function(Q,S,B,y){return null};
K.pL.prototype.Gg=function(Q,S,B,y){};K.pL.prototype.Re=function(Q,S,B,y){};K.pL.prototype.ss=function(Q,S,B,y){};
K.pL.prototype.$B=function(Q,S){var B=Q.H;if(B=="changesel")S.m=Q._v;if(B=="movesel")S.m.rect=Q.rs;if(Q.na){if(Q.myO){S.rL=[S.Ka.length];
S.Ka.push(Q.myO)}else{S.Ka.pop();S.rL=[]}}S.mh=!0};K.pL.prototype.Lz=function(Q,S){var B=Q.H;if(B=="changesel")S.m=Q.mT;
if(B=="movesel")S.m.rect=Q.fJ;if(Q.na){if(Q.mqQ){S.rL=[S.Ka.length];S.Ka.push(Q.mqQ)}else{S.Ka.pop();
S.rL=[]}}S.mh=!0};K.pL.prototype.sv=function(Q){this.ot=Q};K.pL.prototype.Qu=function(Q){var S=k.i.vE(Q.M);
if(S.Kq())return null;var B=P.P("canvas","");B.width=S.r;B.height=S.O;var y=B.getContext("2d");y.beginPath();
y.translate(-S.x,-S.y);Typr.U.pathToContext({cmds:Q.F,crds:Q.M},y);y.closePath();y.fill();var l=k.Q(S.Z()),D=y.getImageData(0,0,B.width,B.height);
k.MA(D.data,l,3);return{rect:S,channel:l}};K.pL.Qf=function(Q,S,B,y,l){if(B)S=Math.round(S*.7);var D=Math.ceil(2.6*S),R=Q.rect.clone();
R.Jq(D,D);if(y&&!l)R=R.nG(y);var p=k.Q(R.Z()),O=k.Q(p.length);k.ht(Q.channel,Q.rect,O,R);k.blur.UQ(O,p,R,S);
if(B){var M=p.length;for(var U=0;U<M;U++){var m=(p[U]-128)*S*2.5;p[U]=Math.max(0,Math.min(255,Math.round(128+m)))}}return{channel:p,rect:R}};
K.pL.QE=function(Q,S,B){var y=Math.max(1,Math.ceil(B)),l=Q.rect.clone();l.Jq(y,y);var D=l.Z(),R={channel:k.Q(D),rect:l},p=k.Q(D);
k.ht(Q.channel,Q.rect,p,R.rect);if(B!=0)k.style.stroke(p,R.channel,R.rect,B);else k.MK(p,R.channel);
var O=k.Q(D);k.SD(p);if(S!=0)k.style.stroke(p,O,R.rect,S);else k.MK(p,O);k.fZ.nG(R.channel,O,R.channel);
return R};K.pL.Q$=function(Q,S,B,y){var l=new w(0,0,Q.r,Q.O),D=Q.qB();if(Q.m){var R=Q.m.rect.nG(l),p=k.Q(R.Z()*4);
k.oD(D,l,p,R);l=R;D=p}var O=l.Z(),M=k.Q(O),U=1/y;for(var m=0;m<O;m++){var Y=m<<2,x=k.we(D[Y],D[Y+1],D[Y+2]),T=k.xn(x,S,B,y,U);
M[m]=255*T}return{rect:l,channel:M}};K.su=function(){K.KT.call(this,[10,18],K.xB,"tools/blur");this.hx="copy"};
K.su.prototype=new K.KT;K.su.prototype.OQ=function(Q,S,B,y,l){var D=y.N(A.qD)?Nl.BG:Nl.xB;this.gs(Q,B,y,l,this.ot.strn,D);
if(this.ed==null)return;this.JJ(Q)};K.su.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);if(this.yU)this.CH(Q,B,l);
if(this.ed==null)return;if(!l.qv)return;this.Fy(Q,B,y,l);this.JJ(Q)};K.sg=function(){K.KT.call(this,[10,0],K.Kz,"tools/brush");
this.hx="draw"};K.sg.prototype=new K.KT;K.sg.prototype.OQ=function(Q,S,B,y,l){if(this.EG(y,S,l))return;
this.gs(Q,B,y,l,this.ot.flow);if(this.ed==null)return;this.JJ(Q)};K.sg.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);
if(this.yU)this.CH(Q,B,l);if(this.ed==null)return;if(!l.qv)return;this.Fy(Q,B,y,l);this.JJ(Q)};K.sw=function(){K.KT.call(this,[10,42],K.mVI,"tools/crepl");
this.hx="idraw";this.ot.bmode="hue "};K.sw.prototype=new K.KT;K.sw.prototype.OQ=function(Q,S,B,y,l){if(this.EG(y,S,l))return;
this.gs(Q,B,y,l,this.ot.flow);if(this.ed==null)return;this.JJ(Q)};K.sw.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);
if(this.yU)this.CH(Q,B,l);if(this.ed==null)return;if(!l.qv)return;this.Fy(Q,B,y,l);this.JJ(Q)};K.sO=function(){K.KT.call(this,[10,43],K.pi,"tools/redeye");
this.ot.smode=0;this.hx="redeye"};K.sO.prototype=new K.KT;K.sO.prototype.OQ=function(Q,S,B,y,l){this.gs(Q,B,y,l,this.ot.flow);
if(this.ed==null)return;this.JJ(Q)};K.sO.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);if(this.yU)this.CH(Q,B,l);
if(this.ed==null)return;if(!l.qv)return;this.Fy(Q,B,y,l);this.JJ(Q)};K.sT=function(){K.KT.call(this,[10,38],K.nb,"tools/pencil");
this.hx="draw"};K.sT.prototype=new K.KT;K.sT.prototype.OQ=function(Q,S,B,y,l){if(this.EG(y,S,l))return;
this.gs(Q,B,y,l,this.ot.flow);if(this.ed==null)return;this.JJ(Q)};K.sT.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);
if(this.yU)this.CH(Q,B,l);if(this.ed==null)return;if(!l.qv)return;this.Fy(Q,B,y,l);this.JJ(Q)};K.sb=function(){K.KT.call(this,[10,22],K.pH,"tools/burn");
this.hx="burn"};K.sb.prototype=new K.KT;K.sb.prototype.OQ=function(Q,S,B,y,l){this.gs(Q,B,y,l,this.ot.expo/Math.E);
if(this.ed==null)return;this.JJ(Q)};K.sb.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);if(this.yU)this.CH(Q,B,l);
if(this.ed==null)return;if(!l.qv)return;this.Fy(Q,B,y,l);this.JJ(Q)};K.$z=function(Q,S,B){K.KT.call(this,Q==""?null:Q?Q:[10,1],S?S:K.Ep,B?B:"tools/clone");
this.hx="clone";this.bJ=null;this.a=null};K.$z.prototype=new K.KT;K.$z.prototype.OQ=function(Q,S,B,y,l){if(y.N(A.qD)||y.N(A.tI)){this.bJ=Q.u.FD(l.x,l.y);
this.a=null;return}if(this.bJ==null){alert(Nd.get([15,7,0]));return}this.Su(B,y);this.gs(Q,B,y,l,this.ot.flow);
if(this.ed==null)return;this.a=this.Qo(Q.u.FD(l.x,l.y));this.JJ(Q)};K.$z.prototype.Qo=function(Q){var S=this.a;
if(S==null||!this.ot.algnd)S=new v(Math.round(Q.x-this.bJ.x),Math.round(Q.y-this.bJ.y));return S};K.$z.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);
if(this.yU)this.CH(Q,B,l);if(this.ed==null){if(this.bJ!=null)this.Su(B,y,Q,l);return}if(!l.qv||this.bJ==null)return;
this.Fy(Q,B,y,l);this.JJ(Q)};K.$z.prototype.ek=function(){return this.a};K.$z.prototype.disable=function(Q,S,B,y){this.bJ=null;
this.a=null};K.SK=function(Q,S,B){K.WC.call(this,Q,S,B);this.gi={oj:{xQ:0,x:0,y:0}};this.Wu=null;this.cursor=null;
this.mqd=0;this.MO=null};K.SK.prototype=new K.WC;K.SK.prototype.TA=function(){return this.Wu!=null};
K.SK.prototype.C$=function(Q){return this.Wu&&this.Wu.uY()};K.SK.prototype.OQ=function(Q,S,B,y,l){this.MO=l;
var D=Q.u.FD(l.x,l.y);D.x=Math.round(D.x);D.y=Math.round(D.y);var R=this.gi.oj,p=R.xQ!=0?R.x/R.y:null,O=this.Wu==null;
if(O)this.Wu=this.QZ(null,R.xQ!=0);this.Wu.OQ(Q,B,y,D,p,O)};K.SK.prototype.QZ=function(Q,S){return new mF(Q,!0,!1,this.id==K.eh,!0,S,this.id==K.eh?2:0)};
K.SK.prototype.Su=function(Q){var S=new b(P.E.T,!0);S.data={H:P.l.qL,YT:this.cursor};Q.B(S)};K.SK.prototype.enable=function(Q,S,B,y){this.cursor="crosshair";
this.Su(S);if(Q!=null&&Q.m){var l=this.gi.oj={xQ:0,x:0,y:0};this.PD(S,P.E.T,{H:P.l.tE,h:this.id,Zy:!1,qt:l});
this.sv({QQ:"cropby",mqe:3},S,Q,y,B)}};K.SK.prototype.Uy=function(Q,S,B,y,l){this.MO=l;var D=Q.u.FD(l.x,l.y);
if(!l.qv){var R="crosshair";if(this.Wu){var p=this.Wu.qH(D,Q.u.C);if(p)R=p;else R="default"}if(R!=this.cursor){this.cursor=R;
this.Su(S)}}if(this.Wu)this.Wu.Uy(Q,B,y,D)};K.SK.prototype.sn=function(Q,S,B,y,l){this.MO=l;if(this.Wu==null)return;
var D=Q.u.FD(l.x,l.y);this.Wu.sn(Q,B,y,D);this.PD(S,P.E.T,{H:P.l.tE,h:this.id,Zy:!0});var R=this.Wu.fg();
if(Math.abs(R[0]-R[4])<2||Math.abs(R[1]-R[5])<2){this.disable(Q,S,null,y);return}if(Date.now()-this.mqd<200&&this.Wu.Ah(D)){this.eK(Q,B);
this.disable(Q,S,B,y);return}this.mqd=Date.now()};K.SK.prototype.qh=function(Q,S,B,y){var l=this.Wu;
if(l==null||this.MO&&this.MO.qv)return;if(y.N(A._o)){this.eK(Q,B);this.disable(Q,S,B,y)}else if(y.N(A.fr)){this.disable(Q,S,B,y)}else l.qh(Q,B,y)};
K.SK.Lu=function(Q,S,B,y){var l={classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:Q}},Hght:{t:"UntF",v:{type:"#Pxl",val:S}},Intr:{t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][y==null?1:y]}}};
if(B!=null)l.Rslt={t:"UntF",v:{type:"#Rsl",val:B}};return{QF:"imageSize",$o:l}};K.SK.cz=function(Q,S,B){if(B==null)B=4;
var y=Math.floor(B/3),l=B%3;return{QF:"canvasSize",$o:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:Q}},Hght:{t:"UntF",v:{type:"#Pxl",val:S}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][l]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][y]}}}}};
K.SK.prototype.Ox=function(Q,S,B,y,l){var D=new w(0,0,B.r,B.O),R=[11,3],p=B.LY,O=B.r/2,M=B.O/2,U=1,r,f;
if(Q.H=="fromAction"){var m=Q.wT,Y=m.QF,x=m.$o,j=1,Z;console.log(Y,x);var T=B.r/B.O,$=x.Wdth?x.Wdth.v.val:-1,L=x.Hght?x.Hght.v.val:-1,p=x.Rslt?x.Rslt.v.val:null,s=x.Wdth?x.Wdth.v.type:x.Hght?x.Hght.v.type:-1;
if(Y=="imageSize"){if(x.Intr){if(x.Intr.v.Intp=="Nrst")j=0;if(x.Intr.v.Intp=="bicubicSharper")j=2;if($==-1&&L==-1){var e=p/B.LY;
$=Math.round(B.r*e);L=Math.round(B.O*e)}else if(s=="#Prc"){if($!=-1)$=Math.round(B.r*$/100);if(L!=-1)L=Math.round(B.O*L/100)}if(x.CnsP&&x.CnsP.v){if($==-1)$=Math.round(L*T);
if(L==-1)L=Math.round($/T)}}else{if(s=="#Prc")p=Math.round(B.LY/(($!=-1?$:L)/100));else throw"e";$=B.r;
L=B.O}Z={H:"imgsize",eD:$,eB:L,eA:p,ff:j}}else if(Y=="canvasSize"){if($==-1)$=B.r;if(L==-1)L=B.O;var J=x.Vrtc?x.Vrtc.v.VrtL:"Cntr",N=x.Hrzn?x.Hrzn.v.HrzL:"Cntr";
Z={H:"canvsize",eD:$,eB:L,PW:3*["Top","Cntr","Btom"].indexOf(J)+["Left","Cntr","Rght"].indexOf(N)}}if(Z)this.Ox(Z,S,B,y,l);
return}else if(Q.H=="imgsize"){D=new w(0,0,Q.eD,Q.eB);if(Q.eA)p=Q.eA;U=Q.ff}else if(Q.H=="canvsize"){var E=Q.PW!=null?Q.PW:0;
D=new w(0,0,Q.eD,Q.eB);var h=B.r-Q.eD,o=B.O-Q.eB,V=Math.round(h/2),n=Math.round(o/2);if(E==1||E==4||E==7)D.x=V;
if(E==2||E==5||E==8)D.x=h;if(E==3||E==4||E==5)D.y=n;if(E==6||E==7||E==8)D.y=o;if(Q.a){D.x=Q.a.x;D.y=Q.a.y}}else if(Q.H=="rot"&&(Q.z+2*Math.PI)%(Math.PI/2)!=0){var t=k.i.wS(D).M,q=new Nu;
q.translate(-O,-M);q.rotate(Q.z);q.translate(O,M);k.i.V(t,q,t);D=k.i.vE(t)}else if(Q.H=="rot"&&Q.z!=Math.PI){D=new w(O-B.O/2,M-B.r/2,B.O,B.r);
if((B.r+B.O&1)==1){O=Math.floor(O);M=Math.floor(M);D=new w(O-Math.floor(B.O/2),M-Math.floor(B.r/2),B.O,B.r);
if((B.r&1)==1&&Q.z!=-Math.PI/2)D.y--;if((B.O&1)==1&&Q.z==-Math.PI/2)D.x--}}else if(Q.H=="trim"){R=[11,12,0];
var u=B.qB(),g=new w(0,0,B.r,B.O);D=k.Nr(u,g,Q.oY,Q.qt);if(D.Kq())D=g}else if(Q.H=="cropbysel"){R=[11,12,1];
D=B.m.rect.clone()}if(Q.H=="imgsize"||Q.H=="rot"||Q.H=="scl"){var I=new Nu;if(Q.H=="imgsize"){R=[11,10];
I.scale(Q.eD/B.r,Q.eB/B.O)}else{I.translate(-O,-M);if(Q.H=="rot")I.rotate(Q.z);if(Q.H=="scl")I.scale(Q.z.x,Q.z.y);
I.translate(O,M);R=Q.$a}f=k.W.Tz(I);r=this.ca(B,l,f,U)}var d=new w(0,0,B.r,B.O);if(!D.Kq()&&(!D.UH(d)||r!=null)){var a=new NO(R,this);
a.data={rs:d,fJ:D,mqw:B.LY,eA:p,bB:r,Et:f,eY:K.SK.cM(B,D,d,r!=null)};B.Ra(a);this.Lz(a.data,B)}};K.SK.cM=function(Q,S,B,y){if(Q.$q.length==0)return null;
var l=JSON.stringify(Q.$q),D=JSON.parse(l);K.GM.mgO(D,S,B,y);D=JSON.stringify(D);return[l,D]};K.SK.prototype.ca=function(Q,S,B,y,l){var D={G:[],aB:null,GY:null};
for(var R=0;R<Q.G.length;R++)D.G.push(R);for(var R=0;R<Q.SX.length;R++)D.G.push(-1-R);D.aB=K.Sj.Hl(Q,D.G,!0);
K.Sj.yl(Q,S,D.G,D.aB,y,B,null,!0,l);D.GY=K.Sj.Hl(Q,D.G,!0);return D};K.SK.prototype.Lz=function(Q,S){if(Q.eA)S.LY=Q.eA;
if(Q.eY)S.$q=JSON.parse(Q.eY[1]);if(Q.bB){K.SK.cE(S,k.W.FE(Q.Et));K.Sj.HY(S,Q.bB.G,Q.bB.GY)}K.SK.Im(S,Q.fJ)};
K.SK.prototype.$B=function(Q,S){if(Q.mqw)S.LY=Q.mqw;if(Q.eY)S.$q=JSON.parse(Q.eY[0]);var B=Q.rs.clone();
B.offset(-Q.fJ.x,-Q.fJ.y);K.SK.Im(S,B);if(Q.oT)S.u.a.Ue(Q.oT);S.mpU();if(Q.bB){var y=k.W.FE(Q.Et).clone();
y.SD();K.SK.cE(S,y);K.Sj.HY(S,Q.bB.G,Q.bB.aB)}};K.SK.cE=function(Q,S){for(var B=0;B<Q.G.length;B++){var y=Q.G[B];
if(y.add.artb==null)continue;var l=k.i.wS(y.ma()).M;k.i.V(l,S,l);var D=k.i.vE(l);y.hr(D)}};K.SK.Im=function(Q,S){Q.r=S.r;
Q.O=S.O;var B=[];for(var y=0;y<Q.G.length;y++)B.push(y);K.Ku.$g(Q,B,null,-S.x,-S.y);for(var y=0;y<Q.G.length;
y++){Q.G[y].Zs(Q)}Q.mpU();Q.u.a.yZ(0,0);if(Q.m)Q.m.rect.offset(-S.x,-S.y);for(var y=0;y<Q.Ka.length;
y++)Q.Ka[y].rect.offset(-S.x,-S.y)};K.SK.prototype.sv=function(Q,S,B,y,l){if(Q.QQ=="commit"){this.eK(B,l);
this.disable(B,S,null,y)}else if(Q.QQ=="cancel"){this.disable(B,S,null,y)}var D=null,R=this.gi.oj;if(Q.QQ=="config"){this.gi=Q.gi;
R=this.gi.oj;if(B==null)return;D=new w(0,0,B.r,B.O);if(R.xQ==1){var p=R.x/R.y;D.O=Math.round(D.r/p)}if(R.xQ==2){D.r=R.x;
D.O=R.y}D.x=Math.round((B.r-D.r)/2);D.y=Math.round((B.O-D.O)/2)}if(Q.QQ=="cropby"){if(B==null)return;
var O=Q.mqe,D;if(O==0)D=B.root.jH(B,!0);if(O==1){if(B.I.length==0)alert("No layer is selected.");else{var M=B.root.Ob(B.I[0]);
D=M.jH(B,!0)}}if(O==2){if(B.I.length==0)alert("No layer is selected.");else{var U=B.G[B.I[0]];D=k.Nr(U.buffer,U.rect,0);
if(D.Kq())D=U.rect.clone()}}if(O==3){if(B.m!=null)D=B.m.rect;else alert("There is no selection.")}}if(D&&D.Kq())D=null;
if(D!=null){this.Wu=this.QZ([D.x,D.y,D.x+D.r,D.y,D.x+D.r,D.y+D.O,D.x,D.y+D.O],R.xQ!=0);this.Wu.HI(B,l);
this.PD(S,P.E.T,{H:P.l.tE,h:this.id,Zy:!0})}};K.SK.prototype.eK=function(Q,S){var B=this.Wu.fg(),y=k.i.vE(B),l=this.mCL(Q,B),D=!1,R=this.gi.oj,p=R.x,O=R.y,m;
if(this.id==K.wb&&R.xQ==2&&l.Z()!=p*O){l=new w(l.x,l.y,p,O);D=!0}var M=k.W.aX(B,l);M=k.W.SD(M);var U=k.W.vD(M),Y=Math.atan2(M[3],M[0]);
if(Math.abs(Y)>1e-9||!U||D)m=this.ca(Q,S,M,1,y);var x=new NO(this.name,this),T=new w(0,0,Q.r,Q.O);x.data={rs:T,fJ:l,bB:m,Et:M,oT:Q.u.a.clone(),eY:K.SK.cM(Q,l,T,!1)};
Q.Ra(x);this.Lz(x.data,Q)};K.SK.prototype.mCL=function(Q,S){var B=k.W.aX(S),y=k.W.vD(B),l=k.W.FE(B),D=l.Ni,R=l.pg,p=Math.atan2(l.R,l.n);
l.rotate(p);var O=new w(D,R,l.n,l.en);if(!y){function M(Z,e,J){var N=Z[e]-Z[J],E=Z[e+1]-Z[J+1];return Math.sqrt(N*N+E*E)}var U=M(S,0,2),m=M(S,4,6),Y=Math.max(U,m),x=M(S,2,4),T=M(S,6,0),$=Math.max(x,T),L=K.SK.mCh(S,Q.r/2,Q.O/2),s,j;
if(isNaN(L)||L==Infinity||L==-Infinity||Math.min(L,1/L)<.1)L=(U+m)/(x+T);if(Y/$>L){s=Y*1;j=s/L}else{j=$*1;
s=j*L}O.r=s;O.O=j}O.x=Math.round(O.x);O.y=Math.round(O.y);O.r=Math.round(O.r);O.O=Math.round(O.O);return O};
K.SK.mCh=function(Q,S,B){var y=Q[0]-S,l=Q[1]-B,D=Q[2]-S,R=Q[3]-B,p=Q[6]-S,O=Q[7]-B,M=Q[4]-S,U=Q[5]-B,m=((l-U)*p-(y-M)*O+y*U-l*M)/((R-U)*p-(D-M)*O+D*U-R*M),Y=((l-U)*D-(y-M)*R+y*U-l*M)/((O-U)*D-(p-M)*R+p*U-O*M),x=-((Y*O-l)*(m*R-l)+(Y*p-y)*(m*D-y))/((Y-1)*(m-1));
function T(L){return L*L}var $=Math.sqrt((T(m-1)+T(m*R-l)/x+T(m*D-y)/x)/(T(Y-1)+T(Y*O-l)/x+T(Y*p-y)/x));
if(m==1&&Y==1)$=Math.sqrt((T(R-l)+T(D-y))/(T(O-l)+T(p-y)));return $};K.SK.prototype.disable=function(Q,S,B,y){if(Q==null)return;
if(this.Wu)this.Wu.clear(Q);this.Wu=null;this.PD(S,P.E.T,{H:P.l.tE,h:this.id,Zy:!1})};K.SK.prototype.PD=function(Q,S,B,y){var l=new b(S,!0);
l.data=B;if(y)l.h=y;Q.B(l)};K.ck=function(){K.SK.call(this,[10,2],K.wb,"tools/rcrop")};K.ck.prototype=new K.SK;
K.cK=function(){K.SK.call(this,[10,39],K.eh,"tools/pcrop")};K.cK.prototype=new K.SK;K.sx=function(){K.KT.call(this,[10,21],K.pb,"tools/dodge");
this.hx="dodge"};K.sx.prototype=new K.KT;K.sx.prototype.OQ=function(Q,S,B,y,l){this.gs(Q,B,y,l,this.ot.expo/Math.PI);
if(this.ed==null)return;this.JJ(Q)};K.sx.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);if(this.yU)this.CH(Q,B,l);
if(this.ed==null)return;if(!l.qv)return;this.Fy(Q,B,y,l);this.JJ(Q)};K.sP=function(){K.KT.call(this,[10,3],K.xG,"tools/eraser");
this.hx="erase"};K.sP.prototype=new K.KT;K.sP.prototype.OQ=function(Q,S,B,y,l){this.gs(Q,B,y,l,this.ot.flow);
if(this.ed==null)return;this.JJ(Q)};K.sP.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);if(this.yU)this.CH(Q,B,l);
if(this.ed==null)return;if(!l.qv)return;var D=this.Fy(Q,B,y,l);this.JJ(Q)};K.sS=function(){K.KT.call(this,[10,45],K.mhc,"tools/beraser");
this.hx="ierase"};K.sS.prototype=new K.KT;K.sS.prototype.OQ=function(Q,S,B,y,l){if(this.EG(y,S,l))return;
this.gs(Q,B,y,l,this.ot.flow);if(this.ed==null)return;this.JJ(Q)};K.sS.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);
if(this.yU)this.CH(Q,B,l);if(this.ed==null)return;if(!l.qv)return;this.Fy(Q,B,y,l);this.JJ(Q)};K.IN=function(){K.pL.call(this,[10,15],K.wl,"tools/rselect");
this.ZQ="crosshair"};K.IN.prototype=new K.pL;K.IN.prototype.Re=function(Q,S,B,y){if(!y.qv||!this.$S)return;
var l=this.jH(Q,B,!0),D=l.x,R=l.y,p=l.x+l.r,O=l.y+l.O;Q.J.pN={M:[D,R,p,R,p,O,D,O],F:["M","L","L","L","Z"]};
Q.rr=!0;K.WC.nX(y.x+10,y.y-10,l,Q,S)};K.IN.prototype.ss=function(Q,S,B,y){Q.J.pN=null;Q.J.nQ=[];Q.rr=!0;
this.finish(Q,S,B,y)};K.IN.prototype.getSelection=function(Q,S,B,y){if(this.vF.UH(this.tR)||!this.$S)return null;
var l=this.jH(Q,B,!0);if(l.Kq())return null;return K.pL.ex("Rctn",l)};K.QB=function(){K.pL.call(this,[10,4],K.mJY,"tools/eselect");
this.ZQ="crosshair"};K.QB.prototype=new K.pL;K.QB.prototype.Re=function(Q,S,B,y){if(!y.qv||!this.$S)return;
var l=this.jH(Q,B);Q.J.pN=K.QB.dz(l);Q.rr=!0;K.WC.nX(y.x+10,y.y-10,l,Q,S)};K.QB.prototype.ss=function(Q,S,B,y){Q.J.pN=null;
Q.J.nQ=[];Q.rr=!0;this.finish(Q,S,B,y)};K.QB.prototype.getSelection=function(Q,S,B,y){if(this.vF.UH(this.tR)||!this.$S)return null;
var l=this.jH(Q,B);if(!l.nc(new w(0,0,Q.r,Q.O)))return null;return K.pL.ex("Elps",l)};K.QB.dz=function(Q){var S=Q.x,B=Q.y,y=Q.x+Q.r,l=Q.y+Q.O,D=(S+y)/2,R=(B+l)/2,p=(S-y)/2,O=(B-l)/2,M=.5522848,U={M:[D,R-O],F:["M","C","C","C","C"]};
U.M.push(D+M*p,R-O,D+p,R-M*O,D+p,R);U.M.push(D+p,R+M*O,D+M*p,R+O,D,R+O);U.M.push(D-M*p,R+O,D-p,R+M*O,D-p,R);
U.M.push(D-p,R-M*O,D-M*p,R-O,D,R-O);return U};K._q=function(){K.WC.call(this,[10,5],K.ps,"tools/eyedropper");
this.gA=!1;this.Zq=1};K._q.prototype=new K.WC;K._q.prototype.C$=function(Q){return Q.qv};K._q.prototype.Ox=function(Q,S,B,y,l){if(Q.H=="pickhere")this.ym(B,S,l,y,Q.mWt)};
K._q.prototype.OQ=function(Q,S,B,y,l){this.gA=!0;this.ym(Q,S,B,y,l)};K._q.prototype.Uy=function(Q,S,B,y,l){if(this.gA)this.ym(Q,S,B,y,l)};
K._q.prototype.sn=function(Q,S,B,y,l){this.gA=!1};K._q.prototype.ym=function(Q,S,B,y,l){var D=K._q.I_(Q,l,this.Zq),R=new b(P.E.T);
R.data={H:P.l.Kk,yQ:rS.li,Di:0,z:D};S.B(R)};K._q.I_=function(Q,S,B){var y=Q.u.FD(S.x,S.y),l=Math.floor(y.x),D=Math.floor(y.y),R=(B-1)/2,p=Math.max(0,l-R),O=Math.max(0,D-R),M=Math.min(Q.r,l+R+1),U=Math.min(Q.O,D+R+1),m=(M-p)*(U-O),Y=Q.qB(),x=0,T=0,$=0;
for(var l=p;l<M;l++)for(var D=O;D<U;D++){var L=4*(D*Q.r+l);x+=Y[L];T+=Y[L+1];$+=Y[L+2]}x=Math.round(x/m);
T=Math.round(T/m);$=Math.round($/m);return x<<16|T<<8|$};K._q.prototype.sv=function(Q){this.Zq=Q.Zq};
K.fI=function(){K.WC.call(this,[10,6],K.mhe,"tools/gradient");this.ot={Kg:JSON.parse(rx.ls.mpg).v,style:"Lnr",reverse:!1,mqB:"norm",opacity:1};
this.Eh=!1;this.KL=null};K.fI.prototype=new K.WC;K.fI.prototype.enable=function(Q,S,B,y){var l=new b(P.E.T,!0);
l.data={H:P.l.qL,YT:"default"};S.B(l)};K.fI.prototype.sv=function(Q){this.ot=Q.yQ};K.fI.prototype.OQ=function(Q,S,B,y,l){if(!Q.pD())return;
this.KL=Q.u.FD(l.x,l.y);this.KL=K.Ku.d$(Q,this.KL,B);this.Eh=!0};K.fI.prototype.Uy=function(Q,S,B,y,l){if(!this.Eh)return;
var D=Q.u.FD(l.x,l.y);D=K.Ku.d$(Q,D,B);if(y.N(A.CP))D=K.fI.$U(this.KL,D);Q.J.pN={M:[this.KL.x,this.KL.y,D.x,D.y],F:["M","L"]};
Q.J.La=[this.KL.x,this.KL.y,D.x,D.y];Q.rr=!0};K.fI.prototype.sn=function(Q,S,B,y,l){if(!this.Eh)return;
var D=Q.G[Q.I[0]],R=Q.u.FD(l.x,l.y);R=K.Ku.d$(Q,R,B);if(y.N(A.CP))R=K.fI.$U(this.KL,R);var p=R.la(this.KL),O=v.Qg(this.KL,R,.5),M=Math.atan2(p.y,p.x),U=v.Ui(this.KL,R),m=Math.sin(M),Y=Math.cos(M);
if(U>2){var x;if(Q.m)x=Q.m.rect;else x=new w(0,0,Q.r,Q.O);var T=k.Q(x.Z()*4),$=this.ot.style;if($!="Lnr"){U*=2;
O=this.KL}k.Kg.TC(this.ot.Kg,T,x,[Y*1/U,m*1/U,-m*1/U,Y*1/U],O.x,O.y,this.ot.reverse,rx.Kg.types.indexOf($),B.Tq,B.hB);
var L=Math.round(this.ot.opacity*256),s=T.length;if(L!=256)for(var j=0;j<s;j+=4)T[j+3]=T[j+3]*L>>>8;
var Z=new b(P.E.D);Z.h=K.xG;Z.data={H:"fillBMP",vN:T,KS:this.ot.mqB,$a:this.name};S.B(Z)}Q.J.pN=null;
Q.J.La=[];Q.rr=!0;this.Eh=!1};K.fI.$U=function(Q,S){if(Q.UH(S))return Q;var B=S.x-Q.x,y=S.y-Q.y,l=Math.abs(B),D=Math.abs(y);
if(l>D)D=l/2>D?0:l;if(D>l)l=D/2>l?0:D;l=B>0?l:-l;D=y>0?D:-D;var R=Math.sqrt(B*B+y*y)/Math.sqrt(l*l+D*D);
return new v(Q.x+l*R,Q.y+D*R)};K.fI.xs=function(Q,S,B,y,l,D,R){if(R==null)R=P.P("canvas","");var p=R.getContext("2d");
R.width=S;R.height=B;var O=new w(0,0,S,B),M=k.Q(S*B*4);k.jk(M,S,B,4,0,0);var U=Math.sin(y),m=Math.cos(y),Y=k.Q(S*B*4);
k.Kg.TC(Q,Y,O,[m*1/S,U*1/S,-U*1/B,m*1/B],S/2,B/2,!1,0,l,D);k.X.Rc("norm",Y,O,M,O,O,1);var x=p.getImageData(0,0,S,B);
k.MK(M,x.data);p.putImageData(x,0,0);return R.toDataURL()};K.fI.mCw=function(Q,S,B){var y=JSON.parse(JSON.stringify(Q));
for(var l=0;l<y.Clrs.v.length;l++){var D=y.Clrs.v[l].v,R=D.Type.v.Clry;if(R=="UsrS")continue;var p=R=="FrgC"?S:B;
D.Type.v.Clry="UsrS";D.Clr={t:"Objc",v:k.Kg.Od({t:p>>16&255,e:p>>8&255,R:p&255})}}return y};K.Ct=function(){K.WC.call(this,[10,7],K.yk,"tools/hand");
this.EX=new v(0,0);this.ED=new v(0,0)};K.Ct.prototype=new K.WC;K.Ct.prototype.Ox=function(Q,S,B,y,l){var D=Q.H;
if(D=="setcls"){B.u.T$=Q.T$;B.rr=!0}if(D=="scroll"&&!y.N(A.qD)){if(y.N(A.DQ))K.Ct.$p(B,B.u.a.x-Q.bA.y,B.u.a.y-Q.bA.x);
else K.Ct.$p(B,B.u.a.x-Q.bA.x,B.u.a.y-Q.bA.y)}};K.Ct.prototype.enable=function(Q,S,B,y){var l=new b(P.E.T,!0);
l.data={H:P.l.qL,YT:"grab"};S.B(l)};K.Ct.prototype.OQ=function(Q,S,B,y,l){this.ED.Ue(Q.u.a);this.EX.yZ(l.x,l.y)};
K.Ct.prototype.Uy=function(Q,S,B,y,l){if(!l.qv)return;K.Ct.$p(Q,this.ED.x+(l.x-this.EX.x),this.ED.y+(l.y-this.EX.y))};
K.Ct.$p=function(Q,S,B){var y=Q.u.C;if(Q.r*y<Q.u.S.r&&Q.O*y<Q.u.S.O)Q.u.a.yZ(0,0);else{Q.u.a.x=S;Q.u.a.y=B}Q.np=!0};
K.yM=function(){K.$z.call(this,[10,25],K.xF,"tools/hbrush")};K.yM.prototype=new K.$z("");K.yM.prototype.sn=function(Q,S,B,y,l){if(this.ed==null)return;
this.sf(Q,"heal",this.ed.Du(),this.ed.jH(),this.ed.WN());this.s(Q,this.ed.WN());K.KT.prototype.sn.call(this,Q,S,B,y,l);
if(!this.ot.algnd)this.a=null};K.MY=function(){K.WC.call(this,[10,8],K.yC,"tools/htype");this.Tp=[];
this.SB=null;this.pn=null;this.caller=null;this.mJe=0;this.Zg=0;this.EO=null;this.mJy=null;this.EB=null;
this.ik=null;this.Zv=null;this.TW=null;this.TS=null;this.mVJ=null;this.x_=null;this.Wu=null;this.Wl=!1;
this.wO=!1;this.D_=!1;this.Zl=null;this.PT=null;this.mVh=null;this.Ek=!1;this.fE=!1;this.mY=-1;this.vS=-1;
this.Rr=document.createElement("textarea");this.Rr.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1;  position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.Rr.addEventListener("input",this.y$.bind(this),!1);this.Rr.addEventListener("keydown",this.muM.bind(this),!1)};
K.MY.prototype=new K.WC;K.MY.prototype.C$=function(Q){return Q.qv};K.MY.prototype.s_=function(Q,S,B,y){if(this.ik!=null)return;
this.caller=S;this.SB=Q;var l=this.dx(Q);if(l.length!=0){var D=null,R=[],p=[];for(var O=0;O<l.length;
O++){var M=Q.G[l[O]],U=M.add.TySh,m=0,Y=rA.qx(U.Nd).length-2,x=rA.$d(U.Nd,m,Y);rA.CU(x,K.Sj.GK(U.V));
if(x.EQ.Font!=null)x.EQ.Font=x.vA[x.EQ.Font].Name;D=x.vA;R.push(x.EQ);p.push(x.Kb)}var x={vA:D,EQ:rA.Cr(R),Kb:rA.Cr(p)};
if(x.EQ.Font)rA.sU(x,x.EQ.Font);this.EO=JSON.stringify(x);this.eI(S,x)}};K.MY.prototype.dx=function(Q){var S=[];
for(var B=0;B<Q.I.length;B++)if(Q.G[Q.I[B]].add.TySh)S.push(Q.I[B]);return S};K.MY.prototype.Ox=function(Q,S,B,y,l){if(this.ik!=null){var D=this.fE;
if(Q.H=="warp"||Q.H=="warpCancel"){if(Q.H=="warp")this.ik.add.TySh.IT=Q.cF;else this.ik.add.TySh.IT=this.mVJ;
var B=this.SB;this.Qi(B,l);if(!D)this.QH(B)}if(Q.H!="warp")this.Rr.focus();if((Q.H=="warpConfirm"||Q.H=="warpCancel")&&D){this.fE=!1;
if(Q.H=="warpConfirm")this.GE(B,S);else this.hp(B,S)}}if(Q.H=="editCurr"){if(this.ik!=null)this.disable(B,S,l,y);
this.SB=B;this.pn=l;this.caller=S;this.$Q(B,S,l,[Q.x$]);var R=rA.qx(this.ik.add.TySh.Nd);this.mY=0;this.vS=R.length-1;
this.QH(B);this.$L();this.Rr.focus()}if(Q.H=="switchPntPrgr"){var p=B.G[B.I[0]],O=p.add.TySh,M=O.V.GK(),U=JSON.parse(JSON.stringify(O.Nd)),m=rA.Ry(U),Y=m==1?rA.Dy(U):[0,0,Math.round(p.rect.r*1.05/M),Math.round(p.rect.O*1.25/M)],x=rA.$d(U,0,1),T=[0,Y[2],Y[2]/2][x.Kb.Justification%3],$=x.EQ.FontSize*.8;
rA.XG(U,1-m);if(m==0){T=-T;$=-$;rA.vl(U,[0,0,Y[2],Y[3]])}var L=new Nu(1,0,0,1,T,$);L.concat(O.V);Q={WS:B.I[0],H:"newED",mhU:U,V:L}}if(Q.H=="newED"){var p=B.G[Q.WS],O=p.add.TySh,s=this.$c(B,[Q.WS]);
O.Nd=Q.mhU;if(Q.V)O.V=Q.V;var j=new mn(O.Nd,l.Tt),Z=Ru.pJ(j,O);p.rect=Z.q;p.buffer=Z.Ko;p.s();B.s();
var e=new NO(this.name,this);e.data={tc:s,EZ:this.$c(B,[Q.WS])};B.Ra(e)}};K.MY.prototype.bC=function(Q){return this.Tp.indexOf(Q)!=-1};
K.MY.prototype.enable=function(Q,S,B,y){var l=this.Rr;if(!P.lG(l))S.p.appendChild(l);this.x_="default";
this.Su(S)};K.MY.prototype.TA=function(){return this.ik!=null};K.MY.prototype.dK=function(Q,S){for(var B=Q.G.length-1;
B>=0;B--){var y=Q.G[B];if(y.add.TySh&&y.rect._D(S)&&Q.mgM(B)){var l=y.s$(2)||y.s$(31);return l?-2:B}}return-1};
K.MY.prototype.OQ=function(Q,S,B,y,l){this.SB=Q;this.pn=B;this.caller=S;var D=Q.u.FD(l.x,l.y),R=this.ik==null;
if(R){var p=this.dK(Q,D);if(p==-2){alert(Nd.get([6,57,0]));return}if(p>=0)this.$Q(Q,S,B,[p]);else{this.D_=!0;
this.Zl=l;return}}if(this.Wu&&this.Wu.OQ(Q,B,y,D)&&k.cF.hW(this.ik.add.TySh.IT)||!R&&k.i.IL(D,this.ik.rect)>20/Q.u.C&&rA.Ry(this.ik.add.TySh.Nd)==0){this.Wl=!0;
this.PT=D;this.mVh=this.ik.add.TySh.V.clone();if(this.mY==-1&&this.vS==-1)this.mY=this.vS=this.yy(D)}else{this.wO=!0;
this.mY=this.vS=this.yy(D);var O=Date.now();if(O-this.mJe>300)this.Zg=0;this.Zg++;this.mJe=O;if(this.Zg==2){this.mCZ();
this.wO=!1}if(this.Zg==3){this.mum();this.wO=!1}}this.QH(Q)};K.MY.prototype.$Q=function(Q,S,B,y){var l=Q.G[y[0]];
this.ik=l;this.PD(S,P.E.T,{H:P.l.tE,h:this.id,QQ:"showactive"});this.Zv=y;Q.I=y.slice(0);Q.VH();Q.fi=!0;
this.TS=this.$c(Q,y);this.ez(l.add.TySh);this.Qi(Q,B)};K.MY.prototype.ez=function(Q){if(rA.Ry(Q.Nd)!=1)return;
var S=rA.Dy(Q.Nd);S=new w(0,0,S[2]-S[0],S[3]-S[1]);var B=[S.x,S.y,S.x+S.r,S.y,S.x+S.r,S.y+S.O,S.x,S.y+S.O];
k.i.V(B,Q.V,B);this.Wu=new mF(B,!1,!1,!1,!0)};K.MY.prototype.mCZ=function(){var Q=rA.qx(this.ik.add.TySh.Nd);
this.mY=this.er(Q,this.mY);this.vS=this.eg(Q,this.mY)};K.MY.prototype.er=function(Q,S){var B=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",y=[];
for(var l=0;l<B.length;l++)y.push(B.charAt(l));var D=y.indexOf(Q[S])==-1?!0:!1;for(var l=S-1;l>=0;l--)if(y.indexOf(Q.charAt(l))!=-1==D)return l+1;
return 0};K.MY.prototype.eg=function(Q,S){var B=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",y=[];for(var l=0;
l<B.length;l++)y.push(B.charAt(l));var D=y.indexOf(Q[S])==-1?!0:!1;for(var l=S+1;l<Q.length;l++)if(y.indexOf(Q.charAt(l))!=-1==D)return l;
return Q.length-1};K.MY.prototype.mum=function(){var Q=this.TW.mMu(this.mY);this.mY=Q[0];this.vS=Q[1]};
K.MY.prototype.Su=function(Q){var S=new b(P.E.T,!0);S.data={H:P.l.qL,YT:this.x_};Q.B(S)};K.MY.prototype.Uy=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y),R=this.ik;
if(!l.qv){var p="default";if(this.Wu&&k.cF.hW(R.add.TySh.IT)){var O=this.Wu.qH(D,Q.u.C);if(O)p=O;else if(this.Wu.Ah(D))p="text"}else if(R&&k.i.IL(D,R.rect)>20/Q.u.C)p="move";
else if(this.dK(Q,D)>=0)p="text";if(p!=this.x_){this.x_=p;this.Su(S)}}if(this.D_&&v.Ui(this.Zl,l)>4){this.D_=!1;
this.eP(Q,S,B,y,l);R=this.ik;this.Wl=!0;this.Wu=new mF(null,!1,!1,!1,!0);var M=Q.u.FD(this.Zl.x,this.Zl.y);
M.x=Math.round(M.x);M.y=Math.round(M.y);this.Wu.OQ(Q,B,y,M)}if(this.Wl){var U=R.add.TySh;if(this.Wu){this.Wu.Uy(Q,B,y,D);
var m=U.V.clone(),Y=Math.atan2(m.R,m.n);m.rotate(Y);var x=k.W.FE(k.W.aX(this.Wu.fg())),T=Math.atan2(x.R,x.n);
x.rotate(T);if(!isNaN(x.n)&&x.n*x.en-x.R*x.ce!=0){var $=new w(0,0,x.n/m.n,x.en/m.en),L=Math.round($.r),s=Math.round($.O),j=U.Nd.Curve;
if(j){var Z=rA.Dy(U.Nd),e=new Nu(L/Z[2],0,0,s/Z[3],0,0);k.i.V(j.Points,e,j.Points);rA.R$(U)}rA.vl(U.Nd,[0,0,L,s]);
U.V=k.W.FE(k.W.aX(this.Wu.fg(),$));this.Qi(Q,B);rA.R$(U)}}else{var J=D.x-this.PT.x,N=D.y-this.PT.y;U.V=this.mVh.clone();
var E=new v(U.V.Ni+J,U.V.pg+N);E=K.Ku.d$(Q,E,B);U.V.Ni=E.x;U.V.pg=E.y;this.Qi(Q,B)}}if(this.wO)this.vS=this.yy(D);
if(this.Wl||this.wO)this.QH(Q)};K.MY.prototype.eP=function(Q,S,B,y,l){var D=Q.sH(),R=D[0],p=D[1],O=Q.oz();
O.add.lnsr="rend";var M=Q.G.slice(0);O.pM("Text layer "+M.length);this.ik=O;var U=Q.I.length==0?Q.G.length-1:Q.I[Q.I.length-1],m=U+1;
if(M[U].add.lsct==NI.YG)m--;this.TS={cV:M.slice(0),_v:Q.I.slice(0)};M.splice(m,0,O);Q.I=[m];this.mY=this.vS=0;
Q.$O(M);this.TS.FP=M.slice(0);this.TS.mT=Q.I.slice(0);this.PD(S,P.E.T,{H:P.l.tE,h:this.id,QQ:"showactive"});
var Y=Q.u.FD(l.x,l.y);O.add.TySh=rA.Xq(Y.x,Y.y,B.sR);var x=O.add.TySh,T=x.Nd;if(l.qv)rA.XG(T,1);else{rA.XG(T,0);
var $=R[p.pop()],L=$?$.add.vmsk:null;if(L){L=L.clone();var s=L.A,e,J;for(var j=0;j<s.length;j++)if(s[j].GL!=null)s[j].GL=0;
var Z=4*P._()/Q.u.C;e=k.c.CM(L.A,Y,!0,Z);if(e.d_==-1)e=k.c.CM(L.A,Y);if(e.d_!=-1){rA.XG(T,1);var N=k.c.rN(s,e.d_),E=k.c.Li(s,e.d_)-1;
s=L.A=s.slice(0,2).concat(s.slice(N,N+E+1));L.I=[];x.add={vmsk:L,vogk:z.sr(s)};T.Curve={};rA.pt(x);if(e.Ls!=null){var h=mn.BU(T.Curve);
k.i.V(h[0],x.V,h[0]);var o=k.i.IQ(h[0],Y.x,Y.y),V=B.sR.Kb.Justification,n=h[1][o];if(V==2||V==5)n+=E/2;
n=n%E;L.KZ=[n,n];rA.pt(x)}else this.ez(x)}}}return O};K.MY.prototype.sn=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y);
if(this.D_){this.D_=!1;this.eP(Q,S,B,y,l);this.wO=!0}if(this.Wl||this.wO){this.QH(Q);this.$L()}if(this.Wl&&this.Wu)this.Wu.sn(Q,B,y,D);
this.Wl=this.wO=!1;this.Rr.focus()};K.MY.prototype.$L=function(){var Q=this.ik.add.TySh,S=Math.min(this.mY,this.vS),B=Math.max(this.mY,this.vS),y,l;
if(S==B){var D=rA.qx(Q.Nd);if(S==0||D.charAt(S-1)=="\n")y=l=S;else y=l=S-1}else{y=S;l=B-1}var R=rA.$d(Q.Nd,y,l);
rA.CU(R,K.Sj.GK(Q.V));this.eI(this.caller,R)};K.MY.prototype.eI=function(Q,S){this.PD(Q,P.E.T,{H:P.l.Kk,yQ:rS.Vq,sR:S})};
K.MY.prototype.qh=function(Q,S,B,y){if(y.N(A.fr))this.hp(Q,S)};K.MY.prototype.disable=function(Q,S,B,y){if(this.ik)this.GE(Q,S);
else this.hp(Q,S)};K.MY.prototype.sv=function(Q,S,B,y,l){if(this.fE)return;if(Q.QQ=="commit")this.GE(B,S);
if(Q.QQ=="cancel")this.hp(B,S);if(Q.QQ=="showwarp"){if(B==null)return;if(this.ik==null){var D=B.G[B.I[0]],R=D.add.TySh;
if(R==null)return;this.$Q(B,S,l,[B.I[0]]);this.Rr.focus();this.fE=!0}this.mVJ=this.ik.add.TySh.IT;var p=new b(P.E.T,!0);
p.data={H:P.l.ND,yc:"textwarp"};S.B(p)}};K.MY.prototype.on=function(Q,S){this.pn=Q;var B=this.SB;if(B==null)return;
if(S!=rS.E_&&S!=rS.Vq&&S!=rS.tn)return;if(this.Ek){this.Ek=!1;var y=this.Zv;for(var l=0;l<y.length;l++){this.ik=B.G[y[l]];
this.Qi(B,Q)}this.GE(B,this.caller);return}if(this.ik==null){var D=JSON.stringify(Q.sR),R=!1;if(this.EO==D){return}this.EO=D;
var y=this.dx(B);if(y.length!=0){this.$Q(B,this.caller,Q,y);for(var l=0;l<y.length;l++){var p=B.G[y[l]],O=p.add.TySh;
this.ik=p;var M=rA.qx(O.Nd);this.mY=0;this.vS=M.length-1;rA.Dh(O.Nd,this.mY,this.vS,this.yr(Q,O));var U=this.Qi(B,Q);
if(U==!1)R=!0}if(R){this.Ek=!0;return}this.GE(B,this.caller)}return}var m=Math.min(this.mY,this.vS),Y=Math.max(this.mY,this.vS),O=this.ik.add.TySh;
rA.Dh(O.Nd,m,Y-1,this.yr(Q,O));var B=this.SB,U=this.Qi(B,Q);if(U)this.QH(B);if(document.activeElement.tagName.toLowerCase()!="input")this.Rr.focus()};
K.MY.prototype.yr=function(Q,S){var B=JSON.parse(JSON.stringify(Q.sR));rA.CU(B,1/K.Sj.GK(S.V));return B};
K.MY.prototype.Lz=function(Q,S){if(Q.tc!=null)this.yN(S,Q.EZ);else this.yE(S,Q.FP,Q.mT)};K.MY.prototype.$B=function(Q,S){if(Q.tc!=null)this.yN(S,Q.tc);
else this.yE(S,Q.cV,Q._v)};K.MY.prototype.yN=function(Q,S){for(var B=0;B<S.length;B++){var y=S[B],l=y.WS,D=Q.G[l];
D.buffer=y.Fk;D.rect=y.q.clone();D.s();var R=D.add.TySh;R.IT=y.cF;R._Q=y._Q.clone();R.V=y.V.clone();
R.Nd=JSON.parse(JSON.stringify(y.Nd));D.Vv()}Q.s()};K.MY.prototype.$c=function(Q,S){var B=[];for(var y=0;
y<S.length;y++){var l=S[y],D=Q.G[l],R=D.add.TySh;B.push({WS:l,V:R.V.clone(),cF:JSON.parse(JSON.stringify(R.IT)),_Q:R._Q.clone(),Nd:JSON.parse(JSON.stringify(R.Nd)),Fk:k.clone(D.buffer),q:D.rect.clone()})}return B};
K.MY.prototype.yE=function(Q,S,B){Q.I=B;Q.$O(S);Q.s()};K.MY.prototype.Qi=function(Q,S,B){if(B==null)B=!1;
var y=this.ik.add.TySh;if(!Ru.ph(y,S.Tt))return!1;this.TW=new mn(y.Nd,S.Tt);if(!B){var l=rA.qx(y.Nd);
this.Rr.value=l.slice(0,l.length-1)}var D=Ru.pJ(this.TW,y);if(k.cF.hW(y.IT))y._Q=new w;else{if(rA.Ry(y.Nd)==1){var R=rA.Dy(y.Nd),p=D._Q.y;
y._Q=new w(0,p,R[2]-R[0],R[3]-R[1]-p)}else{y._Q=D._Q}}var O=this.ik.rect;this.ik.rect=D.q;this.ik.buffer=D.Ko;
this.ik.s();Q.Jc();Q.s(Q.root.VX(D.q.wM(O),Q,Q.G.indexOf(this.ik)));return!0};K.MY.prototype.y$=function(Q){if(this.ik==null||this.fE)return;
var S=this.Rr.selectionStart,B=this.ik.add.TySh,y=rA.qx(B.Nd),l=this.Rr.value+"\n",D=Math.min(this.mY,this.vS),R=Math.max(this.mY,this.vS),m=!1;
this.mY=Math.min(S,D);if(l.length-S<y.length-this.vS)this.vS=y.length-l.length+S;if(y!=l){while(this.mY>0&&y.charAt(this.mY-1)!=l.charAt(this.mY-1))this.mY--}var p=y.substring(0,this.mY),O=y.substring(this.vS,y.length),M=l.substring(this.mY,l.length-O.length);
rA.Cf(B.Nd,this.mY,this.vS);rA.MS(B.Nd,this.mY,M);var U=this.yr(this.pn,B),Y=-1;for(var x=0;x<M.length;
x++)Y=Math.max(Y,M.charCodeAt(x));if(Y!=-1&&Y>128&&U.EQ.Font!=null){var T=U.vA[U.EQ.Font].Name,$=this.pn.Tt.bd(Y,T,U.vA);
if(T!=$){rA.sU(U,$);m=!0}}if(this.EB!=null&&M==this.EB){var L=JSON.parse(this.mJy);U.EQ=L.EQ;U.vA=L.vA;
m=!0}rA.Dh(B.Nd,this.mY,this.mY+M.length-1,U);this.mY=this.vS=p.length+M.length;var s=this.SB,j=this.Qi(s,this.pn,!0);
if(j)this.QH(s,!0);if(m)this.$L()};K.MY.prototype.muM=function(Q){if(this.ik==null||this.fE)return;if(this.ik==null)return;
var S=A,B=0,y=0,s=!1;if(S.GW(Q.code,S.Eo))B=1;if(S.GW(Q.code,S.Ej))B=-1;if(S.GW(Q.code,S.SV))y=-1;if(S.GW(Q.code,S.Sk))y=1;
var l=Q.ctrlKey||Q.metaKey,D=S.GW(Q.code,A.m_r),R=S.GW(Q.code,A.m_g);if(S.GW(Q.code,A._o)&&l){this.GE(this.SB,this.caller);
return}if(S.GW(Q.code,A.Xt)){Q.preventDefault();var p=this.Rr,O=p.value,M=p.selectionStart,U=p.selectionEnd;
p.value=O.substring(0,M)+"\t"+O.substring(U);p.selectionStart=p.selectionEnd=M+1;this.y$(null);return}if((S.GW(Q.code,S.J_)||S.GW(Q.code,S.Xj))&&l){var m=this.mY,Y=this.vS;
if(m>Y){var x=m;m=Y;Y=x}var T=this.ik.add.TySh,$=rA.qx(T.Nd);if(m!=Y){this.EB=$.slice(m,Y);this.mJy=JSON.stringify(this.pn.sR)}}var L=rA.qx(this.ik.add.TySh.Nd);
if(B!=0||y!=0||D||R){Q.preventDefault();var j=this.mY;if(B!=0){if(l&&B==-1)j=this.er(L,this.mY-1);else if(l&&B==1)j=this.eg(L,this.mY);
else j=this.mY+B}else if(y!=0){var Z=this.TW.Bi(this.mY);if(y==-1&&Z.ZI==0)j=0;else if(y==1&&Z.ZI==this.TW.mmn()-1)j=99999999999;
else j=this.TW.mdc(new v(Z.q.x+Z.q.r/2,0),Z.ZI+y)}else if(D){var e=this.mY-1;while(e>0&&L.charCodeAt(e)!=10)e--;
j=e==0?0:e+1}else if(R){var e=this.mY;while(e<L.length-1&&L.charCodeAt(e)!=10)e++;j=e}j=Math.max(0,Math.min(L.length-1,j));
if(Q.shiftKey)this.mY=j;else this.mY=this.vS=j;s=!0}if(S.GW(Q.code,A.l)&&l){this.mY=0;this.vS=L.length-1;
s=!0}if(s){this.$L();this.QH(this.SB)}};K.MY.mup=function(Q,S){var B=Q.length;if(B!=S.length)return!1;
for(var y=0;y<B;y++)if(Q[y].WS!=S[y].WS)return!1;return!0};K.MY.prototype.GE=function(Q,S){if(this.ik==null)return;
this.ik.Vv();var B=this.TS;if(B instanceof Array){var y=this.$c(Q,this.Zv),l=Q.vO();if(l!=null&&l.h==this&&l.data.tc&&K.MY.mup(l.data.tc,B))l.data.EZ=y;
else{var D=new NO(this.name,this);D.data={tc:B,EZ:y};Q.Ra(D)}}else{var D=new NO(this.name,this);D.data={cV:B.cV,FP:B.FP,_v:B._v,mT:B.mT};
Q.Ra(D)}this.escape(Q,S)};K.MY.prototype.hp=function(Q,S){if(this.ik==null)return;if(this.TS instanceof Array){this.yN(Q,this.TS);
if(this.ik)rA.R$(this.ik.add.TySh)}else{Q.I=this.TS._v;Q.$O(this.TS.cV)}Q.s();this.escape(Q,S)};K.MY.prototype.escape=function(Q,S){this.ik=null;
this.Zv=null;this.TW=null;this.Wu=null;this.Rr.blur();Q.J.pN=null;Q.J.LC=null;Q.J.La=[];Q.rr=!0;this.Wl=!1;
this.wO=!1;this.mY=this.vS=-1;this.PD(S,P.E.T,{H:P.l.tE,h:this.id,QQ:"hideactive"})};K.MY.prototype.PD=function(Q,S,B,y){var l=new b(S,!0);
l.data=B;if(y)l.h=y;Q.B(l)};K.MY.prototype.yy=function(Q){var S=this.ik.add.TySh,B=this.TW,y=S.V.clone();
y.SD();var l=y.Dv(Q),D=rA.jH(S,B),R=k.cF._i(S.IT,D),p=k.Tx.K.P_(R,0,1,0,1),O=new Uint32Array(30),M=k.Tx.K.mWB(p.LQ,p.TL,l.x,l.y,O),U=k.Tx.CM(R,l.x,l.y,p.LQ,O,M,!1),m=k.Tx.vf;
if(m==null)m=new Float64Array(2);l=new v(D.x+m[0]*D.r,D.y+m[1]*D.O);var Y=B.mdc(l);return Y};K.MY.prototype.QH=function(Q,S){if(S==null)S=!1;
var B=this.ik.add.TySh,y=rA.Ry(B.Nd),l=this.TW,D=l?rA.jH(B,l):null;Q.J.La=[];Q.J.pN=null;Q.J.LC=null;
if(this.Wu){this.Wu.HI(Q,this.pn,!k.cF.hW(B.IT));var R=B.V.clone();R.SD();k.i.V(Q.J.La,R,Q.J.La);k.i.V(Q.J.pN.M,R,Q.J.pN.M);
if(l&&l.mmU()){var p=D.r-20,O=D.O+8;Q.J.pN.M.push(p,O,p+10,O,p+5,O-5,p+5,O+5);Q.J.pN.F.push("M","L","M","L")}}else if(y==0)this.mur(Q,B,l);
else Q.J.pN={M:[],F:[]};var M=Math.min(this.mY,this.vS),U=Math.max(this.mY,this.vS);if(!S){this.Rr.selectionStart=M;
this.Rr.selectionEnd=U}if(l!=null){var m=function(e,J){var N=e.x,E=e.y+e.O,h=new Nu;h.translate(-N,-E);
h.rotate(-J);h.translate(N,E);e.y+=e.O*.27;var j=k.i.wS(e);k.i.V(j.M,h,j.M);return j};if(M==U){M=Math.max(M,0);
var Y=l.Bi(M);if(Y){var x=Y.q,T=this.pn.sR.EQ.FontSize;if(T!=null&&T!=0){x.y+=x.O-T;x.O=T}var $=l.mMd(M);
if($!=null&&$.iZ==1)x.x+=x.r;var L=m(x,Y.xI).M;Q.J.pN.F.push("M","L");Q.J.pN.M.push(L[0],L[1],L[6],L[7])}}else{Q.J.LC={M:[],F:[]};
for(var s=M;s<U;s++){var Y=l.Bi(s),j=m(Y.q,Y.xI);k.i.concat(Q.J.LC,j)}}}if(l!=null){if(!D.Kq()){var Z=k.cF._i(B.IT,D);
if(Q.J.pN){Q.J.pN=k.i.Tn(Q.J.pN);Q.J.pN=k.i.Tl(Q.J.pN,Math.min(D.r,D.O)/10);k.Tx.apply(Z,Q.J.pN.M,D)}if(Q.J.LC){Q.J.LC=k.i.Tn(Q.J.LC);
Q.J.LC=k.i.Tl(Q.J.LC,Math.min(D.r,D.O)/10);k.Tx.apply(Z,Q.J.LC.M,D)}k.Tx.apply(Z,Q.J.La,D)}}if(Q.J.pN)k.i.V(Q.J.pN.M,B.V,Q.J.pN.M);
if(Q.J.LC)k.i.V(Q.J.LC.M,B.V,Q.J.LC.M);k.i.V(Q.J.La,B.V,Q.J.La);Q.rr=!0};K.MY.prototype.mur=function(Q,S,B){if(B==null)return;
Q.J.La.push(0,0);if(Q.J.pN==null)Q.J.pN={F:[],M:[]};for(var y=0;y<B.Kb.length;y++){var l=B.Kb[y];for(var D=0;
D<l.$R.length;D++){var R=l.$R[D],p=l.hD.x+R.hD.x+R.q.x,O=l.hD.y+R.hD.y+R.q.y+R.q.O;Q.J.pN.F.push("M","L");
Q.J.pN.M.push(p,O,p+R.q.r,O)}}Q.rr=!0};K.bK=function(){K.pL.call(this,[10,9],K.pf,"tools/lasso");this.ZQ="crosshair";
this.nN=null;this.cg=null;this.PT=null};K.bK.prototype=new K.pL;K.bK.prototype.Gg=function(Q,S,B,y){this.nN=this.vF;
this.cg={M:[this.nN.x,this.nN.y],F:["M"]}};K.bK.prototype.Re=function(Q,S,B,y){this.PT=y;var l=this.cg;
if(!y.qv){if(this.cg!=null&&this.qa>1&&B.N(A.qD)){l.M.pop();l.M.pop();l.M.push(this.tR.x,this.tR.y);
Q.J.pN=l;Q.rr=!0}return}l.F.push("L");l.M.push(this.tR.x,this.tR.y);this.nN=this.tR;if(this.$S){Q.J.pN=l;
Q.rr=!0}};K.bK.prototype.TA=function(){return this.cg!=null};K.bK.prototype.eH=function(){return this.cg!=null};
K.bK.prototype.qh=function(Q,S,B,y){K.pL.prototype.qh.call(this,Q,S,B,y);if(this.cg&&this.qa>1&&this.PT&&!this.PT.qv&&!y.N(A.qD))this.yX(Q,B,y)};
K.bK.prototype.ss=function(Q,S,B,y){this.PT=y;if(this.qa>1&&B.N(A.qD)){var l=this.cg;l.F.push("L");l.M.push(this.tR.x,this.tR.y);
return}this.yX(Q,S,B)};K.bK.prototype.yX=function(Q,S,B){this.finish(Q,S,B,this.PT);this.cg=null;Q.J.pN=null;
Q.rr=!0};K.bK.prototype.getSelection=function(Q,S,B,y){if(this.vF.UH(this.tR)||!this.$S)return null;
return K.pL.Iz(this.cg.M)};K.Ku=function(){K.WC.call(this,[10,11],K.vc,"tools/move");this.yp=new v(0,0);
this.yR=new v(0,0);this.sh=null;this.bF=null;this.LG=new v(0,0);this.ME=null;this.Kv=null;this.VP=null;
this.Eq=null;this.KW=[];this.Jm=null;this.Eh=!1;this.H=0;this.EK=null;this.ki=null;this.ye=null;this.bz=!1;
this.ot={fb:!1,fH:!1,Dx:!1};this.Wu=null;this.ov=null;this.mgC=null;var Q=[];for(var S=0;S<k.hs.TY.length;
S++)Q.push({name:k.hs.TY[S],o:function(B,y,l){return{MH:y.Ke.vP==l}}});this.MP=new RW(Q);this.MP.w("select",this.yV,this)};
K.Ku.prototype=new K.WC;K.WC.prototype.C$=function(Q){return this.Eh&&this.H!=2};K.Ku.prototype.pm=function(){return this.Eh&&this.H==0};
K.Ku.prototype.pp=function(Q,S,B,y){this.IG(Q,-this.LG.x,-this.LG.y);this.LG.yZ(0,0);this.In(Q,null,B);
this.CD(Q)};K.Ku.prototype.nf=function(){var Q=this.ot;return[Q.fb?1:0,Q.fH?1:0,Q.Dx?1:0]};K.Ku.prototype.pz=function(Q,S,B){var y=this.ot;
if(Q&&Q[0]!=null)y.fb=Q[0]==1;if(Q&&Q[1]!=null)y.fH=Q[1]==1;if(Q&&Q[2]!=null)y.Dx=Q[2]==1;var l=new b(P.E.T,!0);
l.data={H:P.l.tE,h:this.id,bp:y,mFy:S};B.B(l)};K.Ku.yH=function(Q,S,B,y,l,D,R){if(R==null)R=[!1,!0];
var p=new w(0,0,Q.r,Q.O),O=Q.M$(null,l,!0),M=Q.mhH(O,R[0]?p:null,R[1]?null:p)[0];if(B!=1){var U=new w(0,0,Math.round(M.r*B),Math.round(M.O*B));
K.SK.Im(M,U);var m=[];for(var Y=0;Y<M.G.length;Y++)m.push(Y);var x=K.Sj.Hl(M,m,!0);K.Sj.yl(M,y,m,x,1,k.W.Tz(new Nu(B,0,0,B,0,0)),null,!0);
M.re()}var T=[];for(var Y=0;Y<S.length;Y++)T.push(Np.jw(M,S[Y].toUpperCase(),null,null,D?D[Y]:null,y));
return T};K.Ku.prototype.qM=function(Q,S,B,y,l){if(Q==null||Q.I.length==0)return;var D=K.Ku.yH(Q,[S],B,y,null)[0],R=new b(P.E.T,!0);
R.data={H:P.l.rx,data:D,name:Q.G[Q.I[0]].getName()+"."+S};l.B(R)};K.Ku.prototype.sv=function(Q,S,B,y,l){if(Q.Di=="getPNG"){this.qM(B,"png",Q.mgf,l,S)}else if(Q.Di=="getSVG"){this.qM(B,"svg",Q.mgf,l,S)}if(Q.Di=="prms"){this.ot=Q;
this.CD(B)}if(Q.Di=="algn"){var D=Q.z;if(B==null)return;if(B.I.length<2&&!(B.m!=null&&D!=3&&D!=7)){alert(Nd.get([15,7,5]));
return}var R=B.m;B.m=null;var p=R?R.rect:K.Sj.jH(B);this.$u(B,S,y,l,!1);if(!this.Eh)return;var O=this.Eq,M={},U=[],m=[],Y=[];
for(var x=0;x<O.length;x++){var T=O[x];while(B.G[T].getName()=="</Layer group>")T++;var $=B.root.Ob(T),L=$;
while($.parent!=null){$=$.parent;if(O.indexOf($.index)!=-1)L=$}var s=m.indexOf(L.index);if(s==-1){s=m.length;
m.push(L.index)}U[x]=s}var j=[],Z=[],e=[];for(var x=0;x<m.length;x++){var J=K.Sj.jH(B,B.M$(!0,m[x]));
e.push(J);var N=D==3?[J.y,J.O]:[J.x,J.r];j[x]=N;Z.push(N)}K.Ku.muN(Z);for(var x=0;x<m.length;x++){var J=e[x],E=J.x,h=J.y;
if(D==0)E=p.x;if(D==1)E=p.x+(p.r-J.r)/2;if(D==2)E=p.x+(p.r-J.r);if(D==3)h=j[x][0];if(D==4)h=p.y;if(D==5)h=p.y+(p.O-J.O)/2;
if(D==6)h=p.y+(p.O-J.O);if(D==7)E=j[x][0];Y.push(Math.round(E-J.x),Math.round(h-J.y))}var o=[];for(var x=0;
x<O.length;x++){var V=U[x];o[2*x]=Y[2*V];o[2*x+1]=Y[2*V+1]}this.IG(B,0,0,null,o);var n=D==3||D==7?[20,4,6]:[20,4,D<3?D:D-1];
this.In(B,null,l,o,n);B.m=R}};K.Ku.muN=function(Q){var S=Q.length,y=0;Q.sort(function(p,O){return p[0]+p[1]/2-(O[0]+O[1]/2)});
var B=Q[S-1][0]+Q[S-1][1]-Q[0][0];for(var l=0;l<S;l++)y+=Q[l][1];var D=Math.round((B-y)/(S-1)),R=Q[0][0];
for(var l=0;l<S;l++){Q[l][0]=R;R+=Q[l][1]+D}};K.Ku.prototype.Ox=function(Q,S,B,y,l){var D=Q.H;if(D=="trsl"){var R=Math.round(Q.mGb),p=Math.round(Q.maL);
this.LG.yZ(R,p);this.$u(B,S,y,l,!1,Q.$);this.IG(B,R,p);this.In(B,null,l)}else if(D=="gids"||D=="gidsFromLayer"){var O=Q.ki,M,U;
if(O==null)O=JSON.parse(JSON.stringify(B.WM));if(D=="gids"){M=Q.GA;var m=O[0].length+O[1].length,Y=M[0].length+M[1].length;
U=m==Y?[23,2]:m>Y?[23,3]:[23,4];if(Y==0)U=[11,15,0]}else if(D=="gidsFromLayer"){var x=[[],[]];for(var T=0;
T<B.I.length;T++){var $=B.G[B.I[T]].rect;if($.Kq())continue;x[0].push($.x,$.x+$.r);x[1].push($.y,$.y+$.O)}U=[11,15,1];
M=JSON.parse(JSON.stringify(B.WM));K.Ku.yq(M,x)}if(JSON.stringify(O)==JSON.stringify(M))return;var D=new NO(U,this);
D.data={H:2,ki:O,GA:M};B.Ra(D);this.Lz(D.data,B)}};K.Ku.yq=function(Q,S){for(var B=0;B<S.length;B++)for(var y=0;
y<S[B].length;y++)if(Q[B].indexOf(S[B][y])==-1)Q[B].push(S[B][y])};K.Ku.prototype.enable=function(Q,S,B,y,l){this.Kv=B;
this.VP=S;this.bz=l?!0:!1;this.CD(Q);this.Su("default",S)};K.Ku.prototype.disable=function(Q,S,B,y){this.qJ(Q)};
K.Ku.prototype.qJ=function(Q){if(Q==null)return;if(this.Wu){this.Wu.clear(Q);this.Wu=null}if(Q.J.Dx){Q.J.Dx=null;
Q.rr=!0}if(Q.J.Pg){Q.J.Pg=null;Q.rr=!0}if(Q.J.fA[this.id]){delete Q.J.fA[this.id];Q.rr=!0}if(Q.J.nQ.length!=0){Q.J.nQ=[];
Q.rr=!0}};K.Ku.prototype.s_=function(Q,S,B,y){this.CD(Q)};K.Ku.prototype.CD=function(Q,S){if(Q==null)return;
var B=this.ot;this.qJ(Q);if(!this.bz){var y;if(B.fH||B.Dx)y=k.i.Uf(K.Sj.jH(Q));if(B.fH&&!y.Kq()){this.Wu=new mF([y.x,y.y,y.x+y.r,y.y,y.x+y.r,y.y+y.O,y.x,y.y+y.O],!0);
this.Wu.HI(Q,this.Kv)}if(B.Dx){var l=Q.mzC(Q.I[0]),U=null,m=!1;if(l==null)l=new w(0,0,Q.r,Q.O);Q.J.Dx={kA:[y],kS:[]};
var D=Q.J.Dx.kS,R=y.x+y.r,p=y.y+y.O,O=y.x+Math.floor(y.r/2),M=y.y+Math.floor(y.O/2);if(S){var Y=Q.root.CM(new v(Math.floor(S.x),Math.floor(S.y)));
if(Y){U=k.i.Uf(Y.$.el(Q));if(U.nc(y)){m=(U.vM(y)||y.vM(U))&&!y.UH(U);if(!m)U=null}}}this.Jz(y,D);if(U!=null){Q.J.Dx.kA.push(U);
var x=U.x+U.r,T=U.y+U.O,$=U.x+Math.floor(U.r/2),L=U.y+Math.floor(U.O/2);if(m){var s=O,j=M;if(y.vM(U)){s=$;
j=L}D.push(y.x,j,U.x,j);D.push(R,j,x,j);D.push(s,y.y,s,U.y);D.push(s,p,s,T)}else{this.Jz(U,D);var Z=p<U.y||T<y.y,e=R<U.x||x<y.x;
if(R<U.x)D.push(R,M,U.x,M);if(x<y.x)D.push(x,M,y.x,M);if(p<U.y)D.push(O,p,O,U.y);if(T<y.y)D.push(O,T,O,y.y);
if(Z&&!e){if(y.x<U.x)D.push(y.x,L,U.x,L);if(U.x<y.x)D.push(U.x,M,y.x,M)}}}else{if(y.y>l.y)D.push(O,l.y,O,y.y);
if(p<l.y+l.O)D.push(O,p,O,l.y+l.O);if(y.x>l.x)D.push(l.x,M,y.x,M);if(R<l.x+l.r)D.push(R,M,l.x+l.r,M)}Q.rr=!0}}if(this.H==2&&this.Eh){var J=this.Eq,N=J[0],E=(N==0?"X":"Y")+": "+k.hs.vH(Q.WM[N][J[1]],Q.LY,this.Kv,N==0?Q.r:Q.O,!0);
K.WC.pR(Math.round(this.sh.x)+10,Math.round(this.sh.y)-10,[E],Q);Q.rr=!0}if(this.H==3&&this.Eh){var h=k.i.wS(this.EK);
Q.J.fA[this.id]={pN:h};Q.rr=!0}};K.Ku.prototype.Jz=function(Q,S){var B=Q.r,y=Q.O,l=Q.x+Math.floor(B*.2),D=Q.y+Math.floor(y*.2);
S.push(l,Q.y,l,Q.y+y);S.push(Q.x,D,Q.x+B,D)};K.Ku.prototype.Su=function(Q,S){var B={H:P.l.qL,YT:Q},y=new b(P.E.T,!0);
y.data=B;S.B(y)};K.Ku.prototype.oa=function(Q){var S=this.ov.Jk()[0],B=this.ME,y=this.mgC[S];this.VK(B,y)};
K.Ku.prototype.yV=function(Q){var S=JSON.parse(JSON.stringify(this.Kv.Ke));S.vP=this.MP.Jk()[0];var B=new b(P.E.T,!0);
B.data={H:P.l.Kk,yQ:rS.Yg,ao:S};this.VP.B(B)};K.Ku.prototype.Ro=function(Q,S,B,y,l){if(this.Eh)this.sn(Q,S,B,y,l);
this.ME=Q;this.Kv=B;this.VP=S;var D=Q.u.FD(l.x,l.y),R;if(K.Ku.yu(B,l)){R=this.MP}else{if(this.ov)this.ov.removeEventListener("select",this.oa);
var p=[];Q.root.CM(D,p);if(p.length==0)return;var O=[];this.mgC=p;for(var M=0;M<p.length;M++)O.push({name:Q.G[p[M]].getName()});
R=this.ov=new RW(O);R.w("select",this.oa,this)}R.parent=S;R.b();R.update(Q,B);var U=new b(P.E.T,!0);
U.data={H:P.l.ow,qr:R,x:l.Pz+2,y:l.in+1};S.B(U)};K.Ku.prototype.MI=function(Q,S,B,y,l){return K.Ku.yu(B,l)};
K.Ku.prototype.OQ=function(Q,S,B,y,l){this.sh=l;this.yp.yZ(l.x,l.y);this.yR=Q.u.FD(l.x,l.y);this.bF=new Lp(this.yR);
this.$u(Q,S,y,B,!0)};K.Ku.yu=function(Q,S){return Q.If&&(0<S.x&&S.x<k.hs.RW||0<S.y&&S.y<k.hs.RW)};K.Ku.prototype.$u=function(Q,S,B,y,l,D){var R,p=this.yR,O=!1;
if(l){var M=y.fn&&y.Ke.WM;if(K.Ku.yu(y,this.yp)){R=JSON.parse(JSON.stringify(Q.WM));if(this.yp.x<k.hs.RW)Q.WM[0].push(p.x);
if(this.yp.y<k.hs.RW)Q.WM[1].push(p.y);if(!M){var U=new b(P.E.T);if(!y.Ke.WM){U.data={H:P.l.Kk,yQ:rS.YO};
S.B(U)}if(!y.fn){U.data={H:P.l.Kk,yQ:rS.VW};S.B(U)}M=!0}}var m=this.hz(Q,p);if(M&&m){this.H=2;this.ki=R?R:JSON.parse(JSON.stringify(Q.WM));
this.Eq=m;this.Eh=!0;this.Jm=K.Sj.jH(Q);return}if(Q.rL.length!=0){this.H=4;this.Jm=Q.Ka[Q.rL[0]].rect.clone();
this.Eh=!0;return}if(this.Wu&&this.Wu.qH(p,Q.u.C,!0)!=null){var U=new b(P.E.T);U.data={H:P.l.oE,h:K.fM};
S.B(U);var Y=new b(P.E.D);Y.h=K.fM;Y.data={H:"doMouseDown",sh:this.yp};S.B(Y);return}if(Q.m&&Q.m.rect._D(p)){var x=Math.round(p.x),T=Math.round(p.y),$=Q.m.rect;
O=Q.m.channel[(T-$.y)*$.r+x-$.x]>128}if(!O&&(!this.bz&&(B.N(A.DQ)||this.ot.fb)||this.bz&&this.ot.fb&&(B.N(A.CP)||Q.I.length<2))){var L=this.muR(Q,p,B);
if(!L){Q.I=[];Q.KC=null;Q.ha=Q.bN=!0;this.H=3;this.EK=new w;this.Eh=!0;return}}if(B.N(A.qD)&&!O){var Y=new b(P.E.D);
Y.h=K.Sb;Y.data={H:z.m$};S.B(Y)}}if(Q.rL.length!=0){this.H=4;this.Jm=Q.Ka[Q.rL[0]].rect.clone();this.Eh=!0;
return}this.Eq=Q.M$(D==null,D);for(var s=0;s<this.Eq.length;s++){var j=Q.G[this.Eq[s]];if(j.s$(2)||j.s$(31)){alert(Nd.get([6,57,0]));
return}}this.KW=K.Ku.Cz(Q,this.Eq);this.H=0;if(Q.m&&(!l||O)&&Q.I.length==1&&Q.pD(!1)){if(!Q.ma_()){this.Eh=!1;
return}var Z=Q.G[Q.I[0]],e=B.N(A.qD);this.H=1;var J=Q.history[Q.GS];if(J.h==this&&J.data.H==1&&J.data.$==Q.I[0]&&Z.Wg==Z.K_.Wg&&!e){this.ye=J}else{var N=Z.K_,E=!1,h;
if(!Z.De(Q,Q.m)||e){E=!0;Z.VG(Q,Q.m,e)}if(Z.K_.Wg<=0){h=k.Q(Z.K_.o_.length>>2);k.MA(Z.K_.o_,h,3)}else h=k.clone(Q.m.channel);
var o={rect:Z.K_.gb.clone(),channel:h};this.ye=new NO(e?[12,53]:[12,54],this);this.ye.data={H:1,$:Q.I[0],K_:Z.K_,PQ:N,Je:E,_v:Q.m,mT:o,en:new v(0,0)};
Q.Ra(this.ye);Q.m=o;Q.mh=!0}}this.Eh=!0;this.Jm=K.Sj.jH(Q)};K.Ku.prototype.muR=function(Q,S,B){var y=Q.root.CM(new v(Math.floor(S.x),Math.floor(S.y)));
if(y){if(y.$.add.vmsk)Q.rr=!0;var l=Q.G.indexOf(y.$);if(B.N(A.CP)){var D=Q.I.indexOf(l);if(D==-1)Q.I.push(l);
else if(Q.I.length>1)Q.I.splice(D,1)}else if(Q.I.indexOf(l)==-1){this.VK(Q,l)}}return y!=null};K.Ku.prototype.VK=function(Q,S){Q.G[S].Wg=0;
Q.I=[S];Q.KC=null;Q.VH();Q.fi=!0;Q.ha=!0};K.Ku.prototype.Uy=function(Q,S,B,y,l){this.sh=l;var D=Q.u.FD(l.x,l.y),Y,x;
if(this.bF&&this.H<2)D=this.bF.B_(D,y);if(!this.Eh){if(B.fn&&B.Ke.WM){var R=this.hz(Q,D),p="default";
if(R)p=["col-resize","row-resize"][R[0]];else if(this.Wu){var O=this.Wu.qH(D,Q.u.C);if(O)p=O}this.Su(p,S)}this.CD(Q,D);
return}var M=this.yR,U=Math.round(D.x-M.x)-this.LG.x,m=Math.round(D.y-M.y)-this.LG.y;if(this.Jm){if(this.H==2){D=K.Ku.d$(Q,D,B,[!1,Q.m?Q.m.rect:this.Jm,!0])}else{x=this.Jm.clone();
x.offset(this.LG.x+U,this.LG.y+m);Y=K.Ku.qO(Q,x,B);U+=Math.round(Y[0]);m+=Math.round(Y[1])}}this.LG.x+=U;
this.LG.y+=m;this.IG(Q,U,m,D,null,y.N(A.CP));this.CD(Q,D);if(Y)K.Ku.qU(Q,x,Y)};K.Ku.prototype.hz=function(Q,S){S=[S.x,S.y];
for(var B=0;B<2;B++)for(var y=0;y<Q.WM[B].length;y++)if(Math.abs(Q.WM[B][y]-S[B])*Q.u.C<4)return[B,y];
return null};K.Ku.prototype.IG=function(Q,S,B,y,l,D){if(this.H==0){if(l)K.Ku.$G(Q,this.Eq,this.KW,l);
else K.Ku.$g(Q,this.Eq,this.KW,S,B)}else if(this.H==1){var R=this.ye.data;R.en.offset(S,B);K.Ku.Iw(Q,R.$,S,B)}else if(this.H==2){var p=1e-5;
if(D)p=Q.u.C<=1?10:1;else if(Q.u.C<=1)p=1;var O=p*Math.round(y.x/p),M=p*Math.round(y.y/p),U=[O,M],m=this.Eq;
Q.WM[m[0]][m[1]]=U[m[0]]}else if(this.H==3){var Y=this.yR,x=k.i.vE([Y.x,Y.y,y.x,y.y]);this.EK=x;var T=[];
Q.root.mLe(x,T);if(JSON.stringify(Q.I)!=JSON.stringify(T)){Q.I=T;Q.ha=!0;Q.bN=!0}}else if(this.H==4){for(var $=0;
$<Q.rL.length;$++)Q.Ka[Q.rL[$]].rect.offset(S,B);Q.rr=!0}};K.Ku.Iw=function(Q,S,B,y){var l=Q.G[S];Q.m.rect.offset(B,y);
l.VY(Q,B,y,Q.m);Q.mh=!0;Q.s()};K.Ku.prototype.sn=function(Q,S,B,y,l){this.In(Q,l,B);this.CD(Q)};K.Ku.prototype.In=function(Q,S,B,y,l){if(!this.Eh)return;
this.Eh=!1;if(this.H==0){if(y){this.hJ(Q,null,y,l)}else{if(this.LG.x==0&&this.LG.y==0)return;this.hJ(Q,this.LG.clone())}Q.np=!0}else if(this.H==2){var D=0;
S=[S.x,S.y];var R=this.Eq,p=this.ki[0].length+this.ki[1].length,O=Q.WM[0].length+Q.WM[1].length;if(B.If&&S[R[0]]<k.hs.RW){Q.WM[R[0]].splice(R[1],1);
D=1;if(p==O-1)return}if(p<O)D=2;var M=new NO([[23,2],[23,3],[23,4]][D],this);M.data={H:2,ki:this.ki,GA:JSON.parse(JSON.stringify(Q.WM))};
Q.Ra(M)}else if(this.H==4){var M=new NO([12,54],this);M.data={H:4,I:Q.rL.slice(0),a:this.LG.clone()};
Q.Ra(M)}this.LG.yZ(0,0)};K.Ku.prototype.qh=function(Q,S,B,y){var l=y.tt();if(Q!=null&&(l.x!=0||l.y!=0)){this.LG.yZ(l.x,l.y);
this.$u(Q,S,y,B,!1);if(!this.Eh)return;this.IG(Q,l.x,l.y);this.In(Q,null,B);this.CD(Q)}};K.Ku.prototype.$B=function(Q,S){if(Q.H==0)K.Ku.$G(S,Q.I,Q.Zz,Q.bR,!0);
else if(Q.H==2){S.WM=JSON.parse(JSON.stringify(Q.ki));S.rr=!0}else if(Q.H==4){for(var B=0;B<Q.I.length;
B++)S.Ka[Q.I[B]].rect.offset(-Q.a.x,-Q.a.y);S.rr=!0}else{var y=S.G[Q.$];if(Q.Je){y.Va(S,Q.PQ);S.m=Q._v;
S.mh=!0;S.s();y.s()}else{K.Ku.Iw(S,Q.$,-Q.en.x,-Q.en.y)}}};K.Ku.prototype.Lz=function(Q,S){if(Q.H==0)K.Ku.$G(S,Q.I,Q.Zz,Q.bR);
else if(Q.H==2){S.WM=JSON.parse(JSON.stringify(Q.GA));S.rr=!0}else if(Q.H==4){for(var B=0;B<Q.I.length;
B++)S.Ka[Q.I[B]].rect.offset(Q.a.x,Q.a.y);S.rr=!0}else{var y=S.G[Q.$];if(Q.Je){y.K_=Q.K_;S.m=Q.mT;K.Ku.Iw(S,Q.$,0,0);
y.s()}else{K.Ku.Iw(S,Q.$,Q.en.x,Q.en.y)}}};K.Ku.prototype.hJ=function(Q,S,B,y){if(B){var l=!0;for(var D=0;
D<B.length;D++)if(B[D]!=0)l=!1;if(l)return}var R=Q.history[Q.GS];if(R.data&&R.h==this&&R.data.H==0&&B==null&&JSON.stringify(R.data.I)==JSON.stringify(this.Eq)&&JSON.stringify(R.data.Zz)==JSON.stringify(this.KW)){var p=R.data.bR,O=R.data.mFh.$o.T.v;
O.Hrzn.v.val+=S.x;O.Vrtc.v.val+=S.y;for(var D=0;D<p.length;D+=2){p[D]+=S.x;p[D+1]+=S.y}}else{if(S==null)S=new v(B[0],B[1]);
var M={QF:"move",$o:{classID:"null",null:mg.KG("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:S.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:S.y}}}}}},U=new NO(y?y:[12,54],this);
if(B)U.data={H:0,I:this.Eq,Zz:this.KW,bR:B};else U.data={H:0,I:this.Eq,Zz:this.KW,bR:K.Ku.hE(this.Eq,S.x,S.y)};
U.data.mFh=M;Q.Ra(U);this.track(M)}};K.Ku.hE=function(Q,S,B){var y=[];for(var l=0;l<Q.length;l++)y.push(S,B);
return y};K.Ku.$g=function(Q,S,B,y,l){K.Ku.$G(Q,S,B,K.Ku.hE(S,y,l))};K.Ku.$G=function(Q,S,B,y,l){if(S.length==0)return;
if(B==null){B=[];for(var D=0;D<S.length;D++){B.push(Q.G[S[D]].DU(Q,!0))}}var R=new w,p=new w(0,0,Q.r,Q.O);
for(var D=0;D<S.length;D++){var O=y[2*D],M=y[2*D+1];if(l){O=-O;M=-M}var U=Q.G[S[D]],m=B[D];if(U.add.fxrp&&(m.indexOf(0)!=-1||U.iG()))U.add.fxrp.offset(O,M);
for(var Y=0;Y<m.length;Y++){var x=m[Y];if(x==0){U.rect.offset(O,M);if(U.as()&&U.DG(Q))U.DG(Q).rect.offset(O,M);
if(U.add.artb){var T=U.ma();T.offset(O,M);U.hr(T)}if(U.add.TySh){U.add.TySh.V.translate(O,M);if(U.add.TySh.add){U.add.TySh.add.vmsk.offset(O,M)}}if(U.add.SoLd){var $=new Nu(1,0,0,1,O,M),L=U.add.SoLd,s=K.Sj.so(L.Trnf),j=K.Sj.so(L.nonAffineTransform);
k.i.V(s,$,s);k.i.V(j,$,j);L.Trnf=K.Sj.tQ(s);L.nonAffineTransform=K.Sj.tQ(j)}}if(x==1)U.Tb().rect.offset(O,M);
if(x==2){U.add.vmsk.offset(O,M);if(U.add.vogk)k.SI.V(U.add.vogk,[1,0,O,0,1,M,0,0],[])}if(x==3){U.DG(Q).k.rect.offset(O,M);
if(m.length==1)U.s()}}if(m.length>0){var Z=U.add.GdFl;if(Z==null)Z=U.add.PtFl;if(U.iG()&&!U.UP()&&U.add.vmsk!=null&&k.c.kG(U.add.vmsk.A)&&U.add.vmsk.FO==255&&(Z==null||Z.Algn&&Z.Algn.v)){U.rect.offset(O,M)}else U.Zs(Q);
var e=Q.root.VX(U.el(Q),Q,S[D]);R=R.wM(e);e.offset(-O,-M);R=R.wM(e);if(U.add.SoCo||U.add.GdFl||U.add.PtFl||Nf.get(U.add)!=null)R=R.wM(p);
U.AV()}}Q.s(R)};K.Ku.Cz=function(Q,S){var B=[];for(var y=0;y<S.length;y++){var l=Q.G[S[y]];B.push(l.DU(Q))}return B};
K.Ku.qU=function(Q,S,B){var y=Q.J.Pg={M:[],F:[]},l=S.x+B[0],D=S.y+B[1];if(B[2]!=1e9){y.F.push("M","L");
y.M.push(B[2],D,B[2],D+S.O)}if(B[3]!=1e9){y.F.push("M","L");y.M.push(l,B[3],l+S.r,B[3])}Q.rr=!0};K.Ku.d$=function(Q,S,B,y){var l=K.Ku.CJ(Q,[[S.x],[S.y]],B,y);
return new v(S.x+l[0],S.y+l[1])};K.Ku.qO=function(Q,S,B,y,l){var D=l==!0?0:1,R=K.Ku.CJ(Q,[[S.x,S.x+(S.r>>>D),S.x+S.r],[S.y,S.y+(S.O>>>D),S.y+S.O]],B,y);
return R};K.Ku.CJ=function(Q,S,B,y){if(y==null)y=[!0,null,!0];var l=[0,0,1e9,1e9];if(!B.bc)return l;
var D=JSON.parse(JSON.stringify(S));for(var R=0;R<2;R++){var p=1e9,O=S[R],M=0;for(var U=0;U<O.length;
U++){var m=K.Ku.muQ(Q,O[U],D[1-R][U],R,B,y);if(m!=1e9)D[R][U]=m;if(m!=1e9&&Math.abs(m-O[U])<Math.abs(p)){p=m-O[U];
M=m}}if(p!=1e9){l[R]=p;l[R+2]=M}}return l};K.Ku.muQ=function(Q,S,B,y,l,D){var R=1e9,p=l.Pw,O=l.Ke;if(D[0]&&p[0]&&O.WM&&l.fn){var M=Q.WM[y];
for(var U=0;U<M.length;U++)if(Math.abs(M[U]-S)<Math.abs(R-S))R=M[U]}if(p[1]&&O.Zp&&l.fn){var m=Math.round(k.hs.Iy(O.WK,Q,O.Fg));
if(y==1&&O.IZ==1){var Y=B*.5*Math.sqrt(4/3),x;m*=Math.sqrt(4/3);x=Math.round((S-Y)/m)*m+Y;if(Math.abs(x-S)<Math.abs(R-S))R=x;
x=Math.round((S+Y)/m)*m-Y;if(Math.abs(x-S)<Math.abs(R-S))R=x}else{var x=Math.round(S/m)*m;if(Math.abs(x-S)<Math.abs(R-S))R=x}}var T=Q.$q;
if(p[3]&&O.$q&&l.fn&&T.length!=0){for(var U=0;U<T.length;U++){if(!D[2]&&Q.FY.indexOf(U)!=-1)continue;
var $=K.GM.fm(T,U);for(var L=0;L<3;L+=2)if($[L+y]!=S&&Math.abs($[L+y]-S)<Math.abs(R-S))R=$[L+y]}}if(D[1]){var s=D[1],j=s.r,Z=s.O,e=[s.x,s.y,s.x+(j>>>1),s.y+(Z>>>1),s.x+j,s.y+Z];
for(var U=0;U<6;U+=2)if(Math.abs(e[U+y]-S)<Math.abs(R-S))R=e[U+y]}if(p[4]){var j=Q.r,Z=Q.O,e=[0,0,j>>>1,Z>>>1,j,Z];
for(var U=0;U<6;U+=2)if(Math.abs(e[U+y]-S)<Math.abs(R-S))R=e[U+y]}var J=Math.abs(R-S)<=4*P._()/Q.u.C?R:1e9;
return J};K.lv=function(){K.pL.call(this,[10,12],K.mVG,"tools/mwand")};K.lv.prototype=new K.pL;K.lv.prototype.Gg=function(Q,S,B,y){this.finish(Q,S,B,y)};
K.lv.prototype.getSelection=function(Q,S,B,y){var l=this.tR,D=K.pL.mh_(new v(Math.floor(l.x),Math.floor(l.y)),this.ot.Es);
return D};K.lv.Ch=function(Q,S,B){if(Q.I.length!=1){alert("More than one layer selected.");return null}var y=Q.G[Q.I[0]],l;
if(y.add.lsct!=null&&y.add.lsct!=NI.Vw){alert("No layer selected.");return null}if(S.x<0||S.x>Q.r||S.y<0||S.y>Q.O)return null;
var D=new w(0,0,Q.r,Q.O),R=y.Wg<=0?null:y.Wg==1?y.Tb():y.DG(Q).k;if(R==null&&D.UH(y.rect))l=y.buffer;
else{l=k.Q(D.Z()*4);if(R==null)k.oD(y.buffer,y.rect,l,D);else K.KT.sB(R.channel,R.rect,R.color,l,D)}var p=K.lv.Cg(l,D,S,null,B),O=k.p$(p,D),M=k.Q(O.Z());
k.ht(p,D,M,O);return{rect:O,channel:M}};K.lv.$i=function(Q,S,B){var y=S.r,D=0,R=0,p=0,O=0;Q=new Uint32Array(Q.buffer);
var l=[],M=B.length;for(var U=0;U<M;U++){var m=B[U],Y=Math.round(m.x-.5-S.x),x=Math.round(m.y-.5-S.y);
if(!S._D(m))Y=x=0;var T=x*y+Y,$=Q[T];l.push([$&255,$>>8&255,$>>16&255,$>>>24])}return l};K.lv.Cg=function(Q,S,B,y,l){Q=new Uint32Array(Q.buffer);
var D=S.r,R=S.O,p=D*R;if(y==null)y=K.lv.$i(Q,S,[B]);var O=Math.round(B.x-.5-S.x),M=Math.round(B.y-.5-S.y),U=M*D+O,m=Date.now(),Y=k.Q(D*R),x=l[0],T=1/x,$=l[1]&&x>0?255:0;
if(l[2]){var L=k.Q(Y.length),s=new Uint32Array(p),j=1;s[0]=O<<16|M;L[U]=1;while(j>0){var Z=s[j-1];j--;
var e=Z>>>16,J=Z&65535,N=J*D+e,E=K.lv.yW(Q[N],y);if(E>x){var h=$*(1-Math.max(0,Math.min(1,(E-x)*T)));
Y[N]=~~h}else{Y[N]=255;if(J!=R-1&&L[N+D]==0){s[j++]=e<<16|J+1;L[N+D]=1}if(J!=0&&L[N-D]==0){s[j++]=e<<16|J-1;
L[N-D]=1}if(e!=D-1&&L[N+1]==0){s[j++]=e+1<<16|J;L[N+1]=1}if(e!=0&&L[N-1]==0){s[j++]=e-1<<16|J;L[N-1]=1}}}}else{for(var N=0;
N<p;N++){var E=K.lv.yW(Q[N],y);if(E<=x)Y[N]=255}for(var J=0;J<R;J++)for(var e=0;e<D;e++){var N=J*D+e;
if(Y[N]==0&&(e>0&&(Y[N-1]==255||J>0&&Y[N-D-1]==255||J<R-1&&Y[N+D-1]==255)||e<D-1&&(Y[N+1]==255||J>0&&Y[N-D+1]==255||J<R-1&&Y[N+D+1]==255)||J>0&&Y[N-D]==255||J<R-1&&Y[N+D]==255)){var E=K.lv.yW(Q[N],y),h=$*(1-Math.max(0,Math.min(1,(E-x)*T)));
Y[N]=~~h}}}return Y};K.lv.yW=function(Q,S){var B=S.length,y=K.lv.CI(Q,S[0]),l=1;while(l!=B){y=Math.min(y,K.lv.CI(Q,S[l]));
l++}return y};K.lv.CI=function(Q,S){var B=Q&255,y=Q>>>8&255,l=Q>>>16&255,D=Q>>>24&255;if(S[3]==0)return D<5?0:255;
var R=Math.max(Math.abs(B-S[0]),Math.max(Math.abs(y-S[1]),Math.abs(l-S[2])));return D==0?255:R};K.tN=function(){K.KT.call(this,[10,26],K.pl,"tools/patch");
this.nN=null;this.cg=null;this.a=null;this.hD=null;this.sM=new v;this.sV=null};K.tN.prototype=new K.KT;
K.tN.prototype.OQ=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y);if(Q.m&&k.CM(D,Q.m.channel,Q.m.rect)){var R=new w(0,0,Q.r,Q.O),p=R.nG(Q.m.rect);
if(!Q.pD()||p.Kq())return;if(!p.UH(Q.m.rect)){var O=k.Q(p.Z());k.ht(Q.m.channel,Q.m.rect,O,p);Q.m={channel:O,rect:p}}this.xS(Q);
this.hD=D;this.sM=new v(D.x-Q.m.rect.x,D.y-Q.m.rect.y);this.sV=k.Q(Q.m.rect.Z()*4);k.set(this.sV,4294967295);
if(this.ot.patch==1){var M=Q.G[Q.I[0]];M.VG(Q,Q.m,!0);if(M.K_==null)this.hD=null}}else{this.cg={M:[D.x,D.y],F:["M"]};
this.nN=D}};K.tN.prototype.Uy=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y);if(this.hD){if(this.ot.patch==1){var R=Q.G[Q.I[0]].K_,p=D.x-this.sM.x,O=D.y-this.sM.y;
K.Ku.Iw(Q,Q.I[0],Math.round(p-R.gb.x),Math.round(O-R.gb.y))}else this.CY(Q,D,"clone")}if(this.nN){this.cg.F.push("L");
this.cg.M.push(D.x,D.y);this.nN=D;Q.J.pN=this.cg;Q.rr=!0}};K.tN.prototype.sn=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y);
if(this.hD){this.CY(Q,D,"heal");this.finish(Q,Q.m.rect);this.hD=null}if(this.nN){var R=K.pL.eS(this.ot.setop,y.N(A.CP),y.N(A.qD)),p=new b(P.E.RK,!0);
if(this.cg.M.length<=4)p.data=K.pL.Cv();else p.data=K.pL.Iz(this.cg.M,R);S.B(p);this.nN=null;Q.J.pN=null;
Q.rr=!0}};K.tN.prototype.ek=function(){return this.a};K.tN.prototype.sv=function(Q,S,B,y,l){K.KT.prototype.sv.call(this,Q,S,B,y,l);
this.Su(l,y)};K.tN.prototype.Su=function(Q,S){var B="auto;";if(S!=null&&S.N(A.CP)&&!S.N(A.qD)||this.ot.setop=="union")B="copy";
var y=new b(P.E.T,!0);y.data={H:P.l.qL,YT:B};if(this.caller)this.caller.B(y)};K.tN.prototype.CY=function(Q,S,B){var y=new v(Math.round(this.hD.x-S.x),Math.round(this.hD.y-S.y));
if(this.ot.patch==1)y.yZ(-y.x,-y.y);this.a=y;this.sf(Q,B,this.sV,Q.m.rect,Q.m.rect);this.s(Q,Q.m.rect)};
K.Hm=function(){K.KT.call(this,[10,13],K.mhJ,"tools/pbucket")};K.Hm.prototype=new K.KT;K.Hm.prototype.enable=function(Q,S,B,y){var l=new b(P.E.T,!0);
l.data={H:P.l.qL,YT:"default"};S.B(l)};K.Hm.prototype.on=function(Q,S){};K.Hm.prototype.sn=function(Q,S,B,y,l){if(!Q.pD())return;
var D=Q.u.FD(l.x,l.y),R=K.lv.Ch(Q,D,this.ot.wconf);if(R==null)return;var p=k.Q(R.rect.Z()*4);k.St(p,(B.Tq&255)<<16|(B.Tq>>8&255)<<8|(B.Tq>>16&255)<<0);
k.KF(R.channel,p,3);this.xS(Q);this.sf(Q,"draw",p,R.rect,R.rect);this.s(Q,R.rect);this.finish(Q,R.rect)};
K.wK=function(){K.pL.call(this,[10,14],K.mVm,"tools/plasso");this.ZQ="crosshair";this.Tp=[];this.cg=null;
this.maG=0};K.wK.prototype=new K.pL;K.wK.prototype.disable=function(Q,S,B,y){this.Hs(Q)};K.wK.prototype.Gg=function(Q,S,B,y){this.Tp=[A.fV,A.fc]};
K.wK.prototype.bC=function(Q){return this.Tp.indexOf(Q)!=-1};K.wK.prototype.C$=function(Q){return this.cg!=null};
K.wK.prototype.eH=function(){return this.cg!=null};K.wK.prototype.TA=function(){return this.cg!=null};
K.wK.prototype.Re=function(Q,S,B,y){if(this.cg==null)return;var l=this.cg,D=l.M,R=D.length-2,p=this.tR;
if(this.qa>1&&B.N(A.qD)&&y.qv){D.push(0,0);l.F.push("L");R+=2}else if(B.N(A.CP))p=K.fI.$U(new v(D[R-2],D[R-1]),p);
D[R]=p.x;D[R+1]=p.y;Q.J.pN=l;Q.rr=!0};K.wK.prototype.ss=function(Q,S,B,y){var l=Date.now();if(this.cg==null)this.cg={M:[this.tR.x,this.tR.y,this.tR.x,this.tR.y],F:["M","L"]};
else{this.Re(Q,S,B,y);this.cg.F.push("L");this.cg.M.push(this.tR.x,this.tR.y);Q.J.pN=this.cg;if(l-this.maG<250||v.Ui(this.tR,new v(this.cg.M[0],this.cg.M[1]))<4/Q.u.C){this.finish(Q,S,B,y);
this.Hs(Q)}}this.maG=l;Q.J.pN=this.cg};K.wK.prototype.Hs=function(Q){this.cg=null;this.Tp=[];if(Q!=null){Q.J.pN=null;
Q.rr=!0}};K.wK.prototype.qh=function(Q,S,B,y){K.pL.prototype.qh.call(this,Q,S,B,y);if(this.cg==null)return;
if(y.N(A.fV)||y.N(A.fc)){this.cg.M.pop();this.cg.M.pop();this.cg.F.pop();this.Re(Q,B,y)}if(y.N(A._o)){if(this.cg.M.length>4)this.finish(Q,B,y);
this.cg=null}if(y.N(A.fr)){this.cg=null}Q.J.pN=this.cg;Q.rr=!0};K.wK.prototype.getSelection=function(Q,S,B,y){return K.pL.Iz(this.cg.M)};
K.lX=function(){K.pL.call(this,[10,10],K.mVN,"tools/mlasso");this.ZQ="crosshair";this.Tp=[];this.vB={Mt:3};
this.A=[];this.bu=[];this.$R=[];this.bG=null;this.FW=null;this.yJ=null;this.yg=0};K.lX.prototype=new K.pL;
K.lX.prototype.disable=function(Q,S,B,y){this.clear(Q)};K.lX.prototype.C$=function(Q){return this.A.length!=0};
K.lX.prototype.TA=function(){return this.A.length!=0};K.lX.prototype.bC=function(Q){return this.Tp.indexOf(Q)!=-1};
K.lX.prototype.Gg=function(Q,S,B,y){this.Tp=[A.fV,A.fc];var l=this.$Z(this.vF,Q);if(this.A.length!=0&&(v.Ui(l,this.A[0])<4*P._()/Q.u.C||Date.now()-this.yg<300)){this.$k(Q,this.A[0]);
this.finish(Q,S,B);this.clear(Q);return}this.yg=Date.now();if(this.A.length!=0)l=this.y_(l,Q,this.vB.Mt);
else{var D=Q.r,R=Q.O,p=k.Q(D*R),O=Q.qB(),M=D*R*4;for(var U=0;U<M;U+=4)p[U>>>2]=k.EY(Math.round(.3*O[U]+.6*O[U+1]+.1*O[U+2])*O[U+3]);
this.bG=k._Y.mWk(p,D,R);this.yJ=new Uint16Array(p.length)}this.$k(Q,l);this.dr(Q)};K.lX.prototype.$k=function(Q,S){var B=this.A;
this.bu[B.length]=this.$R.length;if(B.length!=0){k._Y.NB(this.FW,S.y*Q.r+S.x);var y=this.yF(Q,S);y.reverse();
var l=this.uh(Q,y);this.$R=this.$R.concat(l)}B.push(S);this.uz(Q)};K.lX.prototype.uz=function(Q){var S=this.A[this.A.length-1],B=S.y*Q.r+S.x;
this.FW=k._Y.mWb(this.bG.fX,this.bG.io,B);k.set(this.yJ,0)};K.lX.prototype.$Z=function(Q,S){return new v(Math.floor(Math.max(0,Math.min(S.r-1,Q.x))),Math.floor(Math.max(0,Math.min(S.O-1,Q.y))))};
K.lX.prototype.clear=function(Q){this.$R=[];this.A=[];this.bu=[];this.bG=null;this.FW=null;this.yJ=null;
if(Q!=null){Q.J.pN=null;Q.J.La=[];Q.rr=!0}this.Tp=[]};K.lX.prototype.Re=function(Q,S,B,y){if(this.A.length==0)return;
var l=this.y_(this.$Z(this.tR,Q),Q,this.vB.Mt),D=this.yF(Q,l);for(var R=0;R<D.length;R++){var p=D[R],O=new v(p%Q.r,Math.floor(p/Q.r));
if(this.yJ[p]>30&&v.Ui(O,this.A[this.A.length-1])>20){this.$k(Q,O);return}this.yJ[p]++}this.dr(Q)};K.lX.prototype.dr=function(Q){var S=this.A;
if(S.length!=0){var B=this.y_(this.$Z(this.tR,Q),Q,this.vB.Mt),y=this.yF(Q,B);y.reverse();var l=this.uh(Q,y),D=this.$R.concat(l);
Q.J.pN=this.uV(D)}Q.J.La=[];for(var R=0;R<S.length;R++)Q.J.La.push(S[R].x+.5,S[R].y+.5);Q.rr=!0};K.lX.prototype.ss=function(Q,S,B,y){};
K.lX.prototype.qh=function(Q,S,B,y){if(this.A.length==0)return;if(y.N(A.fV)||y.N(A.fc)){this.A.pop();
this.$R=this.$R.slice(0,this.bu[this.A.length]);this.bu.pop();if(this.A.length==0)this.clear(Q);else this.uz(Q);
this.dr(Q)}if(y.N(A._o)){var l=this.$Z(this.tR,Q);this.$k(Q,l);this.finish(Q,B,y);this.clear(Q)}if(y.N(A.fr)){this.clear(Q)}};
K.lX.prototype.uV=function(Q){var S={M:Q.slice(0),F:["M"]};for(var B=2;B<Q.length;B+=2)S.F.push("L");
return S};K.lX.prototype.getSelection=function(Q,S,B,y){var l=this.uV(this.$R);return K.pL.Iz(l.M)};
K.lX.prototype.yF=function(Q,S){var B=this.A[this.A.length-1],y=B.y*Q.r+B.x,l=S.y*Q.r+S.x,D=[l];while(l!=y){l=this.FW.LT[l];
D.push(l);if(D.length>5e3){console.log(D);throw"e"}}return D};K.lX.prototype.uh=function(Q,S){var B=[],y=Q.r;
for(var l=0;l<S.length;l++){var D=S[l];B.push(D%y+.5,Math.floor(D/y)+.5)}return B};K.lX.prototype.y_=function(Q,S,B){var y=S.r,l=S.O,D=Q.clone();
k._Y.NB(this.FW,Q.y*y+Q.x);var R=this.FW.h$[Q.y*y+Q.x];for(var p=-B+1;p<B;p++)for(var O=-B+1;O<B;O++){var M=Q.x+O,U=Q.y+p;
if(M<0||M>=y||U<0||U>=l)continue;k._Y.NB(this.FW,U*y+M);if(this.FW.h$[U*y+M]<R)D.yZ(M,U)}return D};K.Wv=function(){K.WC.call(this,[10,36],K.mVb,"tools/ruler");
this.KZ=null;this.Fj=null;this.sF=null;this.st=null};K.Wv.prototype=new K.WC;K.Wv.prototype.C$=function(Q){return Q.qv};
K.Wv.prototype.disable=function(Q,S,B,y){this.KZ=this.Fj=null;if(Q)this.CD(Q)};K.Wv.prototype.OQ=function(Q,S,B,y,l){var D=Q.u.C/P._(),R=Q.u.FD(l.x,l.y);
R.x=Math.round(R.x);R.y=Math.round(R.y);var p=this.KZ;if(p&&v.Ui(R,p[0])*D<6)this.Fj=[0];else if(p&&v.Ui(R,p[1])*D<6)this.Fj=[1];
else if(p&&K.Wv.muL(p[0],p[1],R)*D<6&&Math.min(p[0].x,p[1].x)-5<=R.x&&R.x<=Math.max(p[0].x,p[1].x)+5&&Math.min(p[0].y,p[1].y)-5<=R.y&&R.y<=Math.max(p[0].y,p[1].y)+5){this.Fj=[0,1];
this.st=[p[0].clone(),p[1].clone()];this.sF=R}else{this.KZ=[R.clone(),R.clone()];this.Fj=[1]}};K.Wv.prototype.Uy=function(Q,S,B,y,l){if(this.Fj==null)return;
var D=this.KZ,R=this.Fj,p=Q.u.FD(l.x,l.y);p.x=Math.round(p.x);p.y=Math.round(p.y);if(R.length==2){var O=p.x-this.sF.x,M=p.y-this.sF.y;
D[0]=this.st[0].clone();D[0].offset(O,M);D[1]=this.st[1].clone();D[1].offset(O,M)}else{D[R[0]].yZ(p.x,p.y);
if(y.N(A.CP)){D[R[0]]=K.fI.$U(D[1-R[0]],D[R[0]])}}this.CD(Q);this.PD(S,P.E.T,{H:P.l.tE,h:this.id,mFC:D[0],LF:D[1]})};
K.Wv.prototype.sn=function(Q,S,B,y,l){this.Fj=null};K.Wv.prototype.PD=function(Q,S,B){var y=new b(S,!0);
y.data=B;Q.B(y)};K.Wv.prototype.CD=function(Q){var S=this.KZ;if(S==null){Q.J.pN=null;Q.J.La=[]}else{var B=[S[0].x,S[0].y,S[1].x,S[1].y];
Q.J.pN={F:["M","L"],M:B};Q.J.La=B}Q.rr=!0};K.Wv.muL=function(Q,S,B){var y=S.x-Q.x,l=S.y-Q.y,D=Math.abs(l*B.x-y*B.y+S.x*Q.y-S.y*Q.x),R=Math.sqrt(y*y+l*l);
return D/R};K.$b=function(){K.KT.call(this,[10,19],K.xP,"tools/sharpen");this.hx="copy"};K.$b.prototype=new K.KT;
K.$b.prototype.OQ=function(Q,S,B,y,l){var D=this.ot.pdetail?Nl.BG:Nl.xP;if(y.N(A.qD))D=Nl.xB;this.gs(Q,B,y,l,this.ot.strn,D);
if(this.ed==null)return;this.JJ(Q)};K.$b.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);if(this.yU)this.CH(Q,B,l);
if(this.ed==null)return;if(!l.qv)return;this.Fy(Q,B,y,l);this.JJ(Q)};K.HO=function(){K.KT.call(this,[10,24],K.pB,"tools/shbrush");
this.hx="draw";this.ot.opacity=.5};K.HO.prototype=new K.KT;K.HO.prototype.OQ=function(Q,S,B,y,l){this.gs(Q,B,y,l,1);
if(this.ed==null)return;this.JJ(Q)};K.HO.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);if(this.yU)this.CH(Q,B,l);
if(this.ed==null)return;if(!l.qv)return;this.Fy(Q,B,y,l);this.JJ(Q)};K.HO.prototype.sn=function(Q,S,B,y,l){if(this.ed==null)return;
this.sf(Q,"sheal",this.ed.Du(),this.ed.jH(),this.ed.WN(),null);this.s(Q,this.ed.WN());K.KT.prototype.sn.call(this,Q,S,B,y,l)};
K.$K=function(){K.KT.call(this,[10,20],K.sa,"tools/smudge");this.hx="copy"};K.$K.prototype=new K.KT;
K.$K.prototype.OQ=function(Q,S,B,y,l){this.gs(Q,B,y,l,this.ot.strn,Nl.sa);if(this.ed==null)return;this.JJ(Q)};
K.$K.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);if(this.yU)this.CH(Q,B,l);if(this.ed==null)return;
if(!l.qv)return;this.Fy(Q,B,y,l);this.JJ(Q)};K.td=function(){K.KT.call(this,[10,23],K.r_,"tools/sponge");
this.hx="sponge"};K.td.prototype=new K.KT;K.td.prototype.OQ=function(Q,S,B,y,l){this.gs(Q,B,y,l,this.ot.flow);
if(this.ed==null)return;this.JJ(Q)};K.td.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);if(this.yU)this.CH(Q,B,l);
if(this.ed==null)return;if(!l.qv)return;this.Fy(Q,B,y,l);this.JJ(Q)};K.hT=function(){K.WC.call(this,[10,17],K.Gu,"tools/zoom");
this.SD=!1;this.ig=!0;this.ys=0;this.KL=null;this.sX=0;this.oT=null;this.MP=new RW([{name:[8,0],yd:"Ctrl + +"},{name:[8,1],yd:"Ctrl + -",Uw:!0},{name:[20,3],yd:"Ctrl + 0"},{name:[20,2],o:function(Q){return{os:Nd.get([20,2])+": 100%"}},yd:"Ctrl + 1"}],[{f:P.E.D,h:K.Gu,U:{H:"zoom",ig:!0}},{f:P.E.D,h:K.Gu,U:{H:"zoom",ig:!1}},{f:P.E.D,h:K.Gu,U:{H:"adapt",z:"fitscr"}},{f:P.E.D,h:K.Gu,U:{H:"adapt",z:"pixel"}}])};
K.hT.prototype=new K.WC;K.hT.prototype.Ro=function(Q,S,B,y,l){var D=this.MP;D.b();D.parent=S;D.update(Q,B);
var R=new b(P.E.T,!0);R.data={H:P.l.ow,qr:D,x:l.Pz+2,y:l.in+1};S.B(R)};K.hT.prototype.enable=function(Q,S,B,y){this.ya(S);
if(Date.now()-this.ys<300)this.Ox({H:"adapt",z:"pixel"},S,Q,y,B);this.ys=Date.now()};K.hT.prototype.OQ=function(Q,S,B,y,l){this.KL=new v(l.x,l.y);
this.sX=Q.u.C;this.oT=Q.u.a.clone()};K.hT.prototype.Uy=function(Q,S,B,y,l){if(this.KL==null)return;var D=Math.round((l.x-this.KL.x)/16);
if(D==0)return;var R=K.hT.yG(this.sX),p=K.hT.te[Math.max(0,Math.min(K.hT.te.length-1,R-D))];Q.u.C=this.sX;
Q.u.a=this.oT.clone();this.Ox({H:"zoom",C:p,sh:this.KL},S,Q,y,B)};K.hT.prototype.sn=function(Q,S,B,y,l){if(v.Ui(this.KL,l)<4){var D=this.ig;
if(this.SD)D=!D;this.Ox({H:"zoom",ig:D,sh:l},S,Q,y,B)}this.KL=null};K.hT.te=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
K.hT.uC=function(Q,S,B,y){var l=1;while(Q*l*1/2>B||S*l*1/2>y)l*=1/2;if(Q*l*2/3>B||S*l*2/3>y)l*=1/2;else if(Q*l>B||S*l>y)l*=2/3;
return l};K.hT.muG=function(Q,S){var B=K.hT.yG(Q);if(S&&B==0)return Q;if(!S&&B==K.hT.te.length-1)return Q;
return K.hT.te[S?B-1:B+1]};K.hT.yG=function(Q){var S=0;while(K.hT.te[S]>Q)S++;return S};K.hT.ug=function(Q,S,B,y){var l=Q.SB;
if(y==0||y==null){y=K.hT.muG(Q.C,B);if(y==Q.C)return}var D=Q.FD(S.x,S.y);if(l.r*y<=Q.S.r&&l.O*y<=Q.S.O)Q.a.yZ(0,0);
else{Q.a.x=Math.round(l.r*y/2-D.x*y+(S.x-Q.S.r/2));Q.a.y=Math.round(l.O*y/2-D.y*y+(S.y-Q.S.O/2))}Q.C=y};
K.hT.prototype.Ox=function(Q,S,B,y,l){var D=0,R=!1,p=null;if(Q.H=="adapt"){var O=0;if(Q.z=="pixel")O=1;
if(Q.z=="fitscr"){var O=0,M=B.u.S.r,U=B.u.S.O;if(B.r<=M&&B.O<=U){var m=1;while(B.r*(m+1)<=M&&B.O*(m+1)<=U)m++;
O=m}else{O=K.hT.uC(B.r,B.O,M,U)}}p=new v(Math.round(B.u.S.r/2),Math.round(B.u.S.O/2));D=O}if(Q.H=="scroll"){p=Q.sh;
R=Q.bA.y<0}if(Q.H=="zoom"){p=Q.sh?Q.sh:new v(Math.round(B.u.S.r/2),Math.round(B.u.S.O/2));if(Q.C!=null)D=Q.C;
else R=Q.ig}if(Q.H=="mskView"){var Y=B.G[B.I[0]],x=Y.Wg==3?Y.DG(B).k:Y.Tb();if(Q.z==0){B.u.T$=[1,1,1];
x.TX=!1}if(Q.z==1){B.u.T$=[1,1,1];x.TX=!0}if(Q.z==2){B.u.T$=[0,0,0];x.TX=!0}for(var T=0;T<B.Ka.length;
T++)B.Ka[T].TX=!1;B.rL=[];B.rr=!0}if(p==null)return;K.hT.ug(B.u,p,R,D);B.np=!0};K.hT.prototype.qh=function(Q,S,B,y){if(this.SD!=y.N(A.qD)){this.SD=y.N(A.qD);
var l={H:P.l.tE,h:this.id,SD:this.SD},D=new b(P.E.T,!0);D.data=l;S.B(D);this.ya(S)}};K.hT.prototype.ya=function(Q){var S=new b(P.E.T,!0),B=this.ig;
if(this.SD)B=!B;S.data={H:P.l.qL,YT:B?"zoom-in":"zoom-out"};Q.B(S)};K.hT.prototype.sv=function(Q,S,B,y){this.ig=Q.ig;
this.ya(S)};K.hH=function(Q,S,B){K.WC.call(this,Q,S,B);this.CB=null;this.Kv=null;this.VP=null;this.mwa=0};
K.hH.prototype=new K.WC;K.hH.prototype.enable=function(Q,S,B,y,l){this.Kv=B;var D=new b(P.E.T,!0);D.data={H:P.l.qL,YT:"default"};
S.B(D)};K.hH.prototype.s_=function(Q,S,B,y){if(Q.I.length==0)return;var l=Q.G[Q.I[0]],D=l.add.vmsk,R=l.add.vstk,p=K.hH.uw(Q,Q.I[0]);
this.CB=Q;this.VP=S;if(l.iG()&&D!=null&&(JSON.stringify(R)!=JSON.stringify(B.yD)||JSON.stringify(p)!=JSON.stringify(B.yi))){this.mwa=Date.now();
var O=new b(P.E.T,!0);O.data={H:P.l.Kk,yQ:rS.VJ,z:p};S.B(O);O.data={H:P.l.Kk,yQ:rS.AI,z:R};S.B(O)}};
K.hH.prototype.on=function(Q,S){if(this.CB==null)return;if(S==rS.E_||S==rS.VJ||S==rS.AI){if(Date.now()-this.mwa<50)return;
var B=S==rS.VJ,y=this.CB,l=B?Q.yi:Q.yD,D=[];for(var R=0;R<y.I.length;R++){var p=y.I[R],O=y.G[p];if(!O.iG()||O.add.vmsk==null)continue;
D.push(p)}var M=new b(P.E.D,!0);M.h=K.Sb;M.data={H:z.un,$s:D,Hr:B,z:l};if(D.length!=0)this.VP.B(M)}};
K.hH.prototype.muB=function(Q){if(typeof Q=="number"){var S=new b(P.E.RK,!0);S.data=K.sE.bH(0);S.data.$o.Usng.v.Type.v.Clr.v=k.Kg.Od({t:Q>>>16&255,e:Q>>>8&255,R:Q>>>0&255});
this.VP.B(S)}};K.hH.prototype.Ox=function(Q,S,B,y,l){this.VP=S;if(Q.H=="newfill"){if(Q.ok==0){var D=new b(P.E.T,!0);
D.data={H:P.l.ND,yc:"colorpicker",mn:l.Tq,bU:this.muB.bind(this)};S.B(D)}}else if(Q.H=="pathedit"){var R=Q.Di,p=B.SX.slice(0),O=B.lW.slice(0),M=B.SX.slice(0),U=B.lW.slice(0);
if(R=="rnm"){var m=-1-Q.d_,Y=p[m],x=mV.qK(Q.name,Y.add);M[m]=x}if(R=="new"){M.push(mV.qK("Path "+p.length));
U=[M.length-1]}if(R=="del"){if(U.length==0)return;U.sort(function($,V){return $-V});if(U[0]==0){M[0]=mV.qK(p[0].name);
U=U.slice(1)}var T=0;while(U.length!=0){M.splice(U[0]-T,1);U=U.slice(1);T++}}var $=new NO((R=="new"?"New":R=="del"?"Delete":"Rename")+" Path",this);
$.data={RH:p,sD:O,mFF:M,$r:U};B.Ra($);this.Lz($.data,B)}else{var L=B.sH(Q.H=="append"),s=L[0],j=L[1],Z=s[j[0]],e=Z.add.vmsk,J=Z.add.vogk,N=e.clone(),E=e.clone(),h=JSON.stringify(J);
if(Q.H=="remove"){if(E.I.length==0)return;var T=0;for(var o=0;o<E.I.length;o++){J.splice(E.I[o]+T,1);
T--}E.A=k.c.mJs(E.A,E.I);E.I=[];E.GV=[]}if(Q.H=="append"){K.hH.ua(Q.mFs,E,J)}this.GQ(B,Z.d_,E,J);this.WY(B,Q.$a,Z.d_,N,E.clone(),null,h,JSON.stringify(J))}};
K.hH.uG=function(Q,S){var B=k.c.mJX(Q.A,Q.I),y=[];for(var l=0;l<Q.I.length;l++)y.push(JSON.parse(JSON.stringify(S[Q.I[l]])));
return[B,y]};K.hH.ua=function(Q,S,B){var y=k.c.Tm(S.A),l=k.c.Tm(Q[0]);S.A=S.A.concat(Q[0].slice(2));
S.I=[];for(var D=0;D<l;D++)S.I.push(y+D);for(var D=0;D<l;D++)B.push(JSON.parse(JSON.stringify(Q[1][D])))};
K.hH.prototype.bC=function(Q,S){if(S==null)return!1;var B=S.sH(),y=B[0],l=B[1];if(l.length==0)return!1;
var D=y[l[0]],R=D.add.vmsk;if(R&&R.I.length+R.GV.length!=0)return[A.fV,A.fc].indexOf(Q)!=-1};K.hH.prototype.qh=function(Q,S,B,y){if(Q==null)return;
var l=Q.sH(),D=l[0],R=l[1];if(R.length==0)return;var p=D[R[0]],O=p.add.vmsk;if(y.N(A.fr)||y.N(A._o)){O.GV=[];
Q.rr=!0}if(O.I.length!=0){var M=y.tt();if(M.x!=0||M.y!=0){var U=O.clone(),m=O.clone(),Y=new Nu(1,0,0,1,M.x,M.y),x=p.add.vogk,T=JSON.stringify(x);
k.c.ZU(m.A,Y,m.I);k.SI.V(x,k.W.Tz(Y),m.I);this.GQ(Q,p.d_,m,x);this.WY(Q,"Move Paths",p.d_,U,m.clone(),!0,T,JSON.stringify(x))}if(y.N(A.fV)||y.N(A.fc))this.Ox({H:"remove",$a:"Delete Paths"},S,Q,y,B)}};
K.hH.prototype.WY=function(Q,S,B,y,l,D,R,p){var O=new NO(S,this);O.data={LZ:B,$y:y,Cm:l,mwx:D,mEf:R,$n:p};
Q.Ra(O)};K.hH.prototype.Lz=function(Q,S){if(Q.LZ!=null)this.GQ(S,Q.LZ,Q.Cm.clone(),JSON.parse(Q.$n));
else{S.SX=Q.mFF.slice(0);S.lW=Q.$r.slice(0);S.rr=S.ha=!0}};K.hH.prototype.$B=function(Q,S){if(Q.LZ!=null)this.GQ(S,Q.LZ,Q.$y.clone(),JSON.parse(Q.mEf));
else{S.SX=Q.RH.slice(0);S.lW=Q.sD.slice(0);S.rr=S.ha=!0}};K.hH.prototype.GQ=function(Q,S,B,y){var l=S<0?Q.SX[-1-S]:S<1e6?Q.G[S]:Q.G[S-1e6].add.TySh;
l.add.vmsk=B;l.add.vogk=y;if(1e6<=S){rA.pt(l);var D=Q.G[S-1e6],R=l,p=this.Kv,O=new mn(R.Nd,p.Tt),M=Ru.pJ(O,R);
D.rect=M.q;D.buffer=M.Ko;D.s();Q.s()}else if(0<=S){B.DP=!0;l.Zs(Q);Q.s()}Q.rr=Q.ha=!0};K.hH.uw=function(Q,S){var B=Q.G[S],y=B.add.vstk,l=null;
if(y&&!y.fillEnabled.v)l={Vx:0};else if(B.add.SoCo)l={Vx:1,DW:B.add.SoCo};else if(B.add.GdFl)l={Vx:2,DW:B.add.GdFl};
else if(B.add.PtFl)l={Vx:3,DW:B.add.PtFl};return l};K.hH.uf=function(Q,S){var B=Q.add.vmsk,y=Q.add.vstk,l=S.Vx;
if(y)y.fillEnabled.v=l!=0;if(l>0){var D=["SoCo","GdFl","PtFl"][l-1];for(var R=0;R<3;R++)delete Q.add[["SoCo","GdFl","PtFl"][R]];
Q.add[D]=S.DW}};K.sE=function(Q,S,B,y){K.hH.call(this,Q,S,B);this.ot={tmode:1,shape:Le.yh(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{xQ:0}};
this.mFt=y;this.IH=null;this.$E=null;this.yx=null};K.sE.prototype=new K.hH;K.sE.prototype.C$=function(Q){return Q.qv&&this.id!=K.yz};
K.sE.prototype.enable=function(Q,S,B,y,l){var D=new b(P.E.T,!0);D.data={H:P.l.qL,YT:"crosshair"};S.B(D)};
K.sE.prototype.gl=function(Q,S,B,y){};K.sE.prototype.OQ=function(Q,S,B,y,l){var D=this.ot.tmode;if(D==2&&!Q.pD())return;
var R=Q.u.FD(l.x,l.y);R=K.Ku.d$(Q,R,B);this.yx=[R.x,R.y];this.IH=R;this.$E=new v(0,0)};K.sE.prototype.uU=function(Q,S,B){var y=[this.IH.clone(),S.clone()];
if(this.mFt)y=K.sE.ut(y[0],y[1],B,!0,this.ot.cstr);if(Q)Q.u.M_=new w(y[0].x,y[0].y,y[1].x-y[0].x,y[1].y-y[0].y);
return this.gl(y[0],y[1],B.N(A.CP),this.yx)};K.sE.prototype.uE=function(Q,S,B){var y=Q.u.FD(S.x,S.y),l=this.ot.cstr;
if(l.xQ==2){var D=new w(y.x-l.x,y.y-l.y,l.x,l.y),R=K.Ku.qO(Q,D,B);y.x+=R[0];y.y+=R[1];K.Ku.qU(Q,D,R)}else y=K.Ku.d$(Q,y,B);
return y};K.sE.prototype.Uy=function(Q,S,B,y,l){if(this.IH==null)return;var D=this.uE(Q,l,B);if(y.N(A.tD))this.IH=D.la(this.$E);
else this.$E=D.la(this.IH);this.yx.push(D.x,D.y);if(this.ot.shape==null)this.ot.shape=B.yS[0];var R=this.uU(Q,D,y)[0],p=k.i.vn(R);
Q.J.pN=p;if(this.id!=K.yz&&this.id!=K.Ed&&this.id!=K.Ey)K.WC.nX(l.x+10,l.y-10,Q.u.M_,Q,B);Q.rr=!0};K.sE.prototype.muY=function(Q,S,B,y){var l=Q[4].clone();
if(y){l.x-=S/2;l.y-=B/2}var D=this.gl(l,new v(l.x+S,l.y+B),!1,this.yx);this.u$(Q[0],Q[1],Q[2],D)};K.sE.prototype.u$=function(Q,S,B,y){var l=new b(P.E.RK,!0);
l.data=K.sE.uX(y[1],B);S.B(l);if(y[1].v.classID=="customShape"&&y[1].v.Nm.v.startsWith("--")){var D=Q.sH(),R=D[0],p=D[1],O=R[p.pop()],M=O.add.vmsk,U=O.add.vogk,m=M.clone();
m.A=y[0];this.GQ(Q,O.d_,m,U)}};K.sE.prototype.sn=function(Q,S,B,y,l){if(this.IH==null)return;var D=this.uE(Q,l,B),R=this.ot.binop,p=this.ot.tmode,O=this.yx,M=O.length;
if(this.id==K.yz&&M<=4){}else if(M<=4){var U=new b(P.E.T);U.data={H:P.l.ND,yc:"createshape",mFP:this.muY.bind(this),mFS:this.name,m_z:[Q,S,B,y,D]};
S.B(U)}else if(M!=2){var m=this.uU(Q,D,y),Y=m[0];if(p==0){Y[2].GL=[1,2,3,0][R];var x=Q.sH(!0),T=x[0],$=x[1],L=T[$.pop()],s=L.add.vmsk,j=L.add.vogk,Z=s.clone(),e=s.clone(),J=JSON.stringify(j);
e.A=e.A.concat(Y.slice(2));e.I=[k.c.Tm(e.A)-1];var N=k.SI.IM(m[1]);j.push(N?N:k.SI.VE());this.GQ(Q,L.d_,e,j);
this.WY(Q,this.name,L.d_,Z,e,null,J,JSON.stringify(j))}else if(p==1){this.u$(Q,S,B,m)}else if(p==2){var e=new z.hm;
e.A=e.A.concat(Y.slice(2));var E=e.Tb(),h=k.Q(E.rect.Z()*4);k.St(h,(B.Tq&255)<<16|(B.Tq>>8&255)<<8|(B.Tq>>16&255)<<0);
k.KF(E.channel,h,3);var o=new b(P.E.D,!0);o.h=K.Kz;o.data={H:"draw",$l:{buffer:h,rect:E.rect.clone()},$a:this.name};
S.B(o)}}this.IH=null;Q.J.pN=null;Q.J.Pg=null;Q.J.nQ=[];Q.u.M_=null;Q.rr=!0};K.sE.prototype.sv=function(Q,S,B,y,l){for(var B in Q)this.ot[B]=Q[B]};
K.sE.ut=function(Q,S,B,y,l){var D=Q.x,R=Q.y,p=S.x,O=S.y;if(l&&l.xQ==2){if(y){p=Math.round(p);O=Math.round(O)}D=p-l.x;
R=O-l.y}else{var M=0;if(l&&l.xQ==1)M=l.y/l.x;else if(B&&B.N(A.CP))M=1;if(M!=0){if(y){if(D<p)D=Math.floor(D);
else D=Math.ceil(D);if(R<O)R=Math.floor(R);else R=Math.ceil(R)}var U=Math.abs(p-D),m=Math.abs(O-R),Y=U;
if(m/U<M)Y*=m/U/M;p=p>D?D+Y:D-Y;O=O>R?R+Y*M:R-Y*M}if(B&&B.N(A.qD)){D-=p-D;R-=O-R}}var Q=new v(D,R),S=new v(p,O);
if(y)K.sE.mgv(Q,S);return[Q,S]};K.sE.mgv=function(Q,S){if(Q.x>S.x){var B=Q.x;Q.x=S.x;S.x=B}if(Q.y>S.y){var B=Q.y;
Q.y=S.y;S.y=B}Q.x=Math.floor(Q.x);Q.y=Math.floor(Q.y);S.x=Math.ceil(S.x);S.y=Math.ceil(S.y)};K.sE.mgU=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
K.sE.bH=function(Q,S){var B=K.sE.mgU();if(S==null)S=JSON.parse(JSON.stringify(rx.Xc[Q]));mw.Fl.AF(S,B.Usng.v.Type.v,Q);
return{QF:"make",$o:B}};K.sE.uX=function(Q,S){var B=S.yi,y=JSON.parse(JSON.stringify(S.yD));if(B.Vx==0)y.fillEnabled.v=!1;
var l=K.sE.bH(Math.max(0,B.Vx-1),B.DW);l.$o.Usng.v.Shp=Q;l.$o.Usng.v.strokeStyle={t:"Objc",v:y};return l};
K.sl=function(){K.hH.call(this,[10,29],K.ev,"tools/pen");this.iW=null;this.Jg=null;this.qN=1;this.mpC=0;
this.bs=null;this.bt=!1};K.sl.prototype=new K.hH;K.sl.prototype.C$=function(Q){return this.iW!=null};
K.sl.prototype.OQ=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y),x,T;D.x=Math.round(D.x);D.y=Math.round(D.y);
var R=K.Ku.d$(Q,D,B),p=Q.sH(this.qN==0),O=p[0],M=p[1],U=O[M.pop()],m=U?U.add.vmsk:null,Y=4*P._()/Q.u.C;
if(m)x=k.c.CM(m.A,D,!0,Y);if(this.qN==1&&(m==null||(m.GV.length==0||m.GV[0]!=m.A.length-1)&&x.d_==-1)){var $=new b(P.E.RK,!0),L=k.SI.UV("customShape",[0,0,1,1],null,null,null,"--");
$.data=K.sE.uX(L,B);S.B($);p=Q.sH(!0);O=p[0];M=p[1];U=O[M.pop()];m=U.add.vmsk;m.A=m.A.slice(0,2)}var s=U.add.vogk;
this.iW=m.clone();this.Jg=JSON.stringify(s);var j=m.A,Z=k.c.Tm(j);T=k.c.LO(m.A,new w(D.x-Y,D.y-Y,Y*2,Y*2));
x=k.c.CM(m.A,D,!0,Y);if(x.d_!=-1&&T[0].length==0){var e=k.c.rN(j,x.d_);while(j[e].length<=x.Ls){x.Ls-=j[e].length;
e+=j[e].length+1}j[e].length++;j.splice(e+2+x.Ls,0,{type:4,G$:R.clone(),v:R.clone(),RQ:R.clone()});m.GV=[e+2+x.Ls]}else if(T[0].length==1&&y.N(A.qD)){var J=T[0],N=m.A.length-1,E=m.A[J];
E.RQ=E.v.clone();if(J!=N)E.G$=E.v.clone()}else{var h=0;if(m.GV.length!=1){m.I=[Z];j.push({type:3,length:1,GL:[1,2,3,0][this.mpC],Xr:0,hi:0,hZ:0});
h=j.length;s.push(k.SI.VE())}else{var o=m.GV[0],V=k.c.Ii(j,o),e=k.c.rN(j,V);if(o==e+j[e].length&&v.Ui(D,j[e+1].v)<Y){j[e].type=0;
m.GV=[e+1];this.bs=R;this.bt=!0;this.GQ(Q,U.d_,m,s);Q.rr=!0;return}j[e].length++;h=o+1}if(y.N(A.CP)&&j[h-1]&&j[h-1].v)R=K.fI.$U(j[h-1].v,R);
j.splice(h,0,{type:4,G$:R.clone(),v:R.clone(),RQ:R.clone()});m.GV=[h];this.bs=R}this.GQ(Q,U.d_,m,s);
Q.rr=!0};K.sl.prototype.Uy=function(Q,S,B,y,l){if(this.iW==null)return;var D=Q.u.FD(l.x,l.y),R=K.Ku.d$(Q,D,B),p=Q.sH(this.qN==0),O=p[0],M=p[1],U=O[M.pop()],m=U.add.vmsk,Y=m.A,x=Y[m.GV[0]];
if(y.N(A.tD)){if(y.N(A.CP))R=K.fI.$U(this.bs,R);var T=x.v.la(x.RQ),$=x.G$.la(x.v);x.RQ=R;x.v=R.add(T);
x.G$=x.v.add($)}else{if(y.N(A.CP))R=K.fI.$U(x.v,R);if(this.bt){var L=v.Ui(x.v,R),s=L==0?0:v.Ui(x.v,x.RQ)/L;
x.RQ.x=x.v.x+s*(R.x-x.v.x);x.RQ.y=x.v.y+s*(R.y-x.v.y)}else x.RQ=R;if(y.N(A.qD))x.type=5;else{x.type=4;
x.G$=x.v.add(x.v.la(R))}this.bs=R}this.GQ(Q,U.d_,m,U.add.vogk);Q.rr=!0};K.sl.prototype.sn=function(Q,S,B,y,l){if(this.iW==null)return;
var D=Q.sH(this.qN==0),R=D[0],p=D[1],O=R[p.pop()],M=O.add.vmsk,U=O.add.vogk;this.WY(Q,this.bt?"Close Path":"Add Anchor Point",O.d_,this.iW,M.clone(),null,this.Jg,JSON.stringify(U));
this.bt=!1;this.iW=null};K.sl.prototype.sv=function(Q,S,B,y,l){this.qN=Q.tmode;this.mpC=Q.binop};K.yv=function(){K.sE.call(this,[10,30],K.yz,"tools/fpen",!1)};
K.yv.prototype=new K.sE;K.yv.prototype.gl=function(Q,S,B,y){return[k.c.LP(y,this.ot.tolr),k.SI.UV("customShape",[0,0,1,1],null,null,null,"--")]};
K.Lm=function(){K.hH.call(this,[10,27],K.RA,"tools/pselect");this.cm=null;this.qq=!1;this.cg=null;this.iW=null;
this.tp=null;this.Jg=null;this.tr=null;this.Jm=null;this.qV=null;this.bF=null};K.Lm.prototype=new K.hH;
K.Lm.prototype.C$=function(Q){return Q.qv};K.Lm.prototype.OQ=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y),R=Q.sH(),p=R[0],O=R[1],M,U;
for(var m=0;m<O.length;m++){var Y=p[O[m]],x=Y.add.vmsk,T=k.c.CM(x.A,D).d_;if(T!=-1){this.cg=M=Y;U=T}for(var $=0;
$<x.KZ.length;$++){var L=k.c.IB(x.A,x.KZ[$]);if(L==null)continue;var s=v.Ui(L,D);if(s<4*P._()/Q.u.C){var j=Q.G[Y.d_-1e6].add.TySh,Z=j.Nd.Curve,e=j.V,J=Z.Reversed;
Z.Reversed=!1;var Z=mn.BU(j.Nd.Curve);Z.Reversed=J;k.i.V(Z[0],e,Z[0]);this.qV=[Z,$,e.n*e.en-e.R*e.ce];
this.cg=M=Y;U=0}}if(this.qV)break}if(M!=null){var x=M.add.vmsk;x.GV=[];var N=x.I.indexOf(U);if(y.N(A.CP)){if(N==-1){x.I.push(U);
this.qq=!0}else x.I.splice(N,1)}else{if(N==-1)x.I=[U];this.qq=!0}this.Jm=k.c.Fi(x.A,x.I)}this.cm=D;this.bF=new Lp(D);
Q.ha=!0;Q.rr=!0};K.Lm.prototype.Uy=function(Q,S,B,y,l){if(this.cm==null)return;var D=Q.u.FD(l.x,l.y);
if(this.qq){D=this.bF.B_(D,y);var R=this.cg;if(this.iW==null){this.iW=this.tp=R.add.vmsk.clone();this.Jg=this.tr=JSON.stringify(R.add.vogk);
if(y.N(A.qD)){var p=this.iW.clone(),O=JSON.parse(this.Jg),M=K.hH.uG(p,O);K.hH.ua(M,p,O);this.tp=p;this.tr=JSON.stringify(O)}}var p=this.tp.clone(),O=JSON.parse(this.tr);
if(this.qV){var U=this.qV,m=U[0][0],Y=k.i.IQ(m,D.x,D.y);p.KZ[U[1]]=U[0][1][Y];var x=m[Y*2],T=m[Y*2+1],$=(m[Y*2+2]-x)*(D.y-T)-(m[Y*2+3]-T)*(D.x-x);
if(U[2]<0)$=-$;p.UF=$>0}else{var L=this.Jm.clone(),s=L.x,j=L.y;L.offset(D.x-this.cm.x,D.y-this.cm.y);
L.x=Math.round(L.x);L.y=Math.round(L.y);var Z=K.Ku.qO(Q,L,B),e=new Nu(1,0,0,1,L.x-s+Z[0],L.y-j+Z[1]);
k.c.ZU(p.A,e,p.I);k.SI.V(O,k.W.Tz(e),p.I);K.Ku.qU(Q,L,Z)}this.GQ(Q,R.d_,p,O)}else{var J=this.cm;Q.J.pN=k.i.wS(new w(J.x,J.y,D.x-J.x,D.y-J.y));
Q.rr=!0}};K.Lm.prototype.sn=function(Q,S,B,y,l){if(this.cm==null)return;var D=Q.u.FD(l.x,l.y),R=this.cg,p=R?R.add.vmsk:null;
if(this.qq){var O=JSON.stringify(R.add.vogk);if(!this.cm.UH(D))this.WY(Q,"Move Paths",R.d_,this.iW,p,null,this.Jg,O);
if(Q!=null&&Q.J.Pg){Q.J.Pg=null;Q.rr=!0}}else{if(p){var M=this.cm,U=new w(M.x,M.y,D.x-M.x,D.y-M.y),m=k.c.mJn(p.A,U);
if(y.N(A.CP)){for(var Y=0;Y<m.length;Y++)if(p.I.indexOf(m[Y])==-1)p.I.push(m[Y])}else p.I=m}Q.J.pN=null;
Q.rr=!0}this.cm=null;this.iW=null;this.qV=null;this.qq=!1;this.bF=null};K.Lm.prototype.s_=function(Q,S,B,y){K.hH.prototype.s_.call(this,Q,S,B,y);
if(Q.I.length==0)return;var l=Q.sH(),D=l[0],R=l[1];if(R.length==0)return;var p=D[R[0]],O=p.add.vmsk,M=p.add.vstk,U=p.add.vogk,m=new b(P.E.T,!0);
m.data={H:P.l.tE,h:this.id,QQ:"main",ZJ:O?O:null,SI:U};S.B(m)};K.Lm.prototype.sv=function(Q,S,B,y,l){var D=Q.oG;
if(D.ZJ){var R=B.sH(),p=R[0],O=R[1],M=p[O[0]],U=M.add.vmsk.clone(),m=JSON.stringify(M.add.vogk),Y=D.ZJ;
this.GQ(B,M.d_,Y,D.SI);var x=[18,5];if(U.A.length==Y.A.length)x=U.I[0]==Y.I[0]?"Fill Rule":"Path Order";
this.WY(B,x,M.d_,U,Y,null,m,JSON.stringify(D.SI))}};K.PC=function(){K.hH.call(this,[10,28],K.EL,"tools/dselect");
this.ZW=-1;this.FK=-1;this.bl=null;this.cm=null;this.cg=null;this.iW=null;this.Jg=null;this.yg=0;this.mpa={psnap:!1};
this.bF=null};K.PC.prototype=new K.hH;K.PC.prototype.C$=function(Q){return Q.qv};K.PC.prototype.sv=function(Q){this.mpa=Q};
K.PC.prototype.OQ=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y),U,m,Y;this.bl=D.clone();var R=Q.sH(),p=R[0],O=R[1];
if(O.length==0)return;var M=4*P._()/Q.u.C;for(var x=0;x<O.length;x++){U=this.cg=p[O[x]];m=U.add.vmsk;
Y=k.c.LO(m.A,new w(D.x-M,D.y-M,M*2,M*2));if(Y[0].length+Y[1].length+Y[2].length!=0)break}var T=[!1,!1,!1];
for(var $=0;$<3;$++){for(var L=0;L<Y[$].length;L++)if(m.GV.indexOf(Y[$][L])!=-1){Y[$]=[Y[$][L]];T[$]=!0;
break}}if(Y[0].length!=0&&(T[0]||!T[1]&&!T[2])){var s=Y[0][0],j=m.GV.indexOf(s);if(y.N(A.CP)){if(j==-1)m.GV.push(s);
else{m.GV.splice(j,1);Q.rr=!0;return}}else if(j==-1)m.GV=[s];this.ZW=s;this.FK=0}else if(Y[1].length!=0&&(T[1]||!T[2])){this.ZW=Y[1][0];
this.FK=1}else if(Y[2].length!=0){this.ZW=Y[2][0];this.FK=2}else{var Z=k.c.CM(m.A,D,!0,M);if(Z.d_==-1)this.cm=D;
else{m.I=[Z.d_];m.GV=[]}}if(this.iW==null){this.iW=U.add.vmsk.clone();this.Jg=JSON.stringify(U.add.vogk)}this.bF=new Lp(D);
Q.rr=!0};K.PC.prototype.Uy=function(Q,S,B,y,l){if(Q==null)return;var D=Q.u.FD(l.x,l.y),R=this.cg;if(this.ZW!=-1){var p=this.iW.clone(),O=R.add.vogk,M=p.A[this.ZW];
M=[M.v,M.G$,M.RQ][this.FK];if(y.N(A.CP)){D=this.bF.B_(D,y);D.x+=M.x-this.bl.x;D.y+=M.y-this.bl.y}else{if(this.mpa.psnap){D.x=Math.round(D.x);
D.y=Math.round(D.y)}D=K.Ku.d$(Q,D,B)}if(this.FK==0){var U=new Nu(1,0,0,1,D.x-M.x,D.y-M.y);k.c.ZU(p.A,U,null,p.GV)}else{var m=p.A[this.ZW],Y=m.G$,x=m.RQ;
if(this.FK==2){Y=m.RQ;x=m.G$}Y.yZ(D.x,D.y);if(m.type==1||m.type==4){var T=v.Ui(Y,m.v),$=v.Ui(x,m.v);
if($!=0){x.x=m.v.x-(Y.x-m.v.x)*($/T);x.y=m.v.y-(Y.y-m.v.y)*($/T)}}}this.yw(p,O);this.GQ(Q,R.d_,p,O)}else if(this.cm!=null){var L=this.cm;
Q.J.pN=k.i.wS(new w(L.x,L.y,D.x-L.x,D.y-L.y));Q.rr=!0}};K.PC.prototype.sn=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y),R=this.cg,p=R?R.add.vmsk:null,O=R?R.add.vogk:null;
if(this.ZW!=-1){if(Date.now()-this.yg<300){var M=p.A[this.ZW],U=this.FK,m=null;if(U==0){var Y=M.G$.UH(M.v),x=M.RQ.UH(M.v);
if(!Y&&!x){m="Anchor Type";if(M.type==1||M.type==4)M.type++;else{M.type--;M.RQ=M.v.add(M.v.la(M.G$))}}else{m="Add Handles";
if(Y&&x){M.G$.x-=30;M.RQ.x+=30}else if(Y)M.G$=M.v.add(M.v.la(M.RQ));else if(x)M.RQ=M.v.add(M.v.la(M.G$))}}else{m="Remove Handle";
if(U==1)M.G$.Ue(M.v);else M.RQ.Ue(M.v)}this.yw(p,O);this.GQ(Q,R.d_,p,O);this.WY(Q,m,R.d_,this.iW,p,null,this.Jg,JSON.stringify(O))}else if(!this.bl.UH(D)){this.WY(Q,"Drag Anchors",R.d_,this.iW,p,null,this.Jg,JSON.stringify(O))}this.yg=Date.now()}else if(this.cm!=null){var T=this.cm,$=new w(T.x,T.y,D.x-T.x,D.y-T.y);
if($.r<0)$.x+=$.r;if($.O<0)$.y+=$.O;$.r=Math.abs($.r);$.O=Math.abs($.O);var L=k.c.LO(p.A,$);p.GV=L[0];
Q.J.pN=null}this.cg=null;this.iW=null;this.cm=null;this.ZW=this.FK=-1;this.bF=null;Q.rr=!0};K.PC.prototype.yw=function(Q,S){for(var B=0;
B<Q.GV.length;B++){var y=k.c.Ii(Q.A,Q.GV[B]);k.SI.wp(S,y)}};K.PC.prototype.qh=function(Q,S,B,y){if(Q==null)return;
var l=Q.sH(),D=l[0],R=l[1];if(R.length==0)return;var p=D[R[0]],O=p.add.vmsk;if(O==null||O.GV.length==0)return;
var M=p.add.vogk,U=JSON.stringify(M),m=y.tt();if(m.x!=0||m.y!=0){var Y=O.clone(),x=O.clone(),T=new Nu(1,0,0,1,m.x,m.y);
k.c.ZU(x.A,T,null,x.GV);this.yw(x,M);this.GQ(Q,p.d_,x,M);this.WY(Q,"Move Anchors",Q.I[0],Y,x.clone(),!0,U,JSON.stringify(M))}if(y.N(A.fV)||y.N(A.fc)){var Y=O.clone(),x=O.clone();
x.A=k.c.mJE(x.A,x.GV,M);x.GV=[];this.GQ(Q,p.d_,x,M);this.WY(Q,"Delete Anchors",p.d_,Y,x.clone(),!0,U,JSON.stringify(M))}};
K.PC.prototype.WY=function(Q,S,B,y,l,D,R,p){var O=Q.vO();if(D&&O!=null&&O.h==this&&O.data.mwx&&O.data.LZ==B&&JSON.stringify(O.data.$y.GV)==JSON.stringify(y.GV)){O.data.Cm=l;
O.data.$n=p}else{var O=new NO(S,this);O.data={LZ:B,$y:y,Cm:l,mwx:D,mEf:R,$n:p};Q.Ra(O)}};K.Rect=function(){K.sE.call(this,[10,32],K.Ec,"tools/rect",!0)};
K.Rect.prototype=new K.sE;K.Rect.prototype.gl=function(Q,S,B){var y=this.ot.crad,l=S.x-Q.x,D=S.y-Q.y;
return[k.c.MV.Rect(Q.x,Q.y,l,D,y),k.SI.UV("Rctn",[Q.x,Q.y,S.x,S.y],[y,y,y,y])]};K.TJ=function(){K.sE.call(this,[10,33],K.ew,"tools/ellipse",!0)};
K.TJ.prototype=new K.sE;K.TJ.prototype.gl=function(Q,S,B){var y=S.x-Q.x,l=S.y-Q.y;return[k.c.MV.TJ(Q.x,Q.y,y,l),k.SI.UV("Elps",[Q.x,Q.y,S.x,S.y])]};
K.yO=function(){K.sE.call(this,[10,34],K.Ed,"tools/pshape",!1)};K.yO.prototype=new K.sE;K.yO.prototype.gl=function(Q,S,B){var y=this.ot.pshape,l=this.ot.crad,D=this.ot.irad/100,R=this.ot.sides,p=this.ot.width,O=this.ot.tsiz,M=this.ot.length,L;
S=S.clone();if(B){if(Math.abs(S.x-Q.x)<Math.abs(S.y-Q.y))S.x=Q.x;else S.y=Q.y}var U=Q.x,m=Q.y,Y=S.x,x=S.y,T=Math.sqrt((Y-U)*(Y-U)+(x-m)*(x-m)),$=Math.atan2(-x+m,Y-U);
if(y==0)L=k.c.MV.II(U,m,T,$,R,l);if(y==1)L=k.c.MV.mJZ(U,m,T,$,R,l,D);if(y==2)L=k.c.MV.mJb(Q.x,Q.y,S.x,S.y,p,O/100);
if(y==3)L=k.c.MV.mJk(U,m,T,$,M);return[L,k.SI.UV("customShape",[Q.x,Q.y,S.x,S.y],null,null,null,"--")]};
K.LV=function(){K.sE.call(this,[10,35],K.Ey,"tools/line",!1)};K.LV.prototype=new K.sE;K.LV.prototype.gl=function(Q,S,B){var y=this.ot.width;
S=S.clone();if(B){S=K.fI.$U(Q,S)}return[k.c.MV.LV(Q.x,Q.y,S.x,S.y,y),k.SI.UV("Ln",null,null,[Q.x,Q.y,S.x,S.y],y)]};
K.yB=function(){K.sE.call(this,[10,31],K.ef,"tools/cshape",!0)};K.yB.prototype=new K.sE;K.yB.prototype.gl=function(Q,S,B){var y=this.ot.shape,l=y.ML.r/y.ML.O,D=z.hm.tS(y.A);
S=S.clone();if(B){S.y=Q.y+(S.x-Q.x)/l}var R=S.x-Q.x,p=S.y-Q.y;k.c.ZU(D,new Nu(R,0,0,p,Q.x,Q.y));return[D,k.SI.UV("customShape",[Q.x,Q.y,S.x,S.y],null,null,null,y.dy)]};
K.Sj=function(Q,S,B){K.WC.call(this,Q,S,B);this.vg=0;this.G=null;this.Jn=null;this.pn=null;this.ff=1;
this.bi=!1;this.cursor=null;this.PQ=null;this._v=null;this.Je=!1;this.aB=null;this.mrr=0;this.Xw=null;
this.JE=0;this.rs=null;this.Wu=null;this.Ha=null;this.Xn=null;this.XB=null};K.Sj.prototype=new K.WC;
K.Sj.prototype.Ro=function(Q,S,B,y,l){var D=new b(P.E.T,!0);D.data={H:P.l.tE,h:this.id,fv:l,wJ:Q,pn:B};
S.B(D);this.Ze=!1};K.Sj.prototype.C$=function(Q){return this.Wu&&this.Wu.uY()};K.Sj.prototype.Ox=function(Q,S,B,y,l){this.pn=l;
if(Q.H=="again"&&this.Xw==null)return;if(Q.H=="doMouseDown"){if(this.Wu==null)return;this.OQ(B,S,l,y,Q.sh);
return}if(!this.eJ(B,l))return;if(this.Wu){this.uO(Q,this.Wu.cI());this.$J(B,l,0);this.Lp(B);return}this.uB(B,Q.$==null,Q.$);
this.ul(B);this.uO(Q);this.GE(B,S,Q.$a,!1)};K.Sj.prototype.uO=function(Q,S){var B=this.rs;if(S==null){var y=Q.PW!=null?Q.PW:4;
S=this.Wu.mWQ()[y]}var l=S.x,D=S.y;if(Q.H=="rot"&&Q.z!=Math.PI&&(B.r+B.O&1)==1){l=Math.floor(l);D=Math.floor(D)}var R=new Nu;
R.translate(-l,-D);if(Q.H=="rot")R.rotate(Q.z);if(Q.H=="scl")R.scale(Q.z.x,Q.z.y);if(Q.H=="mat")R.concat(Q.z);
R.translate(l,D);if(Q.H=="again")R=this.Xw;var p=this.Wu.fg();k.i.V(p,R,p);this.Wu.yb(p)};K.Sj.prototype.TA=function(){return!0};
K.Sj.prototype.eJ=function(Q,S){if(Q==null)return!1;if(this.id==K.EC)return Q.m!=null;var B=Q.M$(!0);
for(var y=0;y<B.length;y++){var l=Q.G[B[y]];if(l.s$(2)||l.s$(31)){alert(Nd.get([6,57,0]));return!1}if(l.add.artb){alert("You can not transform the whole artboard");
return!1}if(l.add.TySh)if(!Ru.ph(l.add.TySh,S.Tt))return!1;if(l.add.SoLd){if(B.length==1&&!k.cF.hW(l.add.SoLd.warp.v)&&(l.Tb()&&l.Tb().om||l.add.vmsk&&l.add.vmsk.om)){alert("Unlink masks before transforming Smart Object");
return!1}if(!Q.mfr(l.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+Q.q_(l.add.SoLd.Idnt.v).oK+")");
return!1}}}if(Q.m==null)return!0;if(!Q.pD())return!1;return Q.ma_()};K.Sj.prototype.OQ=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y);
if(this.JE==1){var R=k.W.SD(k.W.aX(this.Wu.fg(),this.rs));D=k.W.Pt(R,D)}var p=this.JE==0?this.Wu:this.Ha;
this.bi=p.OQ(Q,B,y,D);if(this.bi&&p.Ah(D)){if(Date.now()-this.mrr<250)this.GE(Q,S,null,!0);this.mrr=Date.now()}};
K.Sj.prototype.Su=function(Q){var S=new b(P.E.T,!0);S.data={H:P.l.qL,YT:this.cursor};Q.B(S)};K.Sj.prototype.Uy=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y);
if(this.JE==1){var R=k.W.SD(k.W.aX(this.Wu.fg(),this.rs));D=k.W.Pt(R,D)}var p=this.JE==0?this.Wu:this.Ha;
if(!l.qv){var O="default";if(p){var M=p.qH(D,Q.u.C);if(M)O=M}if(O!=this.cursor){this.cursor=O;this.Su(S)}}if(!this.bi)return;
p.Uy(Q,B,y,D);this.$J(Q,B,0);this.Lp(Q);this.qP(S)};K.Sj.prototype.sn=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y);
this.Wu.sn(Q,B,y,D);this.bi=!1};K.Sj.prototype.qh=function(Q,S,B,y){if(y.N(A._o))this.GE(Q,S,null,!0);
else if(y.N(A.fr))this.hp(Q,S);else{var l=this.Wu.qh(Q,B,y);if(l){this.$J(Q,B,0);this.qP(S)}}};K.Sj.prototype.sv=function(Q,S,B,y){if(Q.QQ=="commit")this.GE(B,S,null,!0);
else if(Q.QQ=="cancel")this.hp(B,S);else if(Q.QQ=="switchWarp"){this.JE=1-this.JE;this.mgD();this.Lp(B);
this.qP(S)}else if(Q.QQ=="wrp"){this.Ha.gz(Q.bk);this.Lp(B);this.$J(B,this.pn,0)}else if(Q.QQ=="ctyp"){this.Wu.mWy(Q.Xo);
this.Lp(B);this.qP(S)}else if(Q.QQ=="cen"){this.Wu.mWq(Q.lC);this.Lp(B);this.$J(B,this.pn,0);this.qP(S)}else if(Q.QQ=="trn"){var l=k.W.Tz(Q.$D),D=this.rs,R=k.W.aX(this.Wu.fg(),this.rs);
l[6]=R[6],l[7]=R[7];var p=[D.x,D.y,D.x+D.r,D.y,D.x+D.r,D.y+D.O,D.x,D.y+D.O];k.W.apply(l,p);this.ff=Q.ff;
this.Wu.yb(p);this.Lp(B);this.$J(B,this.pn,0)}};K.Sj.prototype.Lp=function(Q){if(this.JE==0)this.Wu.HI(Q,this.pn);
else{this.Ha.HI(Q);var S=k.W.aX(this.Wu.fg(),this.rs);k.W.apply(S,Q.J.pN.M);k.W.apply(S,Q.J.La)}};K.Sj.prototype.GE=function(Q,S,B,y){this.$J(Q,this.pn,this.ff);
var l=new NO(B?B:this.name,this);if(this.vg==0)l.data={type:this.vg,G:this.G,aB:this.Jn,GY:K.Sj.Hl(Q,this.G)};
else if(this.vg==1){var D=Q.G[this.G[0]],R;if(D.K_.Wg<=0){R=k.Q(D.K_.gb.Z());k.MA(D.K_.o_,R,3)}else R=Q.m.channel;
var p={rect:D.K_.gb.clone(),channel:R};l.data={type:this.vg,$:this.G[0],_v:this._v,mT:p,PQ:this.PQ,Je:this.Je,K_:D.K_,aB:this.aB,GY:{q:D.K_.gb,Fk:D.K_.o_}}}else if(this.vg==2){l.data={type:this.vg,_v:this._v,mT:{rect:Q.m.rect.clone(),channel:k.clone(Q.m.channel)}}}Q.Ra(l);
var O=this.rs,M=new v(O.x+O.r/2,O.y+O.O/2),U=k.W.aX(this.Wu.fg(),O),m=k.W.FE(U),Y=new Nu;Y.translate(M.x,M.y);
Y.concat(m);Y.translate(-M.x,-M.y);m=Y.clone();var x=-Math.atan2(-m.R,m.n),T=new Nu;T.rotate(x);m.concat(T);
function $(s,j){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][j],val:s}}}var L={classID:"null",null:mg.KG("Lyr",!0),FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:$(Y.Ni,0),Vrtc:$(Y.pg,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:$(Math.atan(m.ce)*180/Math.PI,2),Vrtc:$(0,2)}},Wdth:$(m.n*100,1),Hght:$(m.en*100,1),Angl:$(x*180/Math.PI,2)};
this.VP=S;this.track({QF:"transform",$o:L});this.escape(Q,S,y)};K.Sj.prototype.hp=function(Q,S){if(this.vg==0)K.Sj.HY(Q,this.G,this.Jn);
else if(this.vg==1){var B=Q.G[this.G[0]];Q.m=this._v;if(!this.Je){B.K_.gb=this.aB.q;B.K_.o_=this.aB.Fk;
B.VY(Q,0,0,Q.m)}else{B.Va(Q,this.PQ)}Q.s();Q.mh=!0}else if(this.vg==2){Q.m=this._v;Q.mh=!0}this.escape(Q,S,!0)};
K.Sj.prototype.escape=function(Q,S,B){this.Wu.clear(Q);this.Wu=null;this.Ha=null;this.JE=0;if(B)this.PD(S,P.E.T,{H:P.l.mmJ})};
K.Sj.prototype.Lz=function(Q,S){if(Q.type==0)K.Sj.HY(S,Q.G,Q.GY);else{if(Q.type==1){var B=S.G[Q.$];if(Q.Je){B.K_=Q.K_}else{B.K_.gb=Q.GY.q;
B.K_.o_=Q.GY.Fk}B.VY(S,0,0,S.m);S.s()}S.m={rect:Q.mT.rect.clone(),channel:k.clone(Q.mT.channel)};S.mh=!0}};
K.Sj.prototype.$B=function(Q,S){if(Q.type==0)K.Sj.HY(S,Q.G,Q.aB);else{if(Q.type==1){var B=S.G[Q.$];if(Q.Je){B.Va(S,Q.PQ)}else{B.K_.gb=Q.aB.q;
B.K_.o_=Q.aB.Fk;B.VY(S,0,0,S.m)}S.s()}S.m=Q._v;S.mh=!0}};K.Sj.prototype.uB=function(Q,S,B){Q.sH();var y=[];
if(B==null)for(var l=0;l<Q.lW.length;l++)if(Q.SX[Q.lW[l]].add.vmsk.A.length>2)y.push(-1-Q.lW[l]);var D=[];
if(B!=null||y.length==0||Q.KC!=null&&Q.KC.length!=0)D=Q.M$(S,B);D=D.concat(y);this.G=D};K.Sj.prototype.enable=function(Q,S,B,y,l,D,R){if(this.cursor==null)this.cursor="default";
this.Su(S);if(this.Wu)return;this.pn=B;this.uB(Q,!0);this.ul(Q,D&&D.aD==1?1:null,R);this.qP(S);this.Lp(Q);
if(D&&D.aD==2)this.sv({QQ:"switchWarp"},S,Q,y)};K.Sj.prototype.qP=function(Q){var S={H:P.l.tE,h:this.id};
if(this.JE==0){var B=k.W.aX(this.Wu.fg(),this.rs),y=k.W.FE(B);S.$D={Sl:y,Xo:this.Wu.mWd(),lC:this.Wu.cI(),q:this.rs.clone()}}else{S.bk=this.Ha.yA()}S.m_m=this.Ha!=null;
this.PD(Q,P.E.T,S)};K.Sj.prototype.ul=function(Q,S,B){var y=this.id==K.EC,l=!0,D=Q.G[this.G[0]],O=null;
if(y){this.vg=2;this._v=Q.m}else if(Q.m&&this.G.length==1&&!D.rect.Kq()){this.vg=1;this._v=Q.m;this.PQ=D.K_;
this.Je=!1;if(!D.De(Q,Q.m)){this.Je=!0;D.VG(Q,Q.m,!1)}this.aB={Fk:D.K_.o_,q:D.K_.gb}}else{this.vg=0;
this.Jn=K.Sj.Hl(Q,this.G,null,B);for(var R=0;R<this.Jn.length;R++)if(this.Jn[R][3]!=null)l=!1}var p=this.vg==1;
if(this.Jn&&this.Jn.length==1){var M=this.Jn[0];if(M[3]==null)p=!0;if(M[4]!=null){O=Q.G[this.G[0]].add.SoLd;
if(M[1]||M[2])p=!1}}var U=y?Q.m.rect.clone():K.Sj.jH(Q,this.G,B);this.rs=U;if(!y&&O){var m=K.Sj.so(O.nonAffineTransform);
this.rs=k.i.vQ(k.cF._i(O.warp.v));if(p)this.Ha=new La(O.warp.v);this.Xn=k.W.aX(m,this.rs);this.Wu=new mF(m,!0,!0,l,!1,!1,S)}else{if(p||y)this.Ha=new La(k.cF.Q(this.rs));
this.Xn=[1,0,0,0,1,0,0,0];this.Wu=new mF([U.x,U.y,U.x+U.r,U.y,U.x+U.r,U.y+U.O,U.x,U.y+U.O],!0,!0,l,!1,!1,S)}this.XB=[1,0,0,0,1,0,0,0]};
K.Sj.jH=function(Q,S,B){if(S==null)S=Q.M$(!0);var y=new w;if(Q.m&&S.length==1)y=Q.m.rect.clone();else for(var l=0;
l<S.length;l++){var D=S[l],R=0<=D?Q.G[D]:Q.SX[-1-D],p=R.add.vmsk,O=0<=D?R.el(Q,S.length==1,!1,B):k.c.Fi(p.A,S.length==1&&p.I.length!=0?p.I:null);
y=y.wM(O)}return y};K.Sj.prototype.PD=function(Q,S,B,y){var l=new b(S,!0);l.data=B;if(y)l.h=y;Q.B(l)};
K.Sj.Hl=function(Q,S,B,y){var l=[];for(var D=0;D<S.length;D++){var R=S[D],p,O;if(R>=0){p=Q.G[R];O=p.DU(Q,B,y)}else{p=Q.SX[-1-R];
O=[2]}var M=[];if(O.indexOf(0)!=-1){var U={XH:[k.clone(p.buffer),p.rect.clone()]};M.push(U);if(p.as()){var m=p.DG(Q);
U.m_q=k.clone(m.buffer);U.m_J=m.rect.clone()}}else M.push(null);if(O.indexOf(1)!=-1)M.push(p.Tb().clone());
else M.push(null);if(O.indexOf(2)!=-1)M.push({ZJ:p.add.vmsk.clone(),xD:p.add.vstk?JSON.parse(JSON.stringify(p.add.vstk)):null,SI:p.add.vogk?JSON.parse(JSON.stringify(p.add.vogk)):null});
else M.push(null);if(p.add.TySh&&M[0]){rA.pt(p.add.TySh);M.push(p.add.TySh.V.clone())}else M.push(null);
if(p.add.SoLd&&M[0])M.push(JSON.parse(JSON.stringify(p.add.SoLd)));else M.push(null);if(O.indexOf(3)!=-1)M.push(p.DG(Q).k.clone());
else M.push(null);if(p.add.lmfx)M.push(JSON.stringify(p.add.lmfx));else M.push(null);l.push(M)}return l};
K.Sj.HY=function(Q,S,B){for(var y=0;y<S.length;y++){var l=S[y],D=0<=l?Q.G[l]:Q.SX[-1-l],R=B[y];if(R[0]){D.rect=R[0].XH[1].clone();
D.buffer=k.clone(R[0].XH[0]);if(D.as()){var p=D.DG(Q);p.buffer=k.clone(R[0].m_q);p.rect=R[0].m_J.clone()}}if(R[1]){D.Tb().channel=k.clone(R[1].channel);
D.Tb().rect=R[1].rect.clone();D.Tb().DP=!0}if(R[2]){D.add.vmsk=R[2].ZJ.clone();if(R[2].xD)D.add.vstk=JSON.parse(JSON.stringify(R[2].xD));
if(R[2].SI)D.add.vogk=JSON.parse(JSON.stringify(R[2].SI))}if(R[3]){D.add.TySh.V=R[3].clone();rA.R$(D.add.TySh)}if(R[4]){D.add.SoLd=JSON.parse(JSON.stringify(R[4]))}if(R[5]){var O=D.DG(Q).k;
O.channel=k.clone(R[5].channel);O.rect=R[5].rect.clone()}if(R[6]){D.add.lmfx=JSON.parse(R[6])}if(0<=l){D.Zs(Q);
D.s()}}Q.s()};K.Sj.GK=function(Q){var S=Q.clone(),B=Math.atan2(-S.R,S.n),y=new Nu;y.rotate(-B);S.concat(y);
return(Math.abs(S.n)+Math.abs(S.en))/2};K.Sj.yl=function(Q,S,B,y,l,D,R,p,O){var M=k.W.FE(D),U=K.Sj.GK(M);
for(var m=0;m<B.length;m++){var Y=B[m],x=0<=Y?Q.G[Y]:Q.SX[-1-Y],T=y[m];if(x.add.lmfx&&p)Nq.mzh(x.add.lmfx,U);
if(T[0]&&!T[3]&&!T[4]&&!T[5]){var $=T[0].XH;if(O){var L=O.clone(),s=k.Q(L.Z()*4);k.oD($[0],$[1],s,L);
$=[s,L]}var j=K.Sj.L$($,l,D,R,l==0?x.buffer.buffer:null);if(j){x.rect=j.rect;x.buffer=j.buffer}}if(T[1])K.Sj.uj(Q,T[1],x.Tb(),l,D,R);
if(T[2]){var Z=R&&!k.cF.hW(R),e=T[2].ZJ.clone(),J=B.length==1&&e.I.length!=0,N=B.length==1&&e.GV.length>1;
if(N)J=!1;var E=J?e.I:null,h=N?e.GV:null;if(Z){var o=k.cF._i(R);k.W.apply(D,o);k.c.mds(e.A,o,E,h)}else k.c.mdw(e.A,D,E,h);
if(x.add.vstk&&p)x.add.vstk.strokeStyleLineWidth.v.val=T[2].xD.strokeStyleLineWidth.v.val*U;if(x.add.vogk){x.add.vogk=JSON.parse(JSON.stringify(T[2].SI));
if(Z||N)k.SI.mzR(x.add.vogk);else k.SI.V(x.add.vogk,D,B.length>1?[]:e.I,p)}e.Mu*=U;x.add.vmsk=e;if(x.add.vogk)k.SI.wN(x.add.vogk,x.add.vmsk)}if(T[3]){var V=T[3].clone();
V.concat(M);x.add.TySh.V=V;rA.R$(x.add.TySh);var n=new mn(x.add.TySh.Nd,S.Tt),t=Ru.pJ(n,x.add.TySh);
x.rect=t.q;x.buffer=t.Ko}if(T[4]){var q=x.add.SoLd,u=K.Sj.so(T[4].nonAffineTransform);k.W.apply(D,u);
var g=k.i.vE(u);if(mF.yI(u)){if(R){var r=k.i.vQ(k.cF._i(T[4].warp.v)),f=k.W.aX(u,r),I=k.i.vQ(k.cF._i(R));
u=[I.x,I.y,I.x+I.r,I.y,I.x+I.r,I.y+I.O,I.x,I.y+I.O];k.W.apply(f,u);q.warp.v=R}var d=k.W.aX(u),a=u;if(!k.W.vD(d)){d[6]=d[7]=0;
a=[0,0,1,0,1,1,0,1];k.W.apply(d,a)}q.Trnf=K.Sj.tQ(a);q.nonAffineTransform=K.Sj.tQ(u);x._T(Q,l==0)}}if(T[5])K.Sj.uj(Q,T[5],x.DG(Q).k,l,D,R);
if(0<=Y){if(l!=0)x.On();x.Zs(Q);x.s()}}Q.s()};K.Sj.Hg=function(Q,S,B,y,l,D){if(B==null)B=!1;return K.Sj.L$(Q,B?0:1,k.W.Tz(S),null,y,l,D)};
K.Sj.L$=function(Q,S,B,y,l,D,R){var p={},m=0;if(y&&!k.cF.hW(y)){var O=k.cF._i(y);k.W.apply(B,O);p.rect=k.i.vE(O);
p.buffer=k.Q(p.rect.Z()*4);k.Tx.drawImage(O,Q[0],Q[1].r,Q[1].O,p.buffer,p.rect,S==0);return p}k.rt(Q);
var M=Q[0],U=Q[1];while(m+3<Q.length&&Q[m+3].Z()>16&&k.W.vD(B)&&K.Sj.GK(k.W.FE(B))<.3){m+=2;var Y=Q[m],x=Q[m+1],T=U.r/x.r,$=U.O/x.O;
B=k.W.Cr(B,[1,0,U.x,0,1,U.y,0,0]);B=k.W.Cr(B,[T,0,0,0,$,0,0,0]);B=k.W.Cr(B,[1,0,-U.x,0,1,-U.y,0,0]);
U=x;M=Y}var L=k.W.Cr(B,k.W.Tz(new Nu(U.r,0,0,U.O,U.x,U.y))),s=[0,0,1,0,1,1,0,1];k.W.apply(L,s);p.rect=k.i.vE(s);
if(R)p.rect=p.rect.nG(R);if(!mF.yI(s)||p.rect.r>1e5||p.rect.O>1e5||p.rect.Z()>1e4*2e4)return null;var j=p.rect.Z()*4;
if(l&&l.byteLength>=j&&j>=l.byteLength>>2){p.buffer=new Uint8Array(l)}else{p.buffer=k.Q(j)}k.W.drawImage(L,M,U.r,U.O,p.buffer,p.rect,S==0,D);
if(S==2&&p.buffer){var Z=p.rect.r,e=p.rect.O,J;J=[0,-1,0,-1,16,-1,0,-1,0];J=k.ns.Qs(J);var N=p.buffer.slice(0);
k.rA(N);k.ns.Uq(N,p.buffer,Z,e,J,0);k.Pm(p.buffer);k.rY(p.buffer)}if(p.buffer)return p};K.Sj.uj=function(Q,S,B,y,l,D){if(S.color==255)k.SD(S.channel);
var R=S.rect,p=k.Q(R.Z()*4);k.KF(S.channel,p,3);var O=K.Sj.L$([p,R],y,l,D);if(O){B.rect=O.rect;B.channel=k.Q(O.rect.Z());
k.MA(O.buffer,B.channel,3);B.DP=!0}if(S.color==255){k.SD(S.channel);if(O)k.SD(B.channel)}};K.Sj.so=function(Q){var S=[],B=Q.v.length;
for(var y=0;y<B;y++)S.push(Q.v[y].v);return S};K.Sj.tQ=function(Q){var S={t:"VlLs",v:[]},B=Q.length;
for(var y=0;y<B;y++)S.v.push({t:"doub",v:Q[y]});return S};K.Sj.prototype.mgD=function(){var Q=k.i.vQ(k.cF._i(this.Ha.yA())),S=k.W.aX(this.Wu.fg(),this.rs),B=[Q.x,Q.y,Q.x+Q.r,Q.y,Q.x+Q.r,Q.y+Q.O,Q.x,Q.y+Q.O];
k.W.apply(S,B);this.Wu.yb(B);this.rs=Q};K.Sj.prototype.$J=function(Q,S,B){var y=k.W.aX(this.Wu.fg(),this.rs),p=1e-10,x=!1,T=!1;
y=k.W.Cr(y,k.W.SD(this.Xn));var l=k.W.FE(y),D=this.XB,R=k.W.FE(D);this.XB=y;var O=Math.abs,M=Math.round,U=y[2]-D[2],m=y[5]-D[5],Y=O(y[0]-D[0])<p&&O(y[1]-D[1])<p&&O(y[3]-D[3])<p&&O(y[4]-D[4])<p&&O(y[6]-D[6])<p&&O(y[7]-D[7])<p&&O(U-M(U))<p&&O(m-M(m))<p;
if(this.vg==0&&this.G.length==1){var $=this.Jn[0][2];x=$&&($.ZJ.I.length!=0||$.ZJ.GV.length>1)}for(var L=0;
L<this.G.length;L++)if(this.G[L]<0)T=!0;if(Y&&this.vg==0&&B==0&&this.JE==0&&!x&&!T){K.Ku.$g(Q,this.G,K.Ku.Cz(Q,this.G),Math.round(-R.Ni+l.Ni),Math.round(-R.pg+l.pg));
return}var s=this.Ha?this.Ha.yA():null;if(this.vg==0){this.Xw=k.W.FE(y);K.Sj.yl(Q,S,this.G,this.Jn,B,y,s)}else if(this.vg==1){var j=Q.G[this.G[0]],Z=this.aB.q;
if(j.Wg<=0){var e=this.aB.Fk,J=this._v;if(s&&!k.cF.hW(s)&&!J.rect.UH(Z)){var N=k.Q(J.rect.Z()*4);k.oD(e,Z,N,J.rect);
e=N;Z=J.rect}var E=K.Sj.L$([e,Z],B,y,s);if(E){j.K_.o_=E.buffer;j.K_.gb=E.rect;var h=k.Q(E.rect.Z());
k.MA(j.K_.o_,h,3);Q.m={channel:h,rect:j.K_.gb.clone()}}}else{var o=k.Q(Z.Z()*4);k.KF(this.aB.Fk,o,3);
var E=K.Sj.L$([o,Z],B,y,s);if(E){j.K_.o_=k.Q(E.rect.Z());k.MA(E.buffer,j.K_.o_,3);j.K_.gb=E.rect}this.uo(Q,B,y,s)}j.VY(Q,0,0,Q.m);
if(B!=0){j.On();k.On(Q.m)}Q.mh=!0;Q.s()}else if(this.vg==2)this.uo(Q,B,y,s)};K.Sj.prototype.uo=function(Q,S,B,y){var l=this._v.rect,D=k.Q(l.Z()*4);
k.KF(this._v.channel,D,3);var R=K.Sj.L$([D,l],S,B,y),p=k.Q(R.rect.Z());k.MA(R.buffer,p,3);Q.m={channel:p,rect:R.rect};
Q.mh=!0};K.Sj.prototype.disable=function(Q,S,B,y){if(this.Wu)this.GE(Q,S,null,!0)};K.uT=function(){K.Sj.call(this,[10,16],K.fM,"tools/transform")};
K.uT.prototype=new K.Sj;K.ui=function(){K.Sj.call(this,[7,10],K.EC,"tools/transform")};K.ui.prototype=new K.Sj;
K.GM=function(Q,S,B){K.WC.call(this,Q?Q:[10,40],S?S:K.nk,B?B:"tools/slice");this.EJ=null;this.VP=null;
this.qn=null;this.mNN=null;this.tG=null;this.MP=null};K.GM.prototype=new K.WC;K.GM.CM=function(Q,S){var B=-1;
for(var y=0;y<Q.length;y++){var l=K.GM.fm(Q,y);if(l[0]<=S.x&&S.x<=l[2]&&l[1]<=S.y&&S.y<=l[3]){B=y;break}}return B};
K.GM.prototype.Ox=function(Q,S,B,y,l){this.$F(B);B.$q[B.FY[0]].v=Q;B.rr=!0;this.qI(B)};K.GM.prototype.enable=function(Q,S,B,y,l,D){K.WC.prototype.enable.call(this,Q,S,B,y,l,D);
if(!B.Ke.$q){var R=new b(P.E.T,!0);R.data={H:P.l.Kk,yQ:rS.Xg};S.B(R)}};K.GM.prototype.disable=function(){this.EJ=null;
this.VP=null};K.GM.prototype.Ro=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y),R=K.GM.CM(Q.$q,D);if(R==-1)return;
this.EJ=Q;this.VP=S;Q.FY=[R];Q.rr=!0;if(this.MP==null){this.MP=new RW([{name:[5,4]},{name:[8,11,1],_A:!0}]);
this.MP.w("select",this.yV,this)}var p=this.MP;p.parent=S;p.b();p.update(Q,B);var O=new b(P.E.T,!0);
O.data={H:P.l.ow,qr:p,x:l.Pz+2,y:l.in+1};S.B(O)};K.GM.prototype.yV=function(Q){var S=this.MP.Jk()[0],B=this.EJ;
if(S==0){this.$F(B);B.$q.splice(B.FY[0],1);B.FY=[];B.rr=!0;this.qI(B)}if(S==1){var y=new b(P.E.T,!0);
y.data={H:P.l.ND,yc:"soptions",z:B.$q[B.FY[0]].v};this.VP.B(y)}};K.GM.prototype.OQ=function(Q,S,B,y,l){if(Q==null)return;
this.$F(Q);var D=Q.u.FD(l.x,l.y);D=K.Ku.d$(Q,D,B,[!0,null,!1]);D.x=Math.round(D.x);D.y=Math.round(D.y);
this.tG=D;Q.$q.unshift(K.GM.uP());Q.FY=[0];K.GM.$t(Q.$q,0,[D.x,D.y,D.x+20,D.y+20]);Q.rr=!0};K.GM.prototype.Uy=function(Q,S,B,y,l){if(this.qn==null)return;
var D=Q.u.FD(l.x,l.y),R=this.tG;D=K.Ku.d$(Q,D,B,[!0,null,!1]);D.x=Math.round(D.x);D.y=Math.round(D.y);
var p=[R.x,R.y,D.x,D.y];K.GM.ux(p);K.GM.$t(Q.$q,0,p);Q.rr=!0};K.GM.prototype.sn=function(Q,S,B,y,l){this.qI(Q);
this.tG=null};K.GM.prototype.$F=function(Q){this.qn=JSON.stringify(Q.$q);this.mNN=JSON.stringify(Q.FY)};
K.GM.prototype.qI=function(Q){var S=JSON.stringify(Q.$q);if(S!=this.qn){var B=new NO(this.name,this);
B.data={aB:this.qn,GY:S,m_W:this.mNN,m_I:JSON.stringify(Q.FY)};Q.Ra(B)}this.qn=null};K.GM.prototype.$B=function(Q,S){S.$q=JSON.parse(Q.aB);
S.FY=JSON.parse(Q.m_W);S.rr=!0};K.GM.prototype.Lz=function(Q,S){S.$q=JSON.parse(Q.GY);S.FY=JSON.parse(Q.m_I);
S.rr=!0};K.GM.prototype.bC=function(Q,S){return S!=null&&S.FY.length!=0&&(Q==A.fV||Q==A.fc)};K.GM.prototype.qh=function(Q,S,B,y){if(Q==null)return;
this.$F(Q);var l=y.tt();if(l.x!=0||l.y!=0)K.GM.wO(Q,l);if(y.N(A.fV)||y.N(A.fc)){var D=Q.$q.slice(0);
for(var R=0;R<Q.FY.length;R++)Q.$q.splice(Q.$q.indexOf(D[Q.FY[R]]),1);Q.FY=[]}this.qI(Q)};K.GM.prototype.sv=function(Q,S,B,y,l){if(B==null||B.FY.length==0)return;
this.$F(B);var D=B.$q,R=B.FY;R.sort(function(T,$){return T-$});console.log(R);var p=D.slice(0),O=[],M=[];
for(var U=0;U<R.length;U++){var m=R[U],Y=D[m];M.push(Y);p.splice(p.indexOf(Y),1)}var x=Math.max(0,Math.min(p.length,R[0]-Q.dir));
for(var U=0;U<M.length;U++){p.splice(x+U,0,M[U]);O.push(x+U)}B.$q=p;B.FY=O;this.qI(B)};K.GM.mgO=function(Q,S,B,y){var l=new v(-S.x,-S.y),D=S.r/B.r,R=S.O/B.O,p=[0,0,S.r,S.O];
for(var O=0;O<Q.length;O++){var M=K.GM.fm(Q,O);if(y){M[0]=Math.round(M[0]*D);M[1]=Math.round(M[1]*R);
M[2]=Math.round(M[2]*D);M[3]=Math.round(M[3]*R)}else{K.GM.yj(M,l);K.GM.mgb(M,p)}if(M[0]>=M[2]||M[1]>=M[3]){Q.splice(O,1);
O--;continue}K.GM.$t(Q,O,M)}};K.GM.wO=function(Q,S){var B=Q.$q;for(var y=0;y<Q.FY.length;y++){var l=K.GM.fm(B,Q.FY[y]);
K.GM.yj(l,S);K.GM.$t(B,Q.FY[y],l)}};K.GM.mgb=function(Q,S){if(Q[0]<S[0])Q[0]=S[0];if(Q[1]<S[1])Q[1]=S[1];
if(S[2]<Q[2])Q[2]=S[2];if(S[3]<Q[3])Q[3]=S[3]};K.GM.yj=function(Q,S){Q[0]=Math.round(Q[0]+S.x);Q[2]=Math.round(Q[2]+S.x);
Q[1]=Math.round(Q[1]+S.y);Q[3]=Math.round(Q[3]+S.y)};K.GM.$t=function(Q,S,B){var y=Q[S].v.bounds.v;y.Left.v=B[0];
y.Top.v=B[1];y.Rght.v=B[2];y.Btom.v=B[3]};K.GM.fm=function(Q,S){var B=Q[S].v.bounds.v;return[B.Left.v,B.Top.v,B.Rght.v,B.Btom.v,S]};
K.GM.ux=function(Q){if(Q[2]<Q[0]){var S=Q[0];Q[0]=Q[2];Q[2]=S}if(Q[2]==Q[0])Q[2]++;if(Q[3]<Q[1]){var S=Q[1];
Q[1]=Q[3];Q[3]=S}if(Q[3]==Q[1])Q[3]++};K.GM.vQ=function(Q,S){var B=1e9,y=-1e9,l=1e9,D=-1e9;for(var R=0;
R<S.length;R++){var p=K.GM.fm(Q,S[R]);B=Math.min(B,p[0]);l=Math.min(l,p[1]);y=Math.max(y,p[2]);D=Math.max(D,p[3])}return[B,l,y,D]};
K.GM.uP=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
K.LD=function(){K.GM.call(this,[10,41],K.e_,"tools/sselect");this.tG=null;this.$x=null;this.LN=null;
this.VV=null;this.XY=!1};K.LD.prototype=new K.GM;K.LD.prototype.OQ=function(Q,S,B,y,l){if(Q==null)return;
var D=Q.u.FD(l.x,l.y),R=K.LD.uI(D,4/Q.u.C,Q.$q,Q.FY);R.pop();if(R.length!=0){this.tG=D;this.LN=R;this.$F(Q);
return}var p=Q.$q,O=K.GM.CM(p,D);if(O==-1)Q.FY=[];else{var M=Q.FY.indexOf(O);if(y.N(A.CP)){if(M==-1)Q.FY.push(O);
else Q.FY.splice(M,1)}else{Q.FY.sort(function(L,s){return L-s});if(M==-1)Q.FY=[O];this.tG=D;this.$F(Q);
this.$x=K.GM.vQ(p,Q.FY);this.VV=[];for(var U=0;U<Q.FY.length;U++)this.VV.push(K.GM.fm(p,Q.FY[U]));if(y.N(A.qD)){var m=p.slice(0),Y=Q.FY,x=[];
for(var U=0;U<Y.length;U++){var O=Y[U],T=m[O],$=p.indexOf(T);x.push($);p.splice($,0,JSON.parse(JSON.stringify(T)))}Q.FY=x}}}Q.rr=!0};
K.LD.prototype.Uy=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y);if(this.tG==null){var R=K.LD.uI(D,4/Q.u.C,Q.$q,Q.FY),p=R.pop(),O=R.length==0?"default":["ew","nwse","ns","nesw"][p]+"-resize",M=new b(P.E.T,!0);
M.data={H:P.l.qL,YT:O};S.B(M);return}if(!this.XY&&D.UH(this.tG))return;this.XY=!0;var U=Q.$q,R=this.LN;
if(R){D=K.Ku.d$(Q,D,B,[!0,null,!1]);var m=Math.round(D.x),Y=Math.round(D.y);for(var x=0;x<R.length;x+=2){var T=K.GM.fm(U,R[x]),$=R[x+1];
T[$]=($&1)==0?m:Y;K.GM.ux(T);K.GM.$t(U,R[x],T)}}else{var L=D.la(this.tG),s=this.$x.slice(0);K.GM.yj(s,L);
var j=new w(s[0],s[1],s[2]-s[0],s[3]-s[1]),Z=K.Ku.qO(Q,j,B,[!0,null,!1],!0);K.Ku.qU(Q,j,Z);L.x+=Z[0];
L.y+=Z[1];for(var x=0;x<Q.FY.length;x++)K.GM.$t(U,Q.FY[x],this.VV[x]);K.GM.wO(Q,L)}Q.rr=!0};K.LD.prototype.sn=function(Q,S,B,y,l){if(this.tG==null)return;
this.qI(Q);Q.J.Pg=null;Q.rr=!0;this.tG=null;this.LN=null;this.VV=null;this.XY=!1};K.LD.uI=function(Q,S,B,y){var l=Q.x,D=Q.y,R=[],p=-1,O=[];
for(var M=0;M<y.length;M++){var U=y[M],m=K.GM.fm(B,U),Y=m[0],x=m[1],T=m[2],$=m[3];if(l<Y-S||T+S<l||D<x-S||$+S<D)continue;
var L=[l<Y+S,D<x+S,T-S<l,$-S<D],s=-1;for(var j=0;j<4;j++){if(L[j]&&L[j+1&3])s=1+2*(j&1);if(L[j])R.push(U,j)}if(s==-1){if(L[0]||L[2])s=0;
if(L[1]||L[3])s=2}if(s!=-1){p=s;O.push(U)}}var Z=R.length;for(var M=0;M<Z;M+=2){var U=R[M],e=R[M+1],J=K.GM.fm(B,U)[e];
for(var j=0;j<y.length;j++){var N=y[j];if(O.indexOf(N)!=-1)continue;var m=K.GM.fm(B,N);if(m[e&1]==J)R.push(N,e&1);
if(m[2+(e&1)]==J)R.push(N,2+(e&1))}}R.push(p);return R};K.tu=function(){K.pL.call(this,[10,44],K.mJK,"tools/oselect");
this.ZQ="crosshair";this.mNS=0};K.tu.prototype=new K.pL;K.tu.prototype.Gg=function(Q,S,B,y){if(Math.random()<1/(1+this.mNS)){alert("The cross should be fully inside the object.",3500);
this.mNS++}};K.tu.prototype.Re=function(Q,S,B,y){K.IY.uA(Q,K.pL.sz,this.VP);if(!y.qv||!this.$S)return;
var l=this.jH(Q,B,!1),D=l.r,R=l.O,p=l.x,O=l.y,M=l.x+D,U=l.y+R,m=p+D/2,Y=O+R/2,x=K.tu.uH;Q.J.pN={M:[p,O,M,O,M,U,p,U,m-D*x,Y,m+D*x,Y,m,Y-R*x,m,Y+R*x],F:"M L L L Z M L M L".split(" ")};
Q.rr=!0};K.tu.uH=.12;K.tu.prototype.ss=function(Q,S,B,y){Q.J.pN=null;Q.rr=!0;this.finish(Q,S,B,y)};K.tu.prototype.getSelection=function(Q,S,B,y){if(this.vF.UH(this.tR)||!this.$S)return null;
var l=this.jH(Q,B,!1),D=Q.G[Q.I[0]];if(l.Kq()||!l.nc(D.rect))return null;return K.pL.ex("ObSl",l)};K.IY=function(){K.KT.call(this,[10,37],K.nZ,"tools/qselect");
this.hx="qselect"};K.IY.prototype=new K.KT;K.IY.prototype.OQ=function(Q,S,B,y,l){this.gs(Q,B,y,l,1);
if(this.ed==null)return;this.JJ(Q)};K.IY.prototype.Uy=function(Q,S,B,y,l){this.Wy(Q,S,B);K.IY.uA(Q,K.pL.sz,S);
if(this.yU)this.CH(Q,B,l);if(this.ed==null)return;if(!l.qv)return;var D=this.Fy(Q,B,y,l);if(D!=1)this.JJ(Q)};
K.IY.uA=function(Q,S,B){if(Q&&S.key!=K.IY.yo(Q)){S.key=K.IY.yo(Q);var y=Q.G[Q.I[0]].rect.Z()>1e6,l="Image Analysis ...",D=new b(P.E.T,!0);
D.data={H:P.l.uq,_p:l};if(y)B.B(D);setTimeout(function(){var R=K.IY.mWR(Q);for(var p in R)S[p]=R[p];
var D=new b(P.E.T,!0);D.data={H:P.l.uJ,_p:l};if(y)B.B(D)},30)}};K.IY.yo=function(Q){var S=Q.I[0],B=Q.G[S],y=B.rect,l=y.r,D=y.O,R=l*D,p=B.buffer;
return[S,y.x,y.y,l,D,p[0],p[1],p[2],p[3]].join(",")};K.IY.mWR=function(Q){var S=Q.I[0],B=Q.G[S],y=B.rect,l=y.r,D=y.O,R=l*D,p=B.buffer,O=Date.now(),M=k.Q(R);
M.fill(128);var U=k.Qb.m_c(p,l,D);console.log(Date.now()-O);var m={key:K.IY.yo(Q),mVg:p,rect:y.clone(),QP:l,Kj:D,go:12,mRJ:!1,$A:M,DC:U,m:k.Q(R),it:null,bb:null,bx:null};
K.IY.yT(m);return m};K.IY.yT=function(Q,S){var B=Q.QP,y=Q.Kj,l=0,D=0,R=Date.now(),p=Q.it!=null&&k.Qb.mqc(Q.DC.XZ,Q.it.XZ,Q.it.tI,Q.$A);
l=Date.now()-R;R=Date.now();if(!p&&!Q.mRJ){Q.it=k.Qb.LP(Q.DC,B,y,Q.$A,Q.go);if(!k.Qb.mqc(Q.DC.XZ,Q.it.XZ,Q.it.tI,Q.$A)){Q.mRJ=!0;
console.log("conflict")}Q.bb=k.Qb.mho(Q.mVg,B,y,Q.it.XZ,Q.it.tI);Q.bx=[Q.bb[0].slice(0),[]];D=Date.now()-R;
R=Date.now()}var R=Date.now();if(S){Q.bx[0].set(Q.bb[0]);var O=Q.bb[1],M=Q.bx[1];for(var U=0;U<O.length;
U++)M[U]=O[U].slice(0);k.Qb.mhT(Q.it.XZ,B,y,Q.it.tI,Q.$A,Q.m,Q.bx)}};function mF(Q,S,B,y,l,D,R){this.RH=null;
this.KZ=Q?Q.slice(0):null;this.dN=4;this.tR=null;this.DO=null;this.bP=null;this.rR=-1;this.ll=null;this.mRV=!1;
this.mRO=[];for(var p=0;p<8;p++)this.mRO.push(Np.mmm(0,PIMG.rotate,-.5,-.5,-45-p*45));this.mQm=S;this.mGJ=B;
this.mGV=y;this.mGv=l;this.mQL=D;this.aD=R}mF.prototype.uY=function(){return this.rR!=-1};mF.prototype.fg=function(){return this.KZ.slice(0)};
mF.prototype.yb=function(Q){this.KZ=Q};mF.prototype.mWQ=function(){return this.$j(this.KZ)};mF.prototype.mWd=function(){return this.dN};
mF.prototype.mWy=function(Q){this.dN=Q};mF.prototype.cI=function(Q){if(Q==null)Q=this.KZ;if(this.dN==9)return this.tR;
else return this.$j(Q)[this.dN]};mF.prototype.mWq=function(Q){if(this.dN==9)this.tR=Q.clone();else{var S=this.cI(),B=new Nu(1,0,0,1,Q.x-S.x,Q.y-S.y);
k.i.V(this.KZ,B,this.KZ)}};mF.prototype.qH=function(Q,S,B){var y=this.AC(Q,S),l;if(y==9)return"default";
if(y==10){if(B)return null;return!this.mQm?"move":null}if(y==-1||y==4)return null;if(y==11){var D=this.cI().la(Q);
l=90-Math.atan2(D.y,D.x)*180/Math.PI;var R=Math.round(8*(l/360));R=(R+8)%8;return this.mRO[R]}else{var p=this.qA(Q,this.KZ);
l=[135,90,45,180,0,0,225,270,315][y];var O=k.W.aX(this.KZ);l+=Math.atan2(-O[3],O[0])*180/Math.PI;var M="ew nesw ns nwse ew nesw ns nwse".split(" "),R=Math.round(8*(l/360));
R=(R+8)%8;return M[R]+"-resize"}};mF.prototype.qA=function(Q,S){var B=k.W.SD(k.W.aX(S)),y=new Float64Array(2);
k.W.No(Q.x,Q.y,B,y);return new v(y[0],y[1])};mF.prototype.Ah=function(Q){var S=this.qA(Q,this.KZ);return 0<=S.x&&S.x<=1&&0<=S.y&&S.y<=1};
mF.prototype.OQ=function(Q,S,B,y,l,D){this.mRV=D;this.ll=y;var R=Q.u.C,p;if(this.KZ==null)y=K.Ku.d$(Q,y,S);
this.bP=y.clone();if(this.KZ==null){this.bP.offset(1,1);var O=l==null?1:1/l;this.KZ=[y.x,y.y,y.x+1,y.y,y.x+1,y.y+O,y.x,y.y+O];
p=8}else{p=this.AC(y,R);if(0<=p&&p<=8)this.bP=this.$j(this.KZ)[p]}this.RH=this.KZ.slice(0);this.rR=p;
this.HI(Q,S);this.DO=this.cI();return p!=-1};mF.prototype.AC=function(Q,S){var B=-1,y=this.$j(),l=6*P._()/S;
if(B==-1)if(v.Ui(this.cI(),Q)<l)B=9;if(B==-1)for(var D=0;D<y.length;D++)if(D!=4&&v.Ui(y[D],Q)<l)B=D;
if(B==-1){if(this.Ah(Q)){if(this.mQm)B=10}else{var R=this.qA(Q,this.KZ),p=new w(0,0,1,1);p.Jq(.2,.2);
B=p._D(R)?11:10}}return B};mF.prototype.Uy=function(Q,S,B,y){if(this.rR==-1)return;this.ll=y;var l=B.N(A.CP),D=B.N(A.qD),R=B.N(A.DQ),p=Q.u.C,O=this.bP,M=this.rR,U=this.$j(),m=K.Ku.d$(Q,O,S),Y=K.Ku.d$(Q,y,S),x,T;
if(M==9){var U=this.$j(),$=-1;for(var L=0;L<U.length;L++)if(v.Ui(U[L],Y)*p<10)$=L;this.dN=$==-1?9:$;
this.tR=l?K.fI.$U(m,Y):Y.clone()}else if(M==10){T=k.i.vQ(this.RH);var s=T.x,j=T.y;T.offset(y.x-O.x,y.y-O.y);
if(this.uK()){T.x=Math.round(T.x);T.y=Math.round(T.y)}x=K.Ku.qO(Q,T,S);var Z=new Nu(1,0,0,1,T.x-s+x[0],T.y-j+x[1]);
k.i.V(this.RH,Z,this.KZ)}else if(M==11){var e=this.cI(this.RH),J=e.la(y),N=e.la(O),E=Math.atan2(J.y,J.x),h=Math.atan2(N.y,N.x),Z=new Nu(1,0,0,1,-e.x,-e.y),o=Math.PI/12;
if(l)Z.rotate(Math.round((h-E)/o)*o);else Z.rotate(h-E);Z.translate(e.x,e.y);k.i.V(this.RH,Z,this.KZ)}else{var V,n=this.RH,t=M==0||M==2||M==6||M==8;
if(this.aD==1){if(t)l=D=R=!0}else if(this.aD==2&&t&&this.mRV!=!0)R=!0;if(this.mGV&&t&&R){var L=[0,0,2,0,0,0,6,0,4,0][M],q=-1,u=Y.x,g=Y.y;
if(l){var r=L+6&7,f=L+10&7,I=mF.uS(n[L],n[L+1],n[r],n[r+1],Y.x,Y.y),d=mF.uS(n[L],n[L+1],n[f],n[f+1],Y.x,Y.y),a=I[2]<d[2]?I:d;
u=a[0];g=a[1];if(D)q=I[2]<d[2]?r:f}else if(D)q=L+4&7;V=n.slice(0);if(q!=-1){var c=n[q],_=n[q+1],C=(n[L]+c)/2,F=(n[L+1]+_)/2;
V[q]=C-(u-C);V[q+1]=F-(g-F)}V[L]=u;V[L+1]=g}else if(t&&D){var e=this.DO,i=e.x,rP=e.y,rH=m.x-i,rK=m.y-rP,rY=1,Nc=1;
if(Math.abs(rH)>=1)rY=(Y.x-i)/rH;if(Math.abs(rK)>=1)Nc=(Y.y-rP)/rK;if(l)rY=Nc=(rY+Nc)/2;var G=new Nu;
G.translate(-i,-rP);G.scale(rY,Nc);G.translate(i,rP);V=n.slice(0);k.i.V(V,G,V)}else{if(this.uK()){Y.x=Math.round(Y.x);
Y.y=Math.round(Y.y)}var rI=[0,1,2,5,8,7,6,3],rb=rI[(rI.indexOf(M)+4)%8],Nr=[];for(var L=0;L<3;L++)for(var q=0;
q<3;q++)Nr.push(new v(q/2,L/2));var e=this.DO,Nz=this.qA(Y,n),NL=this.qA(O,n),Nm=D&&(this.dN==4||this.dN==9)?this.qA(e,n):Nr[rb],NN=new Nu,Ne=new Nu,rY=(Nz.x-Nm.x)/(NL.x-Nm.x);
if(rY==0)rY=1e-4;var Nc=(Nz.y-Nm.y)/(NL.y-Nm.y);if(Nc==0)Nc=1e-4;if(this.mGv){rY=Math.max(rY,0);Nc=Math.max(Nc,0)}if(M==0||M==2||M==6||M==8){if(l||this.mQL)NN.scale(rY,rY);
else NN.scale(rY,Nc)}if(M==1||M==3||M==5||M==7){var Ny=this.mQL;if(M==1||M==7)NN.scale(Ny?Nc:1,Nc);else NN.scale(rY,Ny?rY:1);
if(this.mGJ&&R){if(M==1||M==7)Ne.ce=(Nz.x-Nm.x)/(Nz.y-Nm.y);else Ne.R=(Nz.y-Nm.y)/(Nz.x-Nm.x)}}var G=new Nu;
G.translate(-Nm.x,-Nm.y);G.concat(NN);G.concat(Ne);G.translate(Nm.x,Nm.y);V=[0,0,1,0,1,1,0,1];k.i.V(V,G,V);
var a=k.W.aX(n);k.W.apply(a,V)}if(mF.yI(V))this.KZ=V}this.HI(Q,S);if(x)K.Ku.qU(Q,T,x)};mF.uS=function(Q,S,B,y,l,D){var R=B-Q,p=y-S,O=l-Q,M=D-S,U=R*R+p*p,m=O*R+M*p,Y=m/U,x=Q+Y*R,T=S+Y*p,$=l-x,L=D-T;
return[x,T,Math.sqrt($*$+L*L)]};mF.prototype.uK=function(){var Q=this.KZ;return Math.abs(Q[1]-Q[3])<1e-6&&Math.abs(Q[2]-Q[4])<1e-6||Math.abs(Q[0]-Q[2])<1e-6&&Math.abs(Q[3]-Q[5])<1e-6};
mF.yI=function(Q){return k.i.IR(Q)||k.i.IR([Q[6],Q[7],Q[4],Q[5],Q[2],Q[3],Q[0],Q[1]])};mF.prototype.sn=function(Q,S,B,y){this.rR=-1;
this.ll=null;Q.J.Pg=null;Q.J.nQ=[];Q.rr=!0};mF.prototype.qh=function(Q,S,B){var y=B.tt();if(y.x||y.y){var l=new Nu(1,0,0,1,y.x,y.y);
k.i.V(this.KZ,l,this.KZ);this.HI(Q,S);return!0}return!1};mF.prototype.$j=function(Q){if(Q==null)Q=this.KZ;
var S=Q[6]-Q[0],B=Q[7]-Q[1],y=Q[4]-Q[2],l=Q[5]-Q[3],D=[Q[0],Q[1],Q[2],Q[3],Q[0]+S/2,Q[1]+B/2,Q[2]+y/2,Q[3]+l/2,Q[6],Q[7],Q[4],Q[5]],R=[];
for(var p=0;p<3;p++){var O=p*4,M=D[O+0],U=D[O+1],m=D[O+2],Y=D[O+3];R.push(new v(M,U));R.push(new v(M+(m-M)/2,U+(Y-U)/2));
R.push(new v(m,Y))}return R};mF.prototype.HI=function(Q,S,B){if(B==null)B=!1;var y=this.$j(),l=y[0],D=y[2],R=y[6],p=y[8];
Q.J.pN={F:[],M:[]};Q.J.pN.F.push("M","L","L","L","Z");Q.J.pN.M.push(l.x,l.y,D.x,D.y,p.x,p.y,R.x,R.y);
if(this.aD==2){var O=D.la(l),M=R.la(l),U=p.la(D),m=p.la(R);for(var Y=0;Y<3;Y++){Q.J.pN.F.push("M","L","M","L");
var x=(Y+1)*.25;Q.J.pN.M.push(l.x+O.x*x,l.y+O.y*x,R.x+m.x*x,R.y+m.y*x);Q.J.pN.M.push(l.x+M.x*x,l.y+M.y*x,D.x+U.x*x,D.y+U.y*x)}}Q.u.M_=new w(0,0,v.Ui(y[0],y[2]),v.Ui(y[0],y[6]));
if(this.rR!=-1&&this.rR<9&&this.ll){var T=Q.u.tL(this.ll.x,this.ll.y);K.WC.nX(T.x+10,T.y-10,Q.u.M_,Q,S)}if(!B){Q.J.La=[];
for(var Y=0;Y<y.length;Y++)if(Y!=4)Q.J.La.push(y[Y].x,y[Y].y);var $=this.cI();Q.J.La.push($.x,$.y)}Q.rr=!0};
mF.prototype.clear=function(Q){Q.u.M_=null;Q.J.Pg=null;Q.J.pN=null;Q.J.La=[];Q.rr=!0};function La(Q,S){this.cF=null;
this.rR=-1;this.gz(Q)}La.prototype.yA=function(){return JSON.parse(JSON.stringify(this.cF))};La.prototype.gz=function(Q){this.cF=JSON.parse(JSON.stringify(Q))};
La.prototype.Ah=function(Q){return!0};La.prototype.qH=function(Q,S){var B=this.AC(Q,S);if(B==-1)return"default";
return"pointer"};La.prototype.OQ=function(Q,S,B,y){this.rR=this.AC(y,Q.u.C);return this.rR!=-1};La.prototype.AC=function(Q,S){var B=-1,y=20*P._(),l=this.gm();
for(var D=0;D<l.length;D++)if(v.Ui(l[D],Q)*S<y)B=D;return B};La.prototype.Uy=function(Q,S,B,y){if(this.rR==-1)return;
var l=Q.u.C,D=this.rR,R=k.cF._i(this.cF);R[D*2]=y.x;R[D*2+1]=y.y;k.cF.IK(R,this.cF)};La.prototype.sn=function(Q,S,B,y){this.rR=-1;
Q.rr=!0};La.prototype.qh=function(Q,S,B){var y=B.tt();if(y.x||y.y){var l=new Nu(1,0,0,1,y.x,y.y);k.i.V(this.KZ,l,this.KZ);
this.HI(Q)}};La.prototype.gm=function(Q){var S=k.cF._i(this.cF),B=[];for(var y=0;y<S.length;y+=2)B.push(new v(S[y],S[y+1]));
return B};La.prototype.HI=function(Q){var S=this.gm();Q.J.pN={F:[],M:[]};Q.J.pN.F.push("M","C","C","C","C");
var B=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var y=0;y<B.length;y++)Q.J.pN.M.push(S[B[y]].x,S[B[y]].y);
Q.J.pN.F.push("M","L","L","M","L","L","M","L","L","M","L","L");B=[4,0,1,2,3,7,11,15,14,13,12,8];for(var y=0;
y<B.length;y++)Q.J.pN.M.push(S[B[y]].x,S[B[y]].y);Q.J.La=[];for(var y=0;y<S.length;y++)Q.J.La.push(S[y].x,S[y].y);
Q.rr=!0};La.prototype.clear=function(Q){Q.J.pN=null;Q.J.La=[];Q.rr=!0};var mw={};mw.DI=function(Q){this.id=Q;
this.VP=null};mw.DI.prototype.Ox=function(Q,S,B,y,l){};mw.DI.prototype.Lz=function(Q,S){};mw.DI.prototype.$B=function(Q,S){};
mw.DI.prototype.track=function(Q){var S=new b(P.E.RK,!0);S.data=Q;Q.eq=!0;this.VP.B(S)};mw.History=function(){mw.DI.call(this,K.CF);
this.Oz=!0;this.mLD=0};mw.History.prototype=new mw.DI;mw.History.prototype.Ox=function(Q,S,B,y){if(Q.H=="h_itemchange"){if(Q.index<B.GS)for(var l=B.GS;
l>Q.index;l--)this.yY(B);if(Q.index>B.GS)for(var l=B.GS;l<Q.index;l++)this.yK(B)}if(Q.H=="h_stepfwd")this.yK(B);
if(Q.H=="h_stepbck")this.yY(B);if(Q.H=="h_undoredo"){var D=this.Oz||this.mLD!=B.GS;if(D){this.yY(B);
D=!1}else{this.yK(B);D=!0}this.Oz=D;this.mLD=B.GS}else this.Oz=!0};mw.History.prototype.yY=function(Q){if(Q.GS==0)return;
var S=Q.history[Q.GS];S.h.$B(S.data,Q);Q.GS--};mw.History.prototype.yK=function(Q){if(Q.GS==Q.history.length-1)return;
var S=Q.history[Q.GS+1];S.h.Lz(S.data,Q);Q.GS++};mw.Fl=function(){mw.DI.call(this,K.Sb);this.VP=null};
mw.Fl.prototype=new mw.DI;mw.Fl.prototype.Ox=function(Q,S,B,y,l){this.VP=S;var D=Q.H,R=Q.$!=null?Q.$:B.I.length!=0?B.I[0]:B.G.length-1,p=B.G[R];
if(D==z.yP&&B.m==null)D=z.m$;if(D==z.XD){var O=new NO([6,33],this),M=p.So()?["pass"].concat(No.ea):No.ea,U=Q.$!=null?[Q.$]:B.I,m=JSON.stringify(U),Y=[];
for(var x=0;x<U.length;x++)Y.push(B.G[U[x]].wk);O.data={H:D,$s:m,HR:Y,ao:M[Q.ao]};B.Ra(O);this.Lz(O.data,B);
this.track(mg.JW("Md",{t:"enum",v:{BlnM:No.oM[Q.ao]}}))}if(D==z.Xx){var O,T=B.vO(),U=Q.$!=null?[Q.$]:B.I,m=JSON.stringify(U);
if(T&&T.data&&T.data.H==D&&T.data.$s==m)O=T;else{var $=mg.JW("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track($);var Y=[];for(var x=0;x<U.length;x++)Y.push(B.G[U[x]].opacity);O=new NO([6,32],this);O.data={H:D,$s:m,HR:Y,ao:Q.ao,Op:$.$o};
B.Ra(O)}O.data.ao=Q.ao;O.data.Op.T.v.Opct.v.val=Math.round(Q.ao*100/255);this.Lz(O.data,B)}if(D==z.Og){if(p.add.iOpa==null)p.add.iOpa=255;
var O,T=B.vO();if(T&&T.data&&T.data.H==D&&T.data.$==R)O=T;else{O=new NO("Fill Opacity Change",this);
O.data={H:D,$:R,HR:p.add.iOpa,ao:Q.ao};B.Ra(O)}O.data.ao=Q.ao;this.Lz(O.data,B)}if(D==z.Cl){if(p.add.lspf==null)p.add.lspf=0;
var Y=p.add.lspf,L=Y,s=Q.ao,O;for(var x=0;x<s[0].length;x++){var j=s[1][x],Z=1<<j;if((L&Z)==0&&s[0][x])L^=Z;
else if((L&Z)!=0&&!s[0][x])L^=Z}var T=B.vO();if(T&&T.data&&T.data.H==D&&T.data.$==R)O=T;else{var O=new NO([6,57,1],this);
O.data={H:D,$:R,HR:Y,ao:L};B.Ra(O)}O.data.ao=L;this.Lz(O.data,B)}if(D==z.O_){var e="----",J=Q.xe,L=null;
for(var x=0;x<N$.BR.rO.length;x++)if(p.add[N$.BR.rO[x]])e=N$.BR.rO[x];var N=p.add[e];if(J=="TySh")L=rA.Xq(50,50,l.sR);
var O=new NO("Layer Type",this);O.data={H:D,$:R,meR:[e,N],xe:[J,L]};B.Ra(O);this.Lz(O.data,B)}if(D==z.eo){var E=[];
if(y.N(A.qD)){var h=B.vO(),o=h?h.data:null;if(h!=null&&h.h==this&&o.H==z.eo&&o.$s.length!=1){var V=new b(P.E.D);
V.h=K.CF;V.data={H:"h_stepbck"};S.B(V);if(o.$==R)return}var n=B.root.Ob(R),t=B.M$(null,R);while(n.parent!=B.root){t.push(n.parent.index);
n=n.parent}for(var x=0;x<B.G.length;x++){var q=B.G[x],u=q.qm(),g=t.indexOf(x)!=-1;if(!g&&u)E.push(x);
if(x==R&&!u)E.push(x)}}else{E.push(R);var u=B.G[R].qm(),$={QF:u?"hide":"show",$o:{classID:u?"Hd":"Shw",null:{t:"VlLs",v:[mg.KG("Lyr",!0)]}}};
this.track($)}var O=new NO("Layer visibility",this,!0);O.data={H:D,$s:E,$:R};B.Ra(O);this.Lz(O.data,B)}if(D==z.XA){var $={QF:"select",$o:{classID:"null",MkVs:{t:"bool",v:!1}}},r,escape=!1;
if(B.u.T$.join("")!="111"){B.u.T$=[1,1,1];B.rr=!0}if(y.N(A.DQ)||Q.myq==0){var f=B.I.indexOf(R);if(f==-1)B.I.push(R);
else if(B.I.length>1)B.I.splice(f,1);B.I.sort(function(O,pQ){return O-pQ});$.$o.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
r=R}else if(y.N(A.CP)&&!y.N(A.qD)&&Q.wQ>0){D=Q.wQ==1?z.XJ:Q.wQ==2?z.CR:z.my;escape=!0}else if((y.N(A.CP)||Q.myq==1)&&B.I.length>0){var I=Math.min(R,B.I[0]),d=Math.max(R,B.I[B.I.length-1]);
B.I=[];for(var x=I;x<=d;x++)if(B.G[x].add.lsct!=NI.hR)B.I.push(x);$.$o.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
r=R}else{r=R;var q=B.G[R];if(q.So()&&Q.mGf)q.add.lsct=NI.YG;else if(B.I.length==1&&B.I[0]==R&&Q.wQ==q.Wg){return}B.I=[R];
B.VH()}if(r!=null){$.$o.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:B.G[r].getName()}}]},this.track($)}if(!escape){if(B.I.length==1){var a=B.I[0];
for(var x=0;x<B.G.length;x++){if(x==a)continue;var c=B.G[x];c.Wg=0;c.de=!1}var p=B.G[a];if(Q.wQ==2)p.de=!p.de;
else{p.Wg=Q.wQ<=0?0:Q.wQ;if(Q.wQ==1||Q.wQ==3){var _=Q.wQ==3?p.DG(B).k:p.Tb();_.TX=!1}}}else for(var x=0;
x<B.G.length;x++){var c=B.G[x];c.Wg=0;c.de=!1}B.KC=null;B.np=!0}}if(D==z.XJ||D==z.my){var C=D==z.XJ,_=C?p.Tb():p.DG(B).k;
if(_==null)return;var O=new NO(_.isEnabled?C?[6,15]:[6,42]:C?[6,14]:[6,41],this);O.data={H:D,$:R};B.Ra(O);
this.Lz(O.data,B)}if(D==z.CR){var _=p.add.vmsk;if(_==null)return;var O=new NO(_.isEnabled?[6,17]:[6,16],this);
O.data={H:D,$:R};B.Ra(O);this.Lz(O.data,B)}if(D==z.mRz){if(p.add.lsct==NI.YG)p.add.lsct=NI.Tu;else p.add.lsct=NI.YG;
B.np=!0}if(D==z.Xp){if(!B.Ok(R))return;var O=new NO(p.J$?[6,19]:[6,18],this);O.data={H:D,$:R};B.Ra(O);
if(Q.ao==null||Q.ao!=p.J$)this.Lz(O.data,B);this.track({QF:"groupEvent",$o:{classID:"GrpL",null:{t:"obj ",v:[mg.KG("Lyr",!0)]}}})}if(D==z.mVD){if(p.Kc())p.$N-=32;
else p.$N+=32;B.np=!0}if(D==z.mC||D==z.mP){var O;if(D==z.mC)O=new NO(p.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(D==z.mP)O=new NO(p.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);O.data={H:D,$:R};B.Ra(O);this.Lz(O.data,B)}if(D==z.mF||D==z.Mz){var a=Q.index,O;
if(D==z.mF)O=new NO(p.add.lmfx[rx.or[a[0]]].v[a[1]].v.enab.v?[6,30]:[6,29],this);if(D==z.Mz)O=new NO(p.add.SoLd.filterFX.v.filterFXList.v[a].v.enab.v?[6,44]:[6,43],this);
O.data={H:D,$:R,index:Q.index};B.Ra(O);this.Lz(O.data,B)}if(D==z.OE){if(Q.src==Q.bM)return;var F=B.G[Q.src],i=B.G[Q.bM],rP=F.add.lmfx?JSON.stringify(F.add.lmfx):"",rH=i.add.lmfx?JSON.stringify(i.add.lmfx):"";
if(i.add.lmfx==null){i.add.lmfx=JSON.parse(rx.default);for(var x=0;x<rx.order.length;x++)i.add.lmfx[rx.or[x]]={t:"VlLs",v:[]}}if(Q.QK==null){i.add.lmfx=JSON.parse(rP);
if(!Q.Vl)delete F.add.lmfx}else{var rK=Q.QK[0],rY=rx.or[rK];if(rx.mzG.indexOf(rx.order[rK])==-1)i.add.lmfx[rY].v=[];
i.add.lmfx[rY].v.push(F.add.lmfx[rY].v[Q.QK[1]]);if(!Q.Vl)F.add.lmfx[rY].v.splice(Q.QK[1],1)}var Nc=F.add.lmfx?JSON.stringify(F.add.lmfx):"",G=i.add.lmfx?JSON.stringify(i.add.lmfx):"";
if(!i.Kc())i.$N+=32;var O=new NO("Move Layer Styles",this);O.data={H:D,myD:Q.src,mqj:Q.bM,mGn:rP,mGO:rH,mGT:Nc,mGi:G};
B.Ra(O);this.Lz(O.data,B)}if(D==z.mRa){var c=B.G[Q.src],rI=JSON.stringify(c.add.SoLd),rb=JSON.parse(rI),Nr=rb.filterFX.v.filterFXList.v;
Nr.splice(Q.QK,1);var O=new NO([6,53],this);O.data={H:z.Mm,Zz:[{LZ:Q.src,_C:[rI,JSON.stringify(rb)]}]};
B.Ra(O);this.Lz(O.data,B)}if(D==z.mRm){var F=B.G[Q.src],i=B.G[Q.bM],Nz=[];if(F!=i&&i.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(F==i&&!Q.Vl&&(Q.QK==Q.xJ||Q.QK==-1))return;var NL=F.DG(B),rI=JSON.stringify(F.add.SoLd),rb=JSON.parse(rI),Nr=rb.filterFX.v.filterFXList.v;
if(F==i){Nr.splice(Q.xJ,0,Nr[Q.QK]);if(!Q.Vl)Nr.splice(Q.QK+(Q.QK<Q.xJ?0:1),1);Nz.push({LZ:Q.src,_C:[rI,JSON.stringify(rb)]})}else if(Q.QK==-1){var Nm=rb.filterFX;
if(!Q.Vl){delete rb.filterFX;Nz.push({LZ:Q.src,_C:[rI,JSON.stringify(rb)],Mb:[NL,null]})}var NN=i.as()?i.DG(B):null,Ne=mV.mRE(NL),Ny=JSON.stringify(i.add.SoLd),NG=JSON.parse(Ny);
NG.placed.v=Ne.id;NG.filterFX=Nm;Nz.push({LZ:Q.bM,_C:[Ny,JSON.stringify(NG)],Mb:[NN,Ne]})}else{var NC=Nr[Q.QK];
if(!Q.Vl){Nr.splice(Q.QK,1);Nz.push({LZ:Q.src,_C:[rI,JSON.stringify(rb)]})}var Ny=JSON.stringify(i.add.SoLd),NG=JSON.parse(Ny);
if(NG.filterFX==null)NG.filterFX=m_.Vc();var Ng=NG.filterFX.v.filterFXList.v;Ng.splice(Q.xJ,0,NC);var NM={LZ:Q.bM,_C:[Ny,JSON.stringify(NG)]};
if(!i.as()){var Ne=mV.mVo(i.add.SoLd.placed.v);NM.Mb=[null,Ne]}Nz.push(NM)}var O=new NO([6,52],this);
O.data={H:z.Mm,Zz:Nz};B.Ra(O);this.Lz(O.data,B)}if(D==z.mV){var _=p.Tb(),O=new NO(_.om?[6,26]:[6,25],this);
O.data={H:D,$:R};B.Ra(O);this.Lz(O.data,B);this.track({QF:"set",$o:{classID:"setd",null:{t:"obj ",v:[mg.KG("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:_.om}}}}})}if(D==z.ON){var _=p.add.vmsk,O=new NO(_.om?[6,28]:[6,27],this);
O.data={H:D,$:R};B.Ra(O);this.Lz(O.data,B)}if(D==z.Ou){var NQ=[],O;for(var x=0;x<B.I.length;x++){var NR=B.I[x],q=B.G[NR];
if(q.add.vogk)NQ.push(NR,JSON.stringify(q.add.vogk))}for(var x=0;x<B.lW.length;x++){var NR=B.lW[x],q=B.SX[NR];
if(q.add.vogk)NQ.push(-1-NR,JSON.stringify(q.add.vogk))}k.SI.mzF(B,Q.ML,Q.mGk);var NV=[];for(var x=0;
x<B.I.length;x++){var NR=B.I[x],q=B.G[NR];if(q.add.vogk)NV.push(NR,JSON.stringify(q.add.vogk))}for(var x=0;
x<B.lW.length;x++){var NR=B.lW[x],q=B.SX[NR];if(q.add.vogk)NV.push(-1-NR,JSON.stringify(q.add.vogk))}var T=B.vO();
if(T&&T.data&&T.data.H==D){var md=!0;for(var x=0;x<NQ.length;x+=2)if(NQ[x]!=T.data.xV[x])md=!1;if(md){O=T;
O.data.gB=NV}}if(O==null){var O=new NO([12,91,1],this);O.data={H:D,xV:NQ,gB:NV};B.Ra(O)}this.Lz(O.data,B)}if(D==z.Xa){var NV=B.Ka.slice(0),NW=B.rL.slice(0),Nh=B.m,Nt=B.m;
if(Q.Di=="fromAction"){var NU=Q.z.QF,Mw=Q.z.$o;if(NU=="make"||NU=="duplicate"){var mp=NV.length,NX=!1,Ni=!1;
if(B.na())mp--;var Na=new z.oW;Na.name="Alpha "+(mp+1);if(NU=="make"){var mm=Mw.Nw.v;Na.color=255;NW=[mp];
Na.TX=!0;Na.dJ=mm.Opct.v;if(mm.Nm)Na.name=mm.Nm.v;if(mm.classID=="SCch"){NX=!0;Nt=null;Na.ok=1}}else NX=!0;
if(NX){Na.color=0;if(B.m){Na.rect=B.m.rect.clone();Na.channel=B.m.channel.slice(0)}if(Ni){Na.color=255-Na.color;
k.SD(Na.channel)}}NV.splice(mp,0,Na)}else if(NU=="delete"){var t=B.rL;t.sort(function(O,pQ){return pQ-O});
if(t.length==0)return;for(var x=0;x<t.length;x++)NV.splice(t[x],1);NW=[]}else if(NU=="hide"){NV[NW[0]]=NV[NW[0]].clone();
NV[NW[0]].TX=!1}}if(Q.Di=="rnm"){NV[Q.d_]=NV[Q.d_].clone();NV[Q.d_].name=Q.name}var O=new NO("Channel Edit",this);
O.data={H:D,xV:B.Ka.slice(0),sD:B.rL.slice(0),gB:NV,$r:NW,_v:Nh,mT:Nt};this.Lz(O.data,B);B.Ra(O)}if(D==z.DF){var O=new NO(Q.$a,this);
O.data={H:z.DF,cV:B.G.slice(0),FP:Q.FP,qy:B.I.slice(0),qW:Q.mT};B.Ra(O);this.Lz(O.data,B)}if(D==z.ej){var NT=B.M$(null,Q.$),Ns=1e10;
if(NT.length==0)return;if(B.G.length==NT.length){alert("Project must have at least 1 layer");return}var NF=[];
for(var x=0;x<B.G.length;x++)if(NT.indexOf(x)==-1)NF.push(B.G[x]);for(var x=0;x<NT.length;x++)Ns=Math.min(Ns,NT[x]);
Ns=Math.max(Ns-1,0);while(NF[Ns].name=="</Layer group>")Ns++;this.track({QF:"delete",$o:{classID:"Dlt",null:mg.KG("Lyr",!0)}});
var O=new NO([6,31],this);O.data={H:z.DF,cV:B.G.slice(0),FP:NF,qy:B.I.slice(0),qW:[Ns]};B.Ra(O);this.Lz(O.data,B)}if(D==z.hF){var t=Q.mqi?Q.mqi:B.I,NB=0,RJ=!1;
if(t.length==0)return;if(t.length==1&&B.G[t[0]].Gl==0){alert(Nd.get([15,7,5]));return}var Rz=[];for(var x=0;
x<B.G.length;x++){var Nk=B.G[x].Gl;Rz.push(Nk);NB=Math.max(NB,Nk)}var mv=-1,NA=-1;for(var x=0;x<t.length;
x++){var Nk=B.G[t[x]].Gl;if(Nk==0)RJ=!0;else if(mv==-1||mv==Nk)mv=Nk;else NA=Nk}if(!RJ)for(var x=0;x<t.length;
x++)B.G[t[x]].Gl=0;else if(mv!=-1&&NA==-1)for(var x=0;x<t.length;x++)B.G[t[x]].Gl=mv;else for(var x=0;
x<t.length;x++)B.G[t[x]].Gl=NB+1;var Mr=[];for(var x=0;x<B.G.length;x++){var Nk=B.G[x].Gl;if(Mr[Nk]==null)Mr[Nk]=0;
Mr[Nk]++}for(var x=0;x<B.G.length;x++){var Nk=B.G[x].Gl;if(Mr[Nk]==1)B.G[x].Gl=0}var p$=Rz;Rz=[];for(var x=0;
x<B.G.length;x++){var Nk=B.G[x].Gl;Rz.push(Nk);NB=Math.max(NB,Nk)}var O=new NO(RJ?[6,54,0]:[6,54,1],this);
O.data={H:z.hF,mad:p$,may:Rz};B.Ra(O);this.Lz(O.data,B)}if(D==z.m$&&(Q.$!=null||B.I.length!=0)||D==z.Vf){var RL=B.MC(D==z.m$?Q.$:R);
if(D==z.Vf){var c=RL[0],NU=c.add.SoLd.Idnt.v,mR=B.q_(NU).clone();c.add.SoLd.Idnt.v=mR.LB=mV._H()+NU.slice(8);
B.add.lnk2.push(mR)}if(D==z.m$){var Ro={QF:"duplicate",$o:{classID:"null",null:mg.KG("Lyr",!0)}};if(Q.wa){RL[0].pM(Q.wa);
Ro.Nm={t:"TEXT",v:Q.wa}}this.track(Ro);Q.mJG=Q.$}D=z.mG;Q.G=RL;Q.ZD=B;Q.xh=B}if(D==z.mG){var mQ,mS,Rh=Q.ZD,ps=Q.xh;
if(Rh!=ps){console.log("ADDLAYERS different projs");var mQ=new w(0,0,Rh.r,Rh.O),mS=new w(0,0,ps.r,ps.O),mE=[],Rd=[];
for(var x=0;x<Q.G.length;x++){var c=Q.G[x];if(c.add.SoLd==null)continue;var NU=c.add.SoLd.Idnt.v;if(mE.indexOf(NU)==-1){mE.push(NU);
Rd.push(mV._H()+NU.slice(8))}c.add.SoLd.Idnt.v=Rd[mE.indexOf(NU)];var NL=c.DG(Rh);if(NL){Rh.VZ(NL);ps.uD(NL)}}if(mE.length>0){if(ps.add.lnk2==null)ps.add.lnk2=[];
for(var x=0;x<mE.length;x++){var Qz=Rh.q_(mE[x]),mR=Qz.clone();mR.LB=Rd[x];ps.add.lnk2.push(mR)}}}var Nh=ps.I.slice(0);
Nh.sort(function(O,pQ){return O-pQ});var NF=ps.G.slice(0),Nt=[],rX=-1;for(var x=0;x<Nh.length;x++)rX=Math.max(rX,Nh[x]);
if(Q.mJG!=null)rX=Q.mJG;rX++;for(var x=0;x<Q.G.length;x++){var q=Q.G[x];NF.splice(rX,0,q);Nt.push(rX);
rX++}if(Q.G[Q.G.length-1].So())Nt=[rX-1];var O=new NO([6,0],this);O.data={H:z.DF,cV:ps.G.slice(0),FP:NF,qy:Nh,qW:Nt};
ps.Ra(O);this.Lz(O.data,ps)}if(D==z.Dk){var Rm=Q.$!=null?[Q.$]:B.M$(),NF=B.G.slice(0);for(var x=0;x<Rm.length;
x++){var q=B.G[Rm[x]].clone();q.mRu(B);NF.splice(Rm[x],1,q)}var O=new NO([6,8],this);O.data={H:z.DF,cV:B.G.slice(0),FP:NF,qy:B.I.slice(0),qW:B.I.slice(0)};
B.Ra(O);this.Lz(O.data,B)}if(D==z.mzm){var NF=B.G.slice(0),q=NF[B.I[0]]=NF[B.I[0]].clone(),Ri=q.add.lmfx,RF=0;
delete q.add.lmfx;var Rl=k.Q(q.rect.Z());k.MA(q.buffer,Rl,3);var mW=Nq.hy(Ri,null,Rl,q.rect,B,q.rect).type;
for(var x=0;x<rx.order.length;x++){var Rv=rx.order[x],NK=mW[Rv],Mu=x>7;for(var RN=0;RN<NK.length;RN++){var pc=NK[RN],U=B.oz();
U.wk=pc.KS;U.opacity=Math.round(255*pc.po);U.J$=!Mu;U.buffer=pc.Ko;U.rect=pc.Cb;U.rect.offset(q.rect.x,q.rect.y);
U.pM(q.getName()+"'s "+Nd.get(rx.names[x]));NF.splice(B.I[0]+(Mu?0:1),0,U);if(Mu)RF++}}var O=new NO("Styles to Layers",this);
O.data={H:z.DF,cV:B.G.slice(0),FP:NF,qy:B.I.slice(0),qW:[B.I[0]+RF]};B.Ra(O);this.Lz(O.data,B)}if(D==z.VU){var Rm=B.M$(),NF=B.G.slice(0),RV=new w(0,0,B.r,B.O);
for(var x=0;x<Rm.length;x++){var RQ=B.G[Rm[x]],pa=RQ.qm();RQ.SO(!0);var RB=B.root.Ob(Rm[x]);if(RQ.So())continue;
if(RB==null)continue;var q=RQ.clone();q.mRu(B);var Mc=RB.jH(B,!0),Rk=B.G;B.$O([q]);B.s();B.re();q.buffer=k.Q(Mc.Z()*4);
k.oD(B.qB(),RV,q.buffer,Mc);q.rect=Mc;q.opacity=255;q.add.iOpa=255;q.wk="norm";q.s();q.K.UA=!0;B.$O(Rk);
if(q.add.lmfx)delete q.add.lmfx;q.k=q.xE=null;NF.splice(Rm[x],1,q);q.SO(pa);RQ.SO(pa)}var O=new NO([6,34],this);
O.data={H:z.DF,cV:B.G.slice(0),FP:NF,qy:B.I.slice(0),qW:B.I.slice(0)};B.Ra(O);this.Lz(O.data,B)}if(D==z.mzJ){var Rm=B.M$(),NF=B.G.slice(0);
for(var x=0;x<Rm.length;x++){var q=B.G[Rm[x]],mt=q.add.TySh;if(mt==null)continue;var c=new mn(mt.Nd,l.Tt),MC=k.i.QJ(Ru.Bw(c,mt));
for(var pF in MC){var MU=MC[pF],Rp=q.clone();delete Rp.add.TySh;Rp.$N=Rp.$N|1<<4;Rp.add.SoCo=JSON.parse(JSON.stringify(rx.Xc[0]));
var RA=Rp.add.SoCo.Clr.v;RA.Rd.v=parseInt(pF.slice(1,3),16);RA.Grn.v=parseInt(pF.slice(3,5),16);RA.Bl.v=parseInt(pF.slice(5,7),16);
var rq=new z.hm;rq.A=k.i.Ua(MU,!1);if(Rp.add.vmsk!=null){Rp.add.vmsk.mww();rq.concat(Rp.add.vmsk)}Rp.add.vmsk=rq;
Rp.add.vstk=JSON.parse(JSON.stringify(rx.xD.default));Rp.sr();Rp.Zs(B);NF.splice(NF.indexOf(q),0,Rp)}NF.splice(NF.indexOf(q),1)}var O=new NO([6,40],this);
O.data={H:z.DF,cV:B.G.slice(0),FP:NF,qy:B.I.slice(0),qW:B.I.slice(0)};B.Ra(O);this.Lz(O.data,B)}if(D==z.mzM){var RZ=B.I.length;
if(RZ<2)return;if(!B.Bz())return;var Rp=B.G[B.I[0]].clone(),NF=[];for(var x=0;x<B.G.length;x++)if(B.I.indexOf(x)==-1)NF.push(B.G[x]);
NF.splice(B.I[0],0,Rp);for(var x=1;x<RZ;x++){var q=B.G[B.I[x]],QN=q.rect.clone();QN.Jq(1,1);var pQ=k.Q(QN.Z()*4);
k.oD(q.buffer,q.rect,pQ,QN);Rp.extend(QN);var mk=k.Q(QN.Z()*4);k.oD(Rp.buffer,Rp.rect,mk,QN);var O=k.Q(QN.Z());
k.MA(pQ,O,3);k.round(O,200);k.KF(O,pQ,3);k.X.Rc("norm",pQ,QN,mk,QN,QN,1);k.wu.TF(mk,O,QN);k.oD(mk,QN,Rp.buffer,Rp.rect)}var O=new NO([2,10],this);
O.data={H:z.DF,cV:B.G.slice(0),FP:NF,qy:B.I.slice(0),qW:[B.I[0]]};B.Ra(O);this.Lz(O.data,B)}if(D==z.Vt){var NF=B.G.slice(0),NW=B.I.slice(0);
for(var x=0;x<NF.length;x++){var q=NF[x],RD=q.add.vmsk;if(q.iG()&&RD&&q.add.vstk.strokeEnabled.v&&!q.add.vstk.fillEnabled.v){var pt=RD.A,LW=0,rk=-1;
for(var RN=0;RN<pt.length;RN++){if((pt[RN].type==0||pt[RN].type==3)&&pt[RN].GL!=-1){LW++;if(pt[RN].type==3&&rk==-1){pt[RN].Xr=pt[RN].GL=1;
rk=RN}}}if(LW>1&&rk!=-1){console.log("separating an open path into a new layer");q=q.clone();RD=q.add.vmsk;
pt=RD.A;var U=pt[rk].length,My=q.clone();My.add.lyid=B.OK();RD.A=pt.slice(0,2).concat(pt.slice(rk,rk+U+1));
RD.I=[];q.Zs(B);q.s();var Lu=My.add.vmsk.A;My.add.vmsk.A=Lu.slice(0,rk).concat(Lu.slice(rk+U+1,Lu.length));
My.add.vmsk.I=[];My.Zs(B);NF[x]=q;NF.splice(x+1,0,My);for(var RN=0;RN<NW.length;RN++)if(NW[RN]>x)NW[RN]++;
var pC=NW.indexOf(x);if(pC!=-1){NW.splice(pC+1,0,x+1)}}}}if(NF.length!=B.G.length){var O=new NO("Splitting open paths",this);
O.data={H:z.DF,cV:B.G.slice(0),FP:NF,qy:B.I.slice(0),qW:NW};B.Ra(O);this.Lz(O.data,B)}}if(D==z.mmz){this.Ox({H:z.Vt},S,B,y,l);
var Nh=B.I.slice(0),Rk=B.G.slice(0),Rm=B.M$();if(Rm.length==0)return;B.mRM(Rm);var O=new NO([6,36,0],this);
O.data={H:z.DF,cV:Rk,FP:B.G.slice(),qy:Nh,qW:B.I.slice(0)};B.Ra(O);this.Lz(O.data,B)}if(D==z.K$){var Qz=Q.SB.q_(Q.id),mR=Qz.clone();
mR.raw=Q.data;mR.vG="8BIM";mR.Vx="8BPB";mR.oK=mR.oK+".psd";mR.qB(!1);Qz.qB(!1);var O=new NO([6,36,1],this);
O.data={H:z.K$,id:Q.id,xC:Qz,xu:mR};Q.SB.Ra(O);this.Lz(O.data,Q.SB)}if(D==z.mzA){var QD,Ml;if(Q.Uv){QD=Q.SB;
Ml=Q.Uv}else{Q.SB.Jc();Q.SB.Bq();Q.SB.s();Q.SB.re();Q.SB.qB();QD=Np.PSD.Ba(Q.SB,0,0,[!0,!0]);Ml=Q.SB.name}if(!(QD instanceof ArrayBuffer))throw"e";
QD=new Uint8Array(QD);var f=Q.x$!=null?Q.x$:B.I[B.I.length-1]+1,RH=B.ge(QD,Ml,0,0,!0),NF=B.G.slice(0);
NF.splice(f,0,RH);var O=new NO([6,36,2],this);O.data={H:z.DF,cV:B.G.slice(),FP:NF,qy:B.I.slice(0),qW:[NF.indexOf(RH)]};
B.Ra(O);this.Lz(O.data,B)}if(D==z.mWs){var LF=[],pW=[],LG=0;for(var x=0;x<B.I.length;x++){var NR=B.I[x],q=B.G[NR];
if(q.So()&&LF.indexOf(NR)==-1){LF.push(NR);pW.push(q.getName())}}if(LF.length!=2){LF=[];pW=[];for(var x=0;
x<B.G.length;x++){var NR=x,q=B.G[NR];if(q.So()&&LF.indexOf(NR)==-1){LF.push(NR);pW.push(q.getName())}}}if(LF.length<2){alert("We need at least two folders of layers");
return}var NK=[];for(var QA=0;QA<LF.length;QA++){var n=B.root.Ob(LF[QA]),NM=[[],[],0,QA];NK.push(NM);
if(n.children.length==0){alert("There is a folder \""+n.$.getName()+"\" without any layers.");return}for(var x=0;
x<n.children.length;x++){var NR=n.children[x].index,q=n.children[x].$,Na=q.getName(),pE=20;if(!Na.startsWith("_a_")){alert("Name of every frame should start with \"_a_\"");
return}var rQ=Na.split(",");if(rQ.length>1){var Ma=parseInt(rQ.pop());if(!isNaN(Ma)&&Ma!=0)pE=Ma}NM[0].push(q);
NM[1].push(pE);NM[2]+=pE}}NK.sort(function(O,pQ){return pQ[2]-O[2]});var MG=NK[0],pu=MG[2];for(var mj=1;
mj<NK.length;mj++){var NM=NK[mj],pw=1,Qf=NM[1].slice(0),rh=0;while((pw+1)*NM[2]<=MG[2]){pw++;Qf=Qf.concat(NM[1])}NM[1]=Qf;
NM[2]*=pw;var QU=MG[2]/NM[2];for(var x=0;x<NM[1].length;x++){var RI=Math.floor(NM[1][x]*QU);NM[1][x]=RI;
rh+=RI}while(rh<pu){rh++;NM[1][NM[1].length-1]++}NM[2]=rh}var rz=[],pf=[],RI=[];for(var x=0;x<NK.length;
x++){rz.push(0);pf.push(0)}while(LG<pu){var MN=1e9,mp=-1;for(var x=0;x<NK.length;x++){var Mj=NK[x][1],pS=rz[x];
if(pS!=Mj.length&&pf[x]+Mj[pS]<LG+MN){mp=x;MN=pf[x]+Mj[pS]-LG}}pf[mp]+=NK[mp][1][rz[mp]];rz[mp]++;if(MN!=0){RI.push(MN);
LG+=MN}}for(var x=0;x<RI.length;x++){var Qq=RI[x],MK=Qq>>>1;if(Qq<17){var NR=RI.length-1;if(x==0)RI[1]+=Qq;
else if(x==RI.length-1)RI[NR-1]+=Qq;else{RI[x-1]+=MK;RI[x+1]+=Qq-MK}RI.splice(x,1);x--}}var ry=B.I.slice(0);
B.I=LF;var NT=B.M$();NT.sort(function(O,pQ){return O-pQ});var NF=[];for(var x=0;x<B.G.length;x++){if(NT.indexOf(x)==-1)NF.push(B.G[x])}NK.sort(function(O,pQ){return O[3]-pQ[3]});
function Qo(Mj,cN){var x=0,cR=0;while(cR+Mj[x]<=cN){cR+=Mj[x];x++}return x}LG=0;NF.splice(NT[0],0,B.rg());
for(var pm=0;pm<RI.length;pm++){var E=[],pN=new w;for(var x=0;x<NK.length;x++){var pS=Qo(NK[x][1],LG)%NK[x][0].length,q=NK[x][0][pS];
E.push(q);pN=pN.wM(q.rect)}var q=B.oz();q.rect=pN;q.buffer=k.Q(pN.Z()*4);k.oD(E[0].buffer,E[0].rect,q.buffer,pN);
for(var x=1;x<NK.length;x++){var Qk=E[x];k.X.Rc("norm",Qk.buffer,Qk.rect,q.buffer,pN,pN,1)}q.SO(pm==0);
q.pM("_a_frm"+pm+","+RI[pm]);NF.splice(NT[0]+1+pm,0,q);LG+=RI[pm]}var q=B.oz();q.pM(pW.join(" + "));
q.wk="pass";q.add.lsct=NI.Tu;q.$N=24;NF.splice(NT[0]+1+RI.length,0,q);var O=new NO([6,12,0],this);O.data={H:z.DF,cV:B.G,FP:NF,qy:ry,qW:[NT[0]+1+RI.length]};
B.Ra(O);this.Lz(O.data,B)}if(D==z.XM||D==z.mr||D==z.DH){var Rk=B.G.slice(0),Nh=B.I.slice(0),Qu=!0,RH,Nt;
if(D==z.XM)B.I=[B.I[0],B.I[0]-1];if(D==z.DH){B.I=[];for(var x=0;x<B.G.length;x++)if(B.G[x].qm())B.I.push(x)}var Rm=B.M$();
Rm.sort(function(O,pQ){return O-pQ});var MZ=new w,RV=new w(0,0,B.r,B.O);for(var x=0;x<Rm.length;x++){var NR=Rm[x],q=B.G[NR];
Qu=Qu&&q.iG()&&q.add.vmsk!=null;MZ=MZ.wM(B.root.Ob(NR).jH(B,!0))}if(Qu){RH=B.G[Rm[0]].clone();var RD=RH.add.vmsk;
for(var x=1;x<Rm.length;x++){var U=B.G[Rm[x]],Lu=z.hm.tS(U.add.vmsk.A);RD.A=RD.A.concat(Lu.slice(2));
RH.add.vogk=RH.add.vogk.concat(JSON.parse(JSON.stringify(U.add.vogk)))}RH.add.vmsk.DP=!0;RH.Zs(B)}else if(RV.vM(MZ)){RH=B.oz();
RH.pM(B.G[Rm[Rm.length-1]].getName());RH.rect=MZ;RH.buffer=k.Q(MZ.Z()*4);var Qx=B.qB(Rm);k.oD(Qx,RV,RH.buffer,MZ);
RH.s()}else{B.mRM(Rm,!0);RH=B.G[B.I[0]];B.G.splice(B.I[0],1);var Qa=B.q_(RH.add.SoLd.Idnt.v);B.add.lnk2.splice(B.add.lnk2.indexOf(Qa),1);
delete RH.add.SoLd}var rj=y.N(A.qD),QF=-1;if(Q.$o&&Q.$o.Dplc&&Q.$o.Dplc.v)rj=!0;if(rj&&D==z.DH){QF=Nh[0];
RH.pM(B.G[QF].getName())}var NF=[];for(var x=0;x<B.G.length;x++)if(rj||Rm.indexOf(x)==-1)if(x!=QF)NF.push(B.G[x]);
var mU=Rm[Rm.length-1],Qn=mU==B.G.length-1?null:B.G[mU+1],QH=Qn?NF.indexOf(Qn):NF.length;NF.splice(QH,0,RH);
Nt=[QH];var O=new NO([6,12,0],this);O.data={H:z.DF,cV:Rk,FP:NF,qy:Nh,qW:Nt};B.Ra(O);this.Lz(O.data,B)}if(D==z.Vn){var Rp=B.oz();
Rp.rect=new w(0,0,B.r,B.O);Rp.buffer=k.Q(Rp.rect.Z()*4);k.St(Rp.buffer,4294967295);k.X.Rc("norm",B.qB(),Rp.rect,Rp.buffer,Rp.rect,Rp.rect,1);
Rp.pM("Background");Rp.add.lspf=1<<2;var O=new NO([6,12,1],this);O.data={H:z.DF,cV:B.G.slice(),FP:[Rp],qy:B.I.slice(0),qW:[0]};
B.Ra(O);this.Lz(O.data,B)}if(D==z.eT||D==z.mw||D==z.yf||D==z.mf||D==z.yP){var q=B.oz(),ri=Nd.get([0,3]),MA=Q.wa,LJ=!1,mO,Qt;
if(D==z.yf)ri=Nd.get([12,76,1]);if(D==z.yP){var RQ=B.G[B.I[0]],QW=RQ.KX(B,B.m);if(QW==null){alert("Copied area is empty");
return}q.rect=QW.rect,q.buffer=QW.Fk}if(D==z.mf){q.rect=mw.Fl.gR(Q.$l,B);q.buffer=k.clone(Q.$l.buffer)}if(D==z.eT){this.track({QF:"make",$o:{classID:"Mk",null:mg.KG("Lyr")}})}if(D==z.mw){q.$N|=16;
var cz=Q.$o.Usng.v,Q$=cz.Type.v,Q_=Nf.XS[Q$.classID];ri=Nd.get(Nf.names[Q_]);if(cz.Nm)MA=cz.Nm.v;q.add[Q_]=m_.yh(Q_);
for(var QY in Q$)q.add[Q_][QY]=JSON.parse(JSON.stringify(Q$[QY]));q.k=mw.Fl.gM(B)}if(D==z.yf){q.$N|=16;
var Mw=Q.$o,cz=Mw.Usng.v,Qw=cz.Type.v,RK=cz.Shp;if(RK==null)q.k=mw.Fl.gM(B);else{console.log(cz);q.add.vmsk=new z.hm;
q.add.vstk=JSON.parse(JSON.stringify(cz.strokeStyle?cz.strokeStyle.v:rx.xD.default));q.add.vogk=[];if(RK){var LL=k.SI.IM(RK);
if(LL){q.add.vogk=[LL];q.add.vmsk.A.push({type:0,GL:1,length:0});k.SI.wN(q.add.vogk,q.add.vmsk)}else{RK=RK.v;
var Lc=RK.classID;if(Lc=="Plgn"){var Mx=RK.Cntr.v,RY=RK.corner.v;Mx=new v(Mx.Hrzn.v.val,Mx.Vrtc.v.val);
RY=new v(RY.Hrzn.v.val,RY.Vrtc.v.val);q.add.vmsk.A=k.c.MV.II(Mx.x,Mx.y,Math.sqrt(RY.x*RY.x+RY.y*RY.y),Math.atan2(RY.y,RY.x),RK.sides.v,0)}else if(Lc=="customShape"){var mZ=k.SI.QM(RK),QS=mZ[2]-mZ[0],LN=mZ[3]-mZ[1],Lq=l.yS,MY,MD;
for(var x=0;x<Lq.length;x++)if(Lq[x].dy==RK.Nm.v)MY=Lq[x];if(MY){MD=z.hm.tS(MY.A);k.c.ZU(MD,new Nu(QS,0,0,LN,mZ[0],mZ[1]))}else MD=k.c.MV.Rect(mZ[0],mZ[1],QS,LN,0);
q.add.vmsk.A=MD}q.sr()}}}var Ql={solidColorLayer:0,gradientLayer:1,patternLayer:2}[Qw.classID],pG=["SoCo","GdFl","PtFl"][Ql];
q.add[pG]=JSON.parse(JSON.stringify(rx.Xc[Ql]));mw.Fl.AF(Qw,q.add[pG],Ql);if(RK==null)ri=Nd.get([6,48,0,Ql]);
if(pG=="PtFl")B.DL(Nq.tY(q.add[pG].Ptrn.v,l.tv));q.Zs(B)}var RZ=mw.Fl.gr(B,ri+" ");q.pM(ri+" "+(RZ+1));
if(MA)q.pM(MA);var Ly=B.I.length==0?B.G.length-1:B.I[B.I.length-1],mz=B.G[Ly];if(D==z.yf&&mz.tK()&&mz.rect.Kq()){LJ=!0;
q.pM(mz.getName());mO=Ly}else{mO=Ly+1;if(mz.add.lsct==NI.YG)mO--}var NF=B.G.slice(0);NF.splice(mO,LJ?1:0,q);
var QM=[5,2];if(D==z.eT)QM=[6,13];if(D==z.mw)QM=[6,1];if(D==z.yf){QM=[6,48,1];var RK=Q.$o.Usng.v.Shp;
if(RK){var LV={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[RK.v.classID];
if(LV)QM=LV}}if(D==z.yP){QM=[6,49]}if(D==z.yP||D==z.yf||D==z.mf)if(B.m)Qt=[B.m,null];var O=new NO(QM,this);
O.data={H:z.DF,cV:B.G.slice(0),FP:NF,qy:B.I.slice(0),qW:[mO],ZB:Qt};B.Ra(O);this.Lz(O.data,B);if(D==z.yf&&RK==null&&Ql!=0||D==z.mw){var L_=new b(P.E.T);
L_.data={H:P.l.WI,yc:Nn.Dg.jO};S.B(L_)}}if(D==z.Of){var q=B.oz();q.pM(Nd.get([0,4])+" "+B.G.length);
q.wk="pass";q.add.lsct=NI.YG;q.$N=24;var Qj=B.rg(),Ly=R,mO=Ly+1,NF=B.G.slice(0);NF.splice(mO,0,Qj,q);
var O=new NO([6,20],this);O.data={H:z.DF,cV:B.G.slice(0),FP:NF,qy:B.I.slice(0),qW:[mO+1]};B.Ra(O);this.Lz(O.data,B)}if(D==z.ue||D==z.DR){var RE=D==z.ue?Q.source:B.I[0],QQ,MO,Lw=B.I.indexOf(RE)!=-1,QO=y.N(A.qD)|Q.maa,ME;
if(Lw)ME=B.M$();else ME=B.MB(RE);ME.sort(function(O,pQ){return O-pQ});if(D==z.ue){QQ=Q.target;MO=Q.OR>.5}else if(Q.target!=null){QQ=Q.target;
MO=!0;B.fi=!0}else{var Lf=Q.Di;MO=Lf>1;if(Lf==0){QQ=B.G.length-1}if(Lf==1){QQ=ME[ME.length-1]+1;var U=B.MB(QQ);
if(U.indexOf(RE)==-1)QQ+=U.length-1}if(Lf==2){QQ=ME[0]-1;var U=B.MB(QQ);if(U.indexOf(RE)==-1)QQ-=U.length-1}if(Lf==3){QQ=0}if(QQ<0||QQ>B.G.length-1)return;
B.fi=!0}if(ME.indexOf(QQ)!=-1)return;var LO=B.G[QQ],NF=[];if(QO)NF=B.G.slice(0);else for(var x=0;x<B.G.length;
x++)if(ME.indexOf(x)==-1)NF.push(B.G[x]);var LB=NF.indexOf(LO);if(D==z.ue&&LO.So()&&LO.add.lsct==NI.Tu&&Q.OR>.8)LB-=B.MB(QQ).length-1;
var Ll=[],Lj=QO?B.MC(Lw?null:RE):null;for(var x=0;x<ME.length;x++){var Lo=LB+(MO?0:1)+x,c=QO?Lj[x]:B.G[ME[x]];
NF.splice(Lo,0,c);Ll.push(Lo)}var O=new NO(QO?[6,0]:[6,35],this);O.data={H:z.DF,cV:B.G.slice(0),FP:NF,qy:B.I.slice(0),qW:Ll};
B.Ra(O);this.Lz(O.data,B);var Mw={classID:"move",null:mg.KG("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:LB+(MO?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:QO}};
this.track({QF:"move",$o:Mw})}if(D==z.mD){var q=B.oz(),LT=Nd.get([0,4])+" ";q.pM(LT+(mw.Fl.gr(B,LT)+1));
q.wk="pass";if(Q.wa)q.pM(Q.wa);q.add.lsct=B.I.length==1?NI.YG:NI.Tu;q.$N=24;var Qj=B.rg(),ME=B.M$();
if(ME.length==0)return;ME.sort(function(O,pQ){return O-pQ});var NF=[];for(var x=0;x<B.G.length;x++)if(ME.indexOf(x)==-1)NF.push(B.G[x]);
var Ly=B.I[B.I.length-1]-ME.length;NF.splice(Ly+1,0,Qj);for(var x=0;x<ME.length;x++)NF.splice(Ly+2+x,0,B.G[ME[x]]);
NF.splice(Ly+2+ME.length,0,q);var O=new NO([6,9],this);O.data={H:z.DF,cV:B.G.slice(0),FP:NF,qy:B.I.slice(0),qW:[NF.indexOf(q)]};
B.Ra(O);this.Lz(O.data,B);var $={QF:"make",eq:!0};$.$o={classID:"Mk",null:mg.KG("layerSection"),From:mg.KG("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:q.getName()}}}};
this.track($)}if(D==z.mMY){if(B.I.length!=1)return;var f=B.I[0],Li=y.N(A.qD);if(B.G[f].Tb()==null){D=z.UY;
Q.aD=B.m?!Li?"RvlS":"HdSl":!Li?"RvlA":"HdAl"}else D=z.XV}if(D==z.UY){if(B.I.length!=1)return;var f=B.I[0],q=B.G[f],Lk=q.Tb();
if(Lk==null||Q.maw){var O=new NO([6,21],this),pL=new z.oW,pz=Q.aD,Lx=pz=="RvlS"||pz=="HdSl";if(pz=="RvlS"||pz=="HdAl"||pz=="Trns")pL.color=0;
if(Lx){pL.channel=k.clone(B.m.channel);pL.rect=B.m.rect.clone();if(pz=="HdSl")k.SD(pL.channel)}if(pz=="Trns"){pL.rect=q.rect.clone();
pL.channel=k.Q(q.rect.Z());k.MA(q.buffer,pL.channel,3)}O.data={H:D,$:f,k:pL,OJ:Lk,ZB:Lx?[B.m,null]:null};
B.Ra(O);this.Lz(O.data,B);B.G[f].Wg=1;this.track({QF:"make",$o:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:pz}}}})}}else if(D==z.DA){var F=B.G[Q.src],i=B.G[Q.bM];
if(i.Tb())return;var O=new NO([6,21],this),pL=F.Tb();if(Q.Vl){O.data={H:z.UY,$:Q.bM,k:pL.clone()}}else{O.data={H:D,src:Q.src,bM:Q.bM,k:pL}}B.Ra(O);
this.Lz(O.data,B)}if(D==z.Cy){if(B.I.length!=1)return;var f=R;if(B.G[f].Tb()!=null){var O=new NO([6,22],this);
O.data={H:D,$:f,k:B.G[f].Tb()};B.Ra(O);this.Lz(O.data,B)}}if(D==z.Vs){var Rk=B.G.slice(0),Rp=p.clone(),LP=Rp.Tb();
k.BX(LP.Xz(Rp.rect),Rp.rect,Rp.buffer,Rp.rect);mw.Fl.qY(B,Rp);B.G[B.I[0]]=Rp;var O=new NO([5,8],this);
O.data={H:z.DF,cV:Rk,FP:B.G.slice(),qy:B.I.slice(0),qW:B.I.slice(0)};B.Ra(O);this.Lz(O.data,B)}if(D==z.OX){if(B.I.length!=1)return;
var f=B.I[0];if(B.G[f].DG(B).k==null){var O=new NO([6,45],this);O.data={H:D,$:f,k:new z.oW};B.Ra(O);
this.Lz(O.data,B)}}if(D==z.OD){if(B.I.length!=1)return;var f=B.I[0];if(B.G[f].DG(B).k!=null){var O=new NO([6,46],this);
O.data={H:D,$:f,k:B.G[f].DG(B).k};B.Ra(O);this.Lz(O.data,B)}}if(D==z.V$){if(Q.$==null&&B.I.length!=1)return;
if(B.G[R].as()){var O=new NO([6,47],this),rI=JSON.stringify(B.G[R].add.SoLd),rb=JSON.parse(rI);delete rb.filterFX;
O.data={H:z.Mm,Zz:[{LZ:R,_C:[rI,JSON.stringify(rb)],Mb:[B.G[R].DG(B),null]}]};B.Ra(O);this.Lz(O.data,B)}}if(D==z.XV){if(B.I.length!=1)return;
if(p.add.vmsk==null){var O=new NO([6,23],this),pL=new z.hm;pL.A[1].all=Q.mVE?0:1;O.data={H:D,$:R,OC:!0,k:pL,SI:"[]",xD:null};
if(p.iG()){O.data.xD=JSON.stringify(rx.xD.default)}B.Ra(O);this.Lz(O.data,B)}}if(D==z.OM){var F=B.G[Q.src],i=B.G[Q.bM];
if(i.add.vmsk)return;var O=new NO([6,23],this),RD=F.add.vmsk;O.data={$:Q.bM,OC:F.de,k:RD.clone(),SI:JSON.stringify(F.add.vogk),xD:F.add.vstk?JSON.stringify(F.add.vstk):null};
if(Q.Vl){O.data.H=z.XV}else{O.data.H=D;O.data.src=Q.src;O.data.bM=Q.bM}B.Ra(O);this.Lz(O.data,B)}if(D==z.CV){if(B.I.length!=1)return;
var q=B.G[R],RD=q.add.vmsk;if(RD!=null){var O=new NO([6,24],this);O.data={H:D,$:R,OC:q.de,k:RD,SI:JSON.stringify(q.add.vogk),xD:q.add.vstk?JSON.stringify(q.add.vstk):null};
B.Ra(O);this.Lz(O.data,B)}}if(D==z.mj){var LI=Q.bM?Q.bM:B,L$=LI.name,MA=Q.z+".psd";if(L$==MA)return;
var O=new NO([6,37],this);O.data={H:D,OW:L$,wa:MA};if(Q.mas!=!0)LI.Ra(O);this.Lz(O.data,LI)}if(D==z.uy){var L$=p.getName(),MA=Q.name.substring(0,255);
if(L$==MA)return;var O=new NO([6,37],this);O.data={H:D,$:R,OW:L$,wa:MA,mCp:p.add.lnsr,mCe:null};B.Ra(O);
this.Lz(O.data,B);this.track(mg.JW("Nm",{t:"TEXT",v:MA}))}if(D==z.mk){var LA=B.M$(),LY=[],LS=[];for(var x=0;
x<LA.length;x++){LY.push(B.G[LA[x]].add.lclr);LS.push(Q.maT)}var O=new NO([6,38],this);O.data={H:D,G:LA,mvd:LY,mvJ:LS};
B.Ra(O);this.Lz(O.data,B)}if(D==z.OO){var O=B.history[B.GS];if(O!=null&&O.h==this&&O.data.H==D&&O.data.$==Q.OG&&O.data.ao.Un==Q.gn.Un)O.data.ao=Q.gn;
else{O=new NO("Mask Density / Feather",this);O.data={H:D,$:Q.OG,Zx:B.G[Q.OG].mrN(Q.gn.Un),ao:Q.gn};B.Ra(O)}this.Lz(O.data,B)}if(D==z.un){var LK=JSON.stringify(Q.z),mT=JSON.parse(LK),O=B.history[B.GS];
if(O!=null&&O.h==this&&O.data.H==D&&O.data.Hr==Q.Hr&&O.data.$s.join(",")==Q.$s.join(",")){for(var x=0;
x<Q.$s.length;x++)O.data.Os[x]=mT;if(O.data.$o&&mT.Vx!=0)mw.Fl.AF(mT.DW,O.data.$o.T.v,mT.Vx-1)}else{O=new NO([11,6],this);
O.data={H:D,$s:Q.$s,Hr:Q.Hr,mCo:[],Os:[]};var cm=!1;for(var x=0;x<Q.$s.length;x++){var NR=Q.$s[x],q=B.G[NR],cM=Q.Hr?K.hH.uw(B,NR):JSON.parse(JSON.stringify(q.add.vstk));
O.data.mCo.push(cM);O.data.Os.push(mT);if(JSON.stringify(cM)!=LK)cm=!0}if(!cm)return;B.Ra(O);if(Q.Hr&&mT.Vx>0){var Mw=O.data.$o={classID:"setd",null:mg.KG("contentLayer",!0),T:{t:"Objc",v:{}}},pG=["SoCo","GdFl","PtFl"][mT.Vx-1];
mw.Fl.AF(mT.DW,Mw.T.v,mT.Vx-1);this.track({QF:"set",$o:Mw})}}if(Q.Hr&&mT.Vx==3)B.DL(Nq.tY(mT.DW.Ptrn.v,l.tv));
if(!Q.Hr){var cp=mT.strokeStyleContent.v;if(cp.classID==rx.xD.Uc[2])B.DL(Nq.tY(cp.Ptrn.v,l.tv))}this.Lz(O.data,B)}};
mw.Fl.AF=function(Q,S,B){var y=[rx.ti,rx.nj,rx.sG][B];if(S.classID==null)S.classID=["solidColorLayer","gradientLayer","patternLayer"][B];
for(var l=0;l<y.length;l++)if(Q[y[l]])S[y[l]]=JSON.parse(JSON.stringify(Q[y[l]]))};mw.Fl.gM=function(Q){var S=new z.oW;
if(Q.m!=null){S.color=0;S.channel=k.clone(Q.m.channel);S.rect=Q.m.rect.clone()}return S};mw.Fl.gp=function(Q,S,B,y){var l=y.r/B.r,D=y.O/B.O,R=y.r/2,p=y.O/2,O=k.i.wS(y).M;
for(var M=0;M<Q.G.length;M++){var U=Q.G[M],m=U.add.SoLd;if(m==null||m.Idnt.v!=S)continue;if(l!=1||D!=1){var Y=K.Sj.so(m.nonAffineTransform),x=k.W.aX(Y,y),T=new Nu;
T.translate(-R,-p);T.scale(l,D);T.translate(R,p);var $=k.W.Cr(x,k.W.Tz(T)),L=O.slice(0);k.W.apply($,L);
m.Trnf=K.Sj.tQ(L);m.nonAffineTransform=K.Sj.tQ(L)}U._T(Q)}Q.s()};mw.Fl.mvl=function(Q,S,B){S.color=255-S.color;
k.SD(S.channel);S.DP=!0;Q.Zs(B);B.s()};mw.Fl.prototype.$B=function(Q,S){var B=Q.H,y=S.G[Q.$];if(B==z.K$){S.add.lnk2.splice(S.add.lnk2.indexOf(Q.xu),1,Q.xC);
mw.Fl.gp(S,Q.id,Q.xu.Km[1],Q.xC.Km[1])}if(B==z.XD){var l=JSON.parse(Q.$s);for(var D=0;D<l.length;D++)S.G[l[D]].wk=Q.HR[D];
S.s()}if(B==z.Xx){var l=JSON.parse(Q.$s);for(var D=0;D<l.length;D++)S.G[l[D]].opacity=Q.HR[D];S.s()}if(B==z.Cl){y.add.lspf=Q.HR}if(B==z.O_){var R=Q.xe,p=Q.meR;
delete y.add[R[0]];if(p[0]!="----")y.add[p[0]]=p[1]}if(B==z.Og){y.add.iOpa=Q.HR;S.s()}if(B==z.eo){for(var D=0;
D<Q.$s.length;D++){var O=S.G[Q.$s[D]];O.SO(!O.qm())}S.s()}if(B==z.XJ){var M=y.Tb();M.isEnabled=!M.isEnabled;
y.Zs(S);S.s()}if(B==z.my){var M=y.DG(S).k;M.isEnabled=!M.isEnabled;y.s();S.s()}if(B==z.CR){var M=y.add.vmsk;
M.isEnabled=!M.isEnabled;if(!M.isEnabled){if(y.xE){y.k=y.xE;y.xE=null}else y.k=null}else if(y.k){y.xE=y.k;
y.k=null}y.Zs(S);S.s()}if(B==z.Xp){y.J$=!y.J$;S.s()}if(B==z.mC){y.add.lmfx.masterFXSwitch.v=!y.add.lmfx.masterFXSwitch.v;
y.K.UA=!0;S.s()}if(B==z.mP){y.add.SoLd.filterFX.v.enab.v=!y.add.SoLd.filterFX.v.enab.v;y.tH(S);S.s()}if(B==z.mF){var U=Q.index,m=y.add.lmfx[rx.or[U[0]]].v[U[1]].v;
m.enab.v=!m.enab.v;y.K.UA=!0;S.s()}if(B==z.OE){var Y=S.G[Q.myD],x=S.G[Q.mqj],T=Q.mGn,$=Q.mGO;if(T=="")delete Y.add.lmfx;
else Y.add.lmfx=JSON.parse(T);if($=="")delete x.add.lmfx;else x.add.lmfx=JSON.parse($);Y.K.UA=!0;x.K.UA=!0;
S.s()}if(B==z.Mz){var L=y.add.SoLd.filterFX.v.filterFXList.v[Q.index].v;L.enab.v=!L.enab.v;y.tH(S);S.s()}if(B==z.mQD){y.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(Q.myt));
y.tH(S);S.s()}if(B==z.mV){var M=y.Tb();M.om=!M.om}if(B==z.ON){var M=y.add.vmsk;M.om=!M.om}if(B==z.Ou){var s=Q.xV;
for(var D=0;D<s.length;D+=2){var j=s[D],O=j>=0?S.G[j]:S.SX[-1-j];O.add.vogk=JSON.parse(s[D+1]);k.SI.wN(O.add.vogk,O.add.vmsk);
if(j>=0)O.Zs(S)}S.s()}if(B==z.Xa){S.m=Q._v;S.Ka=Q.xV.slice(0);S.rL=Q.sD.slice(0);S.rr=S.ha=!0}if(B==z.hF){var Z=Q.mad;
for(var D=0;D<Z.length;D++)S.G[D].Gl=Z[D]}if(B==z.DF){if(Q.qy)S.I=Q.qy;if(Q.ZB)S.m=Q.ZB[0];S.KC=null;
S.s();S.$O(Q.cV)}if(B==z.UY){mw.Fl.qY(S,y);if(Q.OJ)mw.Fl.AU(S,y,Q.OJ);if(Q.ZB){var e=Q.ZB[0];if(e==null)delete S.m;
else S.m=e}}if(B==z.DA){mw.Fl.qY(S,S.G[Q.bM]);mw.Fl.AU(S,S.G[Q.src],Q.k)}if(B==z.Cy){mw.Fl.AU(S,y,Q.k)}if(B==z.OX){y.DG(S).k=null;
y.s();S.s()}if(B==z.OD){y.DG(S).k=Q.k;y.s();S.s()}if(B==z.Mm){mw.Fl.gN(S,Q.Zz,0)}if(B==z.XV){mw.Fl.ty(S,y,!0)}if(B==z.OM){mw.Fl.ty(S,S.G[Q.bM],Q.k.isEnabled);
mw.Fl.th(S,S.G[Q.src],Q)}if(B==z.CV){mw.Fl.th(S,y,Q)}if(B==z.mj){S.name=Q.OW}if(B==z.uy){y.pM(Q.OW);
if(Q.mCp)y.add.lnsr=Q.mCp;else delete y.add.lnsr}if(B==z.mk){for(var D=0;D<Q.G.length;D++)S.G[Q.G[D]].add.lclr=Q.mvd[D]}if(B==z.un){var J=Q.mCo;
for(var D=0;D<Q.$s.length;D++){var O=S.G[Q.$s[D]],N=J[D];if(!Q.Hr)O.add.vstk=JSON.parse(JSON.stringify(N));
else K.hH.uf(O,JSON.parse(JSON.stringify(N)));O.Dd(S)}S.s()}if(B==z.OO){y.mzj(Q.Zx);y.Zs(S);S.s()}S.np=!0};
mw.Fl.prototype.Lz=function(Q,S){var B=Q.H,y=S.G[Q.$];if(B==z.K$){S.add.lnk2.splice(S.add.lnk2.indexOf(Q.xC),1,Q.xu);
mw.Fl.gp(S,Q.id,Q.xC.Km[1],Q.xu.Km[1])}if(B==z.XD){var l=JSON.parse(Q.$s);for(var D=0;D<l.length;D++)S.G[l[D]].wk=Q.ao;
S.s()}if(B==z.Xx){var l=JSON.parse(Q.$s);for(var D=0;D<l.length;D++)S.G[l[D]].opacity=Q.ao;S.s()}if(B==z.Cl){y.add.lspf=Q.ao}if(B==z.O_){var R=Q.meR,p=Q.xe;
delete y.add[R[0]];if(p[0]!="----")y.add[p[0]]=p[1]}if(B==z.Og){y.add.iOpa=Q.ao;S.s()}if(B==z.eo){for(var D=0;
D<Q.$s.length;D++){var O=S.G[Q.$s[D]];O.SO(!O.qm())}S.s()}if(B==z.XJ){var M=y.Tb();M.isEnabled=!M.isEnabled;
y.Zs(S);S.s()}if(B==z.my){var M=y.DG(S).k;M.isEnabled=!M.isEnabled;y.s();S.s()}if(B==z.CR){var M=y.add.vmsk;
M.isEnabled=!M.isEnabled;if(!M.isEnabled){if(y.xE){y.k=y.xE;y.xE=null}else y.k=null}else if(y.k){y.xE=y.k;
y.k=null}y.Zs(S);S.s()}if(B==z.Xp){y.J$=!y.J$;S.s()}if(B==z.mC){y.add.lmfx.masterFXSwitch.v=!y.add.lmfx.masterFXSwitch.v;
y.K.UA=!0;S.s()}if(B==z.mP){y.add.SoLd.filterFX.v.enab.v=!y.add.SoLd.filterFX.v.enab.v;y.tH(S);S.s()}if(B==z.mF){var U=Q.index,m=y.add.lmfx[rx.or[U[0]]].v[U[1]].v;
m.enab.v=!m.enab.v;y.K.UA=!0;S.s()}if(B==z.OE){var Y=S.G[Q.myD],x=S.G[Q.mqj],T=Q.mGT,$=Q.mGi;if(T=="")delete Y.add.lmfx;
else Y.add.lmfx=JSON.parse(T);if($=="")delete x.add.lmfx;else x.add.lmfx=JSON.parse($);Y.K.UA=!0;x.K.UA=!0;
S.s()}if(B==z.Mz){var L=y.add.SoLd.filterFX.v.filterFXList.v[Q.index].v;L.enab.v=!L.enab.v;y.tH(S);S.s()}if(B==z.mQD){y.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(Q.myX));
y.tH(S);S.s()}if(B==z.mV){var M=y.Tb();M.om=!M.om}if(B==z.ON){var M=y.add.vmsk;M.om=!M.om}if(B==z.Ou){var s=Q.gB;
for(var D=0;D<s.length;D+=2){var j=s[D],O=j>=0?S.G[j]:S.SX[-1-j];O.add.vogk=JSON.parse(s[D+1]);k.SI.wN(O.add.vogk,O.add.vmsk);
if(j>=0)O.Zs(S)}S.s()}if(B==z.Xa){S.m=Q.mT;S.Ka=Q.gB.slice(0);S.rL=Q.$r.slice(0);S.rr=S.ha=!0}if(B==z.hF){var Z=Q.may;
for(var D=0;D<Z.length;D++)S.G[D].Gl=Z[D]}if(B==z.DF){if(Q.qW)S.I=Q.qW;if(Q.ZB)S.m=Q.ZB[1];S.KC=null;
S.s();S.$O(Q.FP)}if(B==z.UY){if(Q.OJ)mw.Fl.qY(S,y);mw.Fl.AU(S,y,Q.k);if(Q.ZB){var e=Q.ZB[1];if(e==null)delete S.m;
else S.m=e}}if(B==z.DA){mw.Fl.qY(S,S.G[Q.src]);mw.Fl.AU(S,S.G[Q.bM],Q.k)}if(B==z.Cy){mw.Fl.qY(S,y)}if(B==z.OX){y.DG(S).k=Q.k;
y.Wg=0;y.s();S.s()}if(B==z.OD){y.DG(S).k=null;y.Wg=0;y.s();S.s()}if(B==z.Mm){mw.Fl.gN(S,Q.Zz,1)}if(B==z.XV){mw.Fl.th(S,y,Q)}if(B==z.OM){mw.Fl.ty(S,S.G[Q.src],Q.k.isEnabled);
mw.Fl.th(S,S.G[Q.bM],Q)}if(B==z.CV){mw.Fl.ty(S,y,Q.k.isEnabled)}if(B==z.mj){S.name=Q.wa}if(B==z.uy){y.pM(Q.wa);
if(Q.mCe)y.add.lnsr=Q.mCe;else delete y.add.lnsr}if(B==z.mk){for(var D=0;D<Q.G.length;D++)S.G[Q.G[D]].add.lclr=Q.mvJ[D]}if(B==z.un){var J=Q.Os;
for(var D=0;D<Q.$s.length;D++){var O=S.G[Q.$s[D]],N=J[D];if(!Q.Hr)O.add.vstk=JSON.parse(JSON.stringify(N));
else K.hH.uf(O,JSON.parse(JSON.stringify(N)));O.Dd(S)}S.s()}if(B==z.OO){y.mzj(Q.ao);y.Zs(S);S.s()}S.np=!0};
mw.Fl.gr=function(Q,S){var B=0;for(var y=0;y<Q.G.length;y++){var l=Q.G[y].getName();if(l.startsWith(S)){var D=l.slice(S.length).trim(),R=parseInt(D);
if(!isNaN(R)&&R+""==D)B=R}}return B};mw.Fl.gN=function(Q,S,B){for(var y=0;y<S.length;y++){var l=S[y],D=Q.G[l.LZ];
if(l._C){D.add.SoLd=JSON.parse(l._C[B])}if(l.Mb){if(l.Mb[1-B]!=null)Q.VZ(l.Mb[1-B]);if(l.Mb[B]!=null)Q.uD(l.Mb[B]);
else D.Wg=0}D._T(Q)}};mw.Fl.gR=function(Q,S){var B=Q.vT,y=Q.rect.clone();if(B!=null&&(B.x!=S.r||B.y!=S.O)){y.x=Math.floor((S.r-y.r)/2);
y.y=Math.floor((S.O-y.O)/2)}return y};mw.Fl.qY=function(Q,S){if(S.xE)S.xE=null;else S.k=null;S.Zs(Q);
Q.s();S.Wg=0};mw.Fl.AU=function(Q,S,B){if(S.k)S.xE=B;else S.k=B;S.Zs(Q);Q.s()};mw.Fl.ty=function(Q,S,B){if(S.xE&&B){S.k=S.xE;
S.xE=null}else if(S.k&&B){S.k=null}delete S.add.vogk;delete S.add.vstk;delete S.add.vmsk;S.Zs(Q);S.de=!1;
Q.s()};mw.Fl.th=function(Q,S,B){S.add.vogk=JSON.parse(B.SI);if(B.xD)S.add.vstk=JSON.parse(B.xD);else delete S.add.vstk;
S.add.vmsk=B.k.clone();if(S.k&&S.add.vmsk.isEnabled)S.xE=S.k;S.Zs(Q);S.de=B.OC;Q.s()};mw.OL=function(){mw.DI.call(this,K.Qn);
this.tU=null;this.Hv=null;this.bZ=null;this.Pf=[];this.xv=null};mw.OL.prototype=new mw.DI;mw.OL.prototype.Ox=function(Q,S,B,y,l){var D=B.G[Q.$],R=Q.d_,O=null;
if(this.tU==null){this.bZ=mw.OL.ta(B,D);this.tU=JSON.stringify(this.bZ);if(D.add.lmfx)this.Hv=JSON.stringify(D.add.lmfx)}if(D.add.lmfx==null){D.add.lmfx=JSON.parse(rx.default);
for(var p=0;p<rx.order.length;p++)D.add.lmfx[rx.or[p]]={t:"VlLs",v:[]}}if(Q.H=="changeprop"){if(R!=0){var M=this.Pf[R[0]];
if(M==null)M=rx.Pf[R[0]];M=JSON.parse(M);var U=D.add.lmfx[rx.or[R[0]]].v;if(U[R[1]]==null)U[R[1]]={t:"Objc",v:M};
O=U[R[1]].v;for(var m in M)if(O[m]==null)O[m]=M[m]}if(Q.H=="changeprop"){if(R==0){this.bZ[Q.dP].v=Q.z;
mw.OL.Ai(B,D,this.bZ)}else if(Q.dP=="lagl"){if(O.uglg&&O.uglg.v){B.Mr(Q.z.val);this.bZ.mFq=B.qQ()}else O[Q.dP].v=Q.z}else if(Q.dP=="Lald"){if(O.uglg.v){B.Bm(Q.z.val);
this.bZ.mFK=B.My()}else O[Q.dP].v=Q.z}else if((R[0]==3||R[0]==8)&&(Q.dP=="Clr"||Q.dP=="Grad")){if(Q.dP=="Clr"){O.Clr={t:"Objc",v:Q.z};
delete O.Grad}if(Q.dP=="Grad"){O.Grad={t:"Objc",v:Q.z};delete O.Clr}}else{O[Q.dP].v=Q.z}if(R!=0)this.Pf[R[0]]=JSON.stringify(O)}if(R!=0)if(O.Ptrn)B.DL(Nq.tY(O.Ptrn.v,l.tv))}else if(Q.H=="setstl"){var Y=Q.z.Lefx;
if(Y)Nq.mFW(Y,B,l.tv);Nq.mhC(Q.z,D);this.bZ=mw.OL.ta(B,D)}else if(Q.H=="st_dupsingle"){var x=D.add.lmfx[rx.or[Q.sA[0]]].v;
if(x[Q.sA[1]]==null)return;var T=JSON.parse(JSON.stringify(x[Q.sA[1]]));x.splice(Q.sA[1],0,T)}else if(Q.H=="st_movsingle"){var $=Q.sA[1],x=D.add.lmfx[rx.or[Q.sA[0]]].v;
if(x[Q.sA[1]]==null)return;var L=Math.max(0,Math.min(x.length-1,$+Q.m_y)),s=x[L];x[L]=x[$];x[$]=s}else if(Q.H=="cancel"){if(this.Hv==null)delete D.add.lmfx;
else D.add.lmfx=JSON.parse(this.Hv);mw.OL.Ai(B,D,JSON.parse(this.tU));this.tU=null;this.Hv=null}else if(Q.H=="confirm"){var j=new NO([11,6],this);
j.data={G:[Q.$],Ot:[this.Hv],OY:[JSON.stringify(D.add.lmfx)],Br:[this.tU],Bc:[JSON.stringify(this.bZ)]};
B.Ra(j);this.tU=null;this.Hv=null}else if(Q.H=="st_copy"){this.xv=[this.tU,this.Hv];this.tU=null;this.Hv=null}else if(Q.H=="st_paste"||Q.H=="st_clear"){if(Q.H=="st_paste"&&this.xv==null)return;
var Z=B.I.indexOf(Q.$)==-1?[Q.$]:B.I.slice(0),e=[],J=[],N=[],E=[];for(var p=0;p<Z.length;p++){var D=B.G[Z[p]],h=mw.OL.ta(B,D);
e.push(D.add.lmfx?JSON.stringify(D.add.lmfx):null);N.push(JSON.stringify(h));if(Q.H=="st_paste"){J.push(this.xv[1]);
E.push(this.xv[0])}else{J.push(null);h.lrMd.v=0;h.Opct.v.val=100;h.iOpa.v.val=100;h.blIf={v:[]};for(var p=0;
p<10;p++)h.blIf.v.push(0,0,255,255);E.push(JSON.stringify(h))}}var j=new NO([11,6],this);j.data={G:Z,Ot:e,OY:J,Br:N,Bc:E};
this.Lz(j.data,B);B.Ra(j);this.tU=null;this.Hv=null}else{var o=this.bZ,V=null;if(Q.H=="st_delsingle"){V=JSON.parse(this.Hv);
V[rx.or[Q.sA[0]]].v.splice(Q.sA[1],1);V=JSON.stringify(V)}if(V==null)delete D.add.lmfx;else D.add.lmfx=JSON.parse(V);
if(o!=null)mw.OL.Ai(B,D,o);var j=new NO([11,6],this);j.data={G:[Q.$],Ot:[this.Hv],OY:[V],Br:[this.tU],Bc:[JSON.stringify(o)]};
B.Ra(j);this.tU=null;this.Hv=null}D.K.UA=!0;B.s()};mw.OL.ta=function(Q,S){if(S.add.iOpa==null)S.add.iOpa=255;
var B=S.So()?["pass"].concat(No.ea):No.ea;return{lrMd:{v:B.indexOf(S.wk)},Opct:{v:{type:"#Prc",val:Math.round(S.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(S.add.iOpa*100/255)},t:"UntF"},blIf:{v:S.US.slice(0)},mFq:Q.qQ(),mFK:Q.My(),So:S.So()}};
mw.OL.Ai=function(Q,S,B){var y=S.So()?["pass"].concat(No.ea):No.ea;S.wk=y[B.lrMd.v];S.opacity=Math.round(B.Opct.v.val*255/100);
S.add.iOpa=Math.round(B.iOpa.v.val*255/100);S.US=B.blIf.v.slice(0);Q.Mr(B.mFq);Q.Bm(B.mFK)};mw.OL.prototype.$B=function(Q,S){for(var B=0;
B<Q.G.length;B++){var y=S.G[Q.G[B]],l=Q.Ot[B];if(l==null)delete y.add.lmfx;else y.add.lmfx=JSON.parse(l);
mw.OL.Ai(S,y,JSON.parse(Q.Br[B]));y.K.UA=!0}S.s()};mw.OL.prototype.Lz=function(Q,S){for(var B=0;B<Q.G.length;
B++){var y=S.G[Q.G[B]],l=Q.OY[B];if(l==null)delete y.add.lmfx;else y.add.lmfx=JSON.parse(l);mw.OL.Ai(S,y,JSON.parse(Q.Bc[B]));
y.K.UA=!0}S.s()};mw.LS=function(){mw.DI.call(this,K.EF)};mw.LS.prototype=new mw.DI;mw.LS.prototype.Ox=function(Q,S,B,y){var l=JSON.parse(JSON.stringify(B.qC)),D=JSON.parse(JSON.stringify(B.qC)),R=null,p=null,O=null,M=-1,U=!1;
if(Q.H=="delLC"){var m=mw.LS.tb(B.qC,Q.d_),Y=B.qC.lastAppliedComp?B.qC.lastAppliedComp.v:0;D.list.v.splice(m,1);
if(Y==Q.d_)delete D.lastAppliedComp;R="Delete Layer Comp"}if(Q.H=="editLC"){var m=mw.LS.tb(B.qC,Q.d_),x=D.list.v[m].v;
if(Q.wa!=null)x.Nm.v=Q.wa;if(Q.m__!=null){var T=Q.m__,$=x.capturedInfo.v,L=$&(1<<T)-1;$=$>>T;if(($&1)==1)$--;
else $++;x.capturedInfo.v=($<<T)+L}R="Layer Comp properties"}if(Q.H=="setLC"){mw.LS.tF(B);if(Q.d_==0)delete D.lastAppliedComp;
else D.lastAppliedComp={t:"long",v:Q.d_};R="Switch Layer Comp";U=!0}if(Q.H=="updLC"){mw.LS.tF(B);p=mw.LS.mWP(B,Q.d_);
O=mw.LS.qz(B,Q.d_);D.lastAppliedComp={t:"long",v:Q.d_};R="Update Layer Comp";M=Q.d_;U=!0}if(Q.H=="addLC"){mw.LS.tF(B);
var s=1;for(var j=0;j<D.list.v.length;j++)s=Math.max(s,D.list.v[j].v.compID.v)+1;s+=Math.floor(Math.random()*1e4);
var Z={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(D.list.v.length+1)},compID:{t:"long",v:s},capturedInfo:{t:"long",v:7}}};
D.list.v.push(Z);D.lastAppliedComp={t:"long",v:s};R="New Layer Comp";var e=mw.LS.qz(B,s);mw.LS.Xd(B,e,s)}var J=new NO(R,this);
J.data={mvU:l,mvP:D,m_G:p,mzp:O,d_:M,dr:U};this.Lz(J.data,B);B.Ra(J)};mw.LS.prototype.Lz=function(Q,S){S.qC=Q.mvP;
S.ha=!0;if(Q.mzp)mw.LS.Xd(S,Q.mzp,Q.d_);if(Q.dr){var B=S.qC.lastAppliedComp?S.qC.lastAppliedComp.v:0,y=mw.LS.tb(S.qC,B),l=y==-1?null:S.qC.list.v[y].v,D=l?l.capturedInfo.v:7;
mw.LS.tx(S,B,D);S.s()}};mw.LS.prototype.$B=function(Q,S){S.qC=Q.mvU;S.ha=!0;if(Q.m_G)mw.LS.Xd(S,Q.m_G,Q.d_);
if(Q.dr){var B=S.qC.lastAppliedComp?S.qC.lastAppliedComp.v:0,y=mw.LS.tb(S.qC,B),l=y==-1?null:S.qC.list.v[y].v,D=l?l.capturedInfo.v:7;
mw.LS.tx(S,B,D);S.s()}};mw.LS.tF=function(Q){if(Q.qC.lastAppliedComp!=null||!Q.BW)return;var S=mw.LS.qz(Q,0);
mw.LS.Xd(Q,S,0);Q.BW=!1};mw.LS.tX=function(Q,S,B){Q.v.Hrzn.v+=S;Q.v.Vrtc.v+=B};mw.LS.tb=function(Q,S){var B=Q.list.v;
for(var y=0;y<B.length;y++)if(B[y].v.compID.v==S)return y;return-1};mw.LS.mWZ=function(Q){var S=Q.layerSettings.v,l=null;
if(S.length==0)return;var B="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),y=S[0].v;
if(y.enab==null)y.enab={t:"bool",v:!0};if(y.Ofst==null)y.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var D=0;D<S.length;D++){var R=S[D].v;if(l==null)l=JSON.parse(JSON.stringify(R));else for(var p=0;
p<B.length;p++){var O=B[p];if(R[O])l[O]=JSON.parse(JSON.stringify(R[O]))}S[D].v=JSON.parse(JSON.stringify(l))}};
mw.LS.gQ=function(Q,S){var B=Q.add.shmd.cmls,y=B.layerSettings.v;for(var l=0;l<y.length;l++){var D=y[l].v,R=D.compList.v[0].v;
if(R==S)return l}return-1};mw.LS.gc=function(Q,S){var B=mw.LS.gQ(Q,S);return B==-1?null:Q.add.shmd.cmls.layerSettings.v[B].v};
mw.LS.tx=function(Q,S,B){for(var y=0;y<Q.G.length;y++){var l=Q.G[y],D=l.add.shmd.cmls;if(D==null)continue;
var R=D.layerSettings.v,p=mw.LS.gc(l,S);if(p==null){l.SO(!1);continue}if((B&1)!=0){if(p.enab)l.SO(p.enab.v);
else l.SO(!0)}if((B&2)!=0){if(p.Ofst){var O=p.Ofst.v,M=l.el(Q),U=Math.round(O.Hrzn.v-M.x),m=Math.round(O.Vrtc.v-M.y);
if(U!=0||m!=0)K.Ku.$g(Q,[y],null,U,m)}}if((B&4)!=0){if(p.Lefx){var Y=JSON.parse(JSON.stringify(p.Lefx.v));
RS.fW(Y);if(JSON.stringify(Y)!=JSON.stringify(l.add.lmfx)){l.add.lmfx=Y;l.K.UA=!0}}else delete l.add.lmfx;
if(p.blendOptions){var x=p.blendOptions.v;if(x.Opct)l.opacity=Math.round(255*x.Opct.v.val/100);if(x.Md)l.wk=l.add.lsct==NI.hR?"norm":No.oQ(x.Md.v.BlnM)}else{l.opacity=255;
l.wk=l.So()?"pass":"norm"}}}};mw.LS.mWP=function(Q,S){var B={};for(var y=0;y<Q.G.length;y++){var l=Q.G[y];
if(l.add.shmd==null||l.add.shmd.cmls==null)continue;B["l"+l.add.lyid]=JSON.parse(JSON.stringify(mw.LS.gc(l,S)))}return B};
mw.LS.qz=function(Q,S){var B={};for(var y=0;y<Q.G.length;y++){var l=Q.G[y],D=l.add.lyid;B["l"+D]=mw.LS.gF(Q,l,S)}return B};
mw.LS.gF=function(Q,S,B){var y=S.add.shmd?S.add.shmd.cmls:null,l={classID:"null"},D=S.el(Q),R={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:D.x},Vrtc:{t:"long",v:D.y}}};
l.compList={t:"VlLs",v:[{t:"long",v:B}]};l.enab={t:"bool",v:S.qm()};l.Ofst=JSON.parse(JSON.stringify(R));
l.FXRefPoint=JSON.parse(JSON.stringify(y&&y.origFXRefPoint?y.origFXRefPoint:R));l.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:No.KN(S.wk)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*S.opacity/255}}}};
if(S.add.vmsk){l.vectorMask={t:"Objc",v:{classID:"null"}};l.vectorMask.v.Ofst=JSON.parse(JSON.stringify(R))}if(S.add.lmfx){l.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(S.add.lmfx))};
RS.cv(l.Lefx.v)}return l};mw.LS.mFp=function(Q,S){var B=S.add.lyid;if(S.add.shmd==null)S.add.shmd={};
if(S.add.shmd.cmls==null){S.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:B},layerSettings:{t:"VlLs",v:[{t:"Objc",v:mw.LS.gF(Q,S,0)}]}}}};
mw.LS.Xd=function(Q,S,B){for(var y=0;y<Q.G.length;y++){var l=Q.G[y],D=l.add.lyid;mw.LS.mFp(Q,l);var R=l.add.shmd.cmls,p=R.layerSettings.v,O=S["l"+D];
if(O!=null)O={t:"Objc",v:JSON.parse(JSON.stringify(O))};var M=mw.LS.gQ(l,B);if(M==-1){if(O==null)continue;
else p.push(O)}else{if(O==null)p.splice(M,1);else p[M]=O}}};mw.LS.qp=function(Q,S){for(var B=0;B<Q.G.length;
B++){var y=Q.G[B],l=y.add.lyid;if(y.add.shmd==null||y.add.shmd.cmls==null)continue;var D=y.el(Q),R=Math.round(D.x),p=Math.round(D.y);
if(!S){R=-R;p=-p}var O=y.add.shmd.cmls,M=O.layerSettings.v;if(O.origFXRefPoint)mw.LS.tX(O.origFXRefPoint,-R,-p);
for(var U=0;U<M.length;U++){var m=M[U].v;mw.LS.tX(m.Ofst,R,p);var Y=m.imageMask,x=m.vectorMask;if(Y&&Y.v.Ofst)mw.LS.tX(Y.v.Ofst,R,p);
if(x&&x.v.Ofst)mw.LS.tX(x.v.Ofst,R,p)}}};mw.ZE=function(){mw.DI.call(this,K.Gf);this.GY=null;this.kQ=null};
mw.ZE.prototype=new mw.DI;mw.ZE.Xe=function(Q,S,B,y){if(y)S/=4;var l=0,D=0,R=255,p=0,O=0,M=255;while(D+Q[l]<S){D+=Q[l];
l++}while(p+Q[R]<S){p+=Q[R];R--}if(y){l-=Math.round(Q[l]/(B/32));R+=Math.round(Q[R]/(B/32));if(l<0)O=Math.round(-l*255/(R-l));
if(R>255)M=255-Math.round((R-255)*255/(R-l))}return[Math.max(l,0),Math.min(R,255),O,M,100]};mw.ZE.prototype.Ox=function(Q,S,B,y,l){var D=Q.H;
if(D=="auto"){var R=Q.GP,p=mw.ZE.getData(B);for(var O=0;O<p.length;O++){var M=p[O],U=M.q.Z(),m,Y=k.Qd(M.Fk),x=.001*U,T;
if(R<3){if(R==0||R==2)m=[[0,255,0,255,100],mw.ZE.Xe(Y[1],x,U,R==2),mw.ZE.Xe(Y[2],x,U,R==2),mw.ZE.Xe(Y[3],x,U,R==2)];
if(R==1)m=[mw.ZE.Xe(Y[0],x*.33,U,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var $=m_.yh("levl");
for(var O=0;O<4;O++)MR.FA($,O,m[O]);T=Nf.eL("levl",$)}else{var $=m_.yh("hue2");ma.FA($,0,[0,-100,0]);
T=Nf.eL("hue2",$)}Nf.sp(T,M.Fk,M.xX,M.q)}mw.ZE.qf(B,p);mw.ZE.qw(B,p,R<3?[4,16,R]:[19,7,0],this);B.s()}if(D=="edit_layer")this.mFV(Q,S,B,y);
if(D=="edit"||D=="confirm"||D=="cancel")this.qc(Q,S,B,l,!0);if(D=="start"){if(B.I.length==0)return;var L=B.G[B.I[0]];
if(L.add.SoLd&&L.Wg<=0){var s=new b(P.E.D,!0);s.h=K.bI;s.data={H:"start",kd:Q.ZH};S.B(s);return}if(!B.Bz())return;
if(H[Q.ZH]&&Q.Kh==null){if(B.I.length!=1)alert("Will be applied to "+B.I.length+" layers.");var s=new b(P.E.T,!0);
s.data={H:P.l.ND,yc:"afw_"+Q.ZH};S.B(s)}else{this.qc({H:"edit",Kh:Q.Kh,kd:Q.ZH},S,B,l);this.qc({H:"confirm",kd:Q.ZH},S,B,l)}}};
mw.ZE.prototype.mFV=function(Q,S,B,y){var l=Q.H,D=B.I[0],R=B.G[D],p=B.history[B.GS],O;if(p&&p.h==this&&p.data.Zx!=null&&p.data.$==D)O=p;
else{var M=new b(P.E.RK,!0),U={classID:"setd",null:mg.KG("AdjL",!0),T:{t:"Objc",v:Q.z}};M.data={eq:!0,QF:"set",$o:U};
S.B(M);var O=new NO([6,39],this),m=Nf.get(R.add);O.data={$:D,Zx:R.add[m],ao:Q.z,Op:U};B.Ra(O)}O.data.ao=Q.z;
O.data.Op.T.v=Q.z;this.Lz(O.data,B)};mw.ZE.getData=function(Q,S,B){var y=[],l=new w(0,0,Q.r,Q.O),D=Q.rL.length!=0?[-1-Q.rL[0]]:Q.I;
for(var R=0;R<D.length;R++){var p=D[R],O=p<0?null:Q.G[p],M={$:p,qe:p<0?1:O.Wg};y.push(M);var U=Q.Ka[-1-p];
if(0<=p)U=O.Wg<=0?null:O.Wg==1?O.Tb():O.DG(Q).k;var m=U?U.rect:O.rect;if(Q.m)M.q=U!=null?Q.m.rect.nG(l):Q.m.rect.nG(m);
else M.q=S||U!=null?m.wM(l):m.clone();if(B)M.q=B[R].q.clone();var Y=M.q.Z();M.Fk=k.Q(Y*4);if(U)K.KT.sB(U.channel,U.rect,U.color,M.Fk,M.q);
else k.oD(O.buffer,m,M.Fk,M.q);M.xX=M.Fk.slice(0);if(Q.m){M.U$=k.Q(Y);k.ht(Q.m.channel,Q.m.rect,M.U$,M.q)}}return y};
mw.ZE.prototype.qc=function(Q,S,B,y){if(this.GY==null)this.GY=mw.ZE.getData(B,null,Q.kd=="fade"?B.vO().data:null);
if(Q.H=="edit"){this.kQ=[Q.kd,Q.Kh];var l=Nf.eL(Q.kd,Q.Kh);if(Q.kd=="fade")l=Q.Kh;if(l!=null){for(var D=0;
D<this.GY.length;D++){var R=this.GY[D];if(Q.wm)k.MK(R.Fk,R.xX);else if(Q.kd=="fade"){var p=No.oQ(Q.Kh.Md.v.BlnM),O=Q.Kh.Opct.v.val/100,M=B.vO().data[D];
k.MK(M.Fk,R.xX);if(p=="norm")k.X.ia(R.Fk,R.q,R.xX,R.q,null,null,null,R.q,O);else{var U=Nq.gU();U.Lv=!0;
for(var D=0;D<M.Fk.length;D+=4)if(M.Fk[D+3]!=R.Fk[D+3]){U=null;break}k.X.Rc(p,R.Fk,R.q,R.xX,R.q,R.q,O,U)}}else Nf.sp(l,R.Fk,R.xX,R.q)}mw.ZE.qf(B,this.GY)}}if(Q.H=="cancel"){mw.ZE.Wc(B,this.GY);
this.GY=null}if(Q.H=="confirm"){mw.ZE.qw(B,this.GY,Q.kd=="fade"?[2,11]:Nf.names[Q.kd],this);this.GY=null;
mw.ZE.WL(S,this.kQ)}B.s()};mw.ZE.WL=function(Q,S){var B=S[0],y=S[1],l,D;if(Nf.fk[B]){l=Nf.fk[B];if(H[B])D=y}if(m_.fk[B]){l=m_.fk[B];
if(H[B])D=y}if(l==null)return;var R=new b(P.E.RK,!0);R.data={eq:!0,QF:l};if(D){D=JSON.parse(JSON.stringify(D));
D.classID="null";delete D.__name;R.data.$o=D}Q.B(R)};mw.ZE.Wc=function(Q,S){mw.ZE.JM(Q,S)};mw.ZE.qw=function(Q,S,B,y){for(var l=0;
l<S.length;l++){var D=S[l],R=Q.G[D.$],p=D.$<0?Q.Ka[-1-D.$]:D.qe<=0?null:D.qe==1?R.Tb():R.DG(Q).k;if(p){p.On();
p.DP=!0;if(R)R.Zs(Q)}else{R.On();R.s()}delete D.xX;delete D.U$}var O=new NO(B,y);O.data=S;Q.Ra(O)};mw.ZE.qf=function(Q,S,B){for(var y=0;
y<S.length;y++){var l=S[y],D=Q.G[l.$],R=B?l.Fk:l.xX,p=l.q;if(l.qe==0){D.extend(p);if(l.U$){k.oD(l.Fk,p,D.buffer,D.rect);
k.X.ia(R,p,D.buffer,D.rect,l.U$,p,0,p,1)}else k.oD(R,p,D.buffer,D.rect)}else{var O=l.$<0?Q.Ka[-1-l.$]:l.qe==1?D.Tb():D.DG(Q).k;
O.extend(p);if(l.U$){var M=k.Q(p.Z()*4);k.MK(l.Fk,M);k.X.ia(R,p,M,p,l.U$,p,0,p,1);K.KT.En(M,p,O)}else K.KT.En(R,p,O);
O.DP=!0;if(D)D.Zs(Q)}if(D)D.s()}if(!B)mw.ZE.Ft(Q,S)};mw.ZE.JM=function(Q,S){for(var B=0;B<S.length;B++){var y=S[B],l=Q.G[y.$],D=y.q,R=k.Q(D.Z()*4);
if(y.qe==0){k.oD(l.buffer,l.rect,R,D);l.extend(D);k.oD(y.Fk,D,l.buffer,l.rect);l.On()}else{var p=y.$<0?Q.Ka[-1-y.$]:y.qe==1?l.Tb():l.DG(Q).k;
K.KT.sB(p.channel,p.rect,p.color,R,D);p.extend(D);K.KT.En(y.Fk,D,p);p.On();p.DP=!0;if(l)l.Zs(Q)}y.Fk=R;
if(l)l.s()}};mw.ZE.Ft=function(Q,S){var B=mw.ZE.Gz(Q),y=~B;if(B==16777215)return;for(var l=0;l<S.length;
l++){var D=S[l],R=Q.G[D.$],p=D.q;if(D.qe!=0)continue;R.extend(p);var O=p.x-R.rect.x,M=p.y-R.rect.y,U=R.rect.r,m=new Uint32Array(D.Fk.buffer),Y=new Uint32Array(R.buffer.buffer);
for(var x=0;x<p.O;x++)for(var T=0;T<p.r;T++){var $=x*p.r+T,L=(x+M)*U+(T+O);Y[L]=Y[L]&B|m[$]&y}R.On();
R.s()}Q.s()};mw.ZE.Gz=function(Q){var S=Q.u.T$;return S[2]*16711680|S[1]*65280|S[0]*255};mw.ZE.prototype.$B=function(Q,S){var B=S.G[Q.$];
if(Q.Zx!=null)B.add[Nf.get(B.add)]=Q.Zx;else mw.ZE.JM(S,Q);S.s()};mw.ZE.prototype.Lz=function(Q,S){var B=S.G[Q.$];
if(Q.Zx!=null)B.add[Nf.get(B.add)]=Q.ao;else mw.ZE.JM(S,Q);S.s()};mw.t$=function(){mw.DI.call(this,K.bI);
this.GY=null;this.xf=null;this.H=null;this.kQ=null};mw.t$.prototype=new mw.DI;mw.t$.prototype.Ox=function(Q,S,B,y,l){if(Q.H=="start"){if(B.I.length==0)return;
var D=B.G[B.I[0]];if(D.add.SoLd&&D.Wg<=0){}else if(!B.Bz())return;var R=Q.kd;if(H[R]&&Q.Kh==null){if(B.I.length!=1)alert("Will be applied to "+B.I.length+" layers.");
var p=new b(P.E.T,!0);p.data={H:P.l.ND,yc:"afw_"+R,hf:this.qE(B)};S.B(p)}else{var O={H:"edit",kd:R,Kh:Q.Kh,hf:this.qE(B)};
this.Ox(O,S,B,y,l);O.H="confirm";delete O.Kh;this.Ox(O,S,B,y,l)}}if(Q.H=="edit"||Q.H=="cancel"||Q.H=="confirm"){if(Q.H=="edit")this.kQ=[Q.kd,Q.Kh];
if(Q.hf)this.mFu(Q,B,l);else this.mFw(Q,S,B,l)}if(Q.H=="applylast"&&this.kQ!=null){var O={H:"edit",kd:this.kQ[0],Kh:this.kQ[1],hf:this.qE(B)};
this.Ox(O,S,B,y,l);O.H="confirm";delete O.Kh;this.Ox(O,S,B,y,l)}};mw.t$.prototype.qE=function(Q){var S=Q.G[Q.I[0]],B;
if(S.add.SoLd&&S.Wg<=0){B={$:Q.I[0],index:0};if(S.add.SoLd.filterFX!=null)B.index=S.add.SoLd.filterFX.v.filterFXList.v.length}return B};
mw.t$.prototype.mFu=function(Q,S,B){var y=S.G[Q.hf.$],l=Q.kd;if(Q.H=="edit"){if(this.H==null){var D=m_.names[l];
if(D==null)D=Nf.names[l];this.H=new NO(D,this);this.H.data={hf:Q.hf,mwR:JSON.parse(JSON.stringify(y.add.SoLd))}}if(!y.as()){y.add.SoLd.filterFX=m_.Vc();
this.H.data.Mb=mV.mVo(y.add.SoLd.placed.v);S.uD(this.H.data.Mb);y._T(S)}var R=y.add.SoLd.filterFX.v.filterFXList.v;
if(R[Q.hf.index]==null){R.push(m_.Dc(l,B))}if(Q.Kh){R[Q.hf.index].v.enab.v=Q.wm!=!0;R[Q.hf.index].v.Fltr.v=Q.Kh}this.H.data.mwQ=JSON.parse(JSON.stringify(y.add.SoLd));
this.Lz(this.H.data,S)}if(Q.H=="cancel"){if(this.H)this.$B(this.H.data,S);this.H=null}if(Q.H=="confirm"){S.Ra(this.H);
this.H=null}};mw.t$.prototype.J_=function(Q){return{t:Q>>>16,e:Q>>>8&255,R:Q&255}};mw.t$.prototype.mFw=function(Q,S,B,y){if(this.GY==null)this.GY=mw.ZE.getData(B,!0);
if(Q.H=="edit"){var l=JSON.stringify(Q.Kh);if((Q.Kh==null||l!=this.xf)&&Q.wm!=!0)for(var D=0;D<this.GY.length;
D++){var R=this.GY[D],p={rect:R.q,buffer:R.Fk},O={rect:R.q,buffer:R.xX};m_.sp(Q.kd,p,Q.Kh,this.J_(y.Tq),this.J_(y.hB),O,B.add.lnk2?B.add.lnk2:[]);
this.xf=l}mw.ZE.qf(B,this.GY,Q.wm)}if(Q.H=="cancel"){mw.ZE.Wc(B,this.GY);this.GY=null;this.xf=null}if(Q.H=="confirm"){mw.ZE.qw(B,this.GY,m_.names[Q.kd],this);
this.GY=null;this.xf=null;mw.ZE.WL(S,this.kQ)}B.s()};mw.t$.prototype.$B=function(Q,S){if(Q.hf){var B=S.G[Q.hf.$];
if(Q.Mb)S.VZ(Q.Mb);B.add.SoLd=JSON.parse(JSON.stringify(Q.mwR));if(B.as())B.tH(S);else{B._T(S);B.Wg=0}}else mw.ZE.JM(S,Q);
S.s()};mw.t$.prototype.Lz=function(Q,S){if(Q.hf){var B=S.G[Q.hf.$];if(Q.Mb)S.uD(Q.Mb);B.add.SoLd=JSON.parse(JSON.stringify(Q.mwQ));
if(B.as())B.tH(S);else B._T(S);if(!B.Kc())B.$N+=32}else mw.ZE.JM(S,Q);S.s()};var rS={E_:"0",Kz:"1",Jw:"2",AZ:"3",A$:"4",tJ:"5",tg:"6",JK:"7",D:"8",FG:"8.5",tw:"8.8",Vz:"9",tn:"10",Vq:"11",VJ:"12",AI:"13",tP:"14",Yu:"15",li:"21",XC:"22",VW:"23",Yg:"23.0",YO:"23.1",Xu:"23.2",Yj:"23.3",qs:"23.4",Xg:"23.5",XU:"23.6",Um:"30",YS:"31",XE:"40",SR:"41",Xs:"42"};
rS.Ms={};rS.Ms[rS.Kz]=["abr","brushes",Qr,[9,3]];rS.Ms[rS.Jw]=["grd","gradients",LH,[12,37]];rS.Ms[rS.AZ]=["shc","contours",LD,[12,21]];
rS.Ms[rS.A$]=["asl","styles",QZ,[12,22]];rS.Ms[rS.tJ]=["pat","patterns",ro,[12,62]];rS.Ms[rS.tg]=["csh","shapes",Le,[12,77]];
rS.Ms[rS.JK]=["aco","swatches",rf,[9,8]];rS.Ms[rS.D]=["atn","actions",mI,[9,9]];rS.Ms[rS.FG]=["tpl","tpresets",Lm,[9,12]];
rS.Ms[rS.tw]=["icc","profiles",mP,"ICCs"];function A(){this.Ci={};this.xt=0}A.prototype.reset=function(){this.Ci={};
this.xt=0};A.prototype.mFE=function(Q){this.xt++;this.Ci[Q]=!0};A.prototype.mFD=function(Q){this.xt--;
delete this.Ci[Q];if(this.xt<=0||A.GW(Q,A.Eg))this.reset()};A.prototype.N=function(Q){for(var S=0;S<Q.GF.length;
S++)if(this.Ci[Q.GF[S]])return!0;return!1};A.prototype.tt=function(){var Q=this,S=Q.N(A.CP)?10:1,B=0,y=0;
if(Q.N(A.Ej))B=-S;if(Q.N(A.Eo))B=S;if(Q.N(A.SV))y=-S;if(Q.N(A.Sk))y=S;return new v(B,y)};A.prototype.JN=function(){var Q=this,S=A.Ju;
for(var B=0;B<10;B++)if(Q.N(S[B]))return B;return-1};A.GW=function(Q,S){return S.GF.indexOf(Q)!=-1};
A.nA=function(Q){var S=Q.code;return S!=""&&(A.mFo.indexOf(S)==-1||Q.shiftKey&&(S=="F5"||S=="F6"))};
A.mFj=function(Q){if(Q==null)return"";var S=[];for(var B=0;B<Q.length;B++)S.push(Q[B].Cm);return S.join(" + ")};
A.mFo="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
A._o={Cm:"Enter",GF:["Enter","NumpadEnter"]};A.CP={Cm:"Shift",GF:["ShiftLeft","ShiftRight"]};A.Eg={Cm:"Meta",GF:["MetaLeft","MetaRight","OSLeft","OSRight"]};
A.DQ={Cm:"Ctrl",GF:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};A.qD={Cm:"Alt",GF:["AltLeft","AltRight"]};
A.m_p={Cm:"CtrlOrAlt",GF:A.DQ.GF.concat(A.qD.GF)};A.fr={Cm:"Escape",GF:["Escape"]};A.tD={Cm:"Space",GF:["Space"]};
A.Xt={Cm:"Tab",GF:["Tab"]};A.m_r={Cm:"Home",GF:["Home"]};A.m_g={Cm:"End",GF:["End"]};A.Ej={Cm:"Left",GF:["ArrowLeft"]};
A.SV={Cm:"Up",GF:["ArrowUp"]};A.Eo={Cm:"Right",GF:["ArrowRight"]};A.Sk={Cm:"Down",GF:["ArrowDown"]};
A.XX={Cm:"+",GF:["NumpadAdd","Equal"]};A.Jy={Cm:"-",GF:["NumpadSubtract","Minus","Slash"]};A.m_t={Cm:";",GF:["Semicolon"]};
A.mvo={Cm:"Dead",GF:["Dead"]};A.m_X={Cm:"=",GF:["Equal"]};A.fc={Cm:"Backspace",GF:["Backspace"]};A.fV={Cm:"Delete",GF:["Delete"]};
A.m_P={Cm:"Backslash",GF:["Backslash","IntlBackslash"]};A.m_S={Cm:"Backquote",GF:["Backquote"]};A.Jh={Cm:"[",GF:["BracketLeft"]};
A.ET={Cm:"]",GF:["BracketRight"]};A.mGz={Cm:".",GF:["Period"]};A.mGq={Cm:",",GF:["Comma"]};A.mGw={Cm:"'",GF:["Quote"]};
A.l={Cm:"A",GF:["KeyA","KeyQ"]};A.Ei={Cm:"B",GF:["KeyB"]};A.J_={Cm:"C",GF:["KeyC"]};A.jA={Cm:"D",GF:["KeyD"]};
A.E={Cm:"E",GF:["KeyE"]};A.Fx={Cm:"F",GF:["KeyF"]};A.Eb={Cm:"G",GF:["KeyG"]};A.Ex={Cm:"H",GF:["KeyH"]};
A.JC={Cm:"I",GF:["KeyI"]};A.EP={Cm:"J",GF:["KeyJ"]};A.tI={Cm:"K",GF:["KeyK"]};A.iu={Cm:"L",GF:["KeyL"]};
A.Sx={Cm:"M",GF:["KeyM"]};A.fX={Cm:"N",GF:["KeyN"]};A.EI={Cm:"O",GF:["KeyO"]};A.VF={Cm:"P",GF:["KeyP"]};
A.mvi={Cm:"Q",GF:["KeyQ"]};A.Dg={Cm:"R",GF:["KeyR"]};A.EH={Cm:"S",GF:["KeyS"]};A.K={Cm:"T",GF:["KeyT"]};
A.og={Cm:"U",GF:["KeyU"]};A.EA={Cm:"V",GF:["KeyV"]};A.tk={Cm:"W",GF:["KeyW"]};A.Xj={Cm:"X",GF:["KeyX"]};
A.mGt={Cm:"Y",GF:["KeyY","KeyZ"]};A.XT={Cm:"Z",GF:["KeyZ","KeyY"]};A.XN={Cm:"0",GF:["Numpad0","Digit0"]};
A.Oy={Cm:"1",GF:["Numpad1","Digit1"]};A.mGD={Cm:"2",GF:["Numpad2","Digit2"]};A.mGx={Cm:"3",GF:["Numpad3","Digit3"]};
A.mGI={Cm:"4",GF:["Numpad4","Digit4"]};A.mar={Cm:"5",GF:["Numpad5","Digit5"]};A.maX={Cm:"6",GF:["Numpad6","Digit6"]};
A.maH={Cm:"7",GF:["Numpad7","Digit7"]};A.maA={Cm:"8",GF:["Numpad8","Digit8"]};A.maY={Cm:"9",GF:["Numpad9","Digit9"]};
A.Ju=[A.XN,A.Oy,A.mGD,A.mGx,A.mGI,A.mar,A.maX,A.maH,A.maA,A.maY];A.mvZ={Cm:"F1",GF:["F1"]};A.mvA={Cm:"F2",GF:["F2"]};
A.mvY={Cm:"F3",GF:["F3"]};A.mw$={Cm:"FF",GF:["F4"]};A.maS={Cm:"F5",GF:["F5"]};A.maK={Cm:"F6",GF:["F6"]};
A.mwj={Cm:"F7",GF:["F7"]};A.mwT={Cm:"F8",GF:["F8"]};A.mfE={Cm:"F9",GF:["F9"]};A.mft={Cm:"F10",GF:["F10"]};
A.mfX={Cm:"F11",GF:["F11"]};A.mfD={Cm:"F12",GF:["F12"]};function NO(Q,S,B){if(B==null)B=!1;this.name=Q;
this.h=S;this.Bv=B;this.data=null}var mg={};mg.KG=function(Q,S){var B={t:"Clss",v:{classID:Q}};if(S)B={t:"Enmr",v:{classID:Q,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[B]}};mg.JW=function(Q,S){var B={classID:"Lyr"};B[Q]=S;return{QF:"set",$o:{classID:"null",null:mg.KG("Lyr",!0),T:{t:"Objc",v:B}}}};
mg.mvz=function(Q){var S=Q.QF,B=Q.$o,y,R,p,O,M,U;if(B&&B.null)y=B.null.v[0];if(B&&y==null&&B.At)y=B.At.v[0];
if(y&&y.t=="obj ")y=y.v[0];var l=y?y.v.classID:null,D=["purge"];if(D.indexOf(S)!=-1)return S[0].toUpperCase()+S.slice(1);
U=Nf.fk;for(R in U)if(U[R]==S)p=R;U=m_.fk;for(R in U)if(U[R]==S)O=R;U=mr.fk;for(R in U)if(U[R]==S)M=R;
if(p)return Nf.names[p];if(O)return m_.names[O];if(M)return mr.names[M];var m=mg.Ow;if(S=="make"){if(y){if(l=="AdjL")return[6,1];
else if(l=="layerSection")return[6,9];else if(l=="Lyr")return[6,13];else if(l=="Chnl"&&y.v.enum=="Msk")return[6,2];
else if(l=="contentLayer")return[6,48,1];else if(l=="BckL")return"Make Background Layer"}if(B.Nw){l=B.Nw.v.classID;
if(l=="Dcmn")return[11,7];else if(l=="Chnl"||l=="SCch")return"New Channel"}}else if(S=="select"){if(l=="Chnl")return"Select "+(y.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(l=="Mn")return"Select Panel \""+y.v.enum+"\"";else if(l=="Lyr")return"Select Layer \""+y.v.val+"\""}else if(m[S]&&l=="Chnl"){var Y=y.v.keyID=="fsel";
return m[S]+" "+(Y?"Selection":"Channel")}else if(S=="set"){if(l=="Lyr")return"Set Current Layer";else if(l=="AdjL")return[6,39];
else if(l=="contentLayer")return[6,48,2];else if(l=="Prpr")return[11,6];else if(l=="Clr")return"Set "+(y.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else console.log(l)}else if(S=="move"){if(l=="Lyr")return"Move Layer"}else if(S=="show"||S=="hide"){var x="";
if(l=="Lyr")+"Layer";if(l=="Chnl")+"Channel";return(S=="show"?"Show":"Hide")+" "+x}else if(S=="reset"){if(l=="Clr")return"Reset Colors"}else if(S=="exchange"){if(l=="Clr")return[22,7,0]}if(l=="Chnl"){if(S=="duplicate")return"Selection to Channel";
if(S=="delete")return"Delete Channel"}var T={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],paste:[5,2],close:[1,12],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],transform:[10,16],delete:B?[6,31]:[2,2],placedLayerEditContents:"Edit Contents",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10]},$=T[S];
if($==null)$=mg.Ov[S];if($)return $;console.log(S,B);return S};mg.Ov={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
mg.Ow={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
mg.mvm=function(Q,S,B,y){var l=Q.QF,D=Q.$o,R=new b(P.E.D,!0),M,U,m,Y,x,s;R.h=K.Sb;var p=new b(P.E.T,!0),O=["purge","updatePlacedLayer"];
if(O.indexOf(l)!=-1)return;x=Nf.fk;for(M in x)if(x[M]==l)U=M;x=m_.fk;for(M in x)if(x[M]==l)m=M;x=mr.fk;
for(M in x)if(x[M]==l)Y=M;if(U){R.h=K.Gf;R.data={H:"start",ZH:U,Kh:D}}else if(m){R.h=K.bI;R.data={H:"start",kd:m,Kh:D}}else if(Y){R.h=K.bI;
R.data={H:"start",kd:"GEfc",Kh:D}}else if(l=="imageSize"||l=="canvasSize"){R.h=K.wb;R.data={H:"fromAction",wT:Q}}else if(l=="fill"||l=="delete"&&D==null){R.h=K.Kz;
R.data={H:"fromAction",wT:Q}}else if(l=="colorRange"){var T=D.Mnm.v,$=D.Mxm.v;R.h=K.wl;R.data={H:"crange",ZO:{iu:T.Lmnc.v,n:T.A.v,R:T.B.v},ZZ:{iu:$.Lmnc.v,n:$.A.v,R:$.B.v},go:D.Fzns.v/200}}else if(mg.Ov[l]||mg.Ow[l]&&(!1||D.With&&D.With.v[0].v.keyID=="fsel"||D.From&&D.From.v[0].v.keyID=="fsel"||D.null&&D.null.v[0].v.keyID=="fsel"||D.T.v[0]&&D.T.v[0].v.keyID=="fsel")){R.h=K.wl;
R.data={H:"fromAction",wT:Q}}var L={copyToLayer:z.yP,mergeLayersNew:y&&y.I.length==1?z.XM:z.mr,mergeVisible:z.DH,flattenImage:z.Vn,newPlacedLayer:z.mmz};
if(L[l])R.data={H:L[l],$o:D};if(R.data){S.B(R);return}if(l=="desaturate"){R.h=K.Gf;R.data={H:"auto",GP:3};
S.B(R);return}if(l=="close"){if(D.Svng.v.YsN=="Ys"){p.data={H:P.l.DT};S.B(p)}p.data={H:P.l.uu,mc:y};
S.B(p);return}var L={placedLayerEditContents:P.l.mNI,copyEvent:P.l.DY,paste:P.l.W$};if(L[l])p.data={H:L[l]};
if(p.data){S.B(p);return}if(D.null||D.At)s=(D.null?D.null:D.At).v;else s=[{t:"----",v:D}];if(s[0].t=="obj "){if(s.length!=1)throw"e";
s=s[0].v}for(var j=0;j<s.length;j++){var Z=s[j],e=Z.v.classID;R.data=null;if(l=="make"){if(D.null==null&&D.Nw)e=D.Nw.v.classID;
if(e=="AdjL"){R.data={H:z.mw,$o:D}}else if(e=="layerSection"){R.data={H:z.mD};if(D.Usng)R.data.wa=D.Usng.v.Nm.v}else if(e=="Lyr"){if(D.Usng&&D.Usng.v.length==2)R.data={H:z.mzm};
else{R.data={H:z.eT};if(D.Usng)R.data.wa=D.Usng.v.Nm.v}}else if(e=="Chnl"&&Z.v.enum=="Msk"){R.data={H:z.UY,aD:D.Usng.v.UsrM}}else if(e=="Chnl"||e=="SCch"){R.data={H:z.Xa,Di:"fromAction",z:Q}}else if(e=="contentLayer"){R.data={H:z.yf,$o:D}}else if(e=="BckL"){y.G[y.I[0]].mwp();
continue}else if(e=="Dcmn"){var J=D.Nw.v;p.data={H:P.l.DJ,SB:mV.mfN(J,B)}}else if(e=="Ptrn")p.data={H:P.l.rI,yQ:0};
else{console.log(l,D);throw"e"}}else if(l=="select"){if(e=="Lyr"){var N=D.selectionModifier,E=N?N.v.selectionModifierType:null,h=mg.cY(y,Z);
R.data={H:z.XA,$:h,myq:E?["addToSelection","addToSelectionContinuous"].indexOf(E):null,wQ:0,mGf:!0}}else if(e=="Chnl"){R.data={H:z.XA,$:h,wQ:1}}}else if((l=="set"||l=="reset"||l=="exchange")&&e=="Clr"){p.data={H:P.l.Kk,yQ:rS.li,Di:l=="reset"?3:2};
if(l=="set"){p.data.Di=Z.v.keyID=="FrgC"?0:1;var o=k.Kg.RT(D.T.v);p.data.z=o.t<<16|o.e<<8|o.R}}else if(l=="set"){if(e=="AdjL"){var V=D.T.v.classID;
V=Nf.XS[V];R.h=K.Gf;if(V)R.data={H:"edit_layer",z:D.T.v}}else if(e=="Lyr"){var n=D.T.v,h=mg.cY(y,Z);
if(n.Nm)R.data={H:z.uy,name:n.Nm.v};else if(n.Opct)R.data={H:z.Xx,ao:Math.round(n.Opct.v.val*255/100)};
else if(n.Md)R.data={H:z.XD,ao:No.oM.indexOf(n.Md.v.BlnM)};else if(n.Usrs)R.data={H:z.mV,$:h};else if(n.Blnd){R.h=K.Qn;
R.data={H:"setstl",$:h,z:{blendOptions:{t:"objc",v:n}}};S.B(R);R.data={H:"confirm",$:h}}else if(s[0].t=="prop")continue;
else{console.log(D);throw"e"}var t=y.G[h];t.mwL()}else if(e=="Prpr"){var n=JSON.parse(JSON.stringify(D.T.v));
for(var q in n)if(n[q].v){if(q=="Scl")n[q].v.val=100;if(n[q].v.TrnS&&n[q].v.TrnS.v.Crv==null){n[q].v.TrnS=JSON.parse(rx.Pf[9]).TrnS}}RS.fW(n);
if(n.masterFXSwitch==null)n.masterFXSwitch={t:"bool",v:!0};var h=mg.cY(y,D.null.v[1]);R.h=K.Qn;R.data={H:"setstl",$:h,z:{Lefx:{t:"objc",v:n}}};
S.B(R);R.data={H:"confirm",$:h}}else if(e=="contentLayer"){var h=mg.cY(y,Z),n=D.T.v;if(n.classID=="shapeStyle")n=n.FlCn.v;
var u={solidColorLayer:0,gradientLayer:1,patternLayer:2}[n.classID],m=JSON.parse(JSON.stringify(rx.Xc[u]));
mw.Fl.AF(n,m,u);R.data={H:z.un,$s:[h],Hr:!0,z:{Vx:u+1,DW:m}}}else{console.log(Z,D);throw e}}else if(l=="move"){if(e=="Lyr"){var n=D.T.v;
if(n.classID=="Ofst"){R.data={H:"trsl",mGb:n.Hrzn.v.val,maL:n.Vrtc.v.val};R.h=K.vc}else{var g,r;if(n[0].t=="Enmr"){if(n[0].v.enum=="Frnt")r=0;
else throw"e"}else g=n[0].v.val;R.data={H:z.DR,target:g,Di:r,maa:D.Dplc?D.Dplc.v:!1}}}}else if(l=="groupEvent")R.data={H:z.Xp};
else if(l=="show"||l=="hide"){if(e=="Lyr"){var h=mg.cY(y,Z);if(h==-1)continue;var f=y.G[h].qm();if(l=="show"&&f||l=="hide"&&!f)continue;
R.data={H:z.eo,$:h}}else if(e=="Chnl"){R.data={H:z.Xa,Di:"fromAction",z:Q}}}else if(l=="transform"){var I=1,a=1,c=0,_=0,C=0,F=0,i=0;
if(D.Wdth)I=D.Wdth.v.val/100;if(D.Hght)a=D.Hght.v.val/100;if(D.Skew){var rP=D.Skew.v;c=rP.Hrzn.v.val;
_=rP.Vrtc.v.val}if(D.Ofst){var rH=D.Ofst.v;F=rH.Hrzn.v.val;i=rH.Vrtc.v.val}if(D.Angl)C=D.Angl.v.val;
var rK=new Nu;rK.concat(new Nu(I,I*Math.tan(_*Math.PI/180),a*Math.tan(c*Math.PI/180),a,0,0));rK.rotate(-C*Math.PI/180);
rK.translate(F,i);var rY={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6}[D.FTcs.v.QCSt];if(rY==null)throw D.FTcs.v.QCSt;
var h=D.null?mg.cY(y,Z):null;R.h=K.fM;R.data={H:"mat",PW:rY,z:rK,$:h}}else if(e=="Chnl"){R.data={H:z.Xa,Di:"fromAction",z:Q}}else if(l=="duplicate")R.data={H:z.m$,wa:D.Nm?D.Nm.v:null};
else if(l=="delete")R.data={H:z.ej};if(R.data)S.B(R);else if(p.data)S.B(p);else{console.log(Q);alert("Unknown action \""+l+"\"");
throw"e"}}};mg.cY=function(Q,S){var B=S.t,y=-1;if(B=="name"){var l=S.v.val,y=-1;for(var D=0;D<Q.G.length;
D++)if(Q.G[D].getName()==l){y=D;break}}if(B=="Enmr"&&Q.I.length!=0)y=Q.I[0];if(B=="prop"){if(S.v.keyID=="Bckg")y=0}return y};
var Nf={};Nf.get=function(Q){for(var S in Nf.names)if(Q[S]!=null)return S;return null};Nf.eL=function(Q,S){var B=Nf.JD,y;
if(Q=="brit"){var l=S.Brgh?S.Brgh.v:0,D=S.Cntr?S.Cntr.v:0,R=S.useLegacy?S.useLegacy.v:!1;if(R){var p=l/255,O=1+D/100;
if(O>1)O=1+Math.tan(Math.PI/2*D/101);var M=(1-O)/2,U=k.Sl.TG(p,p,p),m=[O,0,0,M,0,O,0,M,0,0,O,M,0,0,0,1],Y=k.Sl.multiply(U,m),x=new k.rp(256);
for(var T=0;T<256;T++)x.t[T]=T;k.Sl.transform(x,x,Y);y={type:B.oO,ri:x.t,NW:x.t,KS:x.t,Mv:!1,Mo:!1}}else{var $=1024,L=-30+60*(D+100)/200,s=[];
for(var T=0;T<4;T++)s.push(k.$T.nd(T/3*255,T/3*255,!0));s[1].v.Hrzn.v=64;s[1].v.Vrtc.v=64-L;s[2].v.Hrzn.v=128+64;
s[2].v.Vrtc.v=128+64+L;s.sort(function(pQ,mk){return pQ.v.Hrzn.v-mk.v.Hrzn.v});var j=k.$T.i$(s,$);function Z(pQ,$){var s=[],mk=3;
for(var T=0;T<mk+1;T++)s.push(k.$T.nd(T/mk*255,T/mk*255,!0));s[1].v.Hrzn.v=130-pQ*26;s[1].v.Vrtc.v=130+pQ*51;
s[2].v.Hrzn.v=233-pQ*48;s[2].v.Vrtc.v=233+pQ*10;return k.$T.i$(s,$)}var e=Z(Math.abs(l)/100,$);if(l<0){var J=[],N=1/$;
for(var T=0;T<$;T++){var E=T*N,h=T;while(e[h]>E&&h>1)h--;J[T]=h*N}e=J}var o=new Uint8Array($);for(var T=0;
T<$;T++){var V=Math.round(($-1)*e[T]);o[T]=Math.round(255*j[V])}y={type:B.oO,ri:o,NW:o,KS:o,Mv:!1,Mo:!1}}}if(Q=="levl"){var n=[],t,q,U,u,g,r;
for(var T=0;T<4;T++)n.push(MR.nW(S,T));t=-n[0][0]/255;q=1/(n[0][1]/255-n[0][0]/255);U=k.Sl.multiply(k.Sl.Tv(q,q,q),k.Sl.TG(t,t,t));
u=k.Sl.Tv(1/(n[1][1]/255-n[1][0]/255),1/(n[2][1]/255-n[2][0]/255),1/(n[3][1]/255-n[3][0]/255));g=k.Sl.TG(-n[1][0]/255,-n[2][0]/255,-n[3][0]/255);
r=k.Sl.multiply(u,g);var o=new k.rp(256);for(var T=0;T<256;T++)o.t[T]=o.e[T]=o.R[T]=T;var f=1/(n[0][4]/100),I=1/(n[1][4]/100),d=1/(n[2][4]/100),a=1/(n[3][4]/100);
k.Sl.transform(o,o,r);for(var T=0;T<256;T++){o.t[T]=Math.round(Math.max(0,Math.min(255,255*Math.pow(o.t[T]/255,I))));
o.e[T]=Math.round(Math.max(0,Math.min(255,255*Math.pow(o.e[T]/255,d))));o.R[T]=Math.round(Math.max(0,Math.min(255,255*Math.pow(o.R[T]/255,a))))}k.Sl.transform(o,o,U);
for(var T=0;T<256;T++){o.t[T]=Math.round(Math.max(0,Math.min(255,255*Math.pow(o.t[T]/255,f))));o.e[T]=Math.round(Math.max(0,Math.min(255,255*Math.pow(o.e[T]/255,f))));
o.R[T]=Math.round(Math.max(0,Math.min(255,255*Math.pow(o.R[T]/255,f))))}t=n[0][2]/255;q=n[0][3]/255-n[0][2]/255;
U=k.Sl.multiply(k.Sl.TG(t,t,t),k.Sl.Tv(q,q,q));u=k.Sl.Tv(n[1][3]/255-n[1][2]/255,n[2][3]/255-n[2][2]/255,n[3][3]/255-n[3][2]/255);
g=k.Sl.TG(n[1][2]/255,n[2][2]/255,n[3][2]/255);r=k.Sl.multiply(g,u);k.Sl.transform(o,o,k.Sl.multiply(U,r));
y={type:B.oO,ri:o.t,NW:o.e,KS:o.R,Mv:!1,Mo:!1}}if(Q=="curv"){var c=me.nW(S,0).length==256?1:0,_=[];if(c==0){var C=k.$T.LL(me.nW(S,0),256);
for(var T=1;T<4;T++){var F=k.$T.LL(me.nW(S,T),256);_.push(k.$T.Ig(F,C))}}else{var i=[];for(var T=0;T<4;
T++){var rP=new Uint8Array(256);i.push(rP);var rH=me.nW(S,T);for(var h=0;h<256;h++)rP[h]=rH[h]}for(var T=1;
T<4;T++)_.push(k.$T.Ig(i[T],i[0]))}y={type:B.oO,ri:_[0],NW:_[1],KS:_[2],Mv:!1,Mo:!1}}if(Q=="expA"){var rK=S.Exps.v,rY=S.Ofst.v,Nc=S.gammaCorrection.v,o=new Uint8Array(256);
for(var T=0;T<256;T++){var S=T/255,G=Math.pow(Math.abs(rY),1/(Math.PI/2));if(rY>0){S=Math.max(rY/Math.E,S);
S=S*Math.exp(rY/1.75+rK/Math.PI);S=(1-G)*S+G*1}else{S=S*Math.exp(-rY*1.75+rK/Math.PI);S=S+-G*1.14}S=Math.pow(S,1/Nc);
S=Math.max(0,Math.min(1,S));o[T]=Math.round(S*255)}y={type:B.oO,ri:o,NW:o,KS:o,Mv:!1,Mo:!1}}if(Q=="vibA"){y={type:B.JB,yQ:[S.vibrance?S.vibrance.v:0,S.Strt?S.Strt.v:0]}}if(Q=="hue2"){var rI=[],rb=[],Nr=[],Nz=S.Clrz?S.Clrz.v:!1;
for(var T=0;T<256;T++){rI[T]=T/255;rb[T]=0;Nr[T]=0}var NL=ma.nW(S,0),Nm=Nf.Vp(NL[1]/100);if(Nz){var NN=NL[0]/360;
for(var T=0;T<256;T++){rI[T]=NN;rb[T]=Nm}}else{for(var T=0;T<256;T++){var Ne=rI[T],Ny=rb[T];rI[T]+=NL[0]/360;
for(var h=0;h<6;h++){var NG=ma.nW(S,h+1),NC=NG.px,Ng=NG.oV,G=0;for(var NM=1;NM<4;NM++)if(Ng[NM]<Ng[0])Ng[NM]+=360;
var NQ=Ng[0],NR=Ng[1],NV=Ng[2],md=Ng[3],NW=Ne*360;if(NW<Ng[0])NW+=360;var Nh=(NW-NQ)/(NR-NQ),Nt=(NW-NV)/(md-NV);
if(Nh<0)G=0;else if(Nh<1)G=Nh;else if(Nt<0)G=1;else if(Nt<1)G=1-Nt;else G=0;var O=Nf.Vp(NC[1]/100);rI[T]+=G*NC[0]/360;
rb[T]+=G*O;Nr[T]+=G*NC[2]/100}}for(var T=0;T<256;T++){rb[T]=(1+rb[T])*(1+Nm)-1;Nr[T]=Math.max(-1,Math.min(1,Nr[T]))}}var NU=new Uint8Array(256),Mw=new Uint8Array(256),mp=new Uint8Array(256);
for(var T=0;T<256;T++){var Na=rI[T],NX=rb[T],Ni=Nr[T];if(Na>1)Na--;if(Na<0)Na++;NX=Nf.mvM(NX);NX=(1+NX)*.5;
Ni=(1+Ni)*.5;NU[T]=Math.round(255*Na);Mw[T]=Math.round(255*NX);mp[T]=Math.round(255*Ni)}var mm=NL[2]/100,NT=mm<0?-mm:mm,NF=mm<0?0:1;
y={type:B.JO,mzr:NU,vL:Mw,mzc:mp,mzO:NT*NF,Bf:1-NT,mqh:NL[2]/100,mzB:Nz?1:0}}if(Q=="nvrt"){var o=new Uint8Array(256);
for(var T=0;T<256;T++)o[T]=255-T;y={type:B.oO,ri:o,NW:o,KS:o,Mv:!1,Mo:!1}}if(Q=="post"){var Ns=S.Lvls.v,o=new Uint8Array(256),G=Ns/255.001,NB=255/(Ns-1);
for(var T=0;T<256;T++)o[T]=Math.floor(T*G)*NB;y={type:B.oO,ri:o,NW:o,KS:o,Mv:!1,Mo:!1}}if(Q=="grdm"){var Rz=S.Grad.v,Nk=S.Rvrs,RJ=k.Kg.vj(Rz.Clrs.v,0,0),$=1024,mv=k.Kg.Pj(Rz,RJ,$,Nk?Nk.v:!1),NA=k.Q($),Mr=k.Q($),p$=k.Q($);
k.MA(mv,NA,0);k.MA(mv,Mr,1);k.MA(mv,p$,2);y={type:B.oO,ri:NA,NW:Mr,KS:p$,Mv:!0,Mo:!1}}if(Q=="selc"){var RL=new Float32Array(9*3*2),mR=S.vC,Ro=S.Mthd?S.Mthd.v.CrcM=="Absl":!1;
for(var h=0;h<9;h++){var mQ=h*6,mS=ms.nW(S,h),Rh=mS[0]/100,ps=mS[1]/100,mE=mS[2]/100,Rd=mS[3]/100;if(Ro){RL[mQ]=RL[mQ+1]=RL[mQ+2]=1;
RL[mQ+3]=Rh*(1+Rd)+Rd;RL[mQ+4]=ps*(1+Rd)+Rd;RL[mQ+5]=mE*(1+Rd)+Rd}else{RL[mQ+0]=(1+Rh)*(1+Rd);RL[mQ+1]=(1+ps)*(1+Rd);
RL[mQ+2]=(1+mE)*(1+Rd)}}y={type:B.Jl,QG:RL}}if(Q=="blwh"){var Qz="Rd Yllw Grn Cyn Bl Mgnt".split(" "),y=[],mW=0,RF=0;
for(var T=0;T<6;T++)y.push(S[Qz[T]].v);y.push(S.useTint.v,S.tintColor.v);var rX=[];for(var T=0;T<6;T++)rX.push((y[T]-50)/50);
var Rm=k.Kg.RT(y[7]);Rm.t/=255;Rm.e/=255;Rm.R/=255;var Ri=k.pU(Rm.t,Rm.e,Rm.R),Ni=k.ob(k.qd(Ri.Kj,1,.5)),Rl=Ri.YZ*Ri.Kh;
if(Ni==.5)mW=RF=.5;else{mW=Rl*(.5-Ni)/(.5/Ni-1);RF=1-Rl*(.5-Ni)-1/(2*(1-Ni));RF/=1-1/(2*(1-Ni))}y={type:B.JI,mMB:rX,Tw:y[6]?1:0,mMo:Ri.Kj,ob:Ni,mMb:Rl,cr:mW,mre:RF}}if(Q=="blnc"){var n=[],Rv=["ShdL","MdtL","HghL"];
for(var T=0;T<3;T++){var Ns=S[Rv[T]].v,NK=Ns[0].v/100,Mu=Ns[1].v/100,RN=Ns[2].v/100,pc=S.PrsL.v?pc=(Math.min(NK,Mu,RN)+Math.max(NK,Mu,RN))/2:0;
n[T]=[NK-pc,Mu-pc,RN-pc]}var _=[k.Q(256),k.Q(256),k.Q(256)];for(var h=0;h<3;h++)for(var T=0;T<256;T++){var E=T*(1/255),RV=0,L=0,RQ=0;
L=n[2][h];RQ=Math.abs(L);if(L<0)RV=Math.pow(E,Math.SQRT2);else RV=1.63*(Math.pow(E+.04,.5)-.2);E=RQ*RV+(1-RQ)*E;
L=n[1][h];RQ=Math.abs(L);if(L<0)RV=Math.pow(E,2);else RV=Math.min(2.35*(Math.pow(E+.09,.5)-.3),Math.pow(E,1/2));
E=RQ*RV+(1-RQ)*E;L=n[0][h];RQ=Math.abs(L);if(L<0)RV=E<.4?0:Math.pow((E-.4)/.6,Math.SQRT2);else RV=Math.pow(E,Math.SQRT2/2);
E=RQ*RV+(1-RQ)*E;E=Math.max(0,Math.min(1,E));_[h][T]=Math.round(E*255)}y={type:B.oO,ri:_[0],NW:_[1],KS:_[2],Mv:!1,Mo:!1}}if(Q=="phfl"){var pa=k.Kg.RT(S.Clr.v),RB=[pa.t/255,pa.e/255,pa.R/255],Mc=S.Dnst.v/100,_=[k.Q(256),k.Q(256),k.Q(256)];
for(var h=0;h<3;h++)for(var T=0;T<256;T++){var E=T*(1/255),Rk=E*RB[h];Rk=Math.max(0,Math.min(1,Rk));
E=Mc*Rk+(1-Mc)*E;_[h][T]=Math.round(E*255)}y={type:B.oO,ri:_[0],NW:_[1],KS:_[2],Mv:!1,Mo:S.PrsL.v}}if(Q=="thrs"){var o=k.Q(256);
for(var T=S.Lvl.v;T<256;T++)o[T]=255;y={type:B.oO,ri:o,NW:o,KS:o,Mv:!0,Mo:!1}}if(Q=="mixr"){var mt=Nf.XK(S),Y=[];
for(var T=0;T<mt.z.length;T++)if(T%5!=3)Y.push(mt.z[T]/100);if(mt.Db){for(var MC=1;MC<3;MC++)for(var E=0;
E<4;E++)Y[MC*4+E]=Y[E]}y={type:B.Vm,Sl:Y}}if(Q=="rplc"){var pF=S.Mnm.v,MU=S.Mxm.v;y={type:B.VM,ZO:[pF.Lmnc.v,pF.A.v,pF.B.v],ZZ:[MU.Lmnc.v,MU.A.v,MU.B.v],shift:[S.H.v/360,S.Strt.v/100,S.Lght.v/100],go:S.Fzns.v/200}}if(Q=="clrL"&&S.profile){var Rp=new Uint8Array(S.profile.v),RA=ICC.R(Rp.buffer),rq=[],RZ=0,QN=RA.tags.A2B0;
RZ=QN&&QN.gpnum?QN.gpnum[0]:0;RZ=RZ>8?RZ:17;var rq=ICC.U.sampleLUT(RA,RZ);y={type:B.Xi,Fk:ICC.U.rgba8LUT(rq,RZ),mwe:rq,fX:RZ}}return y};
Nf.JD={oO:0,JO:1,JB:2,Jl:3,JI:4,Vm:5,VM:6,Xi:7};Nf.Vp=function(Q){if(Q<0)return Q;return Math.pow(Math.tan(Math.PI/2*Q),1.3)};
Nf.mvM=function(Q){if(Q<0)return Q;Q=Math.pow(Q,1/1.3);return Math.atan2(Q,1)/(Math.PI/2)};Nf.sp=function(Q,S,B,y){var l=Nf.JD,D=Date.now();
if(W.Kf&&y.Z()>300*300&&Q.type!=l.oO&&Q.type!=l.Xi){y=y.clone();y.x=y.y=0;var R=Nf.mwy;if(R==null||R.r!=y.r||R.O!=y.O){if(R)R.delete();
Nf.mwy=R=new W.rp(y.r,y.O)}R.set(S);W.gP(R,y);R.kO(y);Nf.Vr(Q,R.iB,y);R.get(B);return}if(Q.type==l.Xi){var p=Q.mwe,O=Q.fX,Y=3;
function M(Rz,Nk,G,RJ,mv,NA){var Mr=1-RJ;NA[mv+0]=Mr*G[Rz]+RJ*G[Nk];NA[mv+1]=Mr*G[Rz+1]+RJ*G[Nk+1];NA[mv+2]=Mr*G[Rz+2]+RJ*G[Nk+2]}var U=[0,0,0,0,0,0,0,0,0,0,0,0],m=(O-1.000001)/255;
for(var x=0;x<S.length;x+=4){var y=m*S[x],T=m*S[x+1],$=m*S[x+2],L=~~y,s=~~T,j=~~$;M(Y*(j+O*s+O*O*L),Y*(j+1+O*s+O*O*L),p,$-j,0,U);
M(Y*(j+O*(s+1)+O*O*L),Y*(j+1+O*(s+1)+O*O*L),p,$-j,3,U);M(0,3,U,T-s,6,U);M(Y*(j+O*s+O*O*(L+1)),Y*(j+1+O*s+O*O*(L+1)),p,$-j,0,U);
M(Y*(j+O*(s+1)+O*O*(L+1)),Y*(j+1+O*(s+1)+O*O*(L+1)),p,$-j,3,U);M(0,3,U,T-s,9,U);M(6,9,U,y-L,0,U);B[x]=~~(.5+U[0]*255);
B[x+1]=~~(.5+U[1]*255);B[x+2]=~~(.5+U[2]*255)}}if(Q.type==l.Vm)k.Sl.RZ(S,B,Q.Sl);if(Q.type==l.JI){var Z=Q.mMb,e=Q.ob,J=Q.cr,N=Q.mre,E=S.length;
for(var x=0;x<E;x+=4){var y=S[x]*(1/255),T=S[x+1]*(1/255),$=S[x+2]*(1/255),h=k.hl(y,T,$),o=0;for(var V=0;
V<6;V++)o+=Math.min(1,1.7*(1-h.io))*h.YZ*Q.mMB[V]*Nf.je(h.Kj,V*(1/6));var n=Math.max(0,Math.min(1,h.io*(1+o)));
if(Q.Tw==1){var t=0;if(n<J)t=n*(.5/e);else if(n<N)t=n+Z*(.5-e);else t=1-(1-n)*.5/(1-e);h.Kj=Q.mMo;h.YZ=Math.min(1,Z+3*Z*Math.abs(n-.5*(J+N)));
h.io=t}else{h.Kj=0;h.YZ=0;h.io=n}var q=k.qd(h.Kj,h.YZ,h.io);B[x]=Math.round(q.t*255);B[x+1]=Math.round(q.e*255);
B[x+2]=Math.round(q.R*255)}}if(Q.type==l.Jl){var u=Q.QG,E=S.length,g=1/255;for(var x=0;x<E;x+=4){var y=S[x]*g,T=S[x+1]*g,$=S[x+2]*g,h=k.hl(y,T,$),r=Math.max(y,Math.max(T,$)),f=Math.min(y,Math.min(T,$)),I=1-y,d=1-T,a=1-$,c=0,C=0,F=0;
for(var V=0;V<9;V++){var i=V*6,rY=0;if(u[i]==1&&u[i+1]==1&&u[i+2]==1&&u[i+3]==0&&u[i+4]==0&&u[i+5]==0)continue;
var rP=I*u[i]+u[i+3],rH=d*u[i+1]+u[i+4],rK=a*u[i+2]+u[i+5];if(V<6)rY=Nf.je(h.Kj,V*(1/6))*h.YZ*2*Math.min(h.io,1-h.io);
else if(V==6)rY=Math.max(0,f-.5)*2;else if(V==7)rY=1-(Math.abs(r-.5)+Math.abs(f-.5));else rY=Math.max(0,.5-r)*2;
c+=(Math.max(0,Math.min(1,rP))-I)*rY;C+=(Math.max(0,Math.min(1,rH))-d)*rY;F+=(Math.max(0,Math.min(1,rK))-a)*rY}I=Math.max(0,Math.min(1,I+c));
d=Math.max(0,Math.min(1,d+C));a=Math.max(0,Math.min(1,a+F));y=1-I;T=1-d;$=1-a;B[x]=Math.round(y*255);
B[x+1]=Math.round(T*255);B[x+2]=Math.round($*255)}}if(Q.type==l.oO){k.mcR(S,B,Q.ri,Q.NW,Q.KS,Q.Mv,Q.Mo)}if(Q.type==l.JO){var Nc=new Uint32Array(S.buffer),G=new Uint32Array(B.buffer),E=Nc.length;
if(Nf.Bn==null){Nf.Bn=new Float64Array(256);for(var x=0;x<256;x++)Nf.Bn[x]=Nf.Vp(-1+2*x/255)}var rI=Nf.Bn;
for(var x=0;x<E;x++){var rb=Nc[x],y=(rb&255)*(1/255),T=(rb>>>8&255)*(1/255),$=(rb>>>16&255)*(1/255),Nr=rb>>>24,Nz=Math.min(y,T,$),NL=Math.max(y,T,$),Nm=0,NN=0,Ne=0;
if(NL!=Nz){var Ny=NL-Nz;switch(NL){case y:Nm=(T-$)/Ny+(T<$?6:0);break;case T:Nm=($-y)/Ny+2;break;case $:Nm=(y-T)/Ny+4;
break}Nm=Nm*(1/6)}var NG=~~(Nm*255+.5),NC=Q.mzr[NG]*(1/255),Ng=Q.vL[NG]*(1/255)*2-1,NQ=Q.mzc[NG]*(1/255)*2-1,o=-NQ,NR=Nz;
if(0<NQ){o=NQ;NR=NL}var NV=Q.mzO+Q.Bf*o*NR,md=Q.Bf*(1-o);y=NV+md*y;T=NV+md*T;$=NV+md*$;NL=Math.max(y,T,$);
Nz=Math.min(y,T,$);Ne=(NL+Nz)*.5;if(NL!=Nz){var Ny=NL-Nz;NN=Ne>.5?Ny/(2-(NL+Nz)):Ny/(NL+Nz)}var NW=Ng;
if(Q.mzB==0){Ng=rI[Math.floor((1+Ng)*127.5)];NW=Math.min(NN*(1+Ng),1)}Nm=NC;NN=NW;if(NN==0)y=T=$=Ne;
else{var Nh=Ne<.5?Ne*(1+NN):Ne+NN-Ne*NN,Nt=2*Ne-Nh;y=k.qF(Nt,Nh,Nm+1/3);T=k.qF(Nt,Nh,Nm);$=k.qF(Nt,Nh,Nm-1/3)}G[x]=Nr<<24|$*255<<16|T*255<<8|y*255}}if(Q.type==l.VM){k.MK(S,B);
var Nc=new Uint32Array(S.buffer),G=new Uint32Array(B.buffer),E=Nc.length,NU=Q.go,Mw=1/NU,mp={iu:Q.ZO[0],n:Q.ZO[1],R:Q.ZO[2]},Na={iu:Q.ZZ[0],n:Q.ZZ[1],R:Q.ZZ[2]};
for(var x=0;x<E;x++){var rb=Nc[x],L=rb&255,s=rb>>>8&255,j=rb>>>16&255,y=L*(1/255),T=s*(1/255),$=j*(1/255),Nr=rb>>>24,NX=k.we(L,s,j),Ni=k.xn(NX,mp,Na,NU,Mw);
if(Ni==0)continue;var h=k.hl(y,T,$),NC=2+h.Kj+Ni*Q.shift[0];h.Kj=NC-~~NC;h.YZ=Math.max(0,Math.min(1,h.YZ+Ni*Q.shift[1]));
h.io=Math.max(0,Math.min(1,h.io+Ni*Q.shift[2]));var q=k.qd(h.Kj,h.YZ,h.io);y=q.t;T=q.e;$=q.R;G[x]=Nr<<24|$*255<<16|T*255<<8|y*255}}if(Q.type==l.JB){var Nc=new Uint32Array(S.buffer),G=new Uint32Array(B.buffer),E=Nc.length,mm=Q.yQ[0]/100,NT=Q.yQ[1]/100;
for(var x=0;x<E;x++){var rb=Nc[x],y=(rb&255)*(1/255),T=(rb>>>8&255)*(1/255),$=(rb>>>16&255)*(1/255),Nr=rb>>>24,h=k.pU(y,T,$),Nm=h.Kj,NN=h.YZ,Ne=h.Kh,NF=0,Ns=45/360,NB=Nm<Ns?Math.cos(Math.PI/2*(Nm-Ns/2)/(Ns/2)):0;
NN=NN+.2*(1-.4*NB)*mm*Math.max(0,Math.sin(NN*Math.PI));NN=NN*(1+NT);NN=Math.max(0,Math.min(1,NN));var q=k.OS(Nm,NN,Ne);
y=q.t;T=q.e;$=q.R;G[x]=Nr<<24|$*255<<16|T*255<<8|y*255}}};Nf.Vr=function(Q,S,B){var y=Nf.JD;if(Q.type==y.oO)W.ve(S,{t:Q.ri,e:Q.NW,R:Q.KS},Q.Mv,Q.Mo,B);
if(Q.type==y.JO)W.Ce(S,{t:Q.mzr,e:Q.vL,R:Q.mzc},B,Q.mzO,Q.Bf,Q.mzB);if(Q.type==y.JB)W.wA(S,Q.yQ[0]/100,Q.yQ[1]/100,B);
if(Q.type==y.Jl)W.fS(S,Q.QG,B);if(Q.type==y.JI)W.UR(S,Q.mMB,[Q.Tw,Q.mMo,Q.ob,Q.mMb,Q.cr,Q.mre],B);if(Q.type==y.Vm)W.fl(S,Q.Sl,B);
if(Q.type==y.VM)W.fj(S,Q.ZO,Q.ZZ,Q.shift,Q.go,B);if(Q.type==y.Xi)W.an(S,Q.fX,Q.Fk,B)};Nf.je=function(Q,S){var B=k.aT(S,Q)*6;
return Math.max(0,Math.min(1,B<0?1+B:1-B))};Nf.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
Nf.jj=["expA","clrL","selc"];Nf.VR=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];Nf.mvp=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
Nf.Xb=[[13,1,1],[13,1,4],[13,1,5]];Nf.to={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr","\0\0\0\xDF":"clrL",rplc:"rplc"};
Nf.XS=function(){var Q=JSON.parse(JSON.stringify(Nf.to));delete Q["\0\0\0\xDE"];delete Q["\0\0\0\xDD"];
delete Q.GrMp;Q.vibrance="vibA";Q.photoFilter="phfl";Q.GdMp="grdm";return Q}();Nf.fk={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
Nf.keys={levl:[A.DQ,A.iu],curv:[A.DQ,A.Sx],hue2:[A.DQ,A.og],nvrt:[A.DQ,A.JC],blnc:[A.DQ,A.Ei]};Nf.oy=function(Q){var S=m_.yh("mixr");
S.Mnch={t:"bool",v:Q.Db};function B(y,l){var D={classID:"ChMx"},R={Rd:0,Grn:1,Bl:2,Cnst:4};for(var p in R)D[p]={t:"UntF",v:{type:"#Prc",val:y[l+R[p]]}};
return{t:"Objc",v:D}}if(Q.Db)S.Gry=B(Q.z,0);else{S.Rd=B(Q.z,0);S.Grn=B(Q.z,5);S.Bl=B(Q.z,10)}return S};
Nf.XK=function(Q){function S(y,l,D){var R={Rd:0,Grn:1,Bl:2,Cnst:4};for(var p in R)if(y[p])l[D+R[p]]=y[p].v.val}var B={Db:!1,z:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(Q.Mnch&&Q.Mnch.v)B.Db=!0;if(B.Db)S(Q.Gry.v,B.z,0);else{S(Q.Rd.v,B.z,0);S(Q.Grn.v,B.z,5);S(Q.Bl.v,B.z,10)}return B};
var m_={};m_.tT=[{DW:"GEfc"},{DW:"LnCr"},{DW:"LqFy",Uw:!0},{MX:[24,2],Ux:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,MtnB,RdlB,\0\0\x02\xB5".split(",")},{MX:[24,4],Ux:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")},{MX:[24,6],Ux:["AdNs","DstS","Mdn "]},{MX:[24,8],Ux:["ClrH","Crst","Mztn","Msc ","Pntl"]},{MX:[24,10],Ux:["Clds","DfrC","LnsF"]},{MX:[24,12],Ux:["Shrp","ShrM","\0\0\x03\xE8","UnsM"]},{MX:[24,14],Ux:["FndE"]},{MX:[24,16],Ux:["HghP","Mxm ","Mnm ","Ofst","Rept"]},{MX:"Fourier",Ux:["dDFT","iDFT"]}];
m_.fk={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod","\0\0\x02\xB1":"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur","\0\0\x02\xB5":"surfaceBlur",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore","\0\0\x03\xE8":"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
m_.names={LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Shrp:[24,13,0],ShrM:[24,13,2],"\0\0\x03\xE8":[24,13,3],UnsM:[24,13,4],FndE:[24,15,3],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform"};
m_.yh=function(Q){var S=null;if(Q=="GEfc")S=mr.yh("GlwE");if(Q=="LqFy"){var B={QP:50,Kj:50,map:new Float32Array(50*50*2)},y=new Uint8Array(QB.iP(B)),l=[];
for(var D=0;D<y.length;D++)l.push(y[D]);S={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:l}}}if(Q=="LnCr")S={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(Q=="\0\0\x02\xB1")S={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(Q=="GsnB")S={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(Q=="MtnB")S={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(Q=="RdlB")S={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(Q=="\0\0\x02\xB5")S={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(Q=="Dspl")S={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(Q=="Pnch")S={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(Q=="Plr ")S={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(Q=="Rple")S={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(Q=="Shr ")S={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(Q=="Sphr")S={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(Q=="Twrl")S={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(Q=="Wave")S={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(Q=="AdNs")S={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(Q=="DstS")S={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(Q=="Mdn ")S={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(Q=="ClrH")S={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(Q=="Crst")S={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(Q=="Mztn")S={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(Q=="Msc ")S={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(Q=="Pntl")S={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(Q=="LnsF")S={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(Q=="\0\0\x03\xE8")S={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(Q=="UnsM")S={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(Q=="HghP")S={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(Q=="Mxm ")S={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(Q=="Mnm ")S={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(Q=="Ofst")S={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(Q=="Rept")S={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(Q=="brit")S={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(Q=="levl")S={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(Q=="curv")S={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(Q=="expA")S={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(Q=="vibA")S={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(Q=="hue2")S={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(Q=="blnc")S={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(Q=="blwh")S={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(Q=="phfl")S={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(Q=="grdm")S={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(rx.Pf[6]).Grad};
if(Q=="selc")S={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(Q=="thrs")S={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(Q=="mixr")S={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(Q=="clrL")S={__name:"Color Lookup",classID:"colorLookup"};if(Q=="nvrt")S={};if(Q=="post")S={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(Q=="rplc")S={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:100},Lght:{t:"long",v:2}};
if(Q=="fade")S={__name:"Fade",classID:"fade",Md:{v:{BlnM:"Nrml"},t:"enum"},Opct:{v:{type:"#Prc",val:100},t:"UntF"}};
return S};m_.mvr=function(Q){var S=new v(0,0);if(Q.enab.v==!1)return S;var B=Q.filterFXList.v;for(var y=0;
y<B.length;y++){var l=B[y].v,R=0,p=0;if(l.enab.v==!1)continue;var D=X.cA(l.filterID.v);if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(D)!=-1){var O=l.Fltr.v.Rds.v.val;
R=p=O*2.57}if(D=="MtnB")R=p=l.Fltr.v.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Plr ,LnCr".split(",").indexOf(D)!=-1){R=p=1e4}if(D=="GEfc")R=p=1e4;
R=Math.ceil(R);p=Math.ceil(p);if(R>S.x)S.x=R;if(p>S.y)S.y=p}return S};m_.mvN=function(Q,S,B,y){for(var l=0;
l<Q.length;l++){B[l]=Q[l]*(1/255);y[l]=0}FFT.fft2d(B,y);var D=S>>>1,R=16384,p=128,M=100;while(p<S){p<<=1;
R<<=2}var O=255/Math.log(R),U=-100;for(var m=0;m<S;m++)for(var Y=0;Y<D;Y++){var x=S+D+m&S-1,T=B[x*S+Y],$=y[x*S+Y],L=Math.sqrt(T*T+$*$),s=Math.atan2($,T);
Q[m*S+Y]=Math.round(O*Math.log(L+1));Q[m*S+D+Y]=Math.round((Math.PI+s)*(255*.5/Math.PI))}};m_.mve=function(Q,S,B,y){B.fill(0);
y.fill(0);var l=S>>>1,D=16384,R=128;while(R<S){R<<=1;D<<=2}var p=255/Math.log(D),O=[],M=[],U=[];for(var m=0;
m<256;m++){O[m]=Math.exp(m/p)-1;var Y=m*(2*Math.PI/255)-Math.PI;M[m]=Math.sin(Y);U[m]=Math.cos(Y)}for(var x=0;
x<S;x++)for(var T=0;T<l;T++){var $=S+l+x&S-1,L=O[Q[x*S+T]],Y=Q[x*S+l+T],s=L*U[Y],j=L*M[Y];B[$*S+T]=s;
y[$*S+T]=j;if(T!=0){var Z=$==0?$*S+S-T:(S-$)*S+(S-T);B[Z]=s;y[Z]=-j}}FFT.ifft2d(B,y);for(var m=0;m<Q.length;
m++){Q[m]=Math.max(0,Math.min(255,~~(.5+255*B[m])))}};m_.sp=function(Q,S,B,y,l,D,R){if(D==null)D={buffer:k.Q(S.buffer.length),rect:S.rect.clone()};
k.MK(S.buffer,D.buffer);if(Q=="GEfc")mr.sp(Q,S,B,y,l,D,R);if(Q=="dDFT"||Q=="iDFT"){function p(RE){if(RE==0)return 1;
RE--;RE|=RE>>1;RE|=RE>>2;RE|=RE>>4;RE|=RE>>8;RE|=RE>>16;return RE+1}var O=S.rect.r,M=S.rect.O,U=p(Math.max(O,M)),m=U>>>1,Y=new w(0,0,U,U),x=new w(0,0,O,M);
x.y=U-M>>>1;var T=O>>>1,$=new w(0,x.y,T,M),L=new k.rp(O*M);k.Cd(S.buffer,L);var s=new Float64Array(U*U),j=new Float64Array(U*U),Z=k.Q(U*U);
FFT.init(U);var e=[L.t,L.e,L.R];for(var J=0;J<3;J++){var N=e[J];Z.fill(0);if(Q=="dDFT"){k.ht(N,x,Z,Y);
m_.mvN(Z,U,s,j);k.ht(Z,Y,N,x,$);$.x+=T;Y.x-=m-T;k.ht(Z,Y,N,x,$);$.x-=T;Y.x+=m-T}else{k.ht(N,x,Z,Y,$);
$.x+=m;x.x+=m-T;k.ht(N,x,Z,Y,$);$.x-=m;x.x-=m-T;m_.mve(Z,U,s,j);k.ht(Z,Y,N,x)}}k.Cc(L,D.buffer)}if(Q=="Avrg"){var E=0,h=0,o=0,V=0,n=1;
for(var J=0;J<S.buffer.length;J+=4){var t=S.buffer[J+3];o+=S.buffer[J]*t;h+=S.buffer[J+1]*t;E+=S.buffer[J+2]*t;
V+=t}var q=1/V;E=Math.round(n*(E*q)+(1-n)*255);h=Math.round(n*(h*q)+(1-n)*255);o=Math.round(n*(o*q)+(1-n)*255);
k.St(D.buffer,E<<16|h<<8|o,4278190080)}if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(Q)!=-1){var u=B.Rds.v.val,g=Q=="\0\0\x02\xB1"?k.blur.Pd:k.blur.mCK;
m_.DN(u,g,D.buffer,D.rect);if(Q=="UnsM"||Q=="\0\0\x03\xE8"){var r=B.Amnt.v.val/100,f=0;if(Q=="UnsM")f=B.Thsh.v;
else r*=.75;for(var J=0;J<S.buffer.length;J++){if((J&3)==3){D.buffer[J]=S.buffer[J];continue}var I=S.buffer[J],d=D.buffer[J],a=r*(I-d);
if(a>0)a=Math.max(0,a-f);else a=Math.min(0,a+f);D.buffer[J]=Math.max(0,Math.min(255,I+a))}}if(Q=="HghP")for(var J=0;
J<S.buffer.length;J++){if((J&3)==3){D.buffer[J]=S.buffer[J];continue}var I=S.buffer[J],d=D.buffer[J];
D.buffer[J]=Math.max(0,Math.min(255,128+I-d))}}if(Q=="\0\0\x02\xB5"){var c=B.Rds.v.val,_=B.Thsh.v,O=S.rect.r,M=S.rect.O,L=new k.rp(O*M);
k.Cd(S.buffer,L);var C=new k.rp(O*M);k.ns.VT(L.t,L.n,C.t,O,M,c,k.ns.Ql,[_]);k.ns.VT(L.e,L.n,C.e,O,M,c,k.ns.Ql,[_]);
k.ns.VT(L.R,L.n,C.R,O,M,c,k.ns.Ql,[_]);k.MK(L.n,C.n);k.Cc(C,D.buffer)}if(Q=="AdNs"){var F=new Uint8ClampedArray(D.buffer.buffer),i=255*B.Nose.v.val/100,rP;
if(B.Dstr.v.Dstr=="Gsn")rP=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else rP=function(){return Math.random()*2-1};for(var J=0;J<F.length;J+=4){var c=F[J],rH=F[J+1],rK=F[J+2],rY,Nc,G;
if(B.Mnch.v){rY=Nc=G=rP()}else{rY=rP();Nc=rP();G=rP()}c+=i*rY;rH+=i*Nc;rK+=i*G;F[J]=c;F[J+1]=rH;F[J+2]=rK}}if(Q=="Mdn "||Q=="DstS"||Q=="Mxm "||Q=="Mnm "){var c=0;
if(Q=="Mdn "||Q=="Mxm "||Q=="Mnm ")c=B.Rds.v.val;if(Q=="DstS")c=B.Rds.v;k.ns.vs=.5;var g=k.ns.Nj;if(Q=="Mxm ")g=k.ns.PE;
if(Q=="Mnm ")g=k.ns.mGy;var O=S.rect.r,M=S.rect.O,rI={"Mdn ":0,"Mxm ":1,"Mnm ":1,DstS:2}[Q];m_.Dr(S.buffer,D.buffer,O,M,c,g,rI);
if(Q=="DstS"){var _=B.Thsh.v;for(var J=0;J<O*M*4;J++){var rb=Math.abs(S.buffer[J]-D.buffer[J]);if(rb<=_)D.buffer[J]=S.buffer[J]}}}if(Q=="ClrH"){var $=S.rect.clone();
$.x=$.y=0;var c=B.Rds.v;c=Math.round(c*Math.sqrt(2));var O=$.r,M=$.O,L=new k.rp(O*M);k.Cd(S.buffer,L);
k.SD(L.t);k.SD(L.e);k.SD(L.R);var Nr=P.P("canvas","");Nr.width=O;Nr.height=M;var Nz=Nr.getContext("2d"),NL=k.Q(O*M*4);
for(var Nm=0;Nm<3;Nm++){var Z=Nm==0?L.t:Nm==1?L.e:L.R,NN=Math.PI*B["Ang"+(Nm+1)].v/180,Ne=new Nu(1/c,0,0,1/c,0,0);
Ne.rotate(NN);k.KF(Z,NL,3);var Ny=K.Sj.Hg([NL,$],Ne,!0),x=Ny.rect;Nz.clearRect(0,0,O,M);var NG=Math.sin(NN),NC=Math.cos(NN);
for(var J=0;J<x.O;J++)for(var Ng=0;Ng<x.r;Ng++){var NM=(Ng+x.x+.5)*c,NQ=(J+x.y+.5)*c,NR=NM,NV=NQ;NM=NC*NR-NG*NV;
NQ=NG*NR+NC*NV;var md=Ny.buffer[(J*x.r+Ng<<2)+3]*(1/255),u=c*Math.sqrt(md*(1/Math.PI));Nz.beginPath();
Nz.arc(NM,NQ,u,0,2*Math.PI);Nz.fill()}var NW=Nz.getImageData(0,0,O,M);k.MA(NW.data,Z,3)}k.SD(L.t);k.SD(L.e);
k.SD(L.R);k.Cc(L,D.buffer)}if(Q=="Crst"||Q=="Pntl"){var O=S.rect.r,M=S.rect.O,g=Q=="Crst"?k.wj.mCY:k.wj.mCX;
g(S.buffer,O,M,D.buffer,B.ClSz.v,[Math.round(l.t),Math.round(l.e),Math.round(l.R)])}if(Q=="Mztn"){var O=S.rect.r,M=S.rect.O,md=O*M,L=new k.rp(md),C=[L.t,L.e,L.R];
k.Cd(S.buffer,L);var Nh=B.MztT.v.MztT,Nt={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[Nh],NU=Date.now(),Mw=[];
for(var J=0;J<md;J++){Mw[J]=Math.random()}var md=O*M,mp=Math.round(md*Nt[0]),Na=md-O-1;for(var J=0;J<mp;
J++){var NX=Math.random(),Ni=1;if(NX<.5){Ni=O;NX*=2}else NX=2*(NX-.5);var mm=Math.floor(NX*Na),NT=mm+Ni;
Mw[mm]=Mw[NT]}var NF=Math.round(O*Nt[1]);for(var NQ=0;NQ<M;NQ++)for(var J=0;J<NF;J++){var NX=k.X.oi(NQ*md+J),mm=NQ*O+Math.floor(NX*(O-1));
Mw[mm]=Mw[mm+1]}var Ns=new Float64Array(256);for(var J=0;J<256;J++){var NB=J/255,Rz=2*(NB<.5?NB:1-NB);
Rz=Nt[2]+Math.pow(Rz,Nt[3])*(1-Nt[2]);NB=NB<.5?Rz*.5:1-Rz*.5;Ns[J]=NB}for(var Nk=0;Nk<3;Nk++){var Z=C[Nk];
for(var NQ=0;NQ<M;NQ++){for(var NM=0;NM<O;NM++){var J=NQ*O+NM,RJ=Z[J],NB=Ns[RJ],NX=Mw[J];Z[J]=NX>NB?0:255}}}k.Cc(L,D.buffer)}if(Q=="Msc "){var mv=B.ClSz.v.val,O=S.rect.r,M=S.rect.O,NA=Math.ceil(O/mv),Mr=Math.ceil(M/mv),p$=k.Q(NA*Mr*4);
k.scale.LR(S.buffer,O,M,p$,NA,Mr,1/mv);k.scale.LR(p$,NA,Mr,D.buffer,O,M,mv)}if(Q=="Clds"||Q=="DfrC"){if(Q=="Clds")k.St(D.buffer,4278190080);
var RL=k.Q(256*4);for(var J=0;J<256;J++){var mR=J<<2,Ro=J/255,mQ=1-Ro;RL[mR]=Math.round(Ro*y.t+mQ*l.t);
RL[mR+1]=Math.round(Ro*y.e+mQ*l.e);RL[mR+2]=Math.round(Ro*y.R+mQ*l.R)}var O=D.rect.r,M=D.rect.O,md=O*M,mS=k.Q(md);
noise.seed(Math.random());for(var NQ=0;NQ<M;NQ++)for(var NM=0;NM<O;NM++){var Rh=0,ps=1,mE=1;for(var J=0;
J<8;J++){var Rd=mE*(1/170);Rh+=noise.perlin2(NM*Rd,NQ*Rd)*ps;ps*=.5;mE=mE<<1}mS[NQ*O+NM]=Math.round(Math.max(0,255*Math.min(1,.5+.7*Rh*.5)))}var Qz=D.buffer;
for(var J=0;J<md;J++){var mR=J<<2,Nk=mS[J]<<2,c=RL[Nk],rH=RL[Nk+1],rK=RL[Nk+2];if(Q=="Clds"){Qz[mR]=c;
Qz[mR+1]=rH;Qz[mR+2]=rK}else{Qz[mR]=Math.abs(Qz[4*J]-c);Qz[mR+1]=Math.abs(Qz[4*J+1]-rH);Qz[mR+2]=Math.abs(Qz[4*J+2]-rK)}}}if(Q=="LnsF"){var O=S.rect.r,M=S.rect.O,Nh=["Zm","Nkn","Nkn1","PnVs"].indexOf(B.Lns.v.Lns),rX=B.FlrC.v,Rm=[Math.min(Nh,2),B.Brgh.v/100,rX.Hrzn.v,rX.Vrtc.v],NU=Date.now();
k.mnz(S.buffer,O,M,D.buffer,Rm)}if(Q=="Blr "||Q=="BlrM"||Q=="Shrp"||Q=="ShrM"){var O=S.rect.r,M=S.rect.O,Ri;
if(Q=="Blr ")Ri=[1,2,1,2,16,2,1,2,1];else if(Q=="BlrM")Ri=[1,2,1,2,4,2,1,2,1];else if(Q=="Shrp")Ri=[0,-1,0,-1,8,-1,0,-1,0];
else Ri=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];Ri=k.ns.Qs(Ri);var Rl=S.buffer.slice(0);k.rA(Rl);k.ns.Uq(Rl,D.buffer,O,M,Ri,Q=="Shrp"||Q=="ShrM"?0:255);
if(Q=="Shrp"||Q=="ShrM")k.Pm(D.buffer);k.rY(D.buffer)}if(Q=="MtnB"){var NU=Date.now(),Ne=new Nu;Ne.rotate(-B.Angl.v*Math.PI/180);
var Ny=K.Sj.Hg([S.buffer,S.rect],Ne,!1,null,!0);m_.DN(B.Dstn.v.val/2,k.blur.Py,Ny.buffer,Ny.rect);Ne.SD();
Ny=K.Sj.Hg([Ny.buffer,Ny.rect],Ne,!1,D.buffer.buffer,!0,D.rect);console.log(Date.now()-NU)}if(Q=="RdlB"){var O=S.rect.r,M=S.rect.O,r=B.Amnt.v,mW=B.BlrM.v.BlrM=="Zm",Nm=B.Cntr.v,RF=Nm.Hrzn.v,Rv=Nm.Vrtc.v,NK=Math.max(RF,1-RF)*O,Mu=Math.max(Rv,1-Rv)*M,u=Math.sqrt(NK*NK+Mu*Mu),RN=2*Math.PI*u*1.5,pc=Math.round(RN),RV=Math.round(u),$=new w(0,0,pc,RV),RQ=k.Q(pc*RV*4),pa=mW?4:1,RB=mW?.6:8*((O+M)/2)/1400,Mc=.1,Rd=1,Rk=1;
k.W.PB(S.buffer,O,M,RQ,pc,RV,RF,Rv,pa,Mc,Rd,Rk);var mt=mW?k.Q(pc*RV*4):null;if(mW){k.W.Qk(RQ,mt,pc,RV);
var MC=mt;mt=RQ;RQ=MC;$.r=RV;$.O=pc}m_.DN(RB*r,k.blur.Py,RQ,$);if(mW){k.W.Qk(RQ,mt,RV,pc);var MC=mt;
mt=RQ;RQ=MC;$.r=pc;$.O=RV}k.W.Pl(RQ,pc,RV,D.buffer,O,M,RF,Rv,pa,Mc,Rd,Rk)}if(Q=="Plr "){var O=S.rect.r,M=S.rect.O;
if(B.Cnvr.v.Cnvr=="RctP")k.W.Pl(S.buffer,O,M,D.buffer,O,M,.5,.5,1,0,2,O/M);else k.W.PB(S.buffer,O,M,D.buffer,O,M,.5,.5,1,0,2,O/M)}if(Q=="FndE"){var O=S.rect.r,M=S.rect.O;
m_.oF(S.buffer,D.buffer,O,M)}if(Q=="Ofst"){var O=S.rect.r,M=S.rect.O,pF=new Uint32Array(S.buffer.buffer),MU=new Uint32Array(D.buffer.buffer),NR=B.Hrzn.v,NV=B.Vrtc.v,Rp=B.Fl.v.FlMd;
k.St(MU,0);if(Rp=="Bckg"||Rp=="Rpt"){var $=S.rect.clone();$.offset(NR,NV);k.oD(pF,$,MU,D.rect)}if(Rp=="Rpt"){var RA,rq,RZ,QN,pQ;
NR=Math.max(-O,Math.min(O,NR));NV=Math.max(-M,Math.min(M,NV));RA=NR>0?NR:0;RZ=NR>0?O:O+NR;rq=NV>0?0:NV+M;
QN=NV>0?NV:M;pQ=NV>0?0:O*(M-1);for(var NQ=rq;NQ<QN;NQ++)for(var NM=RA;NM<RZ;NM++)MU[NQ*O+NM]=pF[pQ+NM-NR];
RA=NR>0?0:O+NR;RZ=NR>0?NR:O;rq=NV>0?NV:0;QN=NV>0?M:M+NV;pQ=NR>0?0:O-1;for(var NQ=rq;NQ<QN;NQ++)for(var NM=RA;
NM<RZ;NM++)MU[NQ*O+NM]=pF[pQ+O*(NQ-NV)];if(NR>=0&&NV>=0){RA=0;RZ=NR;rq=0;QN=NV;pQ=0}if(NR>=0&&NV<0){RA=0;
RZ=NR;rq=M+NV;QN=M;pQ=O*(M-1)}if(NR<0&&NV>=0){RA=O+NR;RZ=O;rq=0;QN=NV;pQ=O-1}if(NR<0&&NV<0){RA=O+NR;
RZ=O;rq=M+NV;QN=M;pQ=O*M-1}for(var NQ=rq;NQ<QN;NQ++)for(var NM=RA;NM<RZ;NM++)MU[NQ*O+NM]=pF[pQ]}if(Rp=="Wrp"){NR=(NR+100*O)%O;
NV=(NV+100*M)%M;var $=new w(NR-O,NV-M,O,M);k.oD(pF,$,MU,D.rect);$.offset(O,0);k.oD(pF,$,MU,D.rect);$.offset(0,M);
k.oD(pF,$,MU,D.rect);$.offset(-O,0);k.oD(pF,$,MU,D.rect)}}if(Q=="Rept"){var mk=B.Rsft.v.val/100,RD=B.SpcX.v.val/100;
RD=Math.max(RD,-.99);var pt=B.SpcY.v.val/100;pt=Math.max(pt,-.99);var Rd=B.Scl.v.val/100,Ne=new Nu;Ne.rotate(B.Angl.v*Math.PI/180);
Ne.scale(Rd,Rd);var LW={buffer:S.buffer,rect:S.rect};k.aH(LW);if(LW.rect.Kq()){LW.buffer=S.buffer;LW.rect=S.rect}var Qz=LW.buffer,$=LW.rect,rk=k.Nr(Qz,$,0),My=new Uint32Array(Qz.buffer)[0];
if(!rk.Kq()&&!rk.UH($)){var Lu=k.Q(rk.Z()*4);k.oD(Qz,$,Lu,rk);Qz=Lu;$=rk}$.x=$.y=0;My=RD==0&&pt==0||B.SpcC.v?My:0;
function pC(NM){return NM<0?Math.ceil(NM):Math.floor(NM)}var QD=Ne.Dv(new v($.r,0));QD.x=pC(QD.x);QD.y=pC(QD.y);
var Ml=Ne.Dv(new v(0,$.O));Ml.x=pC(Ml.x);Ml.y=pC(Ml.y);var Ny=K.Sj.Hg([Qz,$],Ne,!1),x=Ny.rect,RH=Ny.buffer,LF=Math.round(x.x),pW=Math.round(x.y),QA=Math.max(D.rect.r,D.rect.O)/Math.min($.r*Rd*(1+RD),$.O*Rd*(1+pt));
QA=Math.ceil(QA*1.7);k.St(D.buffer,My);for(var NQ=-QA;NQ<QA;NQ++){for(var NM=-QA;NM<QA;NM++){var pE=(NM+NQ*mk)*(1+RD),rQ=NQ*(1+pt);
x.x=LF+Math.round(pE*QD.x+rQ*Ml.x);x.y=pW+Math.round(pE*QD.y+rQ*Ml.y);if(x.nc(D.rect))k.X.Rc("norm",RH,x,D.buffer,D.rect,x,1)}}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(Q)!=-1){var O=S.rect.r,M=S.rect.O,Ns,Ma=0;
if(Q=="LqFy")Ns=QB.fY(new Uint8Array(B.LqMe.v).buffer);else{var MG=Q=="Dspl"?1:3;Ns={QP:Math.floor(O/MG),Kj:Math.floor(M/MG)};
Ns.map=new Float32Array(Ns.QP*Ns.Kj*2);if(Q=="LnCr"){var RF=.5*(Ns.QP-1),Rv=.5*(Ns.Kj-1),pu=Math.max(Math.abs(0-RF),Math.abs(1-RF)),mj=Math.max(Math.abs(0-Rv),Math.abs(1-Rv)),pw=Math.sqrt(pu*pu+mj*mj),Qf=0,QU=0,rh=-1,RI=2,Rd=B.LnSi.v/100,mW=1/Rd,LG=B.LnIa.v/100,rz=LG==0?1e-6:LG*4.6,pf=mW/pw;
for(var NQ=0;NQ<Ns.Kj;NQ++){for(var NM=0;NM<Ns.QP;NM++){var NK=(NM-RF)*pf,Mu=(NQ-Rv)*pf,c=Math.sqrt(NK*NK+Mu*Mu)*rz,MN=Math.atan(c),Mj=LG>0?MN/c:c/MN,Rk=RF+pw*Mj*NK,pS=Rv+pw*Mj*Mu,J=NQ*Ns.QP+NM<<1;
Ns.map[J]=Rk-NM;Ns.map[J+1]=pS-NQ}}}else if(Q=="Dspl"&&R.length!=0){Ma=B.UndA.v.UndA=="WrpA"?2:1;var Qq=B.DspF.v.pth,MK;
for(var J=0;J<R.length;J++)if(R[J].LB==Qq)MK=R[J];if(MK==null)MK=R[0];MK.qB();var ry=MK.Km[1],Qo=k.Q(ry.Z());
k.pE(MK.Km[0],Qo);var pm=ry.r,pN=2*B.HrzS.v/MG,Qk=2*B.VrtS.v/MG;for(var NQ=0;NQ<Ns.Kj;NQ++){for(var NM=0;
NM<Ns.QP;NM++){var pu=Math.floor(ry.r*NM/Ns.QP),mj=Math.floor(ry.O*NQ/Ns.Kj),NK=Mu=-.5+Qo[mj*pm+pu]/255,J=NQ*Ns.QP+NM<<1;
Ns.map[J]=NK*pN;Ns.map[J+1]=Mu*Qk}}}else if(Q=="Pnch"||Q=="Twrl"||Q=="Sphr"){var r=1,Qu=Math.PI,MZ=0,Nm=3,mv=1.53,Mj=1;
if(Q=="Pnch"||Q=="Sphr")r=B.Amnt.v/100;if(Q=="Twrl")Qu=B.Angl.v*Math.PI/180;if(Q=="Sphr")MZ=["Nrml","HrzO","VrtO"].indexOf(B.SphM.v.SphM);
function g(NM){NM=Math.pow(NM,1-NM*.3-NM*NM*(NM*NM)*.5);return-.225*Math.sin(NM*Math.PI)}function Qx(M,RE,c,RA,rq,RZ,QN,Mj){var NK=RZ-RA,Mu=QN-rq,mz=RA-M,QQ=rq-RE,Ro=NK*NK+Mu*Mu,rK=2*(NK*mz+Mu*QQ),Nm=mz*mz+QQ*QQ-c*c,MO=Math.sqrt(rK*rK-4*Ro*Nm),Lw=Mj/(2*Ro),QO=(-rK+MO)*Lw,ME=(-rK-MO)*Lw;
return Mj*Math.min(QO,ME)}var NA=Ns.QP,Mr=Ns.Kj,Qa=Ns.QP/2,rj=Ns.Kj/2,QF=1/Qa,c=Math.sqrt(Nm*Nm+1)/Nm,N=Nm+Math.sqrt(1/(Nm*Nm));
if(r<0){Nm=1.72;c=1;N=Nm;mv=-1;Mj=-1}for(var NQ=0;NQ<Mr;NQ++){var Mu=(NQ-rj)/rj;for(var NM=0;NM<NA;NM++){var NK=(NM-Qa)*QF;
if(MZ==1)Mu=0;else if(MZ==2)NK=0;var mU=Math.sqrt(NK*NK+Mu*Mu);if(mU<1&&mU!=0){var J=NQ*Ns.QP+NM<<1;
if(Q=="Pnch"){var Qn=-r*g(mU)/mU;Ns.map[J]=NK*Qn*Qa;Ns.map[J+1]=Mu*Qn*rj}else if(Q=="Sphr"){var MC=Qx(0,N,c,0,0,mU,Nm,Mj),QH=mv*r*(MC-1);
Ns.map[J]=NK*QH*Qa;Ns.map[J+1]=Mu*QH*rj}else if(Q=="Twrl"){var NN=Math.atan2(Mu,NK)-Qu*(1-mU)*(1-mU),ri=Math.cos(NN),MA=Math.sin(NN);
Ns.map[J]=(mU*ri-NK)*Qa;Ns.map[J+1]=(mU*MA-Mu)*rj}}}}}else if(Q=="Shr "){var QW=JSON.parse(JSON.stringify(B.ShrP.v));
k.$T.V(QW,new Nu(0,255/127,255/127,0,-2,0));var cz=k.$T.i$(QW,Ns.Kj,!0);Ma=B.UndA.v.UndA=="WrpA"?2:1;
for(var NQ=0;NQ<Ns.Kj;NQ++){var NK=-cz[NQ]*Ns.QP;for(var NM=0;NM<Ns.QP;NM++){var J=NQ*Ns.QP+NM<<1;Ns.map[J]=NK}}}else if(Q=="Wave"){var Q$=B.NmbG.v,Q_=B.WLMn.v,QY=B.WLMx.v,Qw=B.AmMn.v*(Math.PI/4),RK=B.AmMx.v*(Math.PI/4),LL=B.SclH.v/100,Lc=B.SclV.v/100,Nh=B.Wvtp.v.Wvtp,Mx=Math.sin;
if(Nh=="WvTr")Mx=function(NM){NM*=2/Math.PI;return-.5+Math.abs(NM%2-1)};if(Nh=="WvSq")Mx=function(NM){NM*=2/Math.PI;
return 1+2*Math.floor(NM%2-1)};var RY=[],mZ=new k.X.NL(B.RndS.v);for(var J=0;J<Q$;J++){RY.push(mZ.get()*10);
RY.push(Math.PI*MG/(Q_+mZ.get()*(QY-Q_)));RY.push(LL*(Qw+mZ.get()*(RK-Qw))/MG);RY.push(mZ.get()*10);
RY.push(Math.PI*MG/(Q_+mZ.get()*(QY-Q_)));RY.push(Lc*(Qw+mZ.get()*(RK-Qw))/MG)}var QS=[],LN=[],Lq=Math.max(Ns.QP,Ns.Kj);
for(var J=0;J<Lq;J++){var NK=0,Mu=0;for(var Ng=0;Ng<Q$;Ng++){var MY=Ng*6;NK+=RY[MY+2]*Mx(RY[MY]+J*RY[MY+1]);
Mu+=RY[MY+5]*Mx(RY[MY+3]+J*RY[MY+4])}QS[J]=Mu;LN[J]=NK}for(var NQ=0;NQ<Ns.Kj;NQ++){for(var NM=0;NM<Ns.QP;
NM++){var J=NQ*Ns.QP+NM<<1;Ns.map[J]=LN[NQ];Ns.map[J+1]=QS[NM]}}Ma=B.UndA.v.UndA=="WrpA"?2:1}else if(Q=="Rple"){Ma=1;
var r=B.Amnt.v/100,MD=4,Ql=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],pG=1,Ly=1,mz=0,LJ=["Sml","Mdm","Lrg"].indexOf(B.RplS.v.RplS);
if(LJ==0){pG=1;Ly=.2;mz=3}if(LJ==2){pG=1;Ly=2;mz=-1;Ql=Ql.reverse()}var mO=function(NM,NQ){var Nm=Math.cos,Rh=0;
for(var J=0;J<MD;J++)for(var Ng=0;Ng<MD;Ng++)Rh+=Ql[J*MD+Ng]*Nm(NM*(J+mz)-NQ*(Ng+mz));return Rh},QM=Math.floor(50/MG),Qt=new Float32Array(QM*QM*2),LV=Ly*r*.5/MG;
for(var NQ=0;NQ<QM;NQ++)for(var NM=0;NM<QM;NM++){var RF=pG*NM*2*Math.PI/QM,Rv=pG*NQ*2*Math.PI/QM,L_=mO(RF,Rv),NK=(mO(RF+.01,Rv)-L_)*100,Mu=(mO(RF,Rv+.01)-L_)*100,J=(NQ*QM+NM)*2;
Qt[J]=NK*LV;Qt[J+1]=Mu*LV}for(var NQ=0;NQ<Ns.Kj;NQ++)for(var NM=0;NM<Ns.QP;NM++){var MA=NQ%QM,ri=NM%QM,J=NQ*Ns.QP+NM<<1,Qj=MA*QM+ri<<1;
Ns.map[J]=Qt[Qj];Ns.map[J+1]=Qt[Qj+1]}}}k.$X.RR(S.buffer,D.buffer,O,M,null,Ns.map,Ns.QP,Ns.Kj,Ma)}return D};
m_.oF=function(Q,S,B,y){var l=k.Q(Q.length);k.ns.Uq(Q,S,B,y,[-1,0,1,-2,0,2,-1,0,1],0,!0);k.ns.Uq(Q,l,B,y,[1,2,1,0,0,0,-1,-2,-1],0,!0);
for(var D=0;D<l.length;D+=4){var R=S[D],p=S[D+1],O=S[D+2],M=S[D+3],U=l[D],m=l[D+1],Y=l[D+2],x=l[D+3];
S[D]=255-Math.max(0,Math.min(255,Math.sqrt(R*R+U*U)));S[D+1]=255-Math.max(0,Math.min(255,Math.sqrt(p*p+m*m)));
S[D+2]=255-Math.max(0,Math.min(255,Math.sqrt(O*O+Y*Y)))}};m_.Dr=function(Q,S,B,y,l,D,R){var p=new k.rp(B*y);
k.Cd(Q,p);var O=new k.rp(B*y);k.ns.VT(p.t,p.n,O.t,B,y,l,D);k.ns.VT(p.e,p.n,O.e,B,y,l,D);k.ns.VT(p.R,p.n,O.R,B,y,l,D);
if(R==0){k.set(p.t,255);k.ns.VT(p.n,p.t,O.n,B,y,l,D)}else if(R==1){var M=k.Q(p.n.length);k.set(M,255);
k.SD(p.n);k.ns.VT(p.n,M,O.n,B,y,l,D);k.SD(p.n);k.SD(O.n)}else k.MK(p.n,O.n);k.Cc(O,S)};m_.DN=function(Q,S,B,y){k.rA(B);
if(Q<1){var l=Math.round(Q*5),D=[1,2,1,2,[40,26,13,6,4,2][l],2,1,2,1];D=k.ns.Qs(D);var R=B.slice(0);
k.ns.Uq(R,B,y.r,y.O,D,255)}else S(B,y,Q);k.rY(B)};m_.Vc=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
m_.Dc=function(Q,S){var B={t:S.Tq>>16,e:S.Tq>>8&255,R:S.Tq&255},y={t:S.hB>>16,e:S.hB>>8&255,R:S.hB&255},l=m_.names[Q];
if(l==null)l=Nf.names[Q];var D=Q;for(var R in Nf.to)if(Nf.to[R]==Q)D=R;var p={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:Nd.get(l)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:k.Kg.Od(B)},BckC:{t:"Objc",v:k.Kg.Od(y)},filterID:{t:"long",v:X.mne(D)}}};
if(H[Q])p.v.Fltr={t:"Objc",v:m_.yh(Q)};return p};var mr={};mr.Ts="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");
mr.Vd="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");mr.Ve=["ScrC","ScrD","ScrL"];mr.Vy=["SDRD","SDHz","SDLD","SDVt"];
mr.fk={PntD:"paintDaubs"};mr.names={PntD:"Paint Daubs",Spt:"Spatter",SprS:"Sprayed Strokes",BsRl:"Bas Relief",HlfS:"Halftone Pattern",GlwE:"Glowing Edges",StnG:"Stained Glass"};
mr.yh=function(Q){var S;if(Q=="PntD")S={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};
if(Q=="Spt")S={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};if(Q=="SprS")S={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(Q=="BsRl")S={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};if(Q=="HlfS")S={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};
if(Q=="GlwE")S={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(Q=="StnG")S={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
S.__name="Filter Gallery";S.classID="GEfc";S.GEfk={t:"enum",v:{GEft:Q}};return S};mr.sp=function(Q,S,B,y,l,D,R){Q=B.GEfk.v.GEft;
var p=S.rect.r,O=S.rect.O;if(Q=="Spt"||Q=="SprS"){var p=S.rect.r,O=S.rect.O,M,U=1,m=1;M={QP:Math.floor(p/m),Kj:Math.floor(O/m)};
M.map=new Float32Array(M.QP*M.Kj*2);var Y=new k.X.NL(B.FlRs.v),x=new Float32Array(8192),T=B.SprR.v,$=T<20?.018*T:.36+(T-20)*.128;
if(Q=="SprS"){$=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][T]}for(var L=0;
L<8192;L++)x[L]=(-1+2*Y.get())*$*70;for(var s=0;s<O;s++)for(var j=0;j<p;j++){var Z=s*p+j<<1;M.map[Z]=x[Z%7919];
M.map[Z+1]=x[(Z+1)%7919]}var e=M.map.slice(0),J=Q=="Spt"?B.Smth.v-1:1;if(Q=="Spt"&&J!=0){mr.kb(M.map,e,p,O,J);
mr.xU(e,M.map,p,O,J)}if(Q=="SprS"){var N=B.StrL.v>>>1,E=N==0?2:1;mr.kb(M.map,e,p,O,E);mr.xU(e,M.map,p,O,E);
if(N!=0){var h=mr.Vy.indexOf(B.SDir.v.StrD),o=[1,1,1,0][h],V=[-1,0,1,1][h],n=2*N+1,t=1/n;for(var s=0;
s<O;s++)for(var j=0;j<p;j++){var Z=s*p+j<<1,q=0,u=0;for(var L=0;L<n;L++){var g=Math.max(0,Math.min(p-1,j-(N+L)*o)),r=Math.max(0,Math.min(O-1,s-(N+L)*V)),f=r*p+g<<1;
q+=M.map[f];u+=M.map[f+1]}e[Z]=q*t;e[Z+1]=u*t}M.map=e}}k.$X.RR(S.buffer,D.buffer,p,O,null,M.map,M.QP,M.Kj,U)}if(Q=="BsRl"){var I=S.rect.Z(),d=k.Q(I),a=d.slice(0);
k.pE(S.buffer,d);var c=B.Dtl.v,_=B.Smth.v;if(c!=15){k.blur.UQ(d,a,S.rect,Math.round((15-c)*.5));k.MK(a,d)}var C=2/p,F=2/O,i=(2+mr.Vd.indexOf(B.LghD.v.LghD))*Math.PI*.25,q=Math.cos(i);
if(Math.abs(q)<.1)q=0;q=Math.sign(q);var u=Math.sin(i);if(Math.abs(u)<.1)u=0;u=Math.sign(u);var rP=1/(q*q+u*u);
for(var s=0;s<O;s++)for(var j=0;j<p;j++){var L=s*p+j,o=j==p-1?d[L]-d[L-1]:d[L+1]-d[L],V=s==O-1?d[L]-d[L-p]:d[L+p]-d[L],rH=j*C-1,rK=s*F-1,rY=o==0?rH:o*.4;
rY=Math.max(-1,Math.min(1,q*rY));var Nc=V==0?rK:V*.4;Nc=Math.max(-1,Math.min(1,u*Nc));a[L]=128+127*(rY+Nc)*rP}if(_!=1){k.blur.UQ(a,d,S.rect,Math.round((_-1)*.5));
k.MK(d,a)}k.r$(a,D.buffer)}if(Q=="PlsW__"){var I=S.rect.Z(),d=k.Q(I),a=d.slice(0);k.pE(S.buffer,d);var c=B.Dtl.v,_=B.Smth.v;
if(c!=15){k.blur.UQ(d,a,S.rect,Math.round((15-c)*.5));k.MK(a,d)}for(var s=0;s<O;s++)for(var j=0;j<p;
j++){var L=s*p+j,o=j==p-1?d[L]-d[L-1]:d[L+1]-d[L],V=s==O-1?d[L]-d[L-p]:d[L+p]-d[L],G=o*o+V*V;a[L]=Math.max(0,255-G*190)}var rI=new Float32Array(I);
for(var L=0;L<I;L++)rI[L]=a[L];if(_!=1){k.blur.vJ(rI.slice(0),rI,S.rect,Math.round((_-1)*.2))}for(var s=0;
s<O;s++)for(var j=0;j<p;j++){var L=s*p+j,rb=L<<2,Nr=rI[L],Nz=D.buffer[rb],NL=D.buffer[rb+1],Nm=D.buffer[rb+2],o=j==p-1?Nr-rI[L-1]:rI[L+1]-Nr,V=s==O-1?Nr-rI[L-p]:rI[L+p]-Nr,NN=-1,Ne=1,Ny=0,NG=o,NC=0,Ng=1,NM=V,Nh=1;
o=Ny*NM-NG*Ng;V=NG*NC-Ne*NM;NN=Ne*Ng-Ny*NC;var NQ=1/Math.sqrt(o*o+V*V+NN*NN);o*=NQ;V*=NQ;NN*=NQ;var NR=j-p/2,NV=s-O/2,md=p*.3,NQ=1/Math.sqrt(NR*NR+NV*NV+md*md);
NR*=NQ;NV*=NQ;md*=NQ;var NW=Math.max(0,NR*o+NV*V+md*NN);if(NW>1)throw NW;var Nt=NW*255;D.buffer[rb]=Nh*Nt+(1-Nh)*Nz;
D.buffer[rb+1]=Nh*Nt+(1-Nh)*NL;D.buffer[rb+2]=Nh*Nt+(1-Nh)*Nm}}if(Q=="PntD"){var NU=B.Shrp.v*.4,Mw=B.BrsT.v.BrsT,mp={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[Mw],Na=Math.round(B.Sz.v*.5);
k.ns.vs=mp[0];var NX=k.ns.Nj;m_.Dr(S.buffer,D.buffer,p,O,Na,NX,0);var Ni=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
Ni=k.ns.Qs(Ni);var mm=D.buffer.slice(0);k.ns.Uq(mm,D.buffer,p,O,Ni,0);for(var L=0;L<S.buffer.length;
L++){var NT=D.buffer[L]-mm[L];D.buffer[L]=Math.max(0,Math.min(255,mm[L]+NU*NT))}}if(Q=="GlwE"){var NF=D.buffer.slice(0);
k.ns.vs=.5;var NX=k.ns.Nj;m_.Dr(S.buffer,NF,p,O,B.Smth.v>>>1,NX,0);m_.oF(NF,D.buffer,p,O);k.MK(D.buffer,NF);
k.SD(NF);k.St(NF,4278190080,16777215);m_.Dr(NF,D.buffer,p,O,B.EdgW.v>>>1,k.ns.PE,0);var Nh=B.EdgB.v/10;
for(var L=0;L<NF.length;L++){if((L&3)==3)continue;var Ns=D.buffer[L];D.buffer[L]=Math.max(0,Math.min(255,Ns*Nh))}}if(Q=="StnG"){var p=S.rect.r,O=S.rect.O;
k.wj.mCS(S.buffer,p,O,D.buffer,B.ClSz.v,[Math.round(y.t),Math.round(y.e),Math.round(y.R)],B.BrdT.v)}if(Q=="HlfS"){var NB=B.HlSz.v,Rz=NB*2+1,Nk=B.Cntr.v,RJ=mr.Ve.indexOf(B.ScrT.v.ScrT),I=p*O,mv=I*4,NA=k.Q(I),Mr=S.buffer,mS=0,Rh=0;
for(var L=0;L<mv;L+=4)NA[L>>>2]=~~(.5+(Mr[L]+Mr[L+1]+Mr[L+2])*(1/3));var p$=NA.slice(0);k.blur.Pc(p$,NA,S.rect,NB);
var RL=Math.PI/Rz,mR=new Float64Array(p),q=new Float64Array(p),Ro=new Float64Array(2*p);for(var j=0;
j<p;j++){var mQ=(j-(p>>>1))*RL;mR[j]=mQ*mQ;q[j]=Math.cos(mQ);var o=j<<1;Ro[o]=Math.sin(o*(1/4.5));Ro[o+1]=Math.sin((o+1)*(1/4.5))}for(var s=0;
s<O;s++){var ps=(s-(O>>>1))*RL,u=Math.cos(ps),mE=ps*ps;for(var j=0;j<p;j++){var Rd=u;if(RJ==0){var Qz=.5+Math.sqrt(mR[j]+mE)*4.5;
Rd=Ro[~~Qz]}else if(RJ==1){Rd=q[j]*u}var L=s*p+j,Nt=NA[L]*(.75+.25*Rd),rX=Mr[(L<<2)+3]*(1/255),Rm=Math.max(0,Math.min(255,~~Nt));
mS+=Rm*rX,Rh+=rX;NA[L]=Rm}}mS/=Rh;var Ri=128+1.26*(mS-128),Nh=.08+.25*Math.abs((128-mS)/128),Rl=1+Nh*Nk;
for(var L=0;L<I;L++){var Nt=Ri+(NA[L]-Ri)*Rl;NA[L]=Math.max(0,Math.min(255,~~Nt))}if(Nk>46)k.round(NA);
k.r$(NA,D.buffer)}for(var L=0;L<S.buffer.length;L+=4)D.buffer[L+3]=S.buffer[L+3]};mr.i_=function(Q){var S=[0,0,0,0,0,0,0,0,0,0,0,0,0],B=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][Q];
for(var y=0;y<13;y++){var l=y-6;S[y]=1/(B*Math.sqrt(2*Math.PI))*Math.exp(-.5*(l/B)*(l/B))}return S};
mr.kb=function(Q,S,B,y,l){var D=mr.i_(l),R=6,p=13;for(var O=0;O<y;O++)for(var M=0;M<B;M++){var U=O*B+M<<1,m=0,Y=0;
for(var x=0;x<p;x++){var T=M+x-R,$=T<0?0:T>=B?B-1:T,L=(O*B+$)*2,s=D[x];m+=s*Q[L];Y+=s*Q[L+1]}S[U]=m;
S[U+1]=Y}};mr.xU=function(Q,S,B,y,l){var D=mr.i_(l),R=6,p=13;for(var O=0;O<y;O++)for(var M=0;M<B;M++){var U=O*B+M<<1,m=0,Y=0;
for(var x=0;x<p;x++){var T=O+x-R,$=T<0?0:T>=y?y-1:T,L=($*B+M)*2,s=D[x];m+=s*Q[L];Y+=s*Q[L+1]}S[U]=m;
S[U+1]=Y}};function No(){}No.KM=[2,5,5,7,4,4];No.ea="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
No.oM="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
No.qu=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
No.IF=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
No.oQ=function(Q){if(Q=="passThrough")return"pass";return No.ea[No.oM.indexOf(Q)]};No.KN=function(Q){if(Q=="pass")return"passThrough";
return No.oM[No.ea.indexOf(Q)]};No.getName=function(Q){return No.qu[No.ea.indexOf(Q)]};function z(){this.rect=null;
this.wk="norm";this.opacity=255;this.J$=!1;this.$N=0;this.Gl=0;this.US=[];for(var Q=0;Q<10;Q++)this.US.push(0,0,255,255);
this.name=null;this.add={};this.buffer=null;this.cS=null;this.UU=null;this.k=null;this.xE=null;this.mrK=30;
this.pd=z.KR();this.mRj=z.KR();this.mQe=z.KR();this.mcz=z.KR();this.Wg=0;this.de=!1;this.K_=null;this.K=new z.Vg}z.KR=function(){var Q=P.P("canvas");
Q.width=Q.height=30;return Q.getContext("2d")};z.Vg=function(){this.Ut=!0;this.UA=!0;this.Bs=k.Q(0);
this.mca=k.Q(0);this.Ty=null;this.Zn={};this.mdv=null;this.B$=null;this.xj=null;this.pj=null;this.Pu=null;
this.tj=null;this.Vj=null;this.He=null;this.Xm=null;this.xo=null;this.Ul=null;this.BT=null;this.PK=!1};
z.Vg.prototype.Ib=function(){this.Ut=!1;this.UA=!1;this.Ty=null;this.PK=W.Kf};z.Vg.prototype.mwz=function(){Nq.mRs(this.Zn);
this.Bs=k.Q(0);this.mca=k.Q(0);if(this.pj)this.pj.delete();if(this.Pu)this.Pu.delete();this.pj=null;
this.Pu=null;var Q=[this.tj,this.Vj,this.He,this.Xm,this.xo,this.Ul];for(var S=0;S<6;S++)if(Q[S]!=null&&Q[S]instanceof W.rp)Q[S].delete();
this.tj=null;this.Vj=null;this.He=null;this.Xm=null;this.xo=null;this.Ul=null};z.prototype.s=function(Q){if(Q==null)Q=this.rect.clone();
if(this.K.Ty==null)this.K.Ty=Q;else this.K.Ty=this.K.Ty.wM(Q)};z.prototype.So=function(){return this.add.lsct==NI.YG||this.add.lsct==NI.Tu};
z.prototype.iG=function(){var Q=this.add;return Q.SoCo!=null||Q.GdFl!=null||Q.PtFl!=null};z.prototype.AV=function(){var Q=this.add.lmfx;
if(Q==null)return;var S=["GrFl","patternFill"];for(var B=0;B<S.length;B++){var y=rx.or[rx.order.indexOf(S[B])],l=Q[y].v;
if(l.length==0)continue;for(var D=0;D<l.length;D++){var R=l[D].v;if(R.enab.v&&(R.Algn==null||!R.Algn.v))this.K.UA=!0}}};
z.prototype.YL=function(){var Q=this.k;if(this.iG())Q=this.Tb();if(!W.Kf)return Q.he();if(this.K.Pu==null||this.K.Ut||W.Kf!=this.K.PK){if(this.K.Pu)this.K.Pu.delete();
this.K.Pu=new W.LH(Q.jH().r,Q.jH().O);this.K.Pu.set(Q.he())}return this.K.Pu};z.prototype.SM=function(Q){var S=this.rect,B=this.buffer;
if(!W.Kf){var y=this.V_(Q,B,S);if(y){B=y.Ko;S=y.rect}return B}if(this.K.Ty!=null||W.Kf!=this.K.PK){var y=this.V_(Q,B,S);
if(y){B=y.Ko;S=y.rect}var l=S;if(W.Kf!=this.K.PK||this.K.pj==null||this.K.pj.r!=l.r||this.K.pj.O!=l.O){if(this.K.pj)this.K.pj.delete();
this.K.pj=new W.rp(l.r,l.O);this.K.pj.set(B)}else{var D=this.K.Ty.clone();D.offset(-S.x,-S.y);this.K.pj.set(B,D)}}return this.K.pj};
z.prototype.UP=function(){var Q=this.k;if(this.iG())Q=this.Tb();return Q!=null&&Q.isEnabled&&(Q.RT()==0||Q.RT()!=0&&!Q.rect.Kq())};
z.prototype.V_=function(Q,S,B){if(this.as()){var y=this.DG(Q);if(y.k&&y.k.isEnabled&&(!y.k.rect.Kq()||y.k.color==0)){var l=this.add.SoLd.filterFX.v;
y.k.FO=l.filterMaskDensity?l.filterMaskDensity.v:255;y.k.Mu=l.filterMaskFeather?l.filterMaskFeather.v:0;
var D=y.buffer,R=y.k.Xz(B);k.SD(R);S=k.clone(S);k.X.ia(D,y.rect,S,B,R,B,0,B,1);return{Ko:S,rect:B}}}};
z.prototype.mwm=function(){var Q={ny:!1,nv:!1,BZ:0,Bb:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)Q.nv=!0;
if(this.Tb()&&this.Tb().isEnabled)Q.ny=!0;if(Q.ny&&Q.nv){Q.BZ=this.Tb().rect.x-this.add.vmsk.Tb().rect.x;
Q.Bb=this.Tb().rect.y-this.add.vmsk.Tb().rect.y}return Q};z.prototype.Zs=function(Q){if(this.add.lsct==NI.hR)return;
var S=this,B=this.Tb()!=null&&this.Tb().DP,y=this.add.vmsk!=null&&this.add.vmsk.DP,l=this.mwm(),D=JSON.stringify(l)!=this.K.mdv||l.ny&&B||l.nv&&y;
if(D){if(l.nv){var R=this.add.vmsk.Tb();if(l.ny){this.k=this.Tb().Cr(R);this.K.B$=new v(this.k.rect.x-this.Tb().rect.x,this.k.rect.y-this.Tb().rect.y)}else this.k=R}if(this.k)this.K.Ut=!0;
if(this.k)this.K.xj=new v(this.rect.x-this.k.rect.x,this.rect.y-this.k.rect.y);if(l.ny)this.Tb().DP=!1;
if(l.nv)this.add.vmsk.DP=!1;this.s()}else{if(l.ny&&l.nv){this.k.rect.x=this.Tb().rect.x+this.K.B$.x;
this.k.rect.y=this.Tb().rect.y+this.K.B$.y}}if(S.iG()){this.Dd(Q)}if(S.tK()){var p;if(this.k)p=new v(this.rect.x-this.k.rect.x,this.rect.y-this.k.rect.y);
if(this.k&&this.k.isEnabled&&(this.K.xj==null||!p.UH(this.K.xj))){this.K.xj=p;this.s();this.K.Ut=!0}}if(Nf.get(S.add)!=null)this.K.Ut=!0;
this.K.mdv=JSON.stringify(l)};z.prototype.Dd=function(Q){var S=this,B=S.add.vstk,y,l=S.add.vmsk?this.add.vmsk.Tb():null,p=!0;
if(l&&l.isEnabled&&l.RT()==0)y=l.jH().clone();else y=new w(0,0,Q.r,Q.O);var D=S.Tb();if(D&&D.isEnabled&&D.RT()==0)y=y.nG(S.k.jH());
var R=l&&B;if(B&&(!B.strokeEnabled.v||B.strokeStyleLineWidth.v.val==0))R=!1;if(B&&!B.fillEnabled.v&&R)p=!1;
var O=k.Q(y.Z()*4);if(p){if(S.add.SoCo)Nq.X_(O,S.add.SoCo.Clr.v);if(S.add.GdFl)Nq.gD(S.add.GdFl,O,y,Q,null,l&&l.color==0?l.rect:null);
if(S.add.PtFl)Nq.vY(S.add.PtFl,O,y,Q,S.add.fxrp)}if(l){var M=l.FO;if(R)l.FO=255;var U=k.Q(y.Z());if(l.RT()!=0)k.set(U,Math.round(l.RT()));
if(l&&l.isEnabled){var m=l.jH(),Y=l.he();if(m.UH(y))k.MK(Y,U);else k.ht(Y,m,U,y)}if(S.add.SoCo&&p){k.KF(U,O,3)}else k.BX(U,y,O,y);
if(R)l.FO=M}S.buffer=O;S.rect=y;if(R){var x=rx.xD.XQ.indexOf(B.strokeStyleLineAlignment.v.strokeStyleLineAlignment),T=B.strokeStyleContent.v,$=rx.xD.Uc.indexOf(T.classID),L=this.add.vmsk.Tb(B);
if(S.rect.UH(new w(0,0,Q.r,Q.O)))S.rect=S.rect;else if(x!=0){var s=S.rect.wM(L.jH()),j=k.Q(s.Z()*4);
k.oD(S.buffer,S.rect,j,s);S.buffer=j;S.rect=s}var M=L.FO;L.FO=255;var Z=L.Xz(S.rect);L.FO=M;if(L.color==255)k.SD(Z);
var e=k.Q(S.rect.Z()*4);if($==0)Nq.X_(e,T.Clr.v);if($==1)Nq.gD(T,e,S.rect,Q,null,l.color==0?l.rect:null);
if($==2)Nq.vY(T,e,S.rect,Q,S.add.fxrp);var J=B.strokeStyleOpacity.v.val/100;if(J!=1)k.ax(Z,J);k.KF(Z,e,3);
if(L.color==255)x=2-x;if(x==0){k.X.Rc("norm",e,S.rect,S.buffer,S.rect,S.rect,1);k.BX(U,S.rect,S.buffer,S.rect)}if(x==1){k.X.Rc("norm",e,S.rect,S.buffer,S.rect,S.rect,1)}if(x==2){k.SD(U);
k.X.ia(e,S.rect,S.buffer,S.rect,U,y,255,S.rect,1,!1);k.SD(U)}if(L.FO!=255){var N=k.clone(e);k.St(N,4278190080,16777215);
k.X.Rc("norm",N,S.rect,S.buffer,S.rect,S.rect,1-L.FO/255)}M=l.FO;l.FO=255;this.mca=l.Xz(S.rect);l.FO=M}this.s()};
z.prototype._T=function(Q,S){var B=this,y=B.add.SoLd.Idnt.v,l=B.add.SoLd,D=Q.Bd(y,l.Crop?l.Crop.v:null);
if(D==null)return;var R=D.Km;l.Sz.v.Wdth.v=R[1].r;l.Sz.v.Hght.v=R[1].O;var p=l.warp.v,O=K.Sj.so(l.nonAffineTransform),M=k.W.aX(O,R[1]);
if(p&&!k.cF.hW(p)){var U=k.i.vQ(k.cF._i(p)),m=U.x,Y=U.y,x=1/U.r,T=1/U.O;M=k.W.aX(O);M=k.W.Cr(M,[x,0,-m*x,0,T,-Y*T,0,0])}var $=K.Sj.L$(R,S?0:1,M,p);
if($==null){B.buffer=k.Q();B.rect=new w}else if(B.as()){var L=B.DG(Q);L.buffer=$.buffer;L.rect=$.rect.clone();
this.tH(Q,S)}else{B.buffer=$.buffer;B.rect=$.rect}B.Zs(Q);B.s();Q.s()};z.prototype.tH=function(Q,S){if(S==null)S=!1;
var B=this.DG(Q),y=this.add.SoLd.filterFX.v,l=m_.mvr(y),D=new w(0,0,Q.r,Q.O),R=B.rect.wM(D),p=B.rect.clone();
p.Jq(l.x,l.y);var O={buffer:null,rect:R.nG(p)};O.buffer=k.Q(O.rect.Z()*4);k.oD(B.buffer,B.rect,O.buffer,O.rect);
if(y.enab.v&&S==!1){var M=y.filterFXList.v;for(var U=0;U<M.length;U++){var m=M[U].v;if(m.enab.v==!1)continue;
var Y=k.Kg.RT(m.FrgC.v),x=k.Kg.RT(m.BckC.v),T=X.cA(m.filterID.v),$=m.Fltr?m.Fltr.v:null;if(Nf.to[T]!=null){var L=Nf.to[T],s=Nf.eL(L,$);
if(s)Nf.sp(s,O.buffer,O.buffer,O.rect)}else O=m_.sp(T,O,$,Y,x,null,Q.add.lnk2?Q.add.lnk2:[])}}this.rect=O.rect;
this.buffer=O.buffer;this.On();this.s();Q.s()};z.prototype.VG=function(Q,S,B){this.K_=this.KO(Q,S,B)};
z.prototype.KX=function(Q,S){var B=this.KO(Q,S,!0);if(B==null)return null;var y={wQ:B.Wg,Fk:B.o_,rect:B.gb};
if(y.wQ==1||y.wQ==3){var l=y.rect,D=k.Q(l.r*l.O*4);k.KF(y.Fk,D,0);k.KF(y.Fk,D,1);k.KF(y.Fk,D,2);k.xx(Q.m.channel,Q.m.rect,D,l);
y.Fk=D}return y};z.prototype.KO=function(Q,S,B){var y,l,D,R,p,O,M;if(this.Wg<=0){var U=k.Q(this.rect.Z());
k.MA(this.buffer,U,3);y=k.fZ.QI(S,{channel:U,rect:this.rect},"intersection");if(y==null)return null;
var m=k.p$(y.channel,y.rect);R=y.rect.clone();p=this.rect.clone();l=k.Q(R.Z()*4);k.oD(this.buffer,p,l,R);
k.KF(y.channel,l,3);D=k.clone(this.buffer);if(!B){var Y=k.clone(S.channel);k.SD(Y);k.BX(Y,S.rect,D,p)}O=k.clone(this.buffer);
M=this.rect.clone()}if(this.Wg==1||this.Wg==3){var x=this.Wg==1?this.Tb():this.DG(Q).k;R=S.rect.clone();
p=x.rect.clone();l=x.mNK(R);var D=k.clone(x.channel);if(!B)k.X.Qh(x.color==255?k.PM(R.Z()):k.VE(R.Z()),R,D,p,S.channel,R,1);
O=k.clone(x.channel);M=x.rect.clone()}return{Wg:this.Wg,o_:l,gb:R,ML:D,jx:p,Bx:O,BP:M}};z.prototype.Va=function(Q,S){var B=this.K_;
if(B.Wg==0){this.rect=B.BP;this.buffer=B.Bx;this.s()}if(B.Wg==1||B.Wg==3){var y=B.Wg==1?this.Tb():this.DG(Q).k;
y.channel=B.Bx;y.rect=B.BP;if(this.Wg==1){y.DP=!0;this.Zs(Q)}if(this.Wg==3)this.s()}this.K_=S};z.prototype.De=function(Q,S){if(this.Wg<=0&&S.rect.UH(this.rect)){var B=k.Q(this.rect.Z());
k.MA(this.buffer,B,3);if(k.UH(Q.m.channel,B)){var y=this.rect,l=this.buffer;this.K_={Wg:this.Wg,o_:l.slice(0),gb:y.clone(),ML:k.Q(0),jx:new w,Bx:k.Q(0),BP:new w};
return!0}}var D=this.K_;if(D==null)return!1;if(D.Wg!=this.Wg)return!1;if(!S.rect.UH(D.gb))return!1;var R=D.jx.wM(D.gb);
if(D.Wg<=0){if(!R.UH(this.rect))return!1;var p=k.Q(D.o_.length>>2);k.MA(D.o_,p,3);if(!k.UH(S.channel,p))return!1;
var O=k.Q(R.r*R.O*4);k.oD(D.ML,D.jx,O,R);k.X.Rc("norm",D.o_,D.gb,O,R,R,1);return k.UH(O,this.buffer)}if(D.Wg==1||D.Wg==3){var M=D.Wg==1?this.Tb():this.DG(Q).k;
if(!R.UH(M.rect))return!1;var U=k.Q(R.Z());k.set(U,M.color);k.ht(D.ML,D.jx,U,R);k.X.Qh(D.o_,D.gb,U,R,S.channel,R,1);
return k.UH(U,M.channel)}};z.prototype.VY=function(Q,S,B,y){var l=this.K_;l.gb.offset(S,B);var D=l.jx.wM(l.gb);
if(l.Wg<=0){var R=k.Q(D.Z()*4);k.oD(l.ML,l.jx,R,D);k.X.Rc("norm",l.o_,l.gb,R,D,D,1);this.buffer=R;this.rect=D;
this.s()}else{var p=this.Wg==1?this.Tb():this.DG(Q).k,O=k.Q(D.Z());k.set(O,p.color);k.ht(l.ML,l.jx,O,D);
k.X.Qh(l.o_,l.gb,O,D,y.channel,D,1);p.channel=O;p.rect=D.clone();if(this.Wg==1){p.DP=!0;this.Zs(Q)}if(this.Wg==3)this.s()}};
z.prototype.mLB=function(){var Q=[-1,0,1,2];if(this.k)Q.push(-2);if(this.xE)Q.push(-3);return Q};z.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
z.prototype.pM=function(Q){this.add.luni=this.name=Q};z.prototype.Vv=function(Q){var S=this.add.lnsr,B=this.add.TySh;
if(S=="rend"&&B)this.pM(rA.qx(B.Nd).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};z.prototype.qm=function(){return(this.$N&1<<1)==0};
z.prototype.tK=function(){return(this.$N&1<<4)==0};z.prototype.Kc=function(){return(this.$N&1<<5)!=0};
z.prototype.mwp=function(){var Q=this;if(Q.add.lnsr!="bgnd"){Q.add.lnsr="bgnd";Q.pM("Background");Q.add.lspf=1<<2}};
z.prototype.mwL=function(){var Q=this;if(Q.add.lnsr=="bgnd"){delete Q.add.lnsr;Q.pM("Layer 0");Q.add.lspf=0}};
z.prototype.s$=function(Q){var S=this.add.lspf;return S==null?!1:(S>>Q&1)!=0};z.prototype.SO=function(Q){if(Q&&!this.qm())this.$N-=2;
if(!Q&&this.qm())this.$N+=2};z.prototype.Df=function(){var Q=this.add.lmfx;if(Q==null)return!1;for(var S in Q){if(S=="masterFXSwitch")continue;
if(S=="Scl")continue;if(S=="classID")continue;if(Q[S].v.length>0)return!0}return!1};z.prototype.as=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
z.prototype.Tr=function(){var Q=this.add.lmfx;if(Q==null)return!1;if(!Q.masterFXSwitch.v)return!1;for(var S in Q){if(S=="masterFXSwitch")continue;
if(S=="Scl")continue;if(S=="classID")continue;var B=Q[S].v;for(var y=0;y<B.length;y++)if(B[y].v.enab.v)return!0}return!1};
z.prototype.el=function(Q,S,B,y){var l=new w,D=this.DU(Q,B,y);if(D.indexOf(0)!=-1)l=l.wM(this.rect);
if(D.indexOf(1)!=-1)l=l.wM(this.Tb().jH());if(D.indexOf(2)!=-1){var R=this.add.vmsk,p;if(S){if(R.GV.length>1){var O=k.c.nq(R.A,null,R.GV);
p=k.i.vQ(O)}else p=k.c.Fi(R.A,R.I.length!=0?R.I:null)}else p=k.c.Fi(R.A);l=l.wM(p)}if(D.indexOf(3)!=-1)l=l.wM(this.DG(Q).k.jH());
if(D.length==0&&this.iG())l=new w(0,0,Q.r,Q.O);return l};z.prototype.ma=function(){var Q=this.add.artb.artboardRect.v,S=Q.Btom.v,B=Q.Left.v,y=Q.Rght.v,top=Q.Top.v;
return new w(B,top,y-B,S-top)};z.prototype.hr=function(Q){var S={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
S.Btom.v=Q.y+Q.O;S.Left.v=Q.x;S.Rght.v=Q.x+Q.r;S.Top.v=Q.y;if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null}};
this.add.artb.artboardRect.v=S};z.prototype.DU=function(Q,S,B){var y=[],l=this,D=this.de;if(!S&&l.de&&B){y.push(2)}else if(l.Wg<=0||S){if(l.tK())if(!this.rect.Kq())y.push(0);
if(l.Tb()&&!l.Tb().rect.Kq())if(l.Tb().om||S)y.push(1);if(l.add.vmsk)if(l.add.vmsk.om||S)y.push(2);if(l.as()&&l.DG(Q).k&&!l.DG(Q).k.rect.Kq())y.push(3)}else if(l.Wg==1){y.push(1);
if(l.Tb().om&&!l.Tb().rect.Kq()){if(l.tK())if(!this.rect.Kq())y.push(0);if(l.add.vmsk)if(l.add.vmsk.om)y.push(2)}}else if(l.Wg==3&&!l.DG(Q).k.rect.Kq())y.push(3);
if(l.add.artb&&y.indexOf(0)==-1)y.push(0);y.sort();return y};z.prototype.Tb=function(){var Q=this;return Q.xE?Q.xE:Q.add.vmsk&&Q.add.vmsk.isEnabled?null:Q.k};
z.prototype.DG=function(Q){var S=this.add.SoLd.placed.v,B=Q.add.FEid;if(B==null)return null;for(var y=0;
y<B.length;y++)if(B[y].id==S)return B[y];return null};z.prototype.extend=function(Q){k.mch(this,Q)};
z.prototype.mzi=function(Q,S){var B=Q.clone();if(this.Tr()){var y=this.add.lmfx,l=S.root.Ob(S.G.indexOf(this)),D=y.gradientFillMulti.v,R=!1;
for(var p=0;p<D.length;p++)if(D[p].v.enab.v&&D[p].v.Algn.v)R=!0;if(R)B=B.wM(l.jH(S,!1));var O=Nq.mUg(this,S);
B.offset(O.x,O.y);B.r+=O.r;B.O+=O.O}return B};z.prototype.On=function(){if(this.tK())k.aH(this);var Q=this.Tb();
if(Q)Q.On()};z.prototype.clone=function(){var Q=new z;Q.rect=this.rect.clone();Q.buffer=k.clone(this.buffer);
Q.wk=this.wk;Q.opacity=this.opacity;Q.J$=this.J$;Q.$N=this.$N;Q.name=this.name;Q.US=this.US.slice(0);
if(this.k)Q.k=this.k.clone();if(this.xE)Q.xE=this.xE.clone();for(var S in this.add)Q.add[S]=RS.clone(S,this.add[S]);
return Q};z.prototype.mRu=function(Q){var S=this;if(S.add.TySh)delete S.add.TySh;if(S.add.SoLd){var B=this.V_(Q,this.buffer,this.rect);
if(B){this.buffer=B.Ko;this.rect=B.rect;this.s()}delete S.add.SoLd}if(S.add.SoCo||S.add.GdFl||S.add.PtFl){if(S.add.vogk)delete S.add.vogk;
if(S.add.SoCo)delete S.add.SoCo;if(S.add.GdFl)delete S.add.GdFl;if(S.add.PtFl)delete S.add.PtFl;if(S.add.vmsk){console.log(S.xE,S.k);
delete S.add.vmsk;if(S.xE==null&&S.k)delete S.k;else if(S.xE!=null&&S.k!=null){S.k=S.xE;delete S.xE}}}if(!S.So()&&Nf.get(S.add)==null&&!this.tK())this.$N-=16};
z.prototype.mrN=function(Q){var S=255,B=0;if(Q==2){var y=this.add.SoLd.filterFX.v;if(y.filterMaskDensity)S=y.filterMaskDensity.v;
if(y.filterMaskFeather)B=y.filterMaskFeather.v}else{var l=Q==0?this.Tb():this.add.vmsk;S=l.FO;B=l.Mu}return{Un:Q,Nx:S,QU:B}};
z.prototype.mzj=function(Q){if(Q.Un==2){var S=this.add.SoLd.filterFX.v;if(Q.Nx==255)delete S.filterMaskDensity;
else S.filterMaskDensity={t:"long",v:Q.Nx};if(Q.QU==0)delete S.filterMaskFeather;else S.filterMaskFeather={t:"doub",v:Q.QU};
this.s()}else{var B=Q.Un==0?this.Tb():this.add.vmsk;B.FO=Q.Nx;B.Mu=Q.QU;B.DP=!0}};z.prototype.sr=function(){var Q=this,S=Q.add.vmsk;
if(S==null)return;Q.add.vogk=z.sr(S.A)};z.sr=function(Q){var S=[],B=k.c.Tm(Q);for(var y=0;y<B;y++)S.push(k.SI.VE());
return S};var NI={Vw:0,YG:1,Tu:2,hR:3};z.oW=function(){this.name="Mask";this.TX=!1;this.mn={t:255,e:0,R:0};
this.dJ=50;this.ok=0;this.color=255;this.om=!0;this.isEnabled=!0;this.jS=!1;this.FO=255;this.Mu=0;this.rect=new w;
this.channel=k.Q(0);this.mJm=null;this.mJM=null;this.DP=!0};z.oW.prototype.Cr=function(Q){if(!this.isEnabled)return Q;
var S=new z.oW;S.color=Math.round(this.RT()*Q.RT()/255);if(this.RT()==0&&Q.RT()==0)S.rect=this.jH().nG(Q.jH());
else if(Q.RT()==0)S.rect=Q.jH().clone();else if(this.RT()==0)S.rect=this.jH().clone();else S.rect=this.jH().wM(Q.jH());
S.channel=this.Xz(S.rect);S.FO=255;S.Mu=0;var B=Q.Xz(S.rect);k.mcN(B,S.rect,S.channel,S.rect);return S};
z.oW.prototype.jH=function(){if(this.Mu==0)return this.rect;var Q=Math.ceil(this.Mu*2.2),S=this.rect.clone();
S.Jq(Q,Q);return S};z.oW.prototype.he=function(){if(this.Mu==0&&this.FO==255)return this.channel;if(this.Mu==0){var Q=k.clone(this.channel);
k.SD(Q);k.ax(Q,this.FO/255);k.SD(Q);return Q}var S=this.jH(),B=this.mNK(S),Q=k.Q(S.Z());k.blur.UQ(B,Q,S,this.Mu);
if(this.FO!=255){k.SD(Q);k.ax(Q,this.FO/255);k.SD(Q)}return Q};z.oW.prototype.RT=function(){return Math.round(255-(255-this.color)*(this.FO/255))};
z.oW.prototype.extend=function(Q){k.extend(this,Q,this.color)};z.oW.prototype.On=function(){if(this.color==255)k.SD(this.channel);
k.On(this);if(this.color==255)k.SD(this.channel)};z.oW.prototype.clone=function(){var Q=new z.oW;Q.name=this.name;
Q.TX=this.TX;Q.mn=this.mn;Q.dJ=this.dJ;Q.ok=this.ok;Q.color=this.color;Q.om=this.om;Q.isEnabled=this.isEnabled;
Q.jS=this.jS;Q.FO=this.FO;Q.Mu=this.Mu;Q.rect=this.rect.clone();Q.channel=k.clone(this.channel);return Q};
z.oW.prototype.mNK=function(Q,S){if(S==null)S=k.Q(Q.Z());k.set(S,this.color);k.ht(this.channel,this.rect,S,Q);
return S};z.oW.prototype.Xz=function(Q,S){var B=this.jH(),y=this.he();if(S==null)S=k.Q(Q.Z());k.set(S,this.RT());
k.ht(y,B,S,Q);return S};z.hm=function(){this.om=!0;this.isEnabled=!0;this.FO=255;this.Mu=0;this.A=[{type:6},{type:8,all:0}];
this.KZ=[-3,-3];this.UF=!1;this.xE=null;this.DP=!0;this.I=[];this.GV=[]};z.hm.prototype.offset=function(Q,S){this.xE=this.Tb();
k.c.ZU(this.A,new Nu(1,0,0,1,Q,S));this.xE.rect.offset(Q,S)};z.hm.prototype.Tb=function(Q){if(!this.DP&&this.xE&&Q==null){this.xE.isEnabled=this.isEnabled;
return this.xE}var S=k.c.Fi(this.A);if(S.Z()>2e4*2e4)S=new w(0,0,100,100);if(Q){var B=Math.ceil(Q.strokeStyleLineWidth.v.val);
S.Jq(B,B)}S=k.i.Uf(S);var y=new z.oW;y.color=k.c.kG(this.A)?0:255;y.om=this.om;y.isEnabled=this.isEnabled;
y.jS=!0;y.rect=S;y.FO=this.FO;y.Mu=this.Mu;y.channel=k.Q(y.rect.Z());if(!S.Kq())k.c.mJO(this.A,y.channel,y.rect,Q);
if(Q==null){this.xE=y;this.DP=!1}return y};z.hm.prototype.clone=function(){var Q=new z.hm;Q.om=this.om;
Q.isEnabled=this.isEnabled;Q.FO=this.FO;Q.Mu=this.Mu;Q.A=z.hm.tS(this.A);Q.KZ=this.KZ.slice(0);Q.UF=this.UF;
Q.I=this.I.slice(0);Q.GV=this.GV.slice(0);return Q};z.hm.prototype.concat=function(Q){var S=Q.A.slice(2);
if(S.length==0)return;S[0].GL=3;this.A=this.A.concat(S)};z.hm.tS=function(Q){var S=[];for(var B=0;B<Q.length;
B++){var y=Q[B];if(y.type>5||y.type==0||y.type==3)S.push(JSON.parse(JSON.stringify(y)));else S.push({type:y.type,G$:y.G$.clone(),v:y.v.clone(),RQ:y.RQ.clone()})}return S};
z.hm.mwW=function(Q,S,B){if(Q.length!=S.length)return!1;for(var y=2;y<Q.length;y++){var l=Q[y],D=S[y];
if(l.type!=D.type)return!1;if(l.type==0||l.type==3){if(l.length!=D.length||!B&&l.GL!=D.GL)return!1}else if(!l.G$.UH(D.G$)||!l.v.UH(D.v)||!l.RQ.UH(D.RQ))return!1}return!0};
z.hm.prototype.mww=function(){var Q=this.A;for(var S=3;S<Q.length;S++)if(Q[S].type==0||Q[S].type==3)Q[S].GL=-1};
z.KJ=function(){this.type=null;this.cH=2;this.LB=null;this.oK="";this.Vx="";this.vG="";this.open=0;this.raw=null;
this.Km=null};z.KJ.prototype.clone=function(){var Q=new z.KJ;Q.type=this.type;Q.cH=this.cH;Q.LB=this.LB;
Q.oK=this.oK;Q.Vx=this.Vx;Q.vG=this.vG;Q.open=this.open;Q.raw=new Uint8Array(this.raw.buffer.slice(0));
return Q};z.KJ.prototype.qB=function(Q){var S=this;if(S.Km)return;var B=Np.Ge(S.raw.buffer);if(B!="svg"&&B!="pdf")Q=0;
if(B==null){alert("Unsupported format: "+X.Ly(S.raw,0,4));return null}var y=Np.hG(B);if(y.oc){var l=new mV(name+(B=="psd"?"":"-"+B)+".psd");
y.tm(S.raw.buffer,l);for(var D=0;D<l.G.length;D++)if(l.G[D].iG())l.G[D].Zs(l);l.Jc();l.s();l.re();S.Km=[l.qB(),new w(0,0,l.r,l.O)]}else if(y){var R=y.tm(S.raw.buffer)[0];
S.Km=[new Uint8Array(R.data),R.iQ]}if(S.Km){if(Q==1){var p=S.Km[0],O=S.Km[1],M=k.Q(O.Z());k.MA(p,M,3);
var U=k.p$(M,O),m=k.Q(U.Z()*4);k.oD(p,O,m,U);S.Km=[m,U]}k.rt(S.Km)}};z.m$="0";z.ej="2";z.hF="2.5";z.mmz="3";
z.K$="4";z.mzA="5";z.Vf="5.5";z.Dk="6";z.VU="7";z.mzm="7.5";z.XM="8";z.mr="9";z.DH="9.3";z.Vn="9.5";
z.mWs="9.6";z.XJ="10";z.CR="11";z.my="12";z.Cy="13";z.DA="13.5";z.Vs="13.7";z.CV="14";z.OM="14.5";z.UY="15";
z.XV="16";z.mV="17";z.ON="18";z.mMY="19";z.Ou="19.5";z.Xa="19.6";z.XD="20";z.Xx="21";z.Cl="21.5";z.Og="22";
z.O_="22.5";z.eo="23";z.mfx="24";z.XA="25";z.mRz="26";z.mVD="27";z.mC="28";z.mF="29";z.mG="30";z.Xp="31";
z.eT="32";z.Of="33";z.mw="34";z.mf="35";z.ue="36";z.OE="36.5";z.mD="37";z.DR="37.5";z.mfK="37.6";z.uy="38";
z.mj="38.5";z.DF="39";z.mk="40";z.mzJ="41";z.mzM="42";z.mP="50";z.Mz="51";z.OX="52";z.OD="53";z.V$="54";
z.mRm="54.5";z.mRa="54.6";z.mQD="54.7";z.Mm="54.8";z.un="55";z.yf="56";z.yP="57";z.OO="58";z.Vt="59";
function mG(){this.depth=0;this.index=-1;this.$=null;this.mwC=null;this.BI=-1;this.children=null;this.parent=null;
this.BH=null}mG.prototype.mwf=function(){var Q=0;if(this.$.So()){for(var S=0;S<this.children.length;
S++)Q+=this.children[S].mwf()}else if(this.$.buffer)Q+=this.$.buffer.length;return Q};mG.prototype.Ob=function(Q){var S=this.BH[Q];
return this.BH[Q]};mG.prototype.mLe=function(Q,S){var B=this.$;if(!B.qm()||B.s$(2)||B.s$(31))return null;
if(B.UP()){var y=B.k.rect.nc(Q);if(!y&&B.k.color==0)return}if(B.So()){for(var l=0;l<this.children.length;
l++){var D=this.children[l];D.mLe(Q,S)}}else if(B.rect.nc(Q))S.push(this.index)};mG.prototype.CM=function(Q,S){var B=this.$;
if(!B.qm()||B.s$(2)||B.s$(31))return null;if(B.UP()){if(B.k.rect._D(Q)){if(!k.CM(Q,B.k.channel,B.k.rect))return null}else if(B.k.color==0)return null}if(B.So()){for(var y=this.children.length-1;
y>=0;y--){var l=this.children[y],D=l.CM(Q,S);if(D&&S==null)return D}return null}else if(B.add.TySh&&B.rect._D(Q)||k.mdD(Q,B.buffer,B.rect)){if(S==null)return this;
else S.push(this.index)}return null};mG.prototype.mwn=function(Q){var S=this.$;if(!S.qm()||S.s$(2)||S.s$(31))return null;
var B=S.add.vmsk;if(B&&B.isEnabled){var y=k.c.CM(B.A,Q).d_;if(y!=-1)return{mJR:this,mJQ:y}}if(S.So()){for(var l=this.children.length-1;
l>=0;l--){var D=this.children[l],R=D.mwn(Q);if(R)return R}return null}return null};mG.prototype.mzY=function(Q,S){Q.push(this.index);
if(this.$.So()){Q.push(this.BI);if(S)if(this.$.Wg==1&&this.$.Tb().om==!1)return;for(var B=0;B<this.children.length;
B++)this.children[B].mzY(Q)}};mG.prototype.xs=function(Q,S,B){var y=this.$,l,D;if(y.So()&&y.add.artb!=null)S=y.ma();
if(S.r>S.O){l=B;D=Math.floor(B*(S.O/S.r))}else{l=Math.floor(B*(S.r/S.O));D=B}if(y.iG()&&y.add.vmsk==null||y.add.TySh)l=D=Math.max(D,16);
var R=D,p=y.iG()&&y.add.vmsk;if(p){var O=y.rect.clone(),m,Y;if(O.Kq())O=new w(0,0,20,20);var M=O.r,U=O.O;
if(M>U){m=B;Y=Math.floor(B*(U/M))}else{m=Math.floor(B*(M/U));Y=B}if(m*Y==0)m=Y=16;k.Fb.kc(y.pd,m,Y,O,y.buffer,y.rect,!1);
k.Fb.mcp(y.pd,m,Y);R=Y}else if(y.add.TySh){k.Fb.mcH(y.pd,R,R,y.add.TySh)}else if(y.add.SoCo){R=Math.max(16,Math.min(l,D));
k.Fb.mcZ(y.pd,R,R,y.add.SoCo)}else if(y.add.GdFl){k.Fb.mdg(y.pd,R,R,y.add.GdFl)}else if(y.add.PtFl){k.Fb.mdW(y.pd,R,R,y.add.PtFl,Q)}else if(Nf.get(y.add)!=null){k.Fb.mdm(y.pd,R,R,y.add)}else if(y.add.SoLd){k.Fb.kc(y.pd,l,D,S,y.buffer,y.rect,!1);
k.Fb.mLH(y.pd,l,D,y.add.SoLd)}else if(y.So()){R=16}else{if(y.tK())k.Fb.kc(y.pd,l,D,S,y.buffer,y.rect,!1);
else{k.Fb.mdz(y.pd,R,R)}}var x=y.Tb();if(x)k.Fb.iX(y.mRj,l,D,S,x);if(y.as()&&y.DG(Q)&&y.DG(Q).k){var T=y.DG(Q).k;
k.Fb.iX(y.mcz,l,D,S,T)}if(!p&&y.add.vmsk){k.Fb.iX(y.mQe,l,D,S,y.add.vmsk.Tb(),!0)}if(y.add.vmsk||x)R=Math.max(R,D);
y.mrK=Math.max(R,16);if(y.So()&&y.add.lsct==NI.YG)for(var $=0;$<this.children.length;$++)this.children[$].xs(Q,S,B)};
mG.prototype.mMA=function(Q,S,B,y){this.depth=B;var l=Q[S];if(y==null)y=[];this.BH=y;if(l.add.lsct==NI.hR){this.mwC=l;
this.BI=S-1;this.children=[];var D=S+1;while(!0){var R=Q[D];if(R==null)console.log(D,Q.length);if(R.add.lsct==NI.YG||R.add.lsct==NI.Tu){if(l.add.lyid==R.add.lyid)l.add.lyid+=16777215;
this.$=R;this.index=D-1;y[this.index]=this;y[S-1]=this;break}var p=new mG;p.parent=this;D=p.mMA(Q,D,B+1,y);
this.children.push(p)}return D+1}else{this.$=l;this.index=S-1;y[this.index]=this;return S+1}};mG.prototype.VX=function(Q,S,B){var y=this.Ob(B),l=Q;
while(y.parent!=null){l=y.$.mzi(l,S);y=y.parent}return l};mG.prototype.jH=function(Q,S){var B=this.$,y=new w;
if(!B.qm())return y;var l=B.Tb();if(B.So())for(var D=0;D<this.children.length;D++){var R=this.children[D].jH(Q,!0);
y=y.wM(R)}else if(Nf.get(B.add)!=null)y=B.UP()&&B.k.color==0?B.k.jH().clone():new w(0,0,Q.r,Q.O);else if(B.iG()&&B.add.vmsk&&B.add.vmsk.isEnabled&&B.add.vstk){y=B.rect.clone()}else if(B.iG()&&l&&l.isEnabled&&l.RT()!=0)y=new w(0,0,Q.r,Q.O);
else{y=B.el(Q,!1,!0);if(B.add.vmsk)y=k.i.Uf(y)}return S?B.mzi(y,Q):y};mG.prototype.mzH=function(Q,S,B,y,l){var D=this.$,R=Nq.ta(D);
if(!D.qm())return;if(D.opacity==255){this.mNr(Q,S,B,y,l);return}var p=k.clone(Q);this.mNr(p,S,B,y,l);
k.X.ia(p,S,Q,S,null,null,0,B,D.opacity/255,D.wk=="diss")};mG.prototype.mNr=function(Q,S,B,y,l){var D=this.$,R=Nq.ta(D),p=Nf.get(D.add)!=null,m,T;
if(D.So()&&D.wk=="pass"&&!D.UP()&&!(l.length>0||R.fill!=1||D.Tr())){this.OB(Q,S,B,y);return}var O=D.So()&&D.wk=="pass"&&(l.length>0||R.fill!=1||D.Tr()),M=D.rect,U=D.buffer;
if(D.So()){M=this.jH(y,!1);var Y=k.Q(M.Z()*4);m=k.Q(M.Z());this.OB(Y,M,B,y);k.MA(Y,m,3)}else if(p){M=S.clone();
m=k.Q(M.Z());k.set(m,255)}else{M=D.rect;m=k.Q(M.Z());k.MA(U,m,3)}if(D.UP()){var x=D.k.Xz(M);k.aP(x,m)}if(D.Tr())T=Nq.hy(D.add.lmfx,D.add.fxrp,m,M,y);
if(D.Tr())Nq.m_Q(D.add.lmfx,T,M,Q,S,B);if(D.So()){U=k.Q(M.Z()*4);if(D.wk=="pass")k.oD(Q,S,U,M);if(O){var Y=k.Q(M.Z()*4);
this.OB(Y,M,B,y);var $=k.Q(M.Z());k.MA(Y,$,3);k.BX($,M,U,M)}this.OB(U,M,B,y)}if(p){U=k.clone(Q);k.St(U,4278190080,16777215);
var L=Nf.get(D.add),s=Nf.eL(L,D.add[L]);Nf.sp(s,U,U,M)}var j=k.clone(U);k.St(j,4278190080,16777215);
for(var Z=0;Z<l.length;Z++)l[Z].mzH(j,M,B,y,[]);var e=k.Q(M.Z()*4);k.oD(Q,S,e,M);if(p)R.Lv=!0;k.X.Rc(D.wk=="pass"?"norm":D.wk,j,M,e,M,B,1,R);
if(D.Tr()){var J=D.K.Zn.type.FrFX,N=null;if(J.length!=0){N=J[0];for(var Z=0;Z<J.length;Z++)if(J[Z].ky.r>N.ky.r)N=J[Z];
var E=k.Q(N.ky.r*N.ky.O*4);k.oD(Q,S,E,N.ky)}Nq.mUT(D.add.lmfx,T,M,Q,S,B,e,E,N?N.ky:null)}k.X.ia(e,M,Q,S,m,M,0,B,1,D.wk=="diss")};
mG.prototype.OB=function(Q,S,B,y){var l=this.children;for(var D=0;D<l.length;D++){var R=[];for(var p=D+1;
p<l.length;p++)if(l[p].$.J$)R.push(l[p]);else break;l[D].mzH(Q,S,B,y,R);D+=R.length}};mG.og={delete:function(Q){if(Q&&Q.r)Q.delete()},Q:function(Q,S){return W.Kf?new W.rp(Q,S):k.Q(Q*S*4)},UK:function(Q,S,B){if(W.Kf){if(Q==null||Q.r!=S||Q.O!=B){mG.og.delete(Q);
return new W.rp(S,B)}}else{if(Q==null||!(Q instanceof Uint8Array)||Q.length!=S*B*4){mG.og.delete(Q);
return k.Q(S*B*4)}}return Q},ht:function(Q,S,B,y,l){(W.Kf?W.rk:k.oD)(Q,S,B,y,l)},ia:function(Q,S,B,y,l,D,R,p,O,M){(W.Kf?W.X.fz:k.X.ia)(Q,S,B,y,l,D,R,p,O,M)},Rc:function(Q,S,B,y,l,D,R,p){if(W.Kf)W.X.Az(Q,S,B,y,l,D,R,p);
else k.X.Rc(Q,S,B,y,l,D,R,p)},St:function(Q,S,B){if(W.Kf){W.gP(Q);W.oJ(S,B)}else k.St(Q,S,B)},mwk:function(Q,S,B,y,l){if(W.Kf){W.X.fz(null,null,y,l,Q,S,B,l,1,!1)}else{if(B==255)k.BX(Q,S,y,l);
else{var D=k.Q(S.Z());k.xA(y,l,D,S);k.aP(Q,D);k.St(y,0,16777215);k.xx(D,S,y,l)}}},rS:function(Q,S,B,y){if(W.Kf)W.X.fz(null,null,B,y,Q,S,0,y,1,!1);
else k.rS(Q,S,B,y)}};mG.prototype.VD=function(Q,S,B,y,l,D){var R=typeof D=="number";if(!this.$.So()&&(R&&this.index>D||!R&&D.indexOf(this.index)==-1)){return}var p=this.$,O=Nq.ta(p),M=mG.og,U=p.iG()?p.Tb():p.k;
if(!p.qm())return;if(p.UP()&&U.rect.Kq()){return}if(p.add.vstk==null&&this.jH(y,!1).Kq()){return}var m=this.jH(y,!0).nG(B);
if(!S.UH(B)&&!B.nc(m))return;if(p.So()&&p.add.artb)B=B.nG(p.ma());var Y=mG.mzo(p,l);if(!Y){this.mFG(Q,S,B,y,l,D);
return}p.K.tj=M.UK(p.K.tj,m.r,m.O);M.ht(Q,S,p.K.tj,m,B);this.mFG(p.K.tj,m,B,y,l,D);M.ia(p.K.tj,m,Q,S,null,null,0,B,p.opacity/255,p.wk=="diss")};
mG.mzo=function(Q,S){return Q.opacity!=255&&(S.length!=0||Q.So()||Q.Tr())};mG.mwP={K:{}};mG.prototype.mFG=function(Q,S,B,y,l,D){var R=this.$,p=Nq.ta(R),O=Nf.get(R.add)!=null,M=mG.og,U=mG.mzo(R,l),m=U?1:R.opacity/255,Y=R.iG()?R.Tb():R.k,x=R.So()&&R.wk=="pass"&&!(l.length>0||p.fill!=1||R.Tr()),T=!R.So()&&!O&&!R.Tr()&&l.length==0,$=O&&!R.Tr()&&l.length==0,J=null,N=null,E=null,n;
if(x||T||$){var L=Q,s=S;if(R.UP()){s=this.jH(y,!1);L=R.K.Xm=M.UK(R.K.Xm,s.r,s.O);M.ht(Q,S,R.K.Xm,s)}if(x)this.Vo(L,s,B,y,D);
if(T)M.Rc(R.wk,R.SM(y),R.rect,L,s,B,m,p);if($){var j=R.UP()&&Y.RT()==0?Y.jH().clone():s.clone(),Z=R.K;
if(j.UH(new w(0,0,y.r,y.O)))Z=mG.mwP;Z.He=this.mQK(L,s,Z.He,j,R.add);p.Lv=!0;M.Rc(R.wk,Z.He,j,L,s,B,m,p)}if(R.UP())M.ia(L,s,Q,S,R.YL(),Y.jH(),Y.RT(),B,1,R.wk=="diss");
R.K.Ib();return}var e=R.So()&&R.wk=="pass"&&(l.length>0||p.fill!=1||R.Tr()),j=R.rect;if(R.So()){j=this.jH(y,!1);
E=R.K.He=M.UK(R.K.He,j.r,j.O);M.St(E,0);this.Vo(E,j,j,y,D);N=M.UK(R.K.Vj,j.r,j.O);M.ht(E,j,N,j)}else if(O){j=R.UP()&&Y.RT()==0?Y.jH().clone():S.clone();
N=M.UK(R.K.Vj,j.r,j.O);M.St(N,4294967295)}else{j=R.rect;J=R.SM(y);N=M.UK(R.K.Vj,j.r,j.O);M.ht(J,j,N,j)}R.K.Vj=N;
if(R.UP())M.mwk(R.YL(),Y.jH(),Y.RT(),N,j);if(R.Tr())if(R.K.Ty||R.K.UA||R.K.PK!=W.Kf||R.K.Ut||R.So()){var h=k.Q(j.r*j.O);
if(W.Kf){if(!R.So()&&R.Tb()==null&&R.rect.UH(j))k.MA(R.buffer,h,3);else{var o=k.Q(j.r*j.O*4);N.get(o);
k.MA(o,h,3)}}else k.MA(N,h,3);if(R.K.UA||R.K.PK!=W.Kf||!k.UH(h,R.K.Bs)){var V=null;if(R.iG()&&R.add.vmsk&&R.add.vmsk.isEnabled&&R.add.vmsk.Tb().color==0)V=R.add.vmsk.Tb().rect;
Nq.mUv(R.K.Zn,h,j,R.add.lmfx,R.add.fxrp,y,V);R.K.Bs=h}}if(R.Tr())Nq.m_Q(R.add.lmfx,R.K.Zn,j,Q,S,B);if(R.So()){J=M.UK(R.K.Xm,j.r,j.O);
M.St(J,0);if(R.wk=="pass")M.ht(Q,S,J,j);if(e)M.rS(E,j,J,j);this.Vo(J,j,B,y,D);R.K.Xm=J}if(O){J=R.K.Xm=this.mQK(Q,S,R.K.Xm,j,R.add)}if(R.So()||O)n=J;
else{n=M.UK(R.K.Xm,j.r,j.O);M.ht(J,j,n,j,B);R.K.Xm=n}M.St(n,4278190080,16777215);for(var t=0;t<l.length;
t++)l[t].VD(n,j,B,y,[],D);var q=R.K.xo=M.UK(R.K.xo,j.r,j.O);M.ht(Q,S,q,j,B);if(O)p.Lv=!0;M.Rc(R.wk=="pass"?"norm":R.wk,n,j,q,j,B,1,p);
if(R.Tr()){var u=R.K.Zn.type.FrFX,g=null;if(u.length!=0){g=u[0];for(var t=0;t<u.length;t++)if(u[t].ky.r>g.ky.r)g=u[t];
R.K.Ul=M.UK(R.K.Ul,g.ky.r,g.ky.O);M.ht(Q,S,R.K.Ul,g.ky,B);R.K.BT=M.UK(R.K.BT,g.ky.r,g.ky.O)}Nq.mUT(R.add.lmfx,R.K.Zn,j,Q,S,B,q,R.K.Ul,R.K.BT,g?g.ky:null)}if(!W.Kf){var r=k.Q(j.Z());
k.MA(N,r,3);N=r}M.ia(q,j,Q,S,N,j,0,B,1,R.wk=="diss");R.K.Ib()};mG.prototype.mQK=function(Q,S,B,y,l){var D=Nf.get(l),R;
if(D)R=Nf.eL(D,l[D]);var p=mG.og;B=p.UK(B,y.r,y.O);if(!(W.Kf&&S.UH(y)))p.ht(Q,S,B,y);if(R){if(W.Kf){var O=y.clone();
O.x=O.y=0;if(S.UH(y)){W.gP(B,O);Nf.Vr(R,Q.MW,O)}else{W.gP(B,y);B.kO(y);Nf.Vr(R,B.iB,O)}}else Nf.sp(R,B,B,y)}return B};
mG.prototype.Vo=function(Q,S,B,y,l){var D=this.children;for(var R=0;R<D.length;R++){var p=[];for(var O=R+1;
O<D.length;O++)if(D[O].$.J$)p.push(D[O]);else break;D[R].VD(Q,S,B,y,p,l);R+=p.length}};function mV(Q){this.name=Q;
this.dL=-1;this.DS=null;this._w=null;this.rE=null;this.NV=null;this.r=0;this.O=0;this.G=[];this.Kw={};
this.add={};this.buffer=null;this.dX=4;this.iI=null;this.LY=72;this.I=[];this.WM=[[],[]];this.$q=[];
this.FY=[];this.SX=[mV.qK("Work Path")];this.lW=[];this.KC=null;this.qC={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.pk=null;this.vb=!1;this.mdi=!1;this.BW=!1;this.mh=!1;this.rr=!1;this.np=!1;this.ha=!1;
this.bN=!1;this.fi=!1;this.Ty=null;this.BK=null;this.K_={};this.m=null;this.Ka=[];this.rL=[];this.J={fA:{},La:[],mwg:[],pN:null,LC:null,Pg:null,Dx:null,wo:[],nQ:[]};
this.history=[new NO([1,0],null)];this.GS=0;this.q$=0;this.u=new QP(this)}mV.prototype.na=function(){var Q=this.Ka,S=this.Ka.length;
if(S!=0&&Q[S-1].name=="Quick Mask")return Q[S-1]};mV.prototype.mzn=function(){var Q=this.name;return Q.slice(0,Q.length-4).endsWith("-sketch")};
mV.prototype.Ol=function(Q){this.add.artd={classID:"null",Cnt:{t:"long",v:Q},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
mV.prototype.uD=function(Q){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(Q)==-1)this.add.FEid.push(Q)};
mV.prototype.VZ=function(Q){var S=this.add.FEid.indexOf(Q);this.add.FEid.splice(S,1);if(this.add.FEid.length==0)delete this.add.FEid};
mV.prototype.s=function(Q){if(Q==null)Q=new w(0,0,this.r,this.O);if(this.Ty==null)this.Ty=Q;else this.Ty=this.Ty.wM(Q)};
mV.prototype.mfm=function(Q){return this.Ty!=null};mV.prototype.Ok=function(Q){var S=this.G[Q],B=this.root.Ob(Q);
if(B==null)return!1;if(S.So()||B.parent.children.indexOf(B)==0)return!1;return!0};mV.mfp=function(Q){if(Q.add.lnk2)for(var S=0;
S<Q.add.lnk2.length;S++){var B=Q.add.lnk2[S].LB;Q.add.lnk2[S].LB=mV._H()+B.slice(8);for(var y=0;y<Q.G.length;
y++){var l=Q.G[y].add.SoLd;if(l&&l.Idnt.v==B)l.Idnt.v=Q.add.lnk2[S].LB}}};mV.prototype.mhH=function(Q,S,B){Q.sort(function(Y,x){return Y-x});
var top=Q[Q.length-1],y=this.G.slice(0),l=this.I.slice(0),D=[],R=[];for(var p=0;p<this.G.length;p++){if(Q.indexOf(p)!=-1)R.push(this.G[p]);
else D.push(this.G[p])}this.$O(R);this.I=[];var O=this.root.jH(this,!0);if(S)O=O.nG(S);if(B)O=O.wM(B);
if(O.Kq())O=new w(0,0,100,100);var M=new w(-O.x,-O.y,this.r,this.O),U=new Uint8Array(Np.PSD.Ba(this,0,0,[!0,!1]));
this.$O(y);this.I=l;var m=new mV(this.G[top].getName());Np.PSD.tm(U.buffer,m);delete m.add.artd;m.WM=[[],[]];
m.$q=[];m.$O(m.G);mV.mfp(m);K.SK.Im(m,O);m.s();m.re();m.qB();return[m,O,D,top]};mV.prototype.mRM=function(Q,S){var B=this.mhH(Q),y=B[0],l=B[1],D=B[2],top=B[3],R=new Uint8Array(Np.PSD.Ba(y));
if(S)D=this.G.slice(0);var p=this.ge(R,y.name,l.x,l.y);if(top==this.G.length-1)D.push(p);else D.splice(S?top+1:top-Q.length+1,0,p);
this.$O(D);this.I=[D.indexOf(p)]};mV._H=function(){var Q="";for(var S=0;S<8;S++)Q+=Math.floor(Math.random()*16).toString(16);
return Q};mV.prototype.DL=function(Q){if(Q==null)return;if(this.add.Patt==null)this.add.Patt=[];var S=this.add.Patt;
for(var B=0;B<S.length;B++)if(S[B].id==Q.id)return;S.push(Q)};mV.prototype.ge=function(Q,S,B,y,l){if(this.add.lnk2==null)this.add.lnk2=[];
var D=null,Y=!1;for(var R=0;R<this.add.lnk2.length;R++)if(k.UH(Q,this.add.lnk2[R].raw)){D=this.add.lnk2[R].LB;
break}if(D==null){var p=Np.Ge(Q.buffer);D=mV._H()+"-d71c-11e5-b1ae-a548a96e5f9f";var O=new z.KJ;O.LB=D;
O.vG=p=="psd"?"8BIM":"    ";O.oK=S+"."+p;O.Vx=p=="psd"?"8BPB":"    ";O.open=0;O.raw=Q;O.type="liFD";
O.cH=2;this.add.lnk2.push(O)}var M=this.Bd(D),U=mV._H()+"-d71c-11e5-b1ae-a548a96e5f9f",m=this.oz();m.pM(S);
if(M!=null){var x=m.rect=M.Km[1].clone();m.rect.offset(B,y);var T=Math.max(x.r/this.r,x.O/this.O),Y=l&&T>1.0001;
if(Y){x.r=Math.round(x.r/T);x.O=Math.round(x.O/T);x.x=Math.round((this.r-x.r)/2);x.y=Math.round((this.O-x.O)/2)}m.buffer=k.Q(m.rect.Z()*4);
if(!Y)k.MK(M.Km[0],m.buffer)}m.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:D},placed:{t:"TEXT",v:U},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:k.cF.Q(m.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:m.rect.r},Hght:{t:"doub",v:m.rect.O}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var $=k.i.wS(m.rect).M;m.add.SoLd.Trnf=K.Sj.tQ($);m.add.SoLd.nonAffineTransform=K.Sj.tQ($);if(Y)m._T(this,!1);
return m};mV.prototype.qB=function(Q){if(Q!=null){this.s();this.re(Q);var S=this.buffer;if(W.Kf)this.pk.get(S);
else S=S.slice(0);this.s();this.re();return S}if(this.Ty){this.re();this.Ty=null}if(W.Kf&&this.BK){this.pk.get(this.buffer);
this.BK=null;this.np=!0}return this.buffer};mV.prototype.mpU=function(){for(var Q=0;Q<this.G.length;
Q++)this.G[Q].AV();this.s()};mV.prototype.mzV=function(){for(var Q=0;Q<this.G.length;Q++)if(this.G[Q].add.lmfx)this.G[Q].K.UA=!0};
mV.prototype.OK=function(){var Q=this.Kw.r1044;if(Q==null){Q=this.Kw.r1044=new Uint8Array(4);var S=0;
for(var B=0;B<this.G.length;B++)S=Math.max(S,this.G[B].add.lyid);X.$m(Q,0,S)}var y=X.j(Q,0);X.$m(Q,0,y+1);
return y+1};mV.prototype.pD=function(Q,S){if(Q==null)Q=!0;var B=this;if(B.rL.length!=0)return!0;if(B.I.length!=1){if(Q)alert(B.I.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Bz(Q,S)};mV.prototype.Bz=function(Q,S){if(Q==null)Q=!0;if(S==null)S=!1;var B=this;
if(B.rL.length!=0)return!0;for(var y=0;y<B.I.length;y++){var l=B.G[B.I[y]],D=S||l.Wg<=0;if(l.add.lsct!=null&&l.add.lsct!=NI.Vw&&l.Wg!=1){if(Q)alert(Nd.get([15,7,2]));
return!1}if(D&&!l.tK()){if(Q)alert(Nd.get([15,7,2]));return!1}if(D&&l.add.TySh){if(Q)alert(Nd.get([15,7,3]));
return!1}if(D&&l.add.SoLd){if(Q)alert(Nd.get([15,7,4]));return!1}if(l.s$(1)||l.s$(31)){if(Q)alert(Nd.get([6,57,0]));
return!1}}return!0};mV.prototype.mgM=function(Q){var S=this.root.Ob(Q);if(S.parent)return S.$.qm()&&this.mgM(S.parent.index);
else return S.$.qm()};mV.prototype.mzC=function(Q){var S=this.root.Ob(Q);if(S==null)return null;var B=S.$;
if(B.add.artb)return B.ma();if(S.parent)return this.mzC(S.parent.index);return null};mV.prototype.ma_=function(){var Q=this.G[this.I[0]];
if(Q.Wg<=0&&!Q.rect.nc(this.m.rect)){alert("Selected area is empty.");return!1}if(this.I.length==1&&this.m){var S=k.Q(this.m.channel.length);
k.xA(Q.buffer,Q.rect,S,this.m.rect);k.aP(this.m.channel,S);if(k.aZ(S,0)){alert("Selected area is empty.");
return!1}}return!0};mV.prototype.qQ=function(){if(this.Kw["r"+1037]==null)this.Mr(30);return X.$I(this.Kw["r"+1037],0)};
mV.prototype.Mr=function(Q){if(this.Kw["r"+1037]==null)this.Kw["r"+1037]=new Uint8Array(4);if(X.$I(this.Kw["r"+1037],0)==Q)return;
X.kR(this.Kw["r"+1037],0,Q);this.mzV()};mV.prototype.My=function(){if(this.Kw["r"+1049]==null)this.Bm(30);
return X.$I(this.Kw["r"+1049],0)};mV.prototype.Bm=function(Q){if(this.Kw["r"+1049]==null)this.Kw["r"+1049]=new Uint8Array(4);
if(X.$I(this.Kw["r"+1049],0)==Q)return;X.kR(this.Kw["r"+1049],0,Q);this.mzV()};mV.prototype.q_=function(Q){if(this.add.lnk2==null)return null;
for(var S=0;S<this.add.lnk2.length;S++)if(this.add.lnk2[S].LB==Q)return this.add.lnk2[S];return null};
mV.prototype.mfr=function(Q){var S=this.q_(Q);if(S==null)return!1;var B=Np.Ge(S.raw.buffer);if(B==null)return!1;
if(Np.hG(B)!=null||B=="psd")return!0;return!1};mV.prototype.Bd=function(Q,S){var B=this.q_(Q);if(B==null)return null;
B.qB(S);if(B.Km)return B};mV.prototype.re=function(Q){if(Q==null)Q=1e9;var S=this.r,B=this.O,y=new w(0,0,S,B),l=y.nG(this.Ty);
if(W.Kf&&this.pk==null)this.pk=new W.rp(S,B,!0);if(this.buffer==null||this.buffer.length!=S*B*4||W.Kf&&(this.pk.r!=S||this.pk.O!=B)){this.buffer=k.Q(S*B*4);
if(this.pk)this.pk.delete();if(W.Kf)this.pk=new W.rp(S,B,!0)}if(l.Kq())return;if(!l.UH(y)){if(!W.Kf){var D=k.VE(l.Z()*4);
k.oD(D,l,this.buffer,y)}if(W.Kf){W.gP(this.pk,l);W.oJ(0)}}else{if(W.Kf){this.pk.set(null)}else{k.set(this.buffer,0)}}var R=Date.now(),p=W.Kf?this.pk:this.buffer;
this.root.VD(p,y,l,this,[],Q);this.BK=this.Ty.clone()};mV.prototype.oz=function(){var Q=new z;Q.rect=new w(0,0,0,0);
Q.buffer=k.Q(1);Q.add.luni=new v(0,0);Q.add.lyid=this.OK();Q.add.lsct=NI.Vw;Q.add.lclr=0;Q.add.fxrp=new v(0,0);
return Q};mV.prototype.rg=function(){var Q=this.oz();Q.pM("</Layer group>");Q.add.lsct=NI.hR;Q.$N=24;
return Q};mV.prototype.By=function(){return this.GS!=this.q$};mV.prototype.Ra=function(Q){while(this.history.length>this.GS+1)this.history.pop();
if(this.q$>this.GS)this.q$=-1;if(Q.h.id!=K.EF){this.BW=!0;if(this.qC.lastAppliedComp){delete this.qC.lastAppliedComp;
this.ha=!0}}this.history.push(Q);this.GS++;this.np=!0;var S=N_.vX()?60:30,B=0;for(var y=this.history.length-1;
y>=0;y--){var l=this.history[y];if(l.Bv)continue;B++;if(B==S){this.GS-=y;this.history=this.history.slice(y);
break}}};mV.prototype.vO=function(){if(this.GS!=this.history.length-1)return null;return this.history[this.history.length-1]};
mV.prototype.M$=function(Q,S,B){if(Q==null)Q=!1;var y=S!=null?[S]:this.I.slice(0),l=[];for(var D=0;D<y.length;
D++){var R=this.G[y[D]].Gl;if(R!=0&&l.indexOf(R)==-1)l.push(R)}for(var D=0;D<this.G.length;D++){var R=this.G[D].Gl;
if(R!=0&&l.indexOf(R)!=-1&&y.indexOf(D)==-1)y.push(D)}var p=[];for(var D=0;D<y.length;D++){var O=this.MB(y[D],Q);
for(var M=0;M<O.length;M++)if(p.indexOf(O[M])==-1)p.push(O[M]);if(B){var U=this.root.Ob(y[D]);while(U.parent!=null&&U.parent.parent!=null){U=U.parent;
if(p.indexOf(U.index)==-1){p.push(U.index,U.BI)}}}}return p};mV.prototype.MC=function(Q,S){var B=this,y=B.M$(!1,Q);
y.sort(function(s,j){return s-j});var l={};for(var D=0;D<B.G.length;D++){var R=B.G[D].getName();l[R]=!0}var p=[];
for(var O=0;O<y.length;O++){var M=B.G[y[O]].clone(),$,L;M.add.lyid=B.OK();if(M.as()){var U=M.DG(B),m=mV.mRE(U);
B.uD(m);M.add.SoLd.placed.v=m.id}M.Zs(B);var Y=M.getName(),x=Y.length;while(48<=Y.charCodeAt(x-1)&&Y.charCodeAt(x-1)<=57)x--;
var T=parseInt(Y.slice(x));if(isNaN(T)){if(Y.endsWith(" copy")){T=1;$=Y.slice(0,Y.length-5)}else{T=0;
$=Y}}else if(Y.slice(0,x).endsWith(" copy ")){T=T;$=Y.slice(0,x-6)}else{T=0;$=Y}T++;while(!0){L=$+" copy"+(T==1?"":" "+T);
if(l[L]==null)break;T++}if(S!=!0)M.pM(L);l[L]=!0;p.push(M)}return p};mV.mRE=function(Q){return{id:mV._H()+Q.id.slice(8),buffer:k.clone(Q.buffer),rect:Q.rect.clone(),k:Q.k?Q.k.clone():null}};
mV.mVo=function(Q){return{id:Q,rect:new w,buffer:k.Q(1),k:new z.oW}};mV.qK=function(Q,S){if(S==null)S={vmsk:new z.hm};
if(S.vogk==null){S.vogk=[];var B=k.c.Tm(S.vmsk.A);for(var y=0;y<B;y++)S.vogk.push(k.SI.VE())}return{name:Q,d_:0,add:S}};
mV.prototype.sH=function(Q){var S=[],B=[],y=this,R=0;for(var l=1;l<y.SX.length;l++){var D=y.SX[l];D.d_=-1-l;
S.push(D);if(y.lW.indexOf(l)!=-1)B.push(S.length-1)}if(y.SX[0].add.vmsk.A.length>2){var D=y.SX[0];D.d_=-1;
S.push(D);if(y.lW.indexOf(0)!=-1)B.push(S.length-1)}var p=y.KC==null;if(p)y.KC=[];for(var l=y.I.length-1;
l>=0;l--){var O=y.G[y.I[l]],M=O.add.TySh;if(O.add.vmsk!=null&&(O.de||O.iG())){var D=mV.qK("\""+O.getName()+"\" Shape Path",O.add);
D.d_=y.I[l];S.push(D);if(p)y.KC.push(R);if(y.KC.indexOf(R)!=-1)B.push(S.length-1);R++}if(Q!=!0&&M&&M.add&&k.cF.hW(M.IT)){var D=mV.qK("\""+O.getName().slice(0,10)+"..\" Text Path",M.add);
D.d_=1e6+y.I[l];S.push(D);B.push(S.length-1);R++}}if(B.length==0&&Q){y.SX[0].d_=-1;y.lW=[0];B.push(S.length);
S.push(y.SX[0])}return[S,B]};mV.prototype.MB=function(Q,S){var B=[],y=this.root.Ob(Q);if(y)y.mzY(B,S);
return B};mV.prototype.Bq=function(){this.root.xs(this,new w(0,0,this.r,this.O),32)};mV.prototype.$O=function(Q){for(var S=0;
S<this.G.length;S++){var B=this.G[S];if(Q.indexOf(B)==-1){B.K.mwz();B.s()}}this.G=Q.slice(0);this.Jc()};
mV.prototype.Jc=function(){var Q=this.G,S=Q.length;this.root=new mG;var B=this.oz();B.wk="pass";B.add.lsct=NI.YG;
var y=this.rg(),l=[y];for(var D=0;D<S;D++)l.push(Q[D]);l.push(B);this.root.mMA(l,0,0);if(this.I.length==0)this.I=[S-1]};
mV.prototype.VH=function(){if(this.I.length!=1)return;var Q=this.root.Ob(this.I[0]);while(Q.parent!=null){var S=Q.parent.$;
S.add.lsct=NI.YG;Q=Q.parent}this.rr=this.mJu=!0};mV.VA=function(Q,S,B,y,l){var D={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:y},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:Q}},Hght:{t:"UntF",v:{type:"#Rlt",val:S}},Rslt:{t:"UntF",v:{type:"#Rsl",val:B}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:l}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
return{QF:"make",$o:D}};mV.mfN=function(Q,S){var B=Q.Wdth.v.val,y=Q.Hght.v.val,l=new mV((Q.Nm?Q.Nm.v:Nd.get([11,7]))+".psd");
l.r=B;l.O=y;l.LY=Q.Rslt.v.val;var D=l.oz();D.pM("Background");l.$O([D]);D.add.lspf=1<<2;var R=Q.Fl?Q.Fl.v.Fl:"Trns";
if(R!="Trns"){var p=S.hB;p=(p&255)<<16|(p>>>8&255)<<8|p>>>16;D.rect=new w(0,0,B,y);D.buffer=k.Q(B*y*4);
k.St(D.buffer,{Wht:4294967295,BckC:255<<24|p}[R])}l.buffer=k.Q(B*y*4);return l};function QP(Q){this.SB=Q;
this.C=0;this.a=new v(0,0);this.T$=[1,1,1];this.S=new w(0,0,1,1);this.lz=new w(0,0,Q.r,Q.O);this.M_=null;
this.Fc=null;this.CG=new Uint32Array(0);this.aK=null;this.Ln=null;this.AQ=k.Q(0);this.XR=null;this.qo=null}QP.prototype.FD=function(Q,S){var B=Math.round((this.S.r-this.SB.r*this.C)/2+this.a.x),y=Math.round((this.S.O-this.SB.O*this.C)/2+this.a.y),l=(Q-B)/this.C,D=(S-y)/this.C;
return new v(l,D)};QP.prototype.tL=function(Q,S){var B=Math.round((this.S.r-this.SB.r*this.C)/2+this.a.x),y=Math.round((this.S.O-this.SB.O*this.C)/2+this.a.y),l=Q*this.C+B,D=S*this.C+y;
return new v(l,D)};QP.prototype.gV=function(){var Q=this.SB,S=this.C,B=this.S.r,y=this.S.O,l=Math.floor(Q.r*S),D=Math.floor(Q.O*S);
if(S<.99){var R=k.xb(null,new w(0,0,Q.r,Q.O),S).rect;l=R.r;D=R.O}return new w(Math.round((B-l)/2+this.a.x),Math.round((y-D)/2+this.a.y),l,D)};
QP.prototype.BJ=function(){var Q=this.SB,S=this,B=1/S.C,y=this.gV();return new w(Math.floor((S.S.x-y.x)*B),Math.floor((S.S.y-y.y)*B),Math.ceil(S.S.r*B)+1,Math.ceil(S.S.O*B)+1)};
function rx(){}rx.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");rx.or="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
rx.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];rx.mzG=["DrSh","IrSh","SoFi","GrFl","FrFX"];
rx.ti=["Clr"];rx.nj="Grad Rvrs Type Algn Angl Scl Ofst".split(" ");rx.sG=["Ptrn","Scl","Algn","phase"];
rx.ls={mZ:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",mpX:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",mpg:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",Bh:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
rx.ls.mZ="\"Clr\": "+rx.ls.mZ;rx.ls.Kg="\"Grad\":"+rx.ls.mpX+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"}";
rx.ls.Bh="\"Ptrn\":"+rx.ls.Bh+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
rx.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
rx.Pf=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+rx.ls.mZ+","+rx.ls.Kg+","+rx.ls.Bh+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+rx.ls.mZ+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+rx.ls.Kg+",\"Dthr\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+rx.ls.Bh+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
rx.Kg={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
rx.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],hN:["SClr","GrFl","Ptrn"],mfh:[[13,0],[12,37],[12,62]]};
rx.gh={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],mR$:["SrcC","SrcE"],mfg:[[19,5,1],[12,69]]};rx.DV={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],mGL:["SfBL","PrBL","Slmt"],mfS:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
rx.xD={mI:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],XQ:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],Uc:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+rx.ls.mZ+"}")},strokeStyleResolution:{t:"doub",v:72}}};
rx.Xc=[{classID:"null",Clr:JSON.parse(rx.Pf[5]).Clr},{classID:"null",Grad:JSON.parse(rx.Pf[6]).Grad,Dthr:{t:"bool",v:!0},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(rx.Pf[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var Nq={};Nq.mUm=function(Q,S,B){if(Q.Kq())return;var y=k.c.mJv(Q.A);y.x=Math.floor(y.x*S);y.r=Math.ceil(y.r*S);
y.y=Math.floor(y.y*B);y.O=Math.ceil(y.O*B);Q.rect=y;Q.channel=k.Q(y.Z());k.yt.width=y.r;k.yt.height=y.O;
var l=k.S;l.fillStyle="#ffffff";k.c.mJw(l,Q.A,S,B,-y.x,-y.y);l.fill();var D=l.getImageData(0,0,y.r,y.O).data;
k.MA(D,Q.channel,3)};Nq.hL=function(Q,S){function B(Q,x){if(Q==null)return null;var T=Q[x].v,$;if(T.length!=0){$=T[0].v;
if(!$.enab.v)$=null}return $}var y=S.SoCo,l=S.GdFl,D=B(Q,"solidFillMulti"),R=B(Q,"gradientFillMulti");
if(D==null&&R==null)return[y,l];var p=Nq.mUV;if(y&&D&&R==null){var O=JSON.parse(JSON.stringify(y));O.Clr.v=p(D.Clr.v,y.Clr.v,D);
return[O,null]}if(l&&D&&R==null){var M=JSON.parse(JSON.stringify(l)),U=M.Grad.v.Clrs.v;for(var m=0;m<U.length;
m++){var Y=U[m].v.Clr;Y.v=p(D.Clr.v,Y.v,D)}return[null,M]}if(y&&R){var M=JSON.parse(JSON.stringify(R)),U=M.Grad.v.Clrs.v;
for(var m=0;m<U.length;m++){var Y=U[m].v.Clr;Y.v=p(Y.v,y.Clr.v,R)}return[null,M]}return[D,R]};Nq.mUr={Ml:k.Q(4),Jd:k.Q(4),t:new w(0,0,1,1)};
Nq.mUV=function(Q,S,B){var y=No.oQ(B.Md.v.BlnM),l=B.Opct.v.val/100,D=Nq.mUr;Q=k.Kg.RT(Q);S=k.Kg.RT(S);
D.Ml[0]=Q.t;D.Ml[1]=Q.e;D.Ml[2]=Q.R;D.Ml[3]=255;D.Jd[0]=S.t;D.Jd[1]=S.e;D.Jd[2]=S.R;D.Jd[3]=255;k.X.Rc(y,D.Ml,D.t,D.Jd,D.t,D.t,l);
return{classID:"RGBC",Rd:{t:"doub",v:D.Jd[0]},Grn:{t:"doub",v:D.Jd[1]},Bl:{t:"doub",v:D.Jd[2]}}};Nq.mLP=function(Q,S,B){var y=Q;
Q=Q.slice(0);var l=No.ea[No.oM.indexOf(S.Md.v.BlnM)],D=k.Kg.RT(S.Clr.v),R=4278190080|Math.round(D.R)<<16|Math.round(D.e)<<8|Math.round(D.t),p=k.Q(B.Z()*4);
k.St(p,R);k.X.Rc(l,p,B,Q,B,B,S.Opct.v.val/100);for(var O=0;O<Q.length;O+=4)Q[O+3]=y[O+3];return Q};Nq.mzh=function(Q,S){var B=["Sz","blur","Sftn","Dstn"];
for(var y=0;y<rx.order.length;y++){var l=rx.order[y],D=Q[rx.or[y]].v;for(var R=0;R<D.length;R++){var p=D[R].v;
for(var O=0;O<B.length;O++){var M=p[B[O]];if(M){var U=M.v.val,m=U;m=Math.max(U==0?0:1,m*S);if(l=="ChFX")m=Math.min(m,250);
if(l=="ebbl"){if(B[O]=="blur")m=Math.min(m,250);if(B[O]=="Sftn")m=Math.min(m,16)}M.v.val=Math.round(m)}}if(l=="ebbl"||l=="patternFill"||l=="FrFX")if(p.Ptrn&&p.Scl)p.Scl.v.val=Math.max(1,Math.min(1e3,p.Scl.v.val*S))}}};
Nq.mUg=function(Q,S){var B=new w(-.5,-.5,1,1),y=Q.add.lmfx;for(var l=0;l<rx.order.length;l++){var D=rx.order[l],R=y[rx.or[l]].v;
for(var p=0;p<R.length;p++){var O=R[p].v,Y;if(!O.enab.v)continue;var M=O.blur?O.blur.v.val+1:0,U=O.Ckmt?O.Ckmt.v.val/100:0,m=Math.round(M*U);
if(D=="DrSh"){Y=new w(-.5,-.5,1,1);Y.Jq(M,M);Nq.Mj(Y,O,S,0)}if(D=="OrGl"){Y=new w(-.5,-.5,1,1);Y.Jq(M,M)}if(D=="FrFX"){var x=Nq.BC(O)[1];
Y=new w(-.5,-.5,1,1);Y.Jq(Math.ceil(x),Math.ceil(x))}if(D=="ebbl"){var M=O.blur.v.val;if(O.bvlS.v.BESl=="Embs"||O.bvlS.v.BESl=="PlEb")M/=2;
var T=["OtrB","InrB","Embs","PlEb","strokeEmboss"],$=["SfBL","PrBL","Slmt"],L=["In","Out"],s=O.bvlT.v.bvlT!="SfBL"?M:M*.43,j=Math.round(M);
Y=new w(-j-.5,-j-.5,2*j+1,2*j+1)}if(Y)B=B.wM(Y)}}if(B.x!=Math.ceil(B.x)){B.x=Math.ceil(B.x);B.r-=1}if(B.y!=Math.ceil(B.y)){B.y=Math.ceil(B.y);
B.O-=1}return B};Nq.BC=function(Q){var S=0,B=0,y=Q.Styl.v.FStl,l=Q.Sz.v.val;if(y=="OutF")B=l;if(y=="InsF")S=l;
if(y=="CtrF")S=B=l/2;return[S,B]};Nq.mRs=function(Q){if(Q.all==null)return;for(var S=0;S<Q.all.length;
S++){var B=Q.all[S];if(B.xT)B.xT.delete();if(B.qS)B.qS.delete();if(B.JQ)B.JQ.delete()}};Nq.mUv=function(Q,S,B,y,l,D,R){Nq.mRs(Q);
var p=Nq.hy(y,l,S,B,D,R);Q.type=p.type,Q.all=p.all;if(W.Kf)for(var O=0;O<Q.all.length;O++){var M=Q.all[O];
M.xT=new W.rp(M.Cb.r,M.Cb.O);M.xT.set(M.Ko);delete M.Ko;if(M.JL){M.qS=new W.LH(M.Cb.r,M.Cb.O);M.qS.set(M.JL);
delete M.JL}if(M.JV){M.JQ=new W.LH(M.Cb.r,M.Cb.O);M.JQ.set(M.JV);delete M.JV}}};Nq.hy=function(Q,S,B,y,l,D){if(D==null)D=y;
var R=0,p=0;for(var O=0;O<rx.order.length;O++){var M=rx.order[O],U=rx.or[O],m=Q[U].v;for(var Y=0;Y<m.length;
Y++){var x=m[Y].v;if(M=="DrSh"&&x.enab.v&&x.Ckmt.v.val>0&&x.blur.v.val>0)R=Math.max(R,Math.ceil(x.Ckmt.v.val*x.blur.v.val/100));
if(M=="OrGl"&&x.enab.v&&x.Ckmt.v.val>0&&x.blur.v.val>0&&x.GlwT.v.BETE=="SfBL")R=Math.max(R,Math.ceil(x.Ckmt.v.val*x.blur.v.val/100));
if(M=="OrGl"&&x.enab.v&&x.blur.v.val>0&&x.GlwT.v.BETE=="PrBL")R=Math.max(R,x.blur.v.val);if(M=="FrFX"&&x.enab.v&&x.Sz.v.val>0){if(x.Styl.v.FStl=="OutF")R=Math.max(R,x.Sz.v.val);
if(x.Styl.v.FStl=="CtrF")R=Math.max(R,Math.ceil(x.Sz.v.val/2));p=Math.max(p,Nq.BC(x)[1])}}}var T=new Nq.Mk(B,y,R),$={type:{},all:[]};
for(var L=0;L<rx.order.length;L++){var M=rx.order[L],U=rx.or[L];$.type[M]=[];for(var s=Q[U].v.length-1;
s>=0;s--){var j=Q[U].v[s].v;if(!j.enab.v)continue;var Z=j.blur?j.blur.v.val:0,e=j.Ckmt?j.Ckmt.v.val/100:0,J=Z*e;
if(M=="DrSh"){var N=T.gT(J,Z-J,!0),E=N.dv,h=N.q;h.offset(-T.rect().x-1,-T.rect().y-1);Nq.gj(E,j,!1);
Nq.Mj(h,j,l,0);var o=k.Q(h.Z()*4);Nq.X_(o,j.Clr.v);k.KF(E,o,3);var V={Ko:o,Cb:h,KS:No.oQ(j.Md.v.BlnM),po:j.Opct.v.val/100,mdx:j.layerConceals.v};
$.type[M].push(V);$.all.push(V)}if(M=="IrSh"){var N=T.gT(J,Z-J,!1);Nq.Mj(N.q,j,l,0);var h=T.rect().clone(),E=k.Q(h.Z());
k.set(E,255);k.ht(N.dv,N.q,E,h);Nq.gj(E,j,!0);var o=k.Q(h.Z()*4);Nq.X_(o,j.Clr.v);k.KF(E,o,3);h.offset(-T.rect().x-1,-T.rect().y-1);
var V={Ko:o,Cb:h,KS:No.oQ(j.Md.v.BlnM),po:j.Opct.v.val/100};$.type[M].push(V);$.all.push(V)}if(M=="GrFl"){var o=k.Q(T.rect().Z()*4);
Nq.gD(j,o,T.rect(),l,null,D);var h=T.rect().clone();h.offset(-T.rect().x-1,-T.rect().y-1);var V={Ko:o,Cb:h,KS:No.oQ(j.Md.v.BlnM),po:j.Opct.v.val/100};
$.type[M].push(V);$.all.push(V)}if(M=="SoFi"){var o=k.Q(T.dv().length*4);Nq.X_(o,j.Clr.v);var h=T.rect().clone();
h.offset(-T.rect().x-1,-T.rect().y-1);var V={Ko:o,Cb:h,KS:No.oQ(j.Md.v.BlnM),po:j.Opct.v.val/100};$.type[M].push(V);
$.all.push(V)}if(M=="ebbl"){var n=!1,c=1;if(n)console.log(j);var t=Date.now(),q=j.bvlS.v.BESl;if(q=="strokeEmboss"){var u=Q.frameFXMulti.v;
if(u.length==0)continue;u=u[0].v;if(!u.enab.v)continue;var g=u.Styl.v.FStl;if(g=="OutF")q="OtrB";if(g=="CtrF")q="Embs";
if(g=="InsF")q="InrB"}var Z=j.blur.v.val;if(Z==0)Z=.7;if(q=="Embs"||q=="PlEb")Z/=2;var r=["OtrB","InrB","Embs","PlEb","strokeEmboss"],f=["SfBL","PrBL","Slmt"],I=["In","Out"],d=j.bvlT.v.bvlT!="SfBL"?Z:Z*.45,a=Math.round(Z);
Z*=c;d*=c;a*=c;var _=T.rect().clone();_.x*=c;_.y*=c;_.r*=c;_.O*=c;var C=_.clone();C.Jq(a,a);var F=C.r,i=C.O,rP=F*i,rH=T.rect().r,rK=T.rect().O,rY=k.Q(rH*rK*c*c);
k.scale.ie(T.dv(),rH,rK,rY,rH*c,rK*c,c);var Nc=k.Q(rP);k.ht(rY,_,Nc,C);var G=new Float64Array(rP),rI=new Float64Array(rP);
k.style.LJ(Nc,G,F,i);k.SD(Nc);k.style.LJ(Nc,rI,F,i);if(n)console.log("distTransform computed",Date.now()-t);
var rb=rI;rI=new Float64Array(rP);for(var O=0;O<rP;O++)rb[O]=rb[O]-G[O];for(var O=0;O<rP;O++){var Nr=rb[O];
if(Nr<-d)rb[O]=-d;else if(Nr>d)rb[O]=d}if(n)console.log("summing + cropping",Date.now()-t);if(j.bvlT.v.bvlT=="SfBL"){var Nz=Math.pow(Z*.21,1.22);
if(q=="InrB")Nz=Math.max(Nz,2);k.blur.vJ(rb,G,C,Nz);var NL=rb;rb=G;G=NL}if(n)console.log("blurring",Date.now()-t);
var Nm=new Float64Array(rP);k.MK(rb,Nm);if(j.useShape.v){var NN=Math.min(100,j.Inpr.v.val+1)/100;if(q!="OtrB"&&q!="InrB")NN=1;
var Ne=k.$T.i$(j.MpgS.v.Crv.v,2e3),Ny=Math.round(2e3/NN);Ne=k.$T.mQq(Ne,Ny,q=="InrB");var NG=.5/d;for(var O=0;
O<rP;O++){var NC=rb[O],Ng=.99999*(NC+d)*NG;rb[O]=-d+2*d*Ne[~~(Ng*(Ny-1))]}if(n)console.log("applying shape",Date.now()-t)}if(j.useTexture.v){var NM=k.Q(F*i*4);
Nq.vY(j,NM,C,l,S);var NQ=k.Q(F*i);k.pE(NM,NQ);var NR=k.Q(F*i);k.blur.Pc(NQ,NR,C,1);NQ=NR;var NV=Z*j.textureDepth.v.val*(1/100)*(1/255);
if(j.InvT.v)NV=-NV;for(var O=0;O<rP;O++)rb[O]+=-NV*NQ[O];if(n)console.log("applying texture",Date.now()-t)}var md=(j.bvlT.v.bvlT=="SfBL"?1:.5)*(j.bvlD.v.BESs=="In"?1:-1)*j.srgR.v.val/100;
for(var O=0;O<rP;O++)rb[O]*=md;if(n)console.log("scaling",Date.now()-t);var NW=j.uglg&&j.uglg.v?l.qQ():j.lagl.v.val;
NW=NW*(Math.PI/180);var Nh=j.uglg&&j.uglg.v?l.My():j.Lald.v.val;Nh=Nh*(Math.PI/180);var Nt=Math.cos(NW)*Math.cos(Nh),NU=-Math.sin(NW)*Math.cos(Nh),Mw=Math.sin(Nh),mp=new Float64Array(rP),Na=new Float64Array(rP),NX=q=="PlEb";
for(var O=0;O<i;O++)for(var Y=0;Y<F;Y++){var Ni=O*F+Y,mm=-(O==0?rb[Ni+F]-rb[Ni]:O==i-1?rb[Ni]-rb[Ni-F]:.5*(rb[Ni+F]-rb[Ni-F])),NT=-(Y==0?rb[Ni+1]-rb[Ni]:Y==F-1?rb[Ni]-rb[Ni-1]:.5*(rb[Ni+1]-rb[Ni-1])),NF=1,Ns=1/Math.sqrt(NT*NT+mm*mm+1);
NT*=Ns;mm*=Ns;NF*=Ns;var NB=NT*Nt+mm*NU+NF*Mw,Rz=NB;if(NX)Rz=-NT*Nt-mm*NU+NF*Mw;if(NB>0)mp[Ni]=NB;if(Rz>0)Na[Ni]=Rz}if(n)console.log("raycasting",Date.now()-t);
if(j.Sftn.v.val!=0){k.blur.vJ(mp,G,C,j.Sftn.v.val*.43);var NL=G,G=mp,mp=NL;if(NX){k.blur.vJ(Na,G,C,j.Sftn.v.val*.43);
var NL=G,G=Na,Na=NL}else k.MK(mp,Na)}if(n)console.log("softening",Date.now()-t);var Ne=k.$T.i$(j.TrnS.v.Crv.v,1024);
for(var O=0;O<rP;O++){mp[O]=Ne[~~(mp[O]*1024)];Na[O]=Ne[~~(Na[O]*1024)]}if(n)console.log("contour remap",Date.now()-t);
F=Math.round(F/c);i=Math.round(i/c);var Nk=k.Q(F*i*4);Nq.X_(Nk,j.hglC.v);var RJ=k.Q(F*i*4);Nq.X_(RJ,j.sdwC.v);
var mv=k.Q(F*i*4);Nq.X_(mv,j.hglC.v);var NA=k.Q(F*i*4);Nq.X_(NA,j.sdwC.v);var Mr=1/Mw,p$=1/(1-Mw),NG=1/d,RL=new Float64Array(1e3);
for(var O=0;O<1e3;O++)RL[O]=Math.pow(O*.001,.2);for(var O=0;O<i;O++)for(var Y=0;Y<F;Y++){var Ni=O*F+Y,mR=4*Ni+3,Ro=0,mQ=0;
if(c==1){Ro=mp[Ni];mQ=Na[Ni]}else{var mS=c*c*O*F+c*Y;Ro=.25*(mp[mS]+mp[mS+1]+mp[mS+c*F]+mp[mS+c*F+1]);
mQ=.25*(Na[mS]+Na[mS+1]+Na[mS+c*F]+Na[mS+c*F+1])}var Rh=Math.max(0,Math.min(.9999,(Nm[Ni]+d*.993)*NG));
Rh=RL[Math.floor(Rh*1e3)];var ps=Rh*(1-Math.min(1,Ro*Mr)),mE=Rh*(1-Math.min(1,(1-Ro)*p$)),Rd=Rh*(1-Math.min(1,mQ*Mr)),Qz=Rh*(1-Math.min(1,(1-mQ)*p$));
RJ[mR]=Math.round(255*ps);Nk[mR]=Math.round(255*mE);NA[mR]=Math.round(255*Rd);mv[mR]=Math.round(255*Qz)}if(n)console.log("baking textures",Date.now()-t);
C=T.rect().clone();C.Jq(a/c,a/c);C.offset(-T.rect().x-1,-T.rect().y-1);var rX={mwF:j.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(q)!=-1){rX.Jf={Ko:Nk,Cb:C,KS:No.oQ(j.hglM.v.BlnM),po:j.hglO.v.val/100};
rX.Js={Ko:RJ,Cb:C,KS:No.oQ(j.sdwM.v.BlnM),po:j.sdwO.v.val/100};$.all.push(rX.Jf,rX.Js)}if(["OtrB","Embs","PlEb"].indexOf(q)!=-1){rX.Jt={Ko:mv,Cb:C,KS:No.oQ(j.hglM.v.BlnM),po:j.hglO.v.val/100};
rX.JX={Ko:NA,Cb:C,KS:No.oQ(j.sdwM.v.BlnM),po:j.sdwO.v.val/100};$.all.push(rX.Jt,rX.JX)}if(n)console.log(Date.now()-t);
$.type[M].push(rX)}if(M=="patternFill"){var Rm=T.rect(),o=k.Q(Rm.Z()*4);Nq.vY(j,o,Rm,l,S);var h=Rm.clone();
h.offset(-Rm.x-1,-Rm.y-1);var V={Ko:o,Cb:h,KS:No.oQ(j.Md.v.BlnM),po:j.Opct.v.val/100};$.type[M].push(V);
$.all.push(V)}if(M=="ChFX"){var o=k.Q(T.dv().length*4);Nq.X_(o,j.Clr.v);var Z=j.blur.v.val,Ri=T.rect().clone();
Ri.Jq(Z,Z);var Rl=k.Q(Ri.Z()),mW=k.Q(Ri.Z());k.ht(T.dv(),T.rect(),mW,Ri);k.blur.UQ(mW,Rl,Ri,Z*.43);var RF=k.$T.LL(j.MpgS.v.Crv.v,256,!0);
k.ve(Rl,RF);var Rv=k.Q(T.dv().length),NK=k.Q(T.dv().length),Mu=T.rect().clone();Nq.Mj(Mu,j,l,0);k.ht(Rl,Ri,Rv,Mu);
Mu=T.rect().clone();Nq.Mj(Mu,j,l,Math.PI);k.ht(Rl,Ri,NK,Mu);var RN=Rv.length;for(var O=0;O<RN;O++)o[4*O+3]=Math.abs(Rv[O]-NK[O]);
if(j.Invr.v)for(var O=0;O<RN;O++)o[4*O+3]=255-o[4*O+3];var h=T.rect().clone();h.offset(-T.rect().x-1,-T.rect().y-1);
var V={Ko:o,Cb:h,KS:No.oQ(j.Md.v.BlnM),po:j.Opct.v.val/100};$.type[M].push(V);$.all.push(V)}if(M=="OrGl"){var N;
if(j.GlwT.v.BETE=="SfBL")N=T.gT(J,Z-J,!0);else N=T.mLC(Z,e,!0);var E=N.dv,h=N.q,pc=E.slice(0);Nq.mps(E,j);
var o=k.Q(h.Z()*4);if(j.Grad==null){Nq.X_(o,j.Clr.v);Nq.gj(E,j,!1)}else{Nq.gj(E,j,null);var RV={Lq:E,_V:255,Gm:0,JF:h};
Nq.gD(j,o,h,l,RV);var RQ=j.Nose.v.val/100,rH=h.r;for(var O=0;O<pc.length;O++){var pa=255,RB=pc[O];if(RB<32){var Mc=(RB+pc[O-1]+pc[O+1]+pc[O-rH]+pc[O+rH])*.2-1;
pa=Math.min(255,Math.round(Math.max(0,Mc)*8))}E[O]=pa}Nq.mC$(E,j)}k.KF(E,o,3);h.offset(-T.rect().x-1,-T.rect().y-1);
var V={Ko:o,Cb:h,KS:No.oQ(j.Md.v.BlnM),po:j.Opct.v.val/100};$.type[M].push(V);$.all.push(V)}if(M=="IrGl"){var N;
if(j.GlwT.v.BETE=="SfBL")N=T.gT(J,Z-J,!1);else N=T.mLC(Z,e,!1);var E=N.dv,h=N.q;Nq.mps(E,j);if(j.glwS.v.IGSr=="SrcC")k.SD(E);
var o=k.Q(h.Z()*4);if(j.Grad==null){Nq.X_(o,j.Clr.v);Nq.gj(E,j,!0)}else{Nq.gj(E,j,null);var RV={Lq:E,_V:255,Gm:0,JF:h};
Nq.gD(j,o,h,l,RV);k.set(E,255);Nq.mC$(E,j)}k.KF(E,o,3);h.offset(-T.rect().x-1,-T.rect().y-1);var V={Ko:o,Cb:h,KS:No.oQ(j.Md.v.BlnM),po:j.Opct.v.val/100};
$.type[M].push(V);$.all.push(V)}if(M=="FrFX"){var Rk=Nq.BC(j),mt=Rk[0],MC=Rk[1],h=T.rect().clone(),pF=null,MU=null;
h.Jq(Math.ceil(p),Math.ceil(p));if(MC>0){var N=T.gT(MC,0,!0);MU=N.dv;if(MU.length<h.Z()){MU=k.Q(h.Z());
k.ht(N.dv,N.q,MU,h)}}if(mt>0){var N=T.gT(mt,0,!1);pF=k.Q(h.Z());k.set(pF,255);k.ht(N.dv,N.q,pF,h)}h.offset(-T.rect().x-1,-T.rect().y-1);
var o=k.Q(h.Z()*4),Rp=j.PntT.v.FrFl;if(Rp=="SClr")Nq.X_(o,j.Clr.v);if(Rp=="GrFl")Nq.gD(j,o,h,l,T.mnh(mt,MC));
if(Rp=="Ptrn")Nq.vY(j,o,h,l,S);var V={Ko:o,Cb:h,KS:No.oQ(j.Md.v.BlnM),po:j.Opct.v.val/100,JV:MU,JL:pF};
$.type[M].push(V);$.all.push(V)}}}return $};Nq.hO=function(Q){var S=1/Math.sqrt(Q.x*Q.x+Q.y*Q.y+Q.BD*Q.BD);
Q.x*=S;Q.y*=S;Q.BD*=S};Nq.mUN=function(Q,S){return{x:Q.y*S.BD-Q.BD*S.y,y:Q.BD*S.x-Q.x*S.BD,BD:Q.x*S.y-Q.y*S.x}};
Nq.mUQ=function(Q,S){return Q.x*S.x+Q.y*S.y+Q.BD*S.BD};Nq.mC$=function(Q,S){var B=S.Nose.v.val/100;if(B>0)for(var y=0;
y<Q.length;y++){var l=Q[y];l=Math.min(510-(1+B)*k.style.oi(y),l);Q[y]=l}};Nq.ta=function(Q){var S=Nq.gU(),B=Q.US,y=!1;
for(var l=0;l<32;l+=8)if(B[l]+B[l+1]+B[4]+B[5]!=0||B[l+2]+B[l+3]+B[6]+B[7]!=1020)y=!0;if(y){B=B.slice(0);
for(var l=0;l<40;l+=4){var D=B[l]/255,R=B[l+1]/255,p=B[l+2]/255,O=B[l+3]/255;B[l]=D-1e-4;B[l+1]=D==R?1e9:1/(R-(D-1e-4));
B[l+2]=p==O?-1e9:1/(p-(O+1e-4));B[l+3]=O+1e-4}}var M=Q.add.iOpa!=null?Q.add.iOpa/255:S.fill,U=Q.add.vstk;
if(U&&!U.fillEnabled.v&&(!U.strokeEnabled.v||U.strokeStyleLineWidth.v.val==0))M=0;return{fill:M,Lf:y?B:null,med:Q.add.brst!=null?Q.add.brst:S.med,meo:Q.add.knko!=null?Q.add.knko:S.meo,style:!1,Lv:!1}};
Nq.gU=function(){return{fill:1,Lf:null,med:[1,1,1],meo:0,style:!1,Lv:!1}};Nq.tY=function(Q,S){if(S==null)return null;
var B=Q.Idnt.v,y=null;for(var l=0;l<S.length;l++)if(S[l].id==B)return S[l];return null};Nq.mFW=function(Q,S,B){var y=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var l=0;l<y.length;l++){var D=Q.v[y[l]].v;for(var R=0;R<D.length;R++)if(D[R].v.Ptrn)S.DL(Nq.tY(D[R].v.Ptrn.v,B))}};
Nq.mUt=function(Q,S,B){var y=["patternFillMulti","ebblMulti","frameFXMulti"];for(var l=0;l<y.length;
l++){var D=Q.v[y[l]].v;for(var R=0;R<D.length;R++)if(D[R].v.Ptrn){var p=D[R].v.Ptrn.v,O=Nq.tY(p,B),M=Nq.tY(p,S.add.Patt);
if(O==null&&M)B.push(M)}}};Nq.vY=function(Q,S,B,y,l){var D=Nq.tY(Q.Ptrn.v,y.add.Patt);if(D!=null&&!B.Kq()){var R=k.scale.vY(D.Ko,D.q.r,D.q.O),p=Q.Scl.v.val/100,O=-B.x+Q.phase.v.Hrzn.v-1,M=-B.y+Q.phase.v.Vrtc.v-1;
if(Q.Algn!=null&&!Q.Algn.v){}else{O+=l.x;M+=l.y}k.scale.mpy(R,S,B.r,B.O,p,p,O+1,M+1)}};Nq.gD=function(Q,S,B,y,l,D){if(D==null)D=B;
var R=Q.Type?Q.Type.v.GrdT:"shapeburst",p=Q.Algn&&Q.Algn.v?D:new w(0,0,y.r,y.O),O=Q.Angl?k.Kg.NT(Q,p):[new v(0,0),new v(100,0)],M=O[0].x,U=O[0].y,m=O[1].x-M,Y=O[1].y-U,x=Math.sqrt(m*m+Y*Y);
x=1/(2*x*x);var T=[m*x,Y*x,-Y*x,m*x];k.Kg.TC(Q.Grad.v,S,B,T,M,U,Q.Rvrs?Q.Rvrs.v:!1,rx.Kg.types.indexOf(R),0,0,l)};
Nq.mUx=function(Q,S){for(var B=0;B<Q.all.length;B++){var y=Q.all[B];y.ky=y.Cb.clone();y.ky.offset(S.x,S.y)}};
Nq.m_Q=function(Q,S,B,y,l,D){var R=W.Kf?Nq.mcC:Nq.mpE;Nq.mUx(S,B);var p=S.type.DrSh;for(var O=0;O<p.length;
O++)if(!p[O].mdx)R(p[O],y,l,D)};Nq.mUT=function(Q,S,B,y,l,D,R,p,O,M){var U=B,m=W.Kf?Nq.mcC:Nq.mpE,Y=W.Kf?W.X.fz:k.X.ia,x;
x=S.type.DrSh;for(var T=0;T<x.length;T++)if(x[T].mdx)m(x[T],y,l,D);x=S.type.OrGl;for(var T=0;T<x.length;
T++)m(x[T],y,l,D);var $="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var L=0;L<$.length;L++){var x=S.type[$[L]];
for(var T=0;T<x.length;T++)m(x[T],R,U,D)}var s=S.type.ebbl[0],j=s!=null&&s.mwF;x=S.type.FrFX;for(var T=0;
T<x.length;T++){var Z=x[T];mG.og.ht(p,M,O,M,D);m(Z,O,M,D);if(j&&T==x.length-1){if(s.JX)m(s.JX,O,M,D);
if(s.Jt)m(s.Jt,O,M,D);if(s.Js)m(s.Js,O,M,D);if(s.Jf)m(s.Jf,O,M,D)}if(Z.JL||Z.qS)Y(O,M,R,U,W.Kf?Z.qS:Z.JL,Z.ky,0,D,1);
if(Z.JV||Z.JQ)Y(O,M,y,l,W.Kf?Z.JQ:Z.JV,Z.ky,0,D,1)}if(!j&&s!=null){if(s.JX)m(s.JX,y,l,D);if(s.Jt)m(s.Jt,y,l,D);
if(s.Js)m(s.Js,R,U,D);if(s.Jf)m(s.Jf,R,U,D)}};Nq.mpE=function(Q,S,B,y){var l=Nq.gU();l.fill=Q.po;l.style=!0;
k.X.Rc(Q.KS,Q.Ko,Q.ky,S,B,y,1,l)};Nq.mcC=function(Q,S,B,y){var l=Nq.gU();l.fill=Q.po;l.style=!0;W.X.Az(Q.KS,Q.xT,Q.ky,S,B,y,1,l)};
Nq.mps=function(Q,S){var B=1-S.Inpr.v.val/100,y=1+Math.tan(B*(Math.PI/2)),l=Q.length;for(var D=0;D<l;
D++)Q[D]=Math.min(255,Math.round(Q[D]*y))};Nq.gj=function(Q,S,B){var y=S.blur.v.val,l=Math.round(y*(S.Ckmt.v.val/100));
if(y>l){var D=k.$T.LL(S.TrnS.v.Crv.v,256,!0);k.ve(Q,D)}if(B!=null&&S.Nose.v.val>0)k.style.mLI(Q,S.Nose.v.val/100,B)};
Nq.X_=function(Q,S,B){if(B==null)B=255;var y=k.Kg.RT(S),l=B<<24|y.R<<16|y.e<<8|y.t;k.St(Q,l)};Nq.Mj=function(Q,S,B,y){var l=S.uglg&&S.uglg.v?B.qQ():S.lagl.v.val;
l=l*Math.PI/180+y;var D=Math.cos(l)*S.Dstn.v.val,R=Math.sin(l)*S.Dstn.v.val;Q.x-=Math.round(D);Q.y+=Math.round(R)};
Nq.hV=function(Q){if(Q==null)return null;var S=Q.frameFXMulti.v;if(S.length==0)return null;S=S[0].v;
var B=JSON.parse(JSON.stringify(rx.xD.default));Nq.mQR(S,B);return B};Nq.mQR=function(Q,S){var B=rx.stroke.hN.indexOf(Q.PntT.v.FrFl),y=[rx.ti,rx.nj,rx.sG][B],l=S.strokeStyleContent.v={classID:rx.xD.Uc[B]};
for(var D=0;D<y.length;D++)l[y[D]]=Q[y[D]];S.strokeEnabled=Q.enab;S.strokeStyleLineWidth=Q.Sz;S.strokeStyleLineAlignment.v.strokeStyleLineAlignment=rx.xD.XQ[rx.stroke.types.indexOf(Q.Styl.v.FStl)];
S.strokeStyleOpacity=Q.Opct;S.strokeStyleBlendMode=Q.Md};Nq.hg=function(Q,S){var B=[];for(var y=0;y<Q.length;
y++)B.push({t:"UntF",v:{type:"#Nne",val:Math.round(Q[y]*S)}});return B};Nq.Mk=function(Q,S,B){this.xi=S.clone();
this.xi.Jq(1,1);this.mqo=S.clone();this.mqo.Jq(B,B);this.mJF=k.Q(this.xi.Z());k.ht(Q,S,this.mJF,this.xi);
this.Jj=null;this.Ji=null;this.JZ=null};Nq.Mk.prototype.dv=function(){return this.mJF};Nq.Mk.prototype.rect=function(){return this.xi};
Nq.Mk.prototype.Bu=function(){return this.mqo};Nq.Mk.prototype.vm=function(){if(this.Jj)return this.Jj;
this.Jj=k.clone(this.dv());k.SD(this.Jj);return this.Jj};Nq.Mk.prototype.Bg=function(){if(this.Ji)return this.Ji;
this.Ji=new Float64Array(this.rect().Z());k.style.LJ(this.vm(),this.Ji,this.rect().r,this.rect().O);
return this.Ji};Nq.Mk.prototype.h_=function(){if(this.JZ)return this.JZ;var Q=this.Bu(),S=k.Q(Q.Z());
k.ht(this.dv(),this.rect(),S,Q);this.JZ=new Float64Array(Q.Z());k.style.LJ(S,this.JZ,Q.r,Q.O);return this.JZ};
Nq.Mk.prototype.mnh=function(Q,S){var B={_V:-S,Gm:Q,JF:null,Lq:null};if(S==0){B.JF=this.rect();B.Lq=this.Bg();
return B}var y=this.h_().slice(0),l=this.Bu();B.JF=l;B.Lq=y;for(var D=0;D<y.length;D++)y[D]=-y[D];if(Q==0)return B;
var R=this.Bg(),p=this.rect();for(var O=0;O<p.O;O++)for(var M=0;M<p.r;M++){var U=O*p.r+M,m=(O+p.y-l.y)*l.r+M+p.x-l.x;
y[m]+=R[U]}return B};Nq.Mk.prototype.gT=function(Q,S,B){var y=Math.ceil(Q+S),l={q:this.rect().clone(),dv:null};
l.q.Jq(y,y);l.dv=k.Q(l.q.Z());if(Q==0&&S==0)k.MK(B?this.dv():this.vm(),l.dv);else{var D=k.Q(l.q.Z());
k.ht(this.dv(),this.rect(),D,l.q);if(!B)k.SD(D);if(Q!=0){if(B)k.style.QA(D,l.q,this.h_(),this.Bu(),Q);
else k.style.QA(D,l.q,this.Bg(),this.rect(),Q)}if(S!=0)k.blur.UQ(D,l.dv,l.q,Math.max(1,S*.43));else l.dv=D}return l};
Nq.Mk.prototype.mLC=function(Q,S,B){var y=Q*(S-.5),l={q:this.rect().clone(),dv:null};if(B)l.q.Jq(Q,Q);
l.dv=k.Q(l.q.Z());var D=l.q.r,R=l.q.O,p=B?this.h_():this.Bg(),O=B?this.Bu():this.rect(),M=l.q,U=M.nG(O),D=U.r,R=U.O,m=U.x-M.x,Y=U.y-M.y,x=U.x-O.x,T=U.y-O.y,$=1-S*2;
for(var L=0;L<R;L++)for(var s=0;s<D;s++){var j=p[(L+T)*O.r+s+x],Z=j/Q;l.dv[(L+Y)*M.r+s+m]=Math.max(0,Math.min(255,255-255*((Z+$)/(1+$))))}return l};
Nq.mhC=function(Q,S,B){var y=Q.Lefx,l=Q.blendOptions;if(y){var D=S.add.lmfx;if(B==null)B=D?D.Scl.v.val:100;
S.add.lmfx=JSON.parse(JSON.stringify(y.v));Nq.mzh(S.add.lmfx,B/S.add.lmfx.Scl.v.val);if(D)S.add.lmfx.Scl.v.val=D.Scl.v.val}else delete S.add.lmfx;
if(l){l=l.v;if(l.Md)S.wk=No.oQ(l.Md.v.BlnM);if(l.Opct)S.opacity=Math.round(l.Opct.v.val*255/100);if(l.fillOpacity)S.add.iOpa=Math.round(l.fillOpacity.v.val*255/100);
if(l.Blnd){var R=[];for(var p=0;p<10;p++)R.push(0,0,255,255);var O=l.Blnd.v,M="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var p=0;p<O.length;p++){var U=O[p].v,m=8*["Gry","Rd","Grn","Bl"].indexOf(U.Chnl.v[0].v.enum);for(var Y=0;
Y<8;Y++){R[m+Y]=U[M[Y]].v}}S.US=R}}};Nq.mgL=function(Q){var S="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),B=[],y=Q.US;
for(var l=0;l<4;l++){var D=l*8;if(y[D]+y[D+1]+y[D+4]+y[D+5]==0&&y[D+2]+y[D+3]+y[D+6]+y[D+7]==4*255)continue;
var R={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][l]}}]}}};
B.push(R);for(var p=0;p<8;p++)R.v[S[p]]={t:"long",v:y[l*8+p]}}var O={classID:"blendOptions"};if(Q.wk!="norm")O.Md={t:"enum",v:{BlnM:No.KN(Q.wk)}};
if(Q.opacity!=255)O.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(Q.opacity*100/255)}};if(Q.add.iOpa!=null)O.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(Q.add.iOpa*100/255)}};
if(B.length!=0)O.Blnd={t:"VlLs",v:B};var M={ox:{classID:"null",Idnt:{t:"TEXT",v:mV._H()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},rG:{classID:"Styl",blendOptions:{t:"Objc",v:O}}},U=Q.add.lmfx;
if(U)M.rG.Lefx={t:"Objc",v:U};return M};function p_(){}p_.Xy=function(Q){return JSON.parse(JSON.stringify(Q))};
p_.pe=function(Q){var S=p_.Xy(p_.mnl),B=S.Brsh.v;if(Q!=null){delete B.Hrdn;B.classID="sampledBrush";
B.Nm={t:"TEXT",v:"layer.png"},B.sampledData={t:"TEXT",v:Q}}return S};p_.mnl={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
p_.hO={};p_.hO.check=function(Q){var S=p_.hO.hw;for(var B=0;B<S.length;B++)if(Q[S[B]]==null)Q[S[B]]=JSON.parse(p_.hO.BF[S[B]]);
var y=[];for(var B=0;B<S.length;B++)y.push(S[B]);var l=p_.hO.mp_;for(var B=0;B<l.length;B++){var D=l[B][0],R=l[B][1],p=!0;
for(var O=0;O<D.length;O++)p=p&&Q[D[O]].v==!0;if(p)for(var O=0;O<R.length;O++){if(Q[R[O]]==null)console.log("Missing conditional parameter "+R[O]);
else y.push(R[O])}}for(var M in Q)if(y.indexOf(M)==-1)console.log("Extra parameter "+M);Q=Q.Brsh.v;S=p_.hO.bW.hw;
for(var B=0;B<S.length;B++)if(Q[S[B]]==null)Q[S[B]]=JSON.parse(p_.hO.bW.BF[S[B]]);y=[];for(var B=0;B<S.length;
B++)if(Q[S[B]])y.push(S[B]);else console.log("Missing default parameter "+S[B]);l=p_.hO.bW.mno[Q.classID];
for(var B=0;B<l.length;B++)if(Q[l[B]]==null&&l[B]!="dtipsGridSize"&&l[B]!="dtipsErodibleTipHeightMap"&&Q.mJx!=1)console.log("Missing conditional parameter "+l[B]);
else y.push(l[B]);for(var M in Q)if(y.indexOf(M)==-1)console.log("Extra parameter "+M)};p_.hO.hv=function(Q){var S=p_.hO.mp_;
for(var B=0;B<S.length;B++){var y=S[B][0],l=S[B][1],D=!0;for(var R=0;R<y.length;R++)D=D&&Q[y[R]]&&Q[y[R]].v==!0;
if(D){for(var R=0;R<l.length;R++)if(Q[l[R]]==null){Q[l[R]]=JSON.parse(p_.hO.BF[l[R]])}}else for(var R=0;
R<l.length;R++)if(Q[l[R]]!=null){delete Q[l[R]]}}};p_.hO.bW={};p_.hO.bW.hw="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
p_.hO.bW.BF={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};p_.hO.bW.mno={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
p_.hO.mp_=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
p_.hO.hw="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
p_.hO.BF={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function Lp(Q){this.JH=Q;this.dir=0}Lp.prototype.B_=function(Q,S){if(this.dir==0&&!this.JH.UH(Q))this.dir=Math.abs(this.JH.x-Q.x)<Math.abs(this.JH.y-Q.y)?1:2;
var B=Q;if(S.N(A.CP)){if(this.dir==1)B=new v(this.JH.x,Q.y);if(this.dir==2)B=new v(Q.x,this.JH.y)}return B};
function Nl(Q,S,B,y,l,D,R,p){this.gZ=S;this.JR=B;this.hB=D;this.oG=y;if(y.ZL==null)y.ZL=[!1,!0];this.kI=null;
this.oL=null;this.xk=0;this.mVv=0;this.mhp=0;this.xZ=0;this.iF=0;this.mJS=R;this.iQ=new w;this.xK=new w;
this.rect=new w;if(p!=null){this.Ko=p}else{var O=Nl.mLn;if(O.length!=R.Z()*4)O=k.Q(R.Z()*4);else O.fill(0);
this.Ko=Nl.mLn=O}this.rect=R.clone();this.JA=[];this.Pp=[];this.tR=null;this.Tq=0;this.R=null;this.JY="";
this.HG=null;this.mFm(Q,l)}Nl.mLn=k.Q(16);Nl.prototype.mFm=function(Q,S){this.Tq=S;this.R=Q;this.JY=JSON.stringify(Q)+JSON.stringify(this.oG.EE);
this.HG=Nl.mza(Q,this.gZ,this.JR)};Nl.prototype.moveTo=function(Q,S,B){B=this.mRC(B);this.xk=B;var y=new v(Q,S),l=this.R.Brsh.v.Dmtr.v.val;
this.kI=y.clone();this.oL=y.clone();this.tR=y.clone();this.JA=[Q,S];this.Pp=[B];var D=this.oG.ZL;if(this.oG.Ew!=Nl.sa)this.hU(this.mep(y,this.mVs()*(D[1]?B:1),this.oG.Md*(D[0]?B*.5:1),new v(0,0)));
this.xZ=y.clone()};Nl.prototype.lineTo=function(Q,S,B){B=this.mRC(B);var y=this.JA,l=y.length,D=y[l-2],R=y[l-1];
if(Q==D&&S==R)return;var p=this.R.Brsh.v.Dmtr.v.val,O=Math.ceil(p)+1,M=new w(Math.round(D),Math.round(R),0,0);
M.Jq(O,O);var U=new w(Math.round(Q),Math.round(S),0,0);U.Jq(O,O);this.mhE(M.wM(U));this.JA.push(Q,S);
this.Pp.push(B);l+=2;if(l>=6)this.hU(this.mCW(l))};Nl.prototype.mRC=function(Q){if(Q==null)Q=1;Q=Math.max(.05,Math.min(5,Q));
if(isNaN(Q)){alert("Pressure is not a number");throw"e"}return Q};Nl.prototype.hU=function(Q){this.iQ=Q;
this.xK=this.xK.wM(Q)};Nl.prototype.finish=function(){var Q=this.JA,S=Q.length,B;if(S==4)B=this.mpJ(Q[S-2],Q[S-1],this.Pp[(S>>1)-1],!0);
if(S>4)B=this.mCW(S+2);if(B)this.hU(B)};Nl.prototype.mCW=function(Q){var S=this.JA,B=this.Pp,y=S[Q-6],l=S[Q-5],D=S[Q-4],R=S[Q-3],p=B[(Q>>1)-3],O=B[(Q>>1)-2],M=new v(0,0),U=new v(0,0);
if(8<=Q)M=Nl.mmY(S[Q-8],S[Q-7],y,l,D,R);if(Q<=S.length)U=Nl.mmY(S[Q-2],S[Q-1],D,R,y,l);var m=y+M.x,Y=l+M.y,x=D+U.x,T=R+U.y,$=new w;
for(var L=0;L<10;L++){var s=(L+1)*.1,j=1-s,Z=j*j*j*y+3*s*j*j*m+3*s*s*j*x+s*s*s*D,e=j*j*j*l+3*s*j*j*Y+3*s*s*j*T+s*s*s*R,J=this.mpJ(Z,e,p+s*(O-p));
$=$.wM(J)}return $};Nl.mmY=function(Q,S,B,y,l,D){var R=Q-B,p=S-y,O=l-B,M=D-y,U=Math.sqrt(R*R+p*p),m=Math.sqrt(O*O+M*M),Y=Math.acos((R*O+p*M)/(U*m))/Math.PI,x=.35,T=.1;
Y=T+Y*(x-T);var $=l-Q,L=D-S,s=Math.sqrt($*$+L*L),j=Y*m/s;return new v($*j,L*j)};Nl.prototype.mpJ=function(Q,S,B,y){var l=new w,D=this.oG.mWi;
if(D==null)D=0;if(D==0||y){l=this.mRS(Q,S,B);return l}var R=this.tR,p=Q-R.x,O=S-R.y,M=Math.sqrt(p*p+O*O);
p/=M;O/=M;if(M>D){var U=R.x+p*(M-D),m=R.y+O*(M-D);l=this.mRS(U,m,B);this.tR.yZ(U,m)}return l};Nl.prototype.mRS=function(Q,S,B){var y=new w,l=new v(Q,S),D=this.R.Brsh.v.Dmtr.v.val,R=this.oG.Ew,p=l.la(this.oL);
p.normalize(1);var O=v.Ui(this.oL,l),M=-this.mVv,U=this.oL.clone(),m=this.oG.ZL;while(!0){var Y=this.xk+(B-this.xk)*(Math.max(0,M)/O),x=this.mVs()*(m[1]?Y:1),T=this.mEC()*(x+this.mhp)/2;
if(R==Nl.sa)T=1;if(M+T<O){M+=T;var $=new v(this.oL.x+p.x*M,this.oL.y+p.y*M),j=1;if(R==Nl.sa){var L=U.clone();
L.x+=p.x>0?1:-1;var s=U.clone();s.y+=p.y>0?1:-1;if(v.Ui(L,$)<v.Ui(s,$))$=L;else $=s;M=v.Ui($,this.oL)}if(this.R.useScatter.v==!0){j=this.R.Cnt.v;
var Z=this.R.countDynamics.v.jitter.v.val/100,e=Z*(-1+2*this.Wq());j+=Math.round(j*e)}for(var J=0;J<j;
J++){var N=this.mep($,x,this.oG.Md*(m[0]?Y*.5:1),p);y=y.wM(N)}U=$}else break}this.mVv=O-M;this.oL=l;
this.xk=B;return y};Nl.prototype.mEC=function(){var Q=this.R.Brsh.v,S=Q.Spcn.v.val,B=Math.max(5,Q.Rndn.v.val);
return B/100*(S/100)};Nl.prototype.mVs=function(){var Q=this.R,S=Q.Brsh.v.Dmtr.v.val;if(Q.useTipDynamics.v){var B=S*(Q.minimumDiameter.v.val/100);
S=B+(S-B)*(1-this.Wq()*(Q.szVr.v.jitter.v.val/100))}return S};Nl.prototype.mep=function(Q,S,B,y){B=Math.min(1,B);
var l=this.R,D=this.R.Brsh.v,R=D.Dmtr.v.val,p=this.oG,O=p.Ew,M=p.mVr,U=new Nu;U.translate(-this.HG.Pe.r/2,-this.HG.Pe.O/2);
U.scale(1/this.HG.mCt,1/this.HG.mCt);U.scale(S/R,S/R);U.scale(1,Math.max(5,D.Rndn.v.val)/100);if(l.useTipDynamics.v){var m=l.minimumRoundness.v.val/100;
U.scale(1,m+(1-m)*Math.round(100-this.Wq()*l.roundnessDynamics.v.jitter.v.val)/100);U.rotate((-.5+this.Wq())*4*Math.PI*(l.angleDynamics.v.jitter.v.val/100))}U.rotate(D.Angl.v.val*(Math.PI/180));
if(l.useScatter.v){var Y=(-1+2*this.Wq())*l.scatterDynamics.v.jitter.v.val/100;U.translate(-Y*S*y.y,Y*S*y.x)}U.translate(Q.x,Q.y);
var x=this.mE_(U,Q);this.mhE(x.rect);var T=x.rect.clone();if(O==null){var $=this.RT(l);k.St(x.Ag,Math.round($.R*255)<<16|Math.round($.e*255)<<8|Math.round($.t*255)<<0,4278190080);
if(this.xK.Kq()&&this.rect.UH(x.rect)&&B==1)this.Ko=x.Ag.slice(0);else k.X.mqE(x.Ag,x.rect,this.Ko,this.rect,x.rect,B)}if(O==Nl.sa){var L=new v(x.rect.x+x.rect.r/2,x.rect.y+x.rect.O/2),s=Math.round(L.x-this.xZ.x),j=Math.round(L.y-this.xZ.y),Z=x.rect.clone();
Z.offset(-s,-j);var e=Z.nG(this.rect);e.offset(s,j);k.oD(this.Ko,this.rect,x.Ag,Z);k.X.Pr(x.Ag,x.rect,this.Ko,this.rect,x.$A,x.rect,B)}if(O==Nl.xB||O==Nl.xP||O==Nl.BG){var J=x.rect.nG(this.rect),N;
if(J.UH(x.rect))N=x.$A;else{N=k.Q(J.Z());k.ht(x.$A,x.rect,N,J)}var E=k.Q(J.Z()*4);k.oD(this.Ko,this.rect,E,J);
if(O==Nl.xP){var h=k.clone(E),o=k.ns.Qs([-1,-1,-1,-1,25,-1,-1,-1,-1]);k.ns.Uq(E,h,J.r,J.O,o,0);k.MK(h,E)}else if(O==Nl.BG){var V=m_.yh("UnsM");
V.Amnt.v.val=15;V.Thsh.v=0;V.Rds.v.val=5;var h=k.Q(E.length);m_.sp("UnsM",{buffer:E,rect:J},V,0,0,{buffer:h,rect:J});
k.MK(h,E)}else{m_.DN(1,k.blur.Pd,E,J)}k.X.Pr(E,J,this.Ko,this.rect,N,J,B)}this.mhp=S;this.xZ=L;return T};
Nl.prototype.RT=function(Q){var S=Nl.mpo(this.Tq);if(Q.useColorDynamics&&Q.useColorDynamics.v){var B=1-this.Wq()*Q.clVr.v.jitter.v.val/100,y=Nl.mpo(this.hB);
S.t=B*S.t+(1-B)*y.t;S.e=B*S.e+(1-B)*y.e;S.R=B*S.R+(1-B)*y.R;var l=(-.5+this.Wq())*Q.H.v.val/100,D=(-1+2*this.Wq())*Q.Strt.v.val/100,R=(-1+2*this.Wq())*Q.Brgh.v.val/100,p=k.pU(S.t,S.e,S.R);
p.Kj=(p.Kj+l+1)%1;p.YZ=p.YZ+D;if(p.YZ<0)p.YZ=-p.YZ;if(p.YZ>1)p.YZ=1-(p.YZ-1);p.Kh=p.Kh+R;if(p.Kh<0)p.Kh=-p.Kh;
if(p.Kh>1)p.Kh=1-(p.Kh-1);S=k.OS(p.Kj,p.YZ,p.Kh)}return S};Nl.prototype.hO=function(Q){return Math.max(0,Math.min(1,Q))};
Nl.prototype.Wq=function(){this.iF++;return Nl.hash(this.iF)};Nl.mpo=function(Q){return{t:(Q>>16&255)/255,e:(Q>>8&255)/255,R:(Q>>0&255)/255}};
Nl.hash=function(Q){Q=Q^61^Q>>16;Q=Q+(Q<<3);Q=Q^Q>>4;Q=Q*668265261;Q=Q^Q>>15;return(Q&16777215)/16777215};
Nl.Ki=[];Nl.prototype.mE_=function(Q,S){var B=null,R;for(var y=0;y<Nl.Ki.length;y++)if(Nl.Ki[y].JY==this.JY){B=Nl.Ki[y];
Nl.Ki.splice(y,1)}if(B==null)B={Ng:[],JY:this.JY,lm:0};var l=B.Ng,D=this.oG.EE;if(D){Q=Q.clone();Q.Ni=Math.floor(Q.Ni);
Q.pg=Math.floor(Q.pg)}var p=Nl.mme(Q.Ni,Q.pg);for(var y=0;y<l.length;y++){var O=l[y];if(!(O.hI.n==Q.n&&O.hI.R==Q.R&&O.hI.ce==Q.ce&&O.hI.en==Q.en))continue;
if(Nl.mz_(O.hD,p)<.2||O.rect.Z()>1e4){R=O;break}}var M=Math.round(this.R.Brsh.v.Dmtr.v.val);if(R){R.rect.x=Math.round(R.rs.x-R.hI.Ni+Q.Ni);
R.rect.y=Math.round(R.rs.y-R.hI.pg+Q.pg);if(D){R.rect.x=Math.round(S.x-M/2);R.rect.y=Math.round(S.y-M/2)}}else{var U;
if(D&&M<=3){U={buffer:k.Q(M*M*4),rect:new w(Math.round(S.x-M/2),Math.round(S.y-M/2),M,M)};k.St(U.buffer,4278190080)}else if(Q.n==1&&Q.R==0&&Q.ce==0&&Q.en==1){U={buffer:this.HG.Ag,rect:this.HG.Pe.clone()};
U.rect.x=Math.round(Q.Ni);U.rect.y=Math.round(Q.pg)}else U=K.Sj.Hg([this.HG.Ag,this.HG.Pe],Q);if(D){for(var y=0;
y<U.buffer.length;y++)U.buffer[y]=U.buffer[y]>127?255:0}if(U==null)U={buffer:k.Q(0),rect:new w};var m=Q.Ni-Math.floor(Q.Ni),Y=Q.pg-Math.floor(Q.pg);
R={Ag:U.buffer,$A:k.Q(U.rect.Z()),rect:U.rect,rs:U.rect.clone(),hI:Q,hD:Nl.mme(Q.Ni,Q.pg)};k.MA(R.Ag,R.$A,3);
l.push(R);if(l.length>200)l=l.slice(100)}B.Ng=l;B.lm=Date.now();Nl.Ki.push(B);Nl.Ki.sort(function(x,T){return T.lm-x.lm});
while(Nl.Ki.length>3)Nl.Ki.pop();return R};Nl.mme=function(Q,S){return new v(Q-Math.floor(Q),S-Math.floor(S))};
Nl.mz_=function(Q,S){var B=S.x,y=S.y,l=Math.abs(B-Q.x),D=Math.abs(y-Q.y);if(Math.abs(B-1-Q.x)<l)B--;
else if(Math.abs(B+1-Q.x)<l)B++;if(Math.abs(y-1-Q.y)<D)y--;else if(Math.abs(y+1-Q.y)<D)y++;l=Q.x-B;D=Q.y-y;
return Math.sqrt(l*l+D*D)};Nl.prototype.mhE=function(Q){};Nl.mza=function(Q,S,B){var y,l,D,R=Q.Brsh.v.Dmtr.v.val;
if(Q.Brsh.v.classID=="computedBrush"){var p=Q.Brsh.v.Hrdn.v.val/100,O=1+.55*(1-p);D=R<100?1.2:1;var M=Math.round(D*R*O);
l=new w(0,0,M,M);y=k.Q(M*M*4);var U=new Uint32Array(y.buffer),m=M/2,Y=O/m,x=Date.now(),T=Nl.$i(p),$=Math.round(8e3/m),S=T[0],L=T[1]-$,s=T[2]+$,j=Math.min(M,(M>>>1)+1);
for(var Z=0;Z<j;Z++){var e=Y*(Z-m+.25);e*=e;var J=Y*(Z-m+.75);J*=J;var N=Z*M,E=(M-1-Z)*M;for(var h=0;
h<j;h++){var o=Y*(h-m+.25),V=Math.floor(Math.sqrt(o*o+e)*(4e3/1.55));if(s<V)continue;else if(V<L){var n=4278190080;
while(h<j){var t=M-1-h;U[N+h]=n;U[N+t]=n;U[E+h]=n;U[E+t]=n;h++}break}else{var q=Y*(h-m+.75),u=Math.floor(Math.sqrt(q*q+e)*(4e3/1.55)),g=Math.floor(Math.sqrt(o*o+J)*(4e3/1.55)),r=Math.floor(Math.sqrt(q*q+J)*(4e3/1.55)),n=~~(.5+255*.25*(S[V]+S[u]+S[g]+S[r]))<<24,t=M-1-h;
U[N+h]=n;U[N+t]=n;U[E+h]=n;U[E+t]=n}}}}if(Q.Brsh.v.classID=="sampledBrush"){var f;for(var Z=0;Z<S.length;
Z++)if(S[Z].id==Q.Brsh.v.sampledData.v)f=S[Z];l=new w(0,0,f.q.r,f.q.O);D=Math.max(l.r,l.O)/R;y=k.Q(l.Z()*4);
k.KF(f.channel,y,3)}while(Math.min(l.r,l.O)>R*2){var I=new w(l.x,l.y,Math.floor(l.r/2),Math.floor(l.O/2)),d=K.Sj.Hg([y,l],new Nu(I.r/l.r,0,0,I.O/l.O,0,0));
D*=I.r/l.r;l=d.rect;y=d.buffer}return{mCt:D,Pe:l,Ag:y}};Nl.hX=[];Nl.$i=function(Q){if(Nl.hX[Q])return Nl.hX[Q];
var S=Math.pow(Q,.55),B=new Float64Array(8e3),y=0,l=8e3;for(var D=0;D<8e3;D++){var R=Nl.mzs(D*(1.55/4e3),S);
if(R>=1)y=D;else if(R<=0&&l==8e3)l=D;B[D]=R}var p=[B,y,l];Nl.hX[Q]=p;return p};Nl.mzs=function(Q,S){var B=Q<S?1:Nl.mmr((Q-S)/Math.pow(1.001-S,.86));
return B};Nl.mmr=function(Q){var S=Q*.85;return Math.exp(-(S*S)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
Nl.prototype.jH=function(){return this.rect.clone()};Nl.prototype.hK=function(){return this.iQ.nG(this.rect)};
Nl.prototype.WN=function(){return this.xK.nG(this.rect)};Nl.prototype.Du=function(){return this.Ko};
Nl.xs=function(Q,S,B,y,l,D){var R=P.P("canvas",""),p=R.getContext("2d");R.width=D!=null?D:y;R.height=l;
p.fillStyle="#ffffff";p.fillStyle="#000000";p.font=Math.floor(10*P._())+"px sans-serif";var O=""+Q.Brsh.v.Dmtr.v.val,M=p.measureText(O);
p.fillText(O,(y-M.width)/2,l-2);var U=y,m=l-10*P._(),Y=Math.min(U,m),x=Q.Brsh.v.Dmtr.v.val,T=Q.Brsh.v.classID;
if(T=="computedBrush"){p.translate(U/2,m/2);p.rotate(-Q.Brsh.v.Angl.v.val*Math.PI/180);p.scale(1,.1+.9*Q.Brsh.v.Rndn.v.val/100);
var $=Math.min(.95*Y/2,O/2)+.5,L=.9*Q.Brsh.v.Hrdn.v.val/100,s=p.createRadialGradient(0,0,0,0,0,$);s.addColorStop(L,"rgba(0,0,0,1)");
s.addColorStop((.5+L)/1.5,"rgba(0,0,0,.5)");s.addColorStop(1,"rgba(0,0,0,0)");p.fillStyle=s;p.fillRect(-$,-$,2*$,2*$)}else if(T=="sampledBrush"){var j;
for(var Z=0;Z<S.length;Z++)if(S[Z].id==Q.Brsh.v.sampledData.v)j=S[Z];var e=P.P("canvas",""),J=e.getContext("2d");
e.width=j.q.r;e.height=j.q.O;var N=J.getImageData(0,0,e.width,e.height),E=new k.rp(e.width*e.height);
E.n=j.channel;k.Cc(E,N.data);J.putImageData(N,0,0);Y=Math.min(Y,Q.Brsh.v.Dmtr.v.val);var h=Math.max(e.width,e.height),o=.85*e.width*Y/h,V=.85*e.height*Y/h;
p.drawImage(e,(U-o)/2,(m-V)/2,o,V)}else{}return R.toDataURL()};Nl.CN=function(Q,S,B,y){if(B==0)B=1;var l=Q.Brsh.v,D=l.Dmtr.v.val,R=l.Dmtr.v.val=Math.min(y!=null?Math.round(y*2.6):3e3,D*B),p=l.Hrdn?l.Hrdn.v.val/100:1,O=y!=null?y:Math.round(R*(1+.55*(1-p)))+4,m;
O=Math.max(15,Math.min(O,3e3));var M=new w(0,0,O,O),U=new Nl(Q,S,null,{Md:1},16711680,0,M);l.Dmtr.v.val=D;
U.moveTo(M.r/2,M.O/2);var Y=U.Du(),x=U.jH();if(M.UH(x))m=Y;else{m=k.Q(M.Z()*4);k.oD(Y,x,m,M)}return[m,M,R]};
Nl.CL=function(Q,S,B){var y=Nl.CN(Q,S,B),l=y[0],D=y[1],R=y[2],p=D.Z(),O=k.Q(p);k.MA(l,O,3);var M=k.Q(p);
k.m.mrL(O,M,D);if(R<3||k.aZ(M,0)){var U=D.r,m=U>>>1,Y=M,x=255;for(var T=0;T<4;T++){Y[U*(m-6+T)+m]=x;
Y[U*m+m-6+T]=x;Y[U*m+m+6-T]=x;Y[U*(m+6-T)+m]=x}}var $=[1,2,1,2,8,2,1,2,1];$=k.ns.Qs($);k.ns.m_k(M,O,D.r,D.O,$);
k.St(l,4294967295);k.KF(O,l,3);for(var T=0;T<p;T++)if(M[T]==255){l[T<<2]=l[(T<<2)+1]=l[(T<<2)+2]=0;l[(T<<2)+3]=255}return{Pb:l,q:D,lC:new v(D.r/2,D.O/2)}};
Nl.sa="0";Nl.xB="1";Nl.xP="2";Nl.BG="3";var Ru={};Ru.pJ=function(Q,S){var B=Q.CC(),O;if(B.x==Infinity||B.Kq())return{Ko:k.Q(0),q:new w,_Q:new w};
var y=Q.CC(),l=Ru.Bw(Q,S),D=k.i.vE(l.M);if(D.Kq())return{Ko:k.Q(0),q:new w,_Q:new w};var R=P.P("canvas","");
R.width=D.r;R.height=D.O;var p=R.getContext("2d");p.translate(-D.x,-D.y);Ru.mmq(l,p);if(Q.EQ.length!=0){var M=p.getImageData(0,0,D.r,D.O);
O=new Uint8Array(M.data.buffer)}else O=k.Q(D.Z()*4);return{Ko:O,q:D,_Q:y}};Ru.Bw=function(Q,S){var B={F:[],M:[]};
Ru.mmF(Q,B);if(!k.cF.hW(S.IT)){var y=k.i.vQ(B.M);B=k.i.Tn(B);B=k.i.Tl(B,Math.min(y.r,y.O)/8);var l=rA.jH(S,Q),D=k.cF._i(S.IT,l);
k.Tx.apply(D,B.M,l)}var R=S.V;k.i.V(B.M,R,B.M);return B};Ru.mmq=function(Q,S){Typr.U.pathToContext({crds:Q.M,cmds:Q.F},S)};
Ru.mCm=!1;Ru.ph=function(Q,S){if(mn.muD==null){if(!Ru.mCm){mn.mpQ();Ru.mCm=!0}return!1}var B=Q.Nd,y=B.ResourceDict.FontSet,l=B.ResourceDict.StyleSheetSet[0].StyleSheetData,D=B.EngineDict.StyleRun.RunLengthArray,R=B.EngineDict.StyleRun.RunArray,p=rA.qx(B),O={},M=0;
for(var U=0;U<R.length;U++){var m=R[U].StyleSheet.StyleSheetData.Font;if(m==null)m=l.Font;for(var Y=0;
Y<D[U];Y++){var x=p.charCodeAt(M+Y),T=m+","+(x>128?x:-1);if(O[T]==null){O[T]=1;if(S.aq(y[m].Name,x)==null)return!1}}M+=D[U]}return!0};
Ru.mmF=function(Q,S){var B=new Nu;for(var y=0;y<Q.Kb.length;y++)Ru.mma(Q.EQ,Q.Kb[y],S,B)};Ru.mma=function(Q,S,B,y){y.translate(S.hD.x,S.hD.y);
for(var l=0;l<S.$R.length;l++){var D={},R=S.$R[l];if(!R.VN)break;y.translate(R.hD.x,R.hD.y);for(var p=R.start;
p<R.end;p++)Ru.mmw(Q,S.fF[p],S,D,B,y);y.translate(-R.hD.x,-R.hD.y)}y.translate(-S.hD.x,-S.hD.y)};Ru.mmv="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
Ru.mmw=function(Q,S,B,y,l,D){D.translate(S.hD.x,S.hD.y);for(var R=S.nI;R<=S.Av;R++){var p=B.Nu[R],O=p.q.r,M=Q[B.mgp+p.NZ];
if(M.qT=="\n")continue;var U=M._K.FontSize/M.QS.head.unitsPerEm,m=rA.RT(M._K),Y=(Math.round(m.t)<<16)+(Math.round(m.e)<<8)+Math.round(m.R);
l.F.push("#"+k.eb(Y));var x=D.clone();x.translate(p.hD.x+p.BZ*U,p.hD.y-p.Bb*U);var T=new Nu;T.scale(U,-U);
if(M.iZ==1&&Ru.mmv.indexOf(M.qT)!=-1)T.concat(new Nu(-1,0,0,1,O,0));if(M._K.FauxItalic)T.concat(new Nu(1,0,-Math.tan(.18),1,0,0));
T.translate(0,M.lN);T.scale(M.scale.x,M.scale.y);if(M._K.BaselineShift!=null)T.translate(0,-M._K.BaselineShift);
if(p.xI!=0){T.rotate(-p.xI)}T.concat(x);if(p.path.F.length!=0&&M.qT!="\t"){if(M._K.FauxBold){var $=M._K.FontSize/2048*27*M.scale.x;
T.Ni+=$;k.i.concat(l,p.path,T);T.Ni-=$+$;k.i.concat(l,p.path,T)}else k.i.concat(l,p.path,T)}if(M.qT!="\n"){if(M._K.Underline){if(y.lR==null)y.lR=M.QS.post.underlineThickness;
if(y.mgP==null)y.mgP=M.QS.post.underlinePosition;var L=0,s=y.mgP-y.lR/2,j=p.Pz*1.05,Z=-y.lR;k.i.concat(l,{F:["M","L","L","L","Z"],M:[L,s,L+j,s,L+j,s+Z,L,s+Z]},T)}if(M._K.Strikethrough){var e=M.QS["OS/2"].yStrikeoutSize,J=M.QS["OS/2"].yStrikeoutPosition,L=0,s=J+e/2,j=p.Pz*1.05,Z=-e;
k.i.concat(l,{F:["M","L","L","L","Z"],M:[L,s,L+j,s,L+j,s+Z,L,s+Z]},T)}}l.F.push("X")}D.translate(-S.hD.x,-S.hD.y)};
function mn(Q,S){var B=rA.Ry(Q),y,l,D=rA.Dy(Q),O;if(Q.Curve)l=mn.BU(Q.Curve);if(B!=0){y=new w(D[0],D[1],D[2],D[3]);
if(B==2){y.r=l[5]-l[4];y.O=9999}}this.Kb=[];this.EQ=[];this.ok=B;var R=rA.qx(Q),p=-1;for(var M=0;M<R.length;
M++){var U=O,m=rA.mzK(Q,M),Z=0;if(m!=p){p=m;U=O=rA.mpS(Q,M)}var Y={qT:R.charAt(M),_K:U,QS:null,PV:-1,lN:0,scale:new v(0,0),Aj:0,lineHeight:0,iZ:0},x=Q.ResourceDict.FontSet[U.Font].Name,T=Y.QS=S.aq(x,R.charCodeAt(M));
Y.scale.x=U.HorizontalScale==null?1:U.HorizontalScale;Y.scale.y=U.VerticalScale==null?1:U.VerticalScale;
var $=T["OS/2"],L=T.hhea;if(U.FontCaps==1&&Y.qT!=Y.qT.toUpperCase()){var s=$.sxHeight?$.sxHeight/$.sTypoAscender:.76;
Y.scale.x*=s;Y.scale.y*=s}var j=1/T.head.unitsPerEm*U.FontSize;if(U.FontBaseline==1){var s=Q.ResourceDict.SuperscriptSize;
Y.scale.x*=s;Y.scale.y*=s;Y.lN-=Q.ResourceDict.SuperscriptPosition*U.FontSize}if(U.FontBaseline==2){var s=Q.ResourceDict.SubscriptSize;
Y.scale.x*=s;Y.scale.y*=s;Y.lN+=Q.ResourceDict.SubscriptPosition*U.FontSize}if(Z==0&&$&&$.sxHeight&&x.toLowerCase().indexOf("capitals")!=-1)Z=$.sxHeight;
if(Z==0&&$&&$.sCapHeight)Z=$.sCapHeight;if(Z==0&&$&&$.sTypoAscender)Z=$.sTypoAscender;if(Z==0)Z=L.ascender;
Y.Aj=Z*j;Y.lineHeight=U.FontSize*1.2;if(U.AutoLeading==!1)Y.lineHeight=U.Leading;this.EQ.push(Y)}var e=this.Kb,J=[0];
for(var M=0;M<Q.EngineDict.ParagraphRun.RunLengthArray.length;M++){var N=new mn.C_(Q,S,this.EQ,M,y,J,B==1?l:null);
e.push(N)}if(B==2){var E=Q.Curve.Points,h=l[0],o=l[1],V=l[2],n=l[3],t=l[4],q=l[5];for(var M=0;M<e.length;
M++)for(var u=0;u<e[M].$R.length;u++)if(!(M==0&&u==0))e[M].$R[u].VN=!1;var N=e[0],g=N.$R[0];N.hD.yZ(0,0);
g.hD.yZ(0,0);for(var u=g.start;u<g.end;u++){var r=N.fF[u],f=r.hD.x;r.hD.x=0;for(var I=r.nI;I<=r.Av;I++){var d=N.Nu[I],a=d.q.r/2;
d.hD.x+=f;var c=mn.mms(h,(t+d.hD.x+a)%n);d.hD.x=c[0]-a*c[2];d.hD.y=c[1]-a*c[3];d.xI=Math.atan2(c[3],c[2])}}}}mn.prototype.mmU=function(){return!this.mWn(0)};
mn.prototype.mmn=function(){return this.mWn(1)};mn.prototype.mWn=function(Q){var S=this.Kb,B=!0,y=0;
for(var l=0;l<S.length;l++){var D=S[l].$R,R=D.length;y+=R;for(var p=0;p<R;p++)B&=D[p].VN}return[B,y][Q]};
mn.BU=function(Q){var S=Q.Points,B=S.length,y=B>>>3,l=Q.TextOnPathTRange,D=Q.Reversed,m=0,Y=0;if(D){var R=S.slice(0);
for(var p=0;p<B;p+=2){R[p]=S[B-2-p];R[p+1]=S[B-1-p]}S=R;l=[y-l[1]%y,y-l[0]%y]}var O=[],M=[0],U=[0];for(var p=0;
p<B;p+=8){var x=S[p+6]-S[p+0],T=S[p+7]-S[p+1],$=Math.round(2*Math.sqrt(x*x+T*T));for(var L=0;L<$;L++){var s=L/$,j=1-s,Z=j*j*j*S[p+0]+3*j*j*s*S[p+2]+3*j*s*s*S[p+4]+s*s*s*S[p+6],e=j*j*j*S[p+1]+3*j*j*s*S[p+3]+3*j*s*s*S[p+5]+s*s*s*S[p+7];
O.push(Z,e);if(p+L!=0){var x=Z-m,T=e-Y;U.push(U[U.length-1]+Math.sqrt(x*x+T*T));M.push((p>>>3)+s)}m=Z;
Y=e}}var J=U[U.length-1],N=mn.mcX(l[0],M),E=mn.mcX(l[1]%y,M),h=U[N],o=U[E];if(h>=o)o+=J;return[O,M,U,J,h,o]};
mn.mcX=function(Q,S){var B=0;while(S[B]<Q)B++;return B};mn.mms=function(Q,S){var B=0,y=0,l,D,R;while(B<S){l=Q[y+2]-Q[y];
D=Q[y+3]-Q[y+1];R=Math.sqrt(l*l+D*D);B+=R;y+=2}return[Q[y],Q[y+1],l/R,D/R]};mn.prototype.mMd=function(Q){return this.EQ[Q]};
mn.prototype.mMu=function(Q){for(var S=0;S<this.Kb.length;S++){var B=this.Kb[S];for(var y=0;y<B.$R.length;
y++){var l=B.$R[y],D=B.fF[l.start].start,R=B.fF[l.end-1].end;if(D<Q&&Q<R)return[D,R-1]}}return[0,1]};
mn.prototype.mdc=function(Q,S){var B=-1,y=this.Kb;if(this.ok==2){var l=1e9,D=0,R=y[0],p=R.$R[0];for(var O=p.start;
O<p.end;O++){var M=R.fF[O];for(var U=M.nI;U<=M.Av;U++){var m=R.Nu[U],Y=m.q.r,x=Q.x-m.hD.x,T=Q.y-m.hD.y,$=x*x+T*T;
if($<l){l=$;D=m.NZ}}}return D}for(var L=0;L<y.length;L++){var R=y[L];for(var s=0;s<R.$R.length;s++){B++;
var p=R.$R[s],j=R.$R[s+1];if(j==null&&L<y.length-1)j=y[L+1].$R[0];if(S!=null){if(B!=S)continue}else{if(j!=null&&R.hD.y+p.hD.y<Q.y)continue}for(var O=p.start;
O<p.end;O++){var M=R.fF[O];for(var U=M.nI;U<=M.Av;U++){var m=R.Nu[U],Y=m.q.r,Z=R.hD.x+p.hD.x+M.hD.x,e=Z+m.hD.x,J=Z+(U<M.Av?R.Nu[U+1].hD.x:m.hD.x+Y);
if(Q.x<=J||O+1==p.end&&U==M.Av){var N=R.mgp+m.NZ,E=this.EQ[N],h=E.iZ&1;if(E.qT!="\n"&&(h==0&&Q.x>e+Y/2||h==1&&Q.x<e+Y/2))N++;
return N}}}}}};mn.prototype.Bi=function(Q){var S={q:new w,ZI:0},B=0;for(var y=0;y<this.Kb.length;y++){var l=this.Kb[y];
for(var D=0;D<l.$R.length;D++){var R=l.$R[D];S.ZI=B;B++;for(var p=R.start;p<R.end;p++){var O=l.fF[p];
for(var M=O.start;M<O.end;M++){if(M==Q){var U=this.EQ[M],m=U.PV,Y=l.Nu[m].NZ,x=1;while(l.Nu[m]!=null&&l.Nu[m].NZ==Y){var T=l.Nu[m],$=l.hD.x+R.hD.x+O.hD.x+T.hD.x,L=l.hD.y+R.hD.y+O.hD.y+T.hD.y;
S.q=S.q.wM(new w($,L-U.lineHeight,T.q.r,U.lineHeight));S.xI=T.xI;m+=x}return S}}}}}};mn.prototype.CC=function(){var Q=Infinity,S=Infinity,B=-Infinity,y=-Infinity;
for(var l=0;l<this.Kb.length;l++){var D=this.Kb[l];for(var R=0;R<D.$R.length;R++){var p=D.$R[R];if(!p.VN)break;
for(var O=p.start;O<p.end;O++){var M=D.fF[O];for(var U=M.nI;U<=M.Av;U++){var m=D.Nu[U],Y=m.q,x=D.hD.x+p.hD.x+M.hD.x+m.hD.x,T=D.hD.y+p.hD.y+M.hD.y+m.hD.y;
Q=Math.min(Q,x+Y.x);S=Math.min(S,T+Y.y);B=Math.max(B,x+Y.x+Y.r);y=Math.max(y,T+Y.y+Y.O)}}}}return new w(Q,S,B-Q,y-S)};
mn.mMg=function(Q,S,B,y,l,D,R){var p=[D],O=0;for(var M=D;M<R;M++){if(B[M]==null)console.log(M,D,R,B);
var U=B[M].qT,m=U.charCodeAt(0);if(m==32||m==9){p.push(O,M,1,M+1);O=0}else if(m==3851){p.push(O+1,M+1);
O=0}else if(19968<=m&&m<=40959||12288<=m&&m<=12543){p.push(O,M);O=1}else if(M!=D&&B[M].iZ!=B[M-1].iZ){p.push(O,M);
O=1}else O++}p.push(O);var Y=[];for(var M=0;M<p.length;M+=2){var x=p[M],T=p[M+1];if(T==0)continue;Y.push(new mn.mpR(Q,S,B,y,l,x,T))}return Y};
mn.mMW=function(Q,S,B,y,l,D,R){var p=[0,S?S.r:1e9],O=[];if(y){var M=Q[D].Aj,U=l+(l==0?M:Q[D].lineHeight),m=U-M*.9,Y=k.i.Ic(y[0],m),x=Y.length,T=k.i.Ic(y[0],U),$=T.length;
if(x!=0&&$!=0){var L=0,s=0;p=[];while(L<x&&s<$){var j=Math.max(Y[L],T[s]),Z=Y[L+1],e=T[s+1],J=Math.min(Z,e);
if(j<J)p.push(j,J);if(Z<e)L+=2;else s+=2}}}for(var N=0;N<p.length;N+=2){var E=p[N+1]-p[N],h=0,o=D,V=S?E-B.StartIndent-B.EndIndent-(D==0?B.FirstLineIndent:0):Infinity;
while(D!=Q.length){var n=Q[D],t=h==0||(n.Ca||n.wB)||h+n.q.r<V;if(!t)break;h+=n.q.r;D++}O.push(D-o)}R[0]=O;
R[1]=p;R[2]=D};mn.mMF=function(Q,S){var B=Q.length,y=new Uint32Array(B),l=new Uint8Array(B),D=0;for(var R=0;
R<B;R++){l[R]=0;var p=Q.charCodeAt(R);y[R]=p;if(p>D)D=p}if(D>1424)l=mn.mw_(y,S);return l};mn.C_=function(Q,S,B,y,l,D,R){this.fF=[];
this.$R=[];this.hD=new v(0,0);this.Nu=null;this.fF=null;this._K=rA.mrz(Q,y);var p=this._K,m=0,$="",e=0,J=1,_=0;
if(y!=0){var O=p.SpaceBefore;if(O!=null)D[0]+=O}var M=Q.EngineDict.ParagraphRun.RunLengthArray,U=M[y];
for(var Y=0;Y<y;Y++)m+=M[Y];var x=p._Direction?p._Direction:0;this.mgp=m;var T=rA.qx(Q).slice(m,m+U);
for(var L=0;L<T.length;L++){var s=T.charAt(L);$+=B[m+L]._K.FontCaps==0?s:s.toUpperCase()}T=$;var j=mn.mMF(T,x),Z=[],N=j[Y]&1,E=B[m].QS;
B[m].iZ=j[0];for(var Y=1;Y<T.length;Y++){var s=B[m+Y],h=j[Y];s.iZ=h;if(h!=N||s.QS!=E){Z.push(e,J);e=Y;
J=1;N=h;E=s.QS}else J++}Z.push(e,J);var o=this.Nu=[];for(var Y=0;Y<Z.length;Y+=2){var V=Z[Y],n=Z[Y+1],t=(B[m+V].iZ&1)==0,q=T.slice(V,V+n),u=mn.muD(B[m+V].QS,q,t),g=[],I=0;
for(var L=0;L<u.length;L++){var r=u[L];g.push({e:r.g,NZ:r.cl,Pz:r.ax,in:r.ay,BZ:r.dx,Bb:r.dy})}u=g;var f=u.slice(0);
if(!t)f.reverse();for(var L=0;L<q.length;L++){while(I+1<f.length&&f[I+1].NZ<=L){I++}while(I>0&&f[I-1].NZ==L)I--;
B[m+V+L].PV=o.length+(t?I:f.length-I-1)}for(var L=0;L<u.length;L++){o.push(u[L]);u[L].NZ+=V;var s=B[m+u[L].NZ];
if(s.qT=="\n")u[L].Pz=0;if(s.qT=="\t")u[L].Pz=s.QS.head.unitsPerEm*2}}var d=rA.pF(p),a=this.fF=mn.mMg(Q,S,B,m,o,m,m+U),c=this.$R,C=-1,$=[null,null,0];
while(_<a.length){mn.mMW(a,l,p,R,D[0],_,$);C++;var F={start:_,end:0,q:new w,hD:new v(0,0),VN:!0},NN=0,Ne=0;
c.push(F);F.end=$[2];var i=F.end==a.length;function rP(f,V,NC){var Ng=NC-V>>>1;for(var Y=0;Y<Ng;Y++){var NM=f[V+Y];
f[V+Y]=f[NC-1-Y];f[NC-1-Y]=NM}}for(var rH=1;rH<5;rH++){var rK=-1;for(var Y=F.start;Y<F.end;Y++){var h=B[a[Y].start].iZ;
if(rK==-1&&h>=rH)rK=Y;else if(rK!=-1&&h<rH){rP(a,rK,Y);rK=-1}}var rY=F.end;if(x==0&&a[rY-1].Ca)rY--;
if(rK!=-1)rP(a,rK,rY)}var Nc=$[0],G=$[1],rK=_,rI=_;for(var rb=0;rb<Nc.length;rb++){var Nr=G[rb*2+1]-G[rb*2],Nz=0;
rK=rI;rI+=Nc[rb];var NL=this.mMv(rK,rI,a,x,l!=null);if(l){if(d==1||i&&d==4)Nz=NL[1]+(Nr-NL[0]);if(d==2||i&&d==5)Nz=NL[1]+(Nr-NL[0])/2;
if(C==0)Nz+=p.FirstLineIndent;Nz+=p.StartIndent}else{if(d==0)Nz=p.StartIndent+p.FirstLineIndent;if(d==1)Nz=-NL[0]-p.EndIndent;
if(d==2)Nz=-NL[0]/2}Nz+=G[rb*2];if(l&&d>2&&(d==6||!i))this.mMk(rK,rI,a,Nr,x,Nz);else{var Nm=Nz;for(var Y=rK;
Y<rI;Y++){a[Y].hD.x=Nm;Nm+=a[Y].q.r}}}_=F.end;for(var Y=F.start;Y<F.end;Y++){var Ny=a[Y].q.clone();Ny.YJ(a[Y].hD);
F.q=F.q.wM(Ny);NN=Math.max(NN,a[Y].Aj);Ne=Math.max(Ne,a[Y].lineHeight)}F.hD.y=C==0?0:c[C-1].hD.y+Ne;
if(C==0){if(y==0&&l)D[0]+=NN;if(y!=0)D[0]+=Ne;this.hD.y=D[0]}else D[0]+=Ne;if(l)F.VN=this.hD.y+F.hD.y<l.y+l.O}var NG=p.SpaceAfter;
if(NG!=null)D[0]+=NG};mn.C_.prototype.mMv=function(Q,S,B,y,l){var D=0,R=0;for(var p=Q;p<S;p++)D+=B[p].q.r;
if(l){if(y==0)for(var p=S-1;p>=Q;p--)if(B[p].Ca||B[p].wB)D-=B[p].q.r;else break;if(y==1)for(var p=Q;
p<S;p++)if(B[p].Ca||B[p].wB){var O=B[p].q.r;D-=O;R-=O}else break}return[D,R]};mn.C_.prototype.mMk=function(Q,S,B,y,l,D){var R=0,p=0,O=0,M=0;
for(var U=Q;U<S;U++)if(B[U].Ca)O++;else{R+=B[U].q.r;p++}if(l==0)for(var U=S-1;U>=Q;U--)if(B[U].Ca||B[U].wB){if(B[U].Ca){O--}}else break;
if(l==1)for(var U=Q;U<S;U++)if(B[U].Ca||B[U].wB){if(B[U].Ca){O--;M++}}else break;if(p<=1||O==0){if(p==1)B[Q].hD.x=D;
return}var m=(y-R)/O,Y=-M*m;for(var U=Q;U<S;U++){if(B[U].Ca)this.Nu[B[U].nI].q.r=B[U].q.r=m;B[U].hD.x=D+Y;
Y+=B[U].q.r}};mn.mpR=function(Q,S,B,y,l,D,R){this.ho="";for(var p=0;p<R;p++)this.ho+=B[D+p].qT;this.Ca=R==1&&(B[D].qT==" "||B[D].qT=="\t");
this.wB=R==1&&B[D].qT=="\n";this.start=D;this.end=D+R;this.q=new w;this.hD=new v(0,0);this.Aj=0;this.lineHeight=0;
var O=0,M=0;if(R==0){this.lineHeight=B[D].lineHeight;this.Aj=B[D].Aj;this.q=new w(0,-B[D].lineHeight,0,B[D].lineHeight)}var U=B[D].PV,m=B[D+R-1].PV;
if(m<U){var Y=U;U=m;m=Y}while(m+1<l.length&&l[m].NZ==l[m+1].NZ){m++}this.nI=U;this.Av=m;for(var x=U;
x<=m;x++){var T=l[x],$=B[y+T.NZ],L=1/$.QS.head.unitsPerEm*$._K.FontSize,e=0;if(!$._K.AutoKerning)O+=$._K.Kerning*2*L*$.scale.x;
var s=T.Pz*L*$.scale.x;T.hD=new v(O,0);T.xI=0;T.q=new w(0,-$.lineHeight,s,$.lineHeight);var j=Typr.U.glyphToPath($.QS,T.e);
T.path={F:j.cmds,M:j.crds};var Z=T.q.clone();Z.YJ(T.hD);if($._K.Tracking!=null)e=$._K.Tracking*.001*$._K.FontSize;
if($._K.FauxBold==!0)e+=.027*$._K.FontSize;O+=s+e;if(R==1&&($.qT==" "||$.qT=="\t"))Z.r+=2*e;this.q=this.q.wM(Z);
this.Aj=Math.max(this.Aj,$.Aj);this.lineHeight=Math.max(this.lineHeight,$.lineHeight)}};mn.mpQ=function(){fetch("code/external/hb.wasm").then(function(Q){return Q.arrayBuffer()}).then(function(Q){return WebAssembly.instantiate(Q)}).then(function(Q){Q.instance.exports.memory.grow(400);
mn.mwG=hbjs(Q.instance);mn.muD=function(){var S=function(B){var y=0;if((B&4294967295-(1<<7)+1)==0){y=1}else if((B&4294967295-(1<<11)+1)==0){y=2}else if((B&4294967295-(1<<16)+1)==0){y=3}else if((B&4294967295-(1<<21)+1)==0){y=4}return y};
return function(B,y,l){var D=mn.mwG,R=B._data,p=NZ.Rj(B),O=mn.mwX,L=0,s=0;if(mn.mwO!=p){if(O!=null){O[0].free();
O[1].free();O[2].free()}var M=D.createBlob(R),U=D.createFace(M,0),m=D.createFont(U);mn.mwX=O=[M,U,m];
mn.mwO=p}var m=O[2],Y=D.createBuffer(),x=X.mEM(y);Y.addText(x);Y.setDirection(l?"ltr":"rtl");Y.guessSegmentProperties();
Y.shape(m);var T=Y.json(m);Y.free();var $=T.slice(0);if(!l)$.reverse();for(var j=1;j<$.length;j++){var Z=$[j],e=Z.cl;
while(s+S(y.charCodeAt(L))<=e){s+=S(y.charCodeAt(L));L++}Z.cl=L}return T}}();fetch("code/external/fribidi.wasm").then(function(S){return S.arrayBuffer()}).then(function(S){return WebAssembly.instantiate(S)}).then(function(Q){var S=Q.instance.exports,B=S.memory,D=16,R=256,p=1;
B.grow(400);var y=new Uint8Array(B.buffer),l=new Uint32Array(B.buffer),O=D|R,M=D|R|p;mn.mw_=function(m,Y){var x=m.length,T=S.calloc(x*4+4+x*4+x*4+x,1),$=T+x*4,L=$+4,s=L+x*4,j=s+x*4;
l.set(m,T>>>2);l[$>>>2]=Y==0?O:M;S.fribidi_get_bidi_types(T,x,L);S.fribidi_get_bracket_types(T,x,L,s);
S.fribidi_get_par_embedding_levels_ex(L,s,x,$,j);var Z=y.slice(j,j+x);S.free(T);return Z};var U=new b(P.E.T,!0);
U.data={H:P.l.Kk,DS:"add",yQ:rS.tn,cU:null};NZ.op.B(U)})})};function rA(){}rA.Xy=function(Q){return JSON.parse(JSON.stringify(Q))};
rA.pW=function(Q,S){for(var B in S)Q[B]=S[B]};rA.Xq=function(Q,S,B){var y=rA.mrZ();if(B)rA.Dh(y,0,0,B);
var l={V:new Nu(1,0,0,1,Math.round(Q),Math.round(S)),Nd:y};l.oH=rA.mhj();l.IT=k.cF.Q();l._Q=new w;return l};
rA.mhB=function(Q){var S=["CharacterDirection",0];for(var B=0;B<S.length;B+=2){if(Q[S[B]]!=null&&Q[S[B]]!=S[B+1]){throw"e";
console.log(S[B],Q[S[B]])}}if(Q instanceof Array)for(var B=0;B<Q.length;B++)rA.mhB(Q[B]);else if(Q instanceof Object)for(var y in Q)rA.mhB(Q[y])};
rA.pF=function(Q,S){if(S==null)S=Q.Justification;var B=Q._Direction?Q._Direction:0;if(B==1){if(S==0||S==3)S++;
else if(S==1||S==4)S--}return S};rA.pt=function(Q){if(Q.add==null)return;var S=Q.Nd,B=S.Curve,y=Q.add.vmsk,l=y.A,D=k.i.vn(l,!0).M,R=Q.V.clone();
R.SD();k.i.V(D,R,D);var p=D.slice(0,8);for(var O=8;O<D.length;O+=6)p.push(D[O-2],D[O-1],D[O],D[O+1],D[O+2],D[O+3],D[O+4],D[O+5]);
B.Points=p;B.TextOnPathTRange=y.KZ.slice(0);B.Reversed=y.UF;if(rA.Ry(S)==1){var B=mn.BU(S.Curve),M=k.i.vQ(B[0]);
rA.vl(S,[0,0,M.r,M.O].map(Math.round));for(var U=0;U<p.length;U+=2){p[U]-=M.x;p[U+1]-=M.y}var m=new Nu(1,0,0,1,M.x,M.y);
m.concat(Q.V);Q.V=m}};rA.R$=function(Q){if(Q.add==null)return;var S=Q.add.vmsk,B=Q.Nd.Curve,y=B.Points,l={F:["M"],M:[y[0],y[1]]};
for(var D=0;D<y.length;D+=8){l.F.push("C");l.M.push(y[D+2],y[D+3],y[D+4],y[D+5],y[D+6],y[D+7])}k.i.V(l.M,Q.V,l.M);
var R=k.i.Ua(l,!0);S.A=R;S.UF=B.Reversed;S.KZ=B.TextOnPathTRange.slice(0);Q.add.vogk=z.sr(R)};rA.RT=function(Q){var S={t:0,e:0,R:0};
if(Q.FillColor){var B=Q.FillColor,y=B.Values;if(B.Type==1)S={t:y[1]*255,e:y[2]*255,R:y[3]*255};else if(B.Type==2){var l={classID:"CMYC",Cyn:{t:"doub",v:y[1]*100},Mgnt:{t:"doub",v:y[2]*100},Ylw:{t:"doub",v:y[3]*100},Blck:{t:"doub",v:y[4]*100}};
S=k.Kg.RT(l)}else console.log("Unknown color type")}return S};rA.mpW=function(Q){for(var S=0;S<Q.length;
S++){var B=Q[S].StyleSheet.StyleSheetData,y=B.FillColor;if(y&&y.Type==2){var l=rA.RT(B);y.Type=1;y.Values=[1,l.t/255,l.e/255,l.R/255]}}};
rA.jH=function(Q,S){var B;if(rA.Ry(Q.Nd)==1){var y=rA.Dy(Q.Nd);B=new w(0,0,y[2]-y[0],y[3]-y[1])}else B=S.CC();
return B};rA.Cr=function(Q){var S=Q[0];for(var B=0;B<Q.length;B++)S=rA.mpY(S,Q[B]);return S};rA.mpY=function(Q,S){var B={};
for(var y in Q)if(JSON.stringify(Q[y])==JSON.stringify(S[y]))B[y]=Q[y];return B};rA.sU=function(Q,S){var B=Q.vA,y=-1;
for(var l=0;l<B.length;l++)if(B[l].Name==S)y=l;if(y==-1){y=B.length;B.push({FontType:1,Name:S,Script:0,Synthetic:0})}Q.EQ.Font=y};
rA.qx=function(Q){return Q.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};rA.Cw=function(Q,S){Q.EngineDict.Editor.Text=S.replace(/\n/g,"\r")};
rA.Ry=function(Q){return Q.Curve&&Q.Curve.TextOnPathTRange[0]>=0?2:Q.EngineDict.Rendered.Shapes.Children[0].ShapeType};
rA.XG=function(Q,S){var B=Q.EngineDict.Rendered.Shapes.Children[0];B.ShapeType=S;var y=B.Cookie.Photoshop;
y.ShapeType=S;y.Base.ShapeType=S;if(S==0){delete y.BoxBounds;y.PointBase=[0,0]}if(S==1){delete y.PointBase;
y.BoxBounds=[0,0,1,1]}};rA.Dy=function(Q){return Q.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
rA.vl=function(Q,S){Q.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=S};rA.mpS=function(Q,S){return rA.mpK(Q,rA.mzK(Q,S))};
rA.mzK=function(Q,S){var B=Q.EngineDict.StyleRun.RunLengthArray;return rA.Dn(B,S).nO};rA.mpK=function(Q,S){var B=Q.ResourceDict.StyleSheetSet[0].StyleSheetData,y={};
for(var l in B)y[l]=B[l];var D=Q.EngineDict.StyleRun.RunArray[S].StyleSheet.StyleSheetData;rA.pW(y,D);
return y};rA.mrz=function(Q,S){var B=Q.ResourceDict.ParagraphSheetSet[0].Properties,y={};for(var l in B)y[l]=B[l];
var D=Q.EngineDict.ParagraphRun.RunArray[S].ParagraphSheet.Properties;rA.pW(y,D);var R=["StartIndent","EndIndent","FirstLineIndent"];
for(var p=0;p<3;p++)if(y[R[p]]==null)y[R[p]]=0;return y};rA.MS=function(Q,S,B){if(B=="")return;var y=rA.qx(Q);
rA.Cw(Q,y.substring(0,S)+B+y.substring(S,y.length));var l=Q.EngineDict.StyleRun,D=l.RunLengthArray,R=rA.Dn(D,S-1);
D[R.nO]+=B.length;var p=Q.EngineDict.ParagraphRun,D=p.RunLengthArray,O=rA.Dn(D,S),M=B.split("\n");if(M.length==1){D[O.nO]+=B.length;
return}D.splice(O.nO+1,0,D[O.nO]-(S-O.EM));p.RunArray.splice(O.nO+1,0,rA.Xy(p.RunArray[O.nO]));D[O.nO]-=D[O.nO+1];
D[O.nO]+=M[0].length+1;for(var U=1;U<M.length-1;U++){p.RunArray.splice(O.nO+U,0,rA.Xy(p.RunArray[O.nO+U-1]));
p.RunLengthArray.splice(O.nO+U,0,M[U].length+1)}D[O.nO+M.length-1]+=M[M.length-1].length};rA.Cf=function(Q,S,B){var y=rA.qx(Q);
rA.Cw(Q,y.substring(0,S)+y.substring(B,y.length));rA.mpF(Q.EngineDict.ParagraphRun,S,B,!0);rA.mpF(Q.EngineDict.StyleRun,S,B,!1)};
rA.mpF=function(Q,S,B,y){var l=Q.RunLengthArray,D=rA.Dn(l,S),R=rA.Dn(l,B),p=[];for(var O=0;O<l.length;
O++)for(var M=0;M<l[O];M++)p.push(O);p.splice(S,B-S);var U=[];for(var O=0;O<l.length;O++)U.push(0);for(var O=0;
O<p.length;O++)U[p[O]]++;for(var O=0;O<l.length;O++){if(U[O]==0){U.splice(O,1);l.splice(O,1);Q.RunArray.splice(O,1);
O--}else if(U[O]<l[O])l[O]=U[O]}if(y&&D.nO!=R.nO&&D.EM!=S){l[D.nO]+=l[D.nO+1];l.splice(D.nO+1,1);Q.RunArray.splice(D.nO+1,1)}};
rA.Dh=function(Q,S,B,y){var l=Q.EngineDict.Editor.Text.length;if(B==l-2)B++;if(y.EQ.Font!=null)Q.ResourceDict.FontSet=y.vA.slice(0);
if(S<=B)rA.mhL(Q.EngineDict.StyleRun,y.EQ,S,B,!0);rA.mhL(Q.EngineDict.ParagraphRun,y.Kb,S,B,!1)};rA.mhL=function(Q,S,B,y,l){var D=Q.RunLengthArray;
if(l){var R=rA.Dn(D,B);if(R.EM!=B){var p=D[R.nO];D.splice(R.nO,0,B-R.EM);D[R.nO+1]=p-D[R.nO];Q.RunArray.splice(R.nO+1,0,rA.Xy(Q.RunArray[R.nO]))}var O=rA.Dn(D,y);
if(O.EM+D[O.nO]-1!=y){var p=D[O.nO];D.splice(O.nO,0,y-O.EM+1);D[O.nO+1]=p-D[O.nO];Q.RunArray.splice(O.nO+1,0,rA.Xy(Q.RunArray[O.nO]))}}var R=rA.Dn(D,B),O=rA.Dn(D,y);
if(l)for(var M=R.nO;M<=O.nO;M++)rA.pW(Q.RunArray[M].StyleSheet.StyleSheetData,S);else for(var M=R.nO;
M<=O.nO;M++)rA.pW(Q.RunArray[M].ParagraphSheet.Properties,S)};rA.mrJ=function(Q,S,B){var y=Q.EngineDict.StyleRun.RunLengthArray,l=[],D=0;
for(var R=0;R<y.length;R++){var p=y[R];for(var O=0;O<p;O++)if(S<=D+O&&D+O<B)l.push(R);D+=p}var M=l[0],U=[];
for(var R=0;R<l.length;R++){var m=l[R]-M;if(m==U.length)U.push(0);U[m]++}return U};rA.mrV=function(Q){var S=Q.EngineDict.StyleRun,B=S.RunArray,y=S.RunLengthArray;
for(var l=0;l<y.length-1;l++){var D=B[l].StyleSheet.StyleSheetData,R=B[l+1].StyleSheet.StyleSheetData;
if(JSON.stringify(D)==JSON.stringify(R)){B.splice(l+1,1);y[l]+=y[l+1];y.splice(l+1,1);l--}}};rA.$d=function(Q,S,B){var y={vA:Q.ResourceDict.FontSet.slice(0),EQ:[],Kb:[]},l=Q.EngineDict.StyleRun.RunLengthArray,D=rA.Dn(l,S).nO,R=rA.Dn(l,B).nO;
for(var p=D;p<=R;p++){var O=rA.Xy(Q.ResourceDict.StyleSheetSet[0].StyleSheetData),M=Q.EngineDict.StyleRun.RunArray[p].StyleSheet.StyleSheetData;
rA.pW(O,M);y.EQ.push(O)}var U=Q.EngineDict.ParagraphRun.RunLengthArray,m=rA.Dn(U,S).nO,Y=rA.Dn(U,B).nO;
for(var p=m;p<=Y;p++){y.Kb.push(rA.Xy(Q.EngineDict.ParagraphRun.RunArray[p].ParagraphSheet.Properties))}y.EQ=rA.Cr(y.EQ);
y.Kb=rA.Cr(y.Kb);return y};rA.CU=function(Q,S){var B,y;B=["FontSize","Leading","BaselineShift"];y=Q.EQ;
for(var l=0;l<B.length;l++)if(y[B[l]]!=null)y[B[l]]*=S;B=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
y=Q.Kb;for(var l=0;l<B.length;l++)if(y[B[l]]!=null)y[B[l]]*=S};rA.mrF=function(){return rA.$d(rA.mpt,0,0)};
rA.mhj=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
rA.Dn=function(Q,S){var B=0,y=0;while(B+Q[y]<=S){B+=Q[y];y++}return{nO:y,EM:B}};rA.mrZ=function(){var Q=rA.Xy(this.mpt);
return Q};rA.mgR={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
rA.mrx={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
rA.mpt={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(rA.mgR))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(rA.mgR))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(rA.mrx))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var Mf={};Mf.mNz=function(Q,S,B){var y={};y._98={_0:"i7"};y._0=Mf.mNR(Q,S,B?B._0:null);y._1=Mf.mRy(Q,S,y._0,B?B._1:null);
return y};Mf.mNR=function(Q,S,B){var y={};y._1=Mf.mNL(Q,B?B._1:null);y._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
y._3=JSON.parse(JSON.stringify(Mf.mRI));y._4=JSON.parse(JSON.stringify(Mf.mQr));y._5=Mf.mNc(Q,y._1._0,B?B._5:null);
y._6=Mf.mNg(Q,B?B._6:null);y._8=Mf.mRe(Q,S,B?B._8:null);y._9=Mf.mQc;return y};Mf.mNL=function(Q,S){var B=[],y=[];
for(var l=0;l<Q.length;l++){var D=Q[l].ResourceDict.FontSet;for(var R=0;R<D.length;R++){var p=D[R];if(y.indexOf(p.Name)!=-1)continue;
B.push(p);y.push(p.Name)}}var O={_0:[]};for(var l=0;l<B.length;l++){var M=B[l],U={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+M.Name,_1:"i"+M.Script,_2:"i"+M.FontType}}};
if(M.Script==0)delete U._0._0._1;O._0.push(U)}return O};Mf.mNc=function(Q,S,B){var y={_0:[],_1:[]},l={_0:JSON.parse(JSON.stringify(Mf.mcS))};
Mf.mQj(l._0,Q[0].ResourceDict.StyleSheetSet[0],S,Q[0].ResourceDict.FontSet);y._0.push(l);y._1.push({_0:"i0"});
y._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});y._1.push({_0:"i1"});return y};Mf.mNg=function(Q,S){var B={_0:[],_1:[]},y={_0:JSON.parse(JSON.stringify(Mf.CO))};
Mf.Cn(y._0,Q[0].ResourceDict.ParagraphSheetSet[0]);B._0.push(y);B._1.push({_0:"i0"});y={_0:JSON.parse(JSON.stringify(Mf.CO))};
Mf.Cn(y._0,Q[0].ResourceDict.ParagraphSheetSet[0]);y._0._0="sBasic Paragraph";y._0._6="i0";B._0.push(y);
B._1.push({_0:"i1"});return B};Mf.mRe=function(Q,S,B){var y={_0:[]};for(var l=0;l<Q.length;l++){var D=Q[l].Curve,R={};
y._0.push({_0:R});var p=rA.Ry(Q[l]);R._2={};R._2._0="i"+p;if(p==0){R._2._6=["f-1","f-1"];R._2._11={_4:"i-1",_7:!1}}else if(p==1&&D==null){var O=rA.Dy(Q[l]),M=O[2],U=O[3];
R._1={_0:Mf.pA("f",[0,0,0,0,M,0,M,0,M,0,M,0,M,U,M,U,M,U,M,U,0,U,0,U,0,U,0,U,0,0,0,0])};R._2._6=["f-2","f-2"];
R._2._11={_4:"i-2",_7:!1}}else if(p==1){var O=rA.Dy(Q[l]),M=O[2],U=O[3];R._1={_0:Mf.pA("f",D.Points)};
R._2._6=["f-3","f-3"];R._2._11={_4:"i-3",_7:!1}}else if(p==2){R._1={_0:Mf.pA("f",D.Points)};R._2._6=Mf.pA("f",D.TextOnPathTRange);
R._2._11={_0:D.Reversed,_3:"i0",_5:"f0",_7:!1}}}return y};Mf.mRy=function(Q,S,B,y){var l={};l._0=JSON.parse(JSON.stringify(Mf.mQI));
l._1=Mf.mRx(Q,S,B,y?y._1:null);l._2=JSON.parse(JSON.stringify(Mf.mcS._6));l._3=JSON.parse(JSON.stringify(Mf.CO._5));
return l};Mf.mRx=function(Q,S,B,y){var l=[],D=B._1._0;for(var R=0;R<Q.length;R++){var p=Q[R],O={_0:{}};
l.push(O);var M=y?y[R]:null;O._0._0="s"+p.EngineDict.Editor.Text;O._0._0=O._0._0;var U={_0:[]};O._0._5=U;
var m=p.EngineDict.ParagraphRun;for(var Y=0;Y<m.RunArray.length;Y++){var x={_0:{}};U._0.push(x);x._0._0={_0:"s",_5:{},_6:"i1"};
Mf.Cn(x._0._0,p.EngineDict.ParagraphRun.RunArray[Y].ParagraphSheet);x._1="i"+m.RunLengthArray[Y]}var T={_0:[]};
O._0._6=T;var $=M?M._0._6:null;m=p.EngineDict.StyleRun;for(var Y=0;Y<m.RunArray.length;Y++){var L={_0:{}};
T._0.push(L);var s=$?$._0:null;L._0._0={_0:"s",_5:"i1",_6:{}};Mf.mQj(L._0._0,p.EngineDict.StyleRun.RunArray[Y].StyleSheet,D,p.ResourceDict.FontSet,s?L._0._0:null);
L._1="i"+m.RunLengthArray[Y]}O._0._10={_0:"i4",_2:!0};O._1=Mf.view.mLQ(p,null,R,null)}return l};Mf.mQj=function(Q,S,B,y,l){Q._0="s"+(S.Name?S.Name:"");
var D=Q._6,R=l?l._6:null,p=S.StyleSheetData;if(p.Font==null)return;var O=y[p.Font].Name,M=-1;for(var U=0;
U<B.length;U++)if("s"+O==B[U]._0._0._0){M=U;break}D._0="i"+M;if(p.FontSize!=null)D._1="f"+p.FontSize;
if(p.FauxBold!=null)D._2=p.FauxBold;if(p.FauxItalic!=null)D._3=p.FauxItalic;if(p.AutoLeading!=null)D._4=p.AutoLeading;
if(p.Leading!=null)D._5="f"+p.Leading;if(p.HorizontalScale!=null)D._6="f"+p.HorizontalScale;if(p.VerticalScale!=null)D._7="f"+p.VerticalScale;
if(p.Tracking!=null)D._8="i"+p.Tracking;if(p.BaselineShift!=null)D._9="f"+p.BaselineShift;if(p.AutoKerning!=null)D._11="i"+(p.AutoKerning?1:0);
if(p.FontCaps!=null)D._12="i"+p.FontCaps;if(p.FontBaseline!=null)D._13="i"+p.FontBaseline;if(p.Strikethrough!=null)D._15="i"+(p.Strikethrough?1:0);
if(p.Underline!=null)D._16="i"+(p.Underline?2:0);if(p.Ligatures!=null)D._18=p.Ligatures;if(p.DLigatures!=null)D._19=p.DLigatures;
if(p.Language!=null)D._38="i"+p.Language;if(p.FillColor!=null)D._53={_99:"/SimplePaint",_0:{_0:"i1",_1:Mf.pA("f",p.FillColor.Values)}}};
Mf.Cn=function(Q,S){Q._0="s"+(S.Name?S.Name:"");var B=Q._5,y=S.Properties;if(y.Justification!=null)B._0="i"+y.Justification;
if(y.FirstLineIndent!=null)B._1="f"+y.FirstLineIndent;if(y.StartIndent!=null)B._2="f"+y.StartIndent;
if(y.EndtIndent!=null)B._3="f"+y.EndtIndent;if(y.SpaceBefore!=null)B._4="f"+y.SpaceBefore;if(y.SpaceAfter!=null)B._5="f"+y.SpaceAfter;
if(y.AutoHyphenate!=null)B._9=y.AutoHyphenate;if(y._Direction!=null)B._33="i"+y._Direction};Mf.pA=function(Q,S){var B=[];
for(var y=0;y<S.length;y++)B.push(Q+S[y]);return B};Mf.mRI={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
Mf.mQr={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
Mf.mcS={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
Mf.CO={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
Mf.mQc={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
Mf.mQI={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var Rg={};Rg.mLR=function(Q){return Rg.CS(Q,Rg.ql)};Rg.mUL=function(Q){return Rg.um(Q,Rg.ql)};Rg.CS=function(Q,S){var B;
if(typeof Q=="string")return Q;if(Q instanceof Array){B=[];for(var y=0;y<Q.length;y++)B[y]=Rg.CS(Q[y],S)}else{B={};
var l={};for(var D in S){var R=S[D],p="_"+R[0];if(Q[p]!=null){B[D]=R[1]?Rg.CS(Q[p],R[1]):Q[p];l[p]=!0}}for(var D in Q){if(l[D]==null){console.log(l);
console.log(D,Q,S);throw"e"}}}return B};Rg.um=function(Q,S){var B;if(Q instanceof Array){B=[];for(var y=0;
y<Q.length;y++)B[y]=Rg.um(Q[y],S)}else{B={};var l={};for(var D in S){var R=S[D],p="_"+R[0];if(Q[D]!=null){B[p]=R[1]?Rg.um(Q[D],R[1]):Q[D];
l[D]=!0}}for(var D in Q){if(l[D]==null){console.log(l);console.log(D,Q);throw"e"}}}return B};Rg.ru={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
Rg.oM={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,Rg.ru],_StrokeColor:[54,Rg.ru],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,Rg.ru],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
Rg.mqr={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,Rg.oM],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
Rg.mnJ={_Name:[0],_Features:[5,Rg.mqr],_Parent:[6]};Rg.mM$={_Name:[0],_Parent:[5],_Features:[6,Rg.oM]};
Rg.ql={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,Rg.mM$]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,Rg.mnJ]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_11:[11],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,Rg.mnJ]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,Rg.mM$]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,Rg.oM],_OriginalNormalParagraphFeatures:[3,Rg.mqr]}]};
Mf.view={};Mf.view.mLQ=function(Q,S,B,y){var l={},D=rA.Ry(Q);l._0=[{_0:"i"+B}];return l};function CSS(){}CSS.mLJ=function(Q,S){var B=Q.add,y=B.vmsk,l=B.vstk,D=B.lmfx,R=B.TySh,p=[],O=CSS.mLh(D,B);
if(Q.iG()&&y){var M=k.c.Fi(y.A);if(!M.Kq()){p.push("width: "+Math.round(M.r)+"px");p.push("height: "+Math.round(M.O)+"px")}var U=k.c.mJa(y.A);
if(U>0)p.push("border-radius: "+Math.round(U)+"px")}else if(R){var m=R.Nd;if(rA.Ry(m)==1){var M=rA.Dy(m);
p.push("width: "+Math.round(M[2])+"px");p.push("height: "+Math.round(M[3])+"px")}CSS.mNp(p,rA.$d(m,0,0),R.V,!1,!1,O[0])}var Y=[],x=D?D.dropShadowMulti.v:0;
for(var T=0;T<x.length;T++){var $=x[T].v;if($.enab.v){var L=$.Dstn.v.val,s=$.lagl.v.val*Math.PI/180;
if($.uglg&&$.uglg.v)s=S.qQ()*Math.PI/180;var j=L*Math.cos(s),Z=L*Math.sin(s);Y.push("drop-shadow("+(j==0?"0 ":CSS.nK(-j)+"px ")+(Z==0?"0 ":CSS.nK(Z)+"px ")+$.blur.v.val/2+"px "+CSS.rl($.Clr.v,$.Opct.v.val/100)+")")}}if(Y.length!=0)p.push("filter: "+Y.join(" "));
if(R==null)CSS.mLf(O,p);if(l==null||!l.strokeEnabled.v)l=Nq.hV(D);if(l&&l.strokeEnabled.v){var e=l.strokeStyleContent.v,J=e.classID,N=rx.xD.mI.indexOf(l.strokeStyleLineCapType.v.strokeStyleLineCapType),E=rx.xD.join.indexOf(l.strokeStyleLineJoinType.v.strokeStyleLineJoinType),h=l.strokeStyleOpacity.v.val/100,o=l.strokeStyleLineWidth.v.val,V="";
if(J=="solidColorLayer")V=CSS.rl(e.Clr.v,h);p.push("border: "+o+"px solid "+V)}return p};CSS.mLh=function(Q,S){var B=Nq.hL(Q,S),y=B[0],l=B[1],D,R;
if(y){D=CSS.rl(y.Clr.v,S.iOpa!=null?S.iOpa/255:1)}else if(l){R=CSS.Uu(l)}return[D,R]};CSS.mLf=function(Q,S){if(Q[0])S.push("background-color: "+Q[0]);
if(Q[1])S.push("background-image: "+Q[1])};CSS.fQ={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.nK=function(Q){return""+parseFloat(Q.toFixed(3))};CSS.Yr=function(Q){if(Q==null)return{t:0,e:0,R:0};
if(Q.slice(0,4)=="rgb("){var S=Q.slice(4,Q.length-1).split(",").map(parseFloat);return{t:S[0],e:S[1],R:S[2]}}if(Q.charAt(0)!="#"){var B=CSS.fQ;
if(B[Q])Q=B[Q];else console.log("unknown color "+Q)}Q=Q.slice(1);if(Q.length==3)Q=Q[0]+Q[0]+Q[1]+Q[1]+Q[2]+Q[2];
Q=parseInt(Q,16);return{t:Q>>16&255,e:Q>>8&255,R:Q&255}};CSS.rl=function(Q,S){return CSS.Z_(k.Kg.RT(Q),S)};
CSS.Z_=function(Q,S){if(S==null)S=1;var B=Math.round(Q.t),y=Math.round(Q.e),l=Math.round(Q.R),D=B<<16|y<<8|l;
return S==1?"#"+k.eb(D):"rgba("+B+","+y+","+l+","+S+")"};CSS.Uu=function(Q){var S=Q.Grad.v;if(S.Clrs==null)return"";
var B=S.Clrs.v.slice(0),y=S.Trns.v.slice(0),l=Q.Ofst.v,D=Q.Type.v.GrdT=="Rdl"?1:0,R=(D==1?"radial":"linear")+"-gradient",p=D==0?Math.round(-Q.Angl.v.val+90)+"deg":"circle at center",O=Q.Rvrs.v;
if(O){B.reverse();y.reverse()}for(var M=0;M<B.length;M++){var U=B[M].v,m=M<y.length?y[M].v.Opct.v.val/100:1,Y=U.Lctn.v/4096;
if(O)Y=1-Y;p+=", "+CSS.rl(U.Clr.v,m)+" "+Math.round(Y*100)+"%"}return R+"("+p+")"};CSS.mNp=function(Q,S,B,y,l,D){var R=S.EQ,p=y?1:K.Sj.GK(B),O=Math.round(R.FontSize*p);
Q.push("font-size: "+O+"px");var M=R.Tracking;if(!y&&M!=null&&M!=0)Q.push("letter-spacing: "+Math.round(M*O/1e3)+"px");
if(!R.AutoLeading)Q.push("line-height: "+Math.round(R.Leading*p)+"px");if(R.Strikethrough)Q.push("text-decoration: line-through");
var U=rA.RT(R);U=[U.t,U.e,U.R].map(Math.round);Q.push((y?"fill: ":"color: ")+(D?D:"#"+k.eb(U[0]<<16|U[1]<<8|U[2])));
var m=S.vA[R.Font].Name;if(m){var Y=l,x=NZ.op.aq(m);if(x!=null&&m!=NZ.Rj(x))x=null;if(Y&&x==null)Y=!1;
if(Y)Q.push("font-family: \""+m+"\"");else{var T=null,$=null,L=m.toLowerCase();if(x){T=NZ.bL(x)[0];if(x["OS/2"])$=x["OS/2"].usWeightClass}else{T=CSS.mLO(m);
if(L.indexOf("light")!=-1)$=300;else if(L.indexOf("medium")!=-1)$=500;else if(L.indexOf("black")!=-1||L.indexOf("extrabold")!=-1)$=800;
else if(L.indexOf("bold")!=-1)$="bold"}if(T!=null)Q.push("font-family: \""+T+"\"");if($!=null)Q.push("font-weight: "+$);
if(L.indexOf("italic")!=-1||L.indexOf("oblique")!=-1)Q.push("font-style: italic")}}var s=S.Kb.Justification;
if(s!=null&&s!=0)if(y)Q.push("text-anchor: "+["start","end","middle"][s%3]);else Q.push("text-align: "+["left","right","center"][s%3])};
CSS.mLO=function(Q){Q=Q.split("-")[0];while(Q.endsWith("MT")||Q.endsWith("PS"))Q=Q.slice(0,Q.length-2);
var S=!0;for(var B=0;B<Q.length;B++){var y=Q.charAt(B);if(!S&&y.toLowerCase()!=y){Q=Q.slice(0,B)+" "+Q.slice(B);
B++;S=!0}else S=!1}return Q};function N$(){}N$.BA={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0};
N$.uM=function(Q,S){var B=Date.now(),y;try{y=acorn.parse(Q)}catch(Rf){console.log(Rf);return}var l=JSON.parse(JSON.stringify(N$.BR.up));
l.__return=!1;l.__break=!1;l.__throw=!1;l.__fs={};l.__window={};N$.eval(y,S,l);var D=l.__fs;if(Object.keys(D).length!=0){var R=UZIP.encode(D);
Nx.save(R,"output.zip")}};N$.eval=function(Q,S,B){var y=Q.type;if(!1){}else if(y=="Program"||y=="BlockStatement"){var l=Q.body;
for(var D=0;D<l.length;D++){var R=l[D].type;if(R=="FunctionDeclaration")B[l[D].id.name]=l[D]}for(var D=0;
D<l.length;D++){var R=l[D].type,p=N$.eval(l[D],S,B);if(B.__return||B.__break||B.__throw)return p}}else if(y=="ReturnStatement"){B.__return=!0;
return Q.argument?N$.mo(Q.argument,S,B):null}else if(y=="BreakStatement"){B.__break=!0}else if(y=="VariableDeclaration"){var O=Q.declarations;
for(var D=0;D<O.length;D++)N$.eval(O[D],S,B)}else if(y=="VariableDeclarator"){B[Q.id.name]=Q.init?N$.mo(Q.init,S,B):null}else if(y=="FunctionDeclaration"){B[Q.id.name]=Q}else if(y=="MemberExpression"){var M=N$.mo(Q.object,S,B),U=Q.computed?N$.mo(Q.property,S,B):N$.eval(Q.property,S,B),p;
if(M.T$!=null)p=N$.BR.dP(M,U,S,B);else if(M==window&&N$.BA[U]){}else p=M[U];return p}else if(y=="ArrayExpression"){var m=[],Y=Q.elements;
for(var D=0;D<Y.length;D++)m.push(N$.mo(Y[D],S,B));return m}else if(y=="ObjectExpression"){var m={},Y=Q.properties;
for(var D=0;D<Y.length;D++){var x=Y[D],T=Y[D].key.name?Y[D].key.name:Y[D].key.value;m[T]=N$.mo(Y[D].value,S,B)}return m}else if(y=="ExpressionStatement"){return N$.eval(Q.expression,S,B)}else if(y=="NewExpression"){var $=Q.arguments,L=Q.callee,s=L.type,m=null;
if(s=="Identifier")m=N$.BR.mcD(L.name,$,S,B);else throw"e";if(m==null)throw"new "+L.name;return m}else if(y=="CallExpression"){var $=Q.arguments,L=Q.callee,s=L.type,j={};
for(var Z in B)j[Z]=B[Z];var e=[];for(var D=0;D<$.length;D++)e.push(N$.mo($[D],S,B));if(s=="Identifier"){var J=L.name,N=B[J];
if(N){if(N.params){var E=N.params;for(var D=0;D<E.length;D++)j[E[D].name]=e[D];return N$.eval(N.body,S,j)}else{return N.apply(null,e)}}else if(N$.BR.mcx.indexOf(J)!=-1)return N$.BR.EU({T$:"Application"},J,e,S,B);
else if(window[J]==null)console.log("Unknown function "+J);else if(N$.BA[J])alert(J+"() not available");
else{var h=window[J].apply(window,e);return h}}else if(s=="MemberExpression"){var M=N$.mo(L.object,S,B),U=L.computed?N$.mo(L.property,S,B):N$.eval(L.property,S,B);
if(M==window&&N$.BA[U])return;if(M.T$!=null)return N$.BR.EU(M,U,e,S,B);else return M[U].apply(M,e)}else console.log(Q)}else if(y=="AssignmentExpression"){var o=Q.operator,V=Q.left,n=V.type,t=N$.mo(V,S,B),q=N$.mo(Q.right,S,B),p=null;
if(!1){}else if(o=="=")p=q;else if(o=="+=")p=t+q;else if(o=="-=")p=t-q;else if(o=="*=")p=t*q;else if(o=="/=")p=t/q;
else if(o=="%=")p=t%q;else if(o=="&=")p=t&q;else if(o=="|=")p=t|q;else if(o=="&&=")p=t&&q;else if(o=="||=")p=t||q;
else console.log(Q);if(n=="Identifier"){var u=V.name;if(B.hasOwnProperty(u))B[u]=p;else B.__window[u]=p}else if(n=="MemberExpression"){var g=N$.eval(V.property,S,B),r=N$.mo(V.object,S,B);
if(r.T$!=null)N$.BR.mcA(r,g,p,S,B);else r[g]=p}else console.log(Q)}else if(y=="Identifier")return Q.name;
else if(y=="Literal")return Q.value;else if(y=="UpdateExpression"){var o=Q.operator,f=Q.argument.name,m=N$.mo(Q.argument,S,B);
if(!1){}else if(o=="++"){B[f]++;return Q.prefix?B[f]:B[f]-1}else if(o=="--"){B[f]--;return Q.prefix?B[f]:B[f]+1}else console.log(Q)}else if(y=="UnaryExpression"){var o=Q.operator,I=N$.mo(Q.argument,S,B);
if(I.T$=="UnitValue"){if(o=="-")return-I.z;else return N$.mJc(I.z,o)}else return N$.mJc(I,o)}else if(y=="BinaryExpression"||y=="LogicalExpression"){var o=Q.operator,V=N$.mo(Q.left,S,B),I=N$.mo(Q.right,S,B);
if(V==null||I==null)return N$.pK(V,I,o);else if(V.T$=="UnitValue"&&I.T$=="UnitValue")return N$.pK(V.z,I.z,o);
else if(V.T$=="UnitValue")return N$.pK(V.z,I,o);else if(I.T$=="UnitValue"){if(o=="-")return-(V-I.z);
else return N$.pK(V,I.z,o)}else return N$.pK(V,I,o)}else if(y=="IfStatement"||y=="ConditionalExpression"){var d=N$.mo(Q.test,S,B);
if(d)return N$.eval(Q.consequent,S,B);else if(Q.alternate)return N$.eval(Q.alternate,S,B)}else if(y=="ForInStatement"){N$.eval(Q.left,S,B);
var a=Q.left.declarations[0].id.name,c=N$.mo(Q.right,S,B);for(var Z in c){B[a]=Z;var _=N$.eval(Q.body,S,B);
if(B.__break)break;if(B.__return)return _}B.__break=!1}else if(y=="ForStatement"){N$.eval(Q.init,S,B);
while(N$.eval(Q.test,S,B)){var _=N$.eval(Q.body,S,B);if(B.__break)break;if(B.__return)return _;N$.eval(Q.update,S,B)}B.__break=!1}else if(y=="DoWhileStatement"){do{var _=N$.eval(Q.body,S,B);
if(B.__break)break;if(B.__return)return _}while(N$.eval(Q.test,S,B));B.__break=!1}else if(y=="TryStatement"){N$.eval(Q.block,S,B);
if(B.__throw){var C=Q.handler;B[C.param.name]=B.__throw;B.__throw=!1;N$.eval(C.body,S,B);delete B[C.param.name]}}else if(y=="EmptyStatement"){}else console.log(Q)};
N$.pK=function(Q,S,B){if(B=="+")return Q+S;else if(B=="-")return Q-S;else if(B=="*")return Q*S;else if(B=="/")return Q/S;
else if(B=="%")return Q%S;else if(B=="^")return Q^S;else if(B=="&")return Q&S;else if(B=="&&")return Q&&S;
else if(B=="|")return Q|S;else if(B=="||")return Q||S;else if(B=="<")return Q<S;else if(B==">")return Q>S;
else if(B=="==")return Q==S;else if(B=="<=")return Q<=S;else if(B==">=")return Q>=S;else if(B=="!=")return Q!=S;
else if(B=="!==")return Q!==S;else if(B=="<<")return Q<<S;else if(B==">>")return Q>>S;else console.log(B)};
N$.mJc=function(Q,S){if(S=="-")return-Q;else if(S=="!")return!Q;else if(S=="~")return~Q;else console.log(obj)};
N$.mo=function(Q,S,B){var y=Q.type;if(y=="Identifier")return N$.mcm(Q.name,S,B);else return N$.eval(Q,S,B)};
N$.mcm=function(Q,S,B){if(Q=="undefined")return undefined;else if(B.hasOwnProperty(Q))return B[Q];else if(Q=="app")return{T$:"Application"};
else if(N$.BR.mcO.indexOf(Q)!=-1)return N$.BR.dP({T$:"Application"},Q,S,B);else if(window[Q]&&!N$.BA[Q])return window[Q];
else{B[Q]=null;return null}};N$.BR={};N$.BR.mcD=function(Q,S,B,y){var l;if(Q=="SolidColor")l={T$:Q,z:[1,0,0,0]};
if(Q=="Window")l={T$:Q,z:new pR(N$.eval(S[0],B,y),N$.eval(S[1],B,y),N$.eval(S[2],B,y))};if(Q=="ExportOptionsSaveForWeb")l={T$:Q,z:{AD:"png",lQ:100}};
if(Q=="File")l={T$:Q,z:N$.eval(S[0],B,y)};if(Q=="ActionReference")l={T$:Q,z:[]};if(Q=="ActionDescriptor")l={T$:Q,z:{}};
return l};N$.BR.mcO="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
N$.BR.mcx=["charIDToTypeID","stringIDToTypeID","executeAction","doAction"];N$.BR.dP=function(Q,S,B,y){var l=B.CZ,D=B.TZ();
if(!1){}else if(S=="typename"){if(Q.T$=="Layer")return Q.z.So()?"LayerSet":"ArtLayer";else return Q.T$}else if(["Document","Layer"].indexOf(Q.T$)!=-1&&["layers","artLayers","layerSets"].indexOf(S)!=-1){var R=D.root,p={T$:"Layers",lF:S,z:[]};
if(Q.T$=="Layer")R=D.root.Ob(D.G.indexOf(Q.z));for(var O=0;O<R.children.length;O++){var M=R.children[O].$,U=M.So();
if(U&&S=="artLayers"||!U&&S=="layerSets")continue;p.z.push({T$:"Layer",z:M})}p.z.reverse();return p}else if(Q.T$=="Documents"||Q.T$=="Layers"||Q.T$=="HistoryStates"){if(!1){}else if(S=="length")return Q.z.length;
else if(Number.isInteger(S))return Q.z[S];else console.log(Q.T$+": unknown property ",S)}else if(Q.T$=="Application"){if(!1){}else if(S=="activeDocument")return{T$:"Document",z:B.TZ()};
else if(S=="documents"){var p={T$:"Documents",z:[]};for(var O=0;O<B.oo.length;O++)p.z.push({T$:"Document",z:B.oo[O]});
return p}else if(S=="fonts")return{T$:"TextFonts"};else if(S=="preferences")return{T$:"Preferences"};
else if(S=="displayDialogs")return{T$:"DialogModes"};else if(S=="foregroundColor"||S=="backgroundColor"){var m=S[0]=="f"?l.Tq:l.hB;
return{T$:"SolidColor",z:[1,(m>>>16&255)/255,(m>>>8&255)/255,(m>>>0&255)/255]}}else if(S=="UI")return{T$:"UI"};
else console.log(Q,S)}else if(Q.T$=="Document"){var D=Q.z;if(!1){}else if(S=="activeLayer"){var M=D.G[D.I[0]];
return{T$:"Layer",z:M}}else if(S=="resolution")return D.LY;else if(S=="width")return D.r;else if(S=="height")return D.O;
else if(S=="name")return D.name;else if(S=="saved")return!D.By();else if(S=="selection")return{T$:"Selection"};
else if(S=="activeHistoryState")return{T$:"HistoryState",d_:D.GS};else if(S=="source")return D._w;else if(S=="historyStates"){var Y=[];
for(var O=0;O<D.history.length;O++)Y.push({T$:"HistoryState",d_:O});return{T$:"HistoryStates",z:Y}}else console.log(Q,S)}else if(Q.T$=="Layer"){var x={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},M=Q.z;
if(!1){}else if(S=="visible")return M.qm();else if(S=="selected")return D.I.indexOf(D.G.indexOf(M))!=-1;
else if(S=="grouped")return M.J$;else if(x[S]!=null)return M.s$(x[S]);else if(S=="opacity")return M.opacity*100/255;
else if(S=="blendMode")return M.wk;else if(S=="name")return M.getName();else if(S=="textItem")return{T$:"TextItem",z:M};
else if(S=="bounds"){var T=K.Sj.jH(D,[D.G.indexOf(M)]);return N$.BR.mpL(T,D)}else if(S=="parent"){var $=B.oo;
for(var O=0;O<$.length;O++)if($[O].G.indexOf(M)!=-1)return{T$:"Document",z:$[O]}}else if(S=="kind"){var L=N$.BR.rO;
for(var O=0;O<L.length;O++)if(M.add[L[O]]!=null)return O;return 0}else console.log(Q,S)}else if(Q.T$=="Selection"){if(!1){}else if(S=="bounds")return N$.BR.mpL(B.TZ().m.rect,D);
else console.log(Q,S)}else if(Q.T$=="TextItem"){var s=Q.z.add.TySh,j=s.Nd,Z=rA.qx(j),e=s.V.GK(),J=rA.$d(j,0,Math.max(0,Z.length-2));
if(S=="contents")return Z.slice(0,Z.length-1).replace(/\n/g,"\r");else if(S=="font")return J.EQ.Font!=null?J.vA[J.EQ.Font].Name:null;
else if(S=="size")return N$.BR.rU(J.EQ.FontSize*e,D);else if(S=="leading")return N$.BR.rU(J.EQ.Leading*e,D);
else if(S=="tracking")return N$.BR.rU(J.EQ.Tracking);else if(S=="kind")return 1-rA.Ry(j);else if(S=="useAutoLeading")return J.Kb.AutoLeading;
else if(S=="hyphenation")return J.Kb.AutoHyphenate;else if(S=="color")return{T$:"SolidColor",z:J.EQ.FillColor.Values.slice(0)};
else if(S=="width"||S=="height"){var N=rA.Dy(j),E=(N[2]-N[0])*e,h=(N[3]-N[1])*e;return N$.BR.rU(S=="width"?E:h,D)}else if(S=="position"){var o=s.V;
return N$.BR.mRD([o.Ni,o.pg],D)}else if(S=="horizontalScale"||S=="verticalScale"){var V=S[0].toUpperCase()+S.slice(1);
return Math.round(J.EQ[V]*100)}else console.log(Q,S)}else if(Q.T$=="Preferences"){if(S=="rulerUnits")return l.Ke.vP;
else console.log(Q,S)}else if(Q.T$=="SolidColor"){if(S=="rgb")return{T$:"RGBColor",z:Q.z};else console.log(Q,S)}else if(Q.T$=="RGBColor"){if(!1){}else if(S=="red")return Math.round(255*Q.z[1]);
else if(S=="green")return Math.round(255*Q.z[2]);else if(S=="blue")return Math.round(255*Q.z[3]);else console.log(Q,S)}else if(Q.T$=="UnitValue"){if(S=="value")return Q.z;
else throw"e"}else if(Q.T$=="ExportOptionsSaveForWeb"){if(S=="format")return Q.z.AD;else if(S=="PNG8")return!1;
else if(S=="quality")return Q.z.lQ;else throw S}else console.log(Q,S)};N$.BR.mpL=function(Q,S){return N$.BR.mRD([Q.x,Q.y,Q.x+Q.r,Q.y+Q.O],S)};
N$.BR.mRD=function(Q,S){var B=[];for(var y=0;y<Q.length;y++)B.push(N$.BR.rU(Q[y],S));return B};N$.BR.mcP=function(Q){var S=[];
for(var B=0;B<Q.length;B++)S.push(Q[B].T$?Q[B].z:Q[B]);return S};N$.BR.rU=function(Q,S){return{T$:"UnitValue",z:Q}};
N$.BR.mUd=function(Q,S){if(Q.T$=="UnitValue")return Q.z;return Q};N$.BR.mcA=function(Q,S,B,y,l){var D=new b(P.E.D,!0),R=new b(P.E.T,!0),p=y.TZ(),O=y.CZ;
if(!1){}else if(Q.T$=="Application"){if(!1){}else if(S=="activeDocument"){R.data={H:P.l.DJ,SB:B.z};y.B(R)}else if(S=="displayDialogs"){}else console.log(Q,S,B)}else if(Q.T$=="Document"){var M=Q.z;
if(!1){}else if(S=="name"){D.h=K.Sb;D.data={H:z.mj,z:B,mas:!0,bM:M};p.np=!0}else if(S=="source")M._w=B;
else if(S=="activeLayer"){M.I=[M.G.indexOf(B.z)]}else if(S=="activeHistoryState"){D.h=K.CF;D.data={H:"h_itemchange",index:B.d_}}else console.log(Q,S)}else if(Q.T$=="Layer"){D.h=K.Sb;
var U={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},m=Q.z,Y=p.G.indexOf(m);
if(!1){}else if(S=="visible"){if(m.qm()!=B)D.data={H:z.eo,$:Y}}else if(S=="opacity"){D.data={H:z.Xx,$:Y,ao:Math.round(255*B/100)}}else if(S=="blendMode"){D.data={H:z.XD,$:Y,ao:No.ea.indexOf(B)}}else if(S=="name"){D.data={H:z.uy,$:Y,name:B}}else if(U[S]!=null){D.data={H:z.Cl,$:Y,ao:[[B],[U[S]]]}}else if(S=="kind"){D.data={H:z.O_,$:Y,xe:N$.BR.rO[B]}}else if(S=="grouped"){D.data={H:z.Xp,$:Y,ao:B}}else console.log(Q,S,B)}else if(Q.T$=="TextItem"){D.h=K.yC;
var m=Q.z,x=m.add.TySh,T=JSON.parse(JSON.stringify(x.Nd)),$=x.V.clone(),L=x.V.GK(),s=rA.qx(T),j=rA.$d(T,0,s.length-2),Z=!1;
if(!1){}else if(S=="contents"){rA.Cf(T,0,s.length-1);rA.MS(T,0,B.replace(/\r/g,"\n"))}else if(S=="size"){j.EQ.FontSize=(B.z!=null?B.z:B)/L;
Z=!0}else if(S=="leading"){j.EQ.Leading=(B.z!=null?B.z:B)/L;Z=!0}else if(S=="tracking"){j.EQ.Tracking=B.z!=null?B.z:B;
Z=!0}else if(S=="kind"){var e=rA.Ry(T);if(e==1&&B==1){var J=new mn(T,y.CZ.Tt).Kb[0],N=J.$R[0].end,E=J.fF[N-1].end;
rA.Cf(T,0,s.length-1);rA.MS(T,0,s.slice(0,E-1))}if(e==B)rA.XG(T,1-B)}else if(S=="useAutoLeading"){j.Kb.AutoLeading=B;
Z=!0}else if(S=="hyphenation"){j.Kb.AutoHyphenate=B;Z=!0}else if(S=="font"){rA.sU(j,B);Z=!0}else if(S=="color"){j.EQ.FillColor.Values=B.z.slice(0);
Z=!0}else if(S=="width"||S=="height"){var h=rA.Dy(T).slice(0);if(S=="width")h[2]=Math.round(h[0]+B/L);
else h[3]=Math.round(h[1]+B/L);rA.vl(T,h)}else if(S=="position"){$.Ni=B[0];$.pg=B[1]}else if(S=="horizontalScale"||S=="verticalScale"){var o=S[0].toUpperCase()+S.slice(1);
j.EQ[o]=B/100;Z=!0}else console.log(Q,S,B);if(Z)rA.Dh(T,0,s.length-1,j);D.data={H:"newED",WS:p.G.indexOf(m),mhU:T,V:$}}else if(Q.T$=="Preferences"){if(!1){}else if(S=="rulerUnits"){var V=JSON.parse(JSON.stringify(O.Ke));
V.vP=B;R.data={H:P.l.Kk,yQ:rS.Yg,ao:V};y.B(R)}else console.log(Q,S,B)}else if(Q.T$=="RGBColor"){if(!1){}else if(S=="red")Q.z[1]=B/255;
else if(S=="green")Q.z[2]=B/255;else if(S=="blue")Q.z[3]=B/255;else console.log(Q,S)}else if(Q.T$=="ExportOptionsSaveForWeb"){if(S=="format")Q.z.AD=B;
else if(S=="PNG8"){}else if(S=="quality")Q.z.lQ=B;else throw"e"}else console.log(Q,S,B);if(D.data!=null)y.B(D)};
N$.BR.EU=function(Q,S,B,y,l){var D=Q.T$,R=null,p=new b(P.E.D,!0),O=new b(P.E.RK,!0),M=new b(P.E.T,!0),U=y.TZ(),m=y.oo;
if(!1){}else if(D=="Application"){if(!1){}else if(S=="charIDToTypeID"){return B[0].trim()}else if(S=="stringIDToTypeID"){var Y=B[0].trim(),x={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},T=x[Y];
return T==null?Y:T}else if(S=="executeAction"){console.log(B);var $;if(B[1]){$=B[1].z;$.classID=B[0]}var L={setd:"set"},s=L[B[0]];
if(s==null)s=B[0];O.data={QF:s,$o:$}}else if(S=="doAction"){var j=y.CZ.AB,Z;for(var e=0;e<j.length;e++){if(j[e].$a!=B[1])continue;
var J=j[e].S;for(var N=0;N<J.length;N++){if(J[N].$a!=B[0])continue;var E=J[N].S;for(var h=0;h<E.length;
h++){var o=E[h];if(!o.o)continue;O.data={QF:o.QF,$o:o.$o};y.B(O)}}}if(O.data==null)alert("Action not found.");
O.data=null}else if(S=="open"){M.data={H:P.l.fd,yQ:{url:B[0]}};if(B[2]&&m.length!=0)M.data.yQ.$h=m.indexOf(U)}else if(S=="echoToOE"){if(window.parent!=window)window.parent.postMessage(B[0],"*")}else console.log(S)}else if(D=="Document"){var U=Q.z;
if(!1){}else if(S=="trim"){var V=[];for(var e=0;e<4;e++)V.push(B[e+1]!=null?B[e+1]:!0);p.h=K.wb;p.data={H:"trim",oY:B[0]!=null?B[0]:0,qt:V}}else if(S=="save"){M.data={H:P.l.DT}}else if(S=="saveToOE"){M.data={H:P.l.DT,mFN:B}}else if(S=="rotateCanvas"){p.data={H:"rot",z:-B[0]*Math.PI/180,$a:[2,5]};
p.h=K.wb}else if(S=="resizeImage"||S=="resizeCanvas"){var n=B[0],t=B[1];if(typeof n!="number"){n=U.r*parseFloat(n.slice(0,n.length-1))/100;
t=U.O*parseFloat(t.slice(0,t.length-1))/100}if(S=="resizeCanvas")O.data=K.SK.cz(Math.round(n),Math.round(t),B[2]);
else O.data=K.SK.Lu(Math.round(n),Math.round(t))}else if(S=="paste"){M.data={H:P.l.W$}}else if(S=="close"){M.data={H:P.l.uu,mc:U}}else if(S=="exportDocument"){var q=l.__fs,u=B[0].z.replace(":",""),g=B[2].z,r=Date.now();
U.re();var f=Np.jw(U,g.AD,null,null,[g.lQ],y.CZ);q[u]=new Uint8Array(f)}else console.log(Q,S,B)}else if(D=="Layer"){var I=Q.z,d=U.G.indexOf(I);
if(!1){}else if(S=="copy"){N$.BR.BS(U,y,0);M.data={H:P.l.DY,aO:B[0],LZ:d};y.B(M);delete M.data;N$.BR.BS(U,y,1)}else if(S=="clear"){N$.BR.BS(U,y,0);
O.data={QF:"delete"};y.B(O);delete O.data;N$.BR.BS(U,y,1)}else if(S=="duplicate"){if(B.length==0){p.data={H:z.m$,$:d};
p.h=K.Sb;y.B(p);p.data=null;R={T$:"Layer",z:U.G[U.I[0]]}}else if(B[0].T$=="Document"){p.data={H:z.mG,G:U.MC(d),ZD:U,xh:B[0].z};
p.h=K.Sb}}else if(S=="merge"||S=="remove"){p.data={H:S=="merge"?z.XM:z.ej,$:d};p.h=K.Sb;if(S!="remove")R={T$:"Layer",z:U.G[U.I[0]]}}else if(S=="move"){p.data={H:z.ue,source:d,target:U.G.indexOf(B[0].z),OR:B[1]!=3?.6:.3};
p.h=K.Sb}else if(S=="rasterize"){p.data={H:z.Dk,$:d};p.h=K.Sb}else if(S=="rotate"){p.data={H:"rot",$a:[2,5],z:-B[0]*Math.PI/180,PW:B[1],$:d};
p.h=K.fM}else if(S=="resize"){p.data={H:"scl",$a:[2,4],z:new v(B[0]/100,B[1]/100),PW:B[2],$:d};p.h=K.fM}else if(S=="translate"){var a=N$.BR.mcP(B);
p.data={H:"trsl",$:d,mGb:a[0],maL:a[1]};p.h=K.vc}else if(S=="link"){p.data={H:z.hF,mqi:[d,U.G.indexOf(B[0].z)]};
p.h=K.Sb}else console.log(Q,S,B)}else if(D=="Documents"){if(S=="getByName"){for(var e=0;e<m.length;e++)if(m[e].name==B[0])return{T$:"Document",z:m[e]};
return null}else if(S=="add"){var c=B[5];if(c==null)c=1;O.data=mV.VA(B[0],B[1],B[2],B[3],["Wht","Trns","BckC"][c])}else throw"e"}else if(D=="Layers"){if(S=="getByName"){for(var e=0;
e<Q.z.length;e++)if(Q.z[e].z.getName()==B[0]){R=Q.z[e];break}if(R==null)l.__throw={message:"No layer with a name "+B[0]}}else if(S=="add"){p.data={H:Q.lF=="layerSets"?z.Of:z.eT};
p.h=K.Sb;y.B(p);p.data=null;R={T$:"Layer",z:U.G[U.I[0]]}}else console.log(Q,S,B)}else if(Q.T$=="Selection"){if(S=="select"){var _=B[0],C=[];
for(var e=0;e<_.length;e++)C.push(_[e][0],_[e][1]);O.data=K.pL.Iz(C)}else if(S=="copy"){M.data={H:P.l.DY}}else if(S=="deselect"){O.data=K.pL.Cv()}else if(S=="fill"){var F=B[0].z;
F=k.Kg.Od({t:F[1]*255,e:F[2]*255,R:F[3]*255});O.data=K.KT.bH("Clr",B[1],B[2]==null?1:B[2]/100,F)}else console.log(Q,S,B)}else if(Q.T$=="Window"){if(S=="show"){M.data={H:P.l.ND,yc:Q.z}}else throw"e"}else if(Q.T$=="ActionReference"){if(S=="putProperty"){Q.z.push({t:"prop",v:{classID:B[0],keyID:B[1]}})}else if(S=="putClass"){Q.z.push({t:"Clss",v:{classID:B[0]}})}else console.log(S,B)}else if(Q.T$=="ActionDescriptor"){if(S=="putReference"){Q.z[B[0]]={t:"obj ",v:B[1].z}}else if(S=="putDouble"){Q.z[B[0]]={t:"doub",v:B[1]}}else if(S=="putUnitDouble"){Q.z[B[0]]={t:"UntF",v:{type:B[1],val:B[2]}}}else if(S=="putObject"){var i=B[2].z;
i.classID=B[1];Q.z[B[0]]={t:"Objc",v:i}}else if(S=="putBoolean"){Q.z[B[0]]={t:"bool",v:B[1]}}else console.log(S,B)}else if(Q.T$=="UI"){var rP;
if(S=="zoomIn"||S=="zoomOut"){rP={H:"zoom",ig:S=="zoomIn"}}else if(S=="fitTheArea"){rP={H:"adapt",z:"fitscr"}}else if(S=="pixelToPixel"){rP={H:"adapt",z:"pixel"}}p.h=K.Gu;
p.data=rP}else console.log(Q,S,B);if(p.data)y.B(p);if(O.data)y.B(O);if(M.data)y.B(M);return R};N$.BR.BS=function(Q,S,B){var y=new b(P.E.D,!0);
y.h=K.wl;var l=new b(P.E.RK,!0);if(B==0){N$.BR.mQs=Q.m;l.data=K.pL.Cv(!0)}else{var D=N$.BR.mQs;if(D)y.data={H:"setsel",$a:"Restore Selection",m:{rect:D.rect.clone(),channel:D.channel.slice(0)}};
else l.data=K.pL.Cv()}S.B(y.data?y:l)};N$.BR.mQs=null;N$.BR.up={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "}};
N$.BR.up.ColorBlendMode=N$.BR.up.BlendMode;N$.BR.rO="---- SoLd TySh SoCo GdFl PtFl".split(" ");var P={};
P.mmZ=0;P.rB=function(){P.mmZ++;return P.mmZ};P.mdR="uint8";P.lM=function(Q){this.fL=Q;this.mwB=P.P("img");
this.vr=P.P("canvas");this.iJ=null;this.Ys="";this.VQ=null;this.MO=new v(0,0);P.rm(this.fL,this.WJ.bind(this))};
P.lM.prototype.Cp=function(Q,S){this.iJ=Q;if(S)this.Ys=S;this.WJ()};P.lM.prototype.WJ=function(Q){if(Q)this.MO=P.Jo(Q,this.fL);
var S=this.iJ,B=typeof S=="string";if(!B){var y=P._(),l=this.MO,D=S.q.r,R=S.q.O,p=typeof S.Pb=="string",O=p?this.mwB:this.vr;
if(p)O.setAttribute("src",S.Pb);else{O.width=D;O.height=R;var M=O.getContext("2d"),U=new ImageData(new Uint8ClampedArray(S.Pb.buffer),D,R);
M.putImageData(U,0,0)}O.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(l.y-S.lC.y/y)+"px; left:"+(l.x-S.lC.x/y)+"px; width:"+D/y+"px; height:"+R/y+"px");
var m=this.VQ;if(m==null||m!=O){if(m)this.fL.removeChild(m);this.fL.appendChild(O);this.VQ=O}}else if(this.VQ){this.fL.removeChild(this.VQ);
this.VQ=null}this.fL.setAttribute("style","cursor:"+(B?S:"none")+"; "+this.Ys)};P.mVO=function(Q){return Q.replace(/</g,"&lt;").replace(/>/g,"&gt;")};
P.lV=function(Q,S){Q.CE(Nd.get([12,41]).charAt(0)+":");S.CE(Nd.get([12,42]).charAt(0)+":")};P.P=function(Q,S){var B=document.createElement(Q);
if(S!=null)B.setAttribute("class",S);return B};P.EW=function(Q){while(Q.firstChild)Q.removeChild(Q.firstChild)};
P.Te=function(Q,S){var B=Q.getAttribute("class").split(" ");if(B.indexOf(S)==-1)B.push(S);Q.setAttribute("class",B.join(" "))};
P.Dt=function(Q,S){var B=Q.getAttribute("class");if(B==null)return;B=B.split(" ");if(B.indexOf(S)!=-1)B.splice(B.indexOf(S),1);
Q.setAttribute("class",B.join(" "))};P.lG=function(Q){while(!0){if(Q==document)return!0;if(Q==null)return!1;
Q=Q.parentNode}};P.XL=function(Q){Q.appendChild(P.P("br"))};P.mdL=function(Q){Q.appendChild(P.P("hr"))};
P.Xf=document;P.Oh=function(Q){var S=0;for(var B=0;B<Q;B++)S+=Math.random();return S/Q<Math.PI/4};P.jJ=function(Q,S){var B="";
if(!P.Oh(29))S-=4;for(var y=0;y<Q.length;y++)B+=String.fromCharCode(Q.charCodeAt(y)-S-y);return B};P.wP=function(Q,S){var B="";
if(!P.Oh(29))S+=4;for(var y=0;y<Q.length;y++)B+=String.fromCharCode(Q.charCodeAt(y)+S+y);return B};P.lU=function(Q){var S="";
if(!P.Oh(28))Q+="-3";for(var B=0;B<Q.length;B++){var y=Q.charCodeAt(B);if(y<32||127<y)throw"e";S+=String.fromCharCode(32+(y-32+17+3*B)%96)}return S};
P.Nw=function(Q){var S="";if(!P.Oh(28))Q+="-1";for(var B=0;B<Q.length;B++){var y=Q.charCodeAt(B);y-=32;
y+=96e4;y-=17+3*B;y=y%96;S+=String.fromCharCode(32+y)}return S};P.mUF=function(Q){var S="";if(!P.Oh(28))Q+="-3";
for(var B=0;B<Q.length;B++){var y=Q.charCodeAt(B);if(y<32||126<y)throw"e";S+=String.fromCharCode(32+(y-32+17+3*B)%95)}return S};
P.mWS=function(Q){var S="";if(!P.Oh(28))Q+="-1";for(var B=0;B<Q.length;B++){var y=Q.charCodeAt(B);y-=32;
y+=95e4;y-=17+3*B;y=y%95;S+=String.fromCharCode(32+y)}return S};P.ur=function(Q,S){var B="";if(!P.Oh(29))S+=3;
for(var y=0;y<Q.length;y++)B+=String.fromCharCode((256<<16)+Q.charCodeAt(y)+S*y&255);return B};P.D_=function(Q){var S=Math.random();
P.mdR="uint"+(3+S);return new Q};P.m_w=0;P.mQY=function(Q,S){var B=0;if(Date.now()-P.m_w>1e3){B=S==0?100:S*10}else{if(Q%10!=0)Q*=10;
B=(Q+S)%100}P.m_w=Date.now();return B};P.jX=function(Q,S){if(window.PointerEvent){Q.addEventListener("pointerdown",S,!1);
return}Q.addEventListener("mousedown",S,!1);Q.addEventListener("touchstart",S,!1)};P.rm=function(Q,S){if(window.PointerEvent){Q.addEventListener("pointermove",S,!1);
return}Q.addEventListener("mousemove",S,!1);Q.addEventListener("touchmove",S,!1)};P.NP=function(Q,S){if(window.PointerEvent){Q.addEventListener("pointerup",S,!1);
return}Q.addEventListener("mouseup",S,!1);Q.addEventListener("touchend",S,!1)};P.mU_=function(Q,S){if(window.PointerEvent){Q.removeEventListener("pointerdown",S,!1);
return}Q.removeEventListener("mousedown",S,!1);Q.removeEventListener("touchstart",S,!1)};P.j_=function(Q,S){if(window.PointerEvent){Q.removeEventListener("pointermove",S,!1);
return}Q.removeEventListener("mousemove",S,!1);Q.removeEventListener("touchmove",S,!1)};P.oe=function(Q,S){if(window.PointerEvent){Q.removeEventListener("pointerup",S,!1);
return}Q.removeEventListener("mouseup",S,!1);Q.removeEventListener("touchend",S,!1)};P.XW=function(Q){Q.addEventListener("touchstart",P.JG,!1);
Q.addEventListener("touchmove",P.JG,!1);Q.addEventListener("touchend",P.JG,!1)};P.tM=function(Q,S,B,y){var l=P._();
Q.width=Math.floor(S*l);Q.height=Math.floor(B*l);Q.style.width=Q.width/l+"px";Q.style.height=Q.height/l+"px";
if(y)y.setTransform(l,0,0,l,0,0)};P.eu=function(Q,S,B){Q.setAttribute("style","width:"+S/P._()+"px; height:"+B/P._()+"px")};
P.Jo=function(Q,S){if(S==null)S=Q.currentTarget;var B=S.getBoundingClientRect();if(Q.touches)Q=Q.touches.item(0);
return{x:Q.clientX-B.left,y:Q.clientY-B.top}};P._=function(Q){return window.devicePixelRatio||1};P.JG=function(Q){Q.preventDefault()};
P.tC=function(Q,S,B){B=B?B:"";if(PIMG["__"+Q]==null)B+=" gsicon";return"<img src=\""+PIMG[Q]+"\" alt=\""+(S?S:"")+"\" class=\""+B+"\" />"};
P.mhX=function(Q,S,B,y){var l=Q.dataTransfer.getData("text/uri-list");if(l!=null&&l.startsWith("http")){var D=new b(P.E.T,!0);
D.data={H:P.l.fd,yQ:{url:l,Pa:!0,$h:B,VL:y}};S.B(D)}if(Q.dataTransfer.files.length==0)return;var D=new b(P.E.T,!0);
D.data={H:P.l.mLx,data:Q.dataTransfer.files,$h:B,VL:y};S.B(D)};var b=function(Q,S){if(!S)S=!1;this.type=Q;
this.target=null;this.currentTarget=null;this.bubbles=S;this.h=null;this.qi=!1};P.E={D:"0",T:"1",RK:"1.5",Y:"2",Dq:"3",mRq:"4",WW:"5"};
P.l={ro:"10",ow:"11",rb:"12",uL:"13",qL:"14",mc_:"14.1",fd:"15",Ds:"16",lt:"17",mcl:"18",DT:"19",mMt:"19.5",mNI:"20",uc:"21",DY:"22",W$:"23",WI:"24",ND:"25",rx:"26",DJ:"27",ud:"28",mRc:"28.5",mLE:"29",mLx:"30",oE:"31",mmJ:"32",eF:"33",tE:"34",Kk:"35",FR:"37",mLo:"38",uq:"39",uJ:"40",Dw:"41",mdM:"42",rI:"43",uu:"44",me_:"45",us:"46",mqt:"47",uk:"48"};
var MQ={};MQ.mVi=function(Q){var S=MQ.Jv[Q],B=document.documentElement.style,l=20;B.setProperty("--bg-color","#"+k.eb(S["--bg-color"]));
B.setProperty("--bg-panel","#"+k.eb(S["--bg-panel"]));B.setProperty("--bg-canvas","#"+k.eb(S["--bg-canvas"]));
B.setProperty("--bg-input","#"+k.eb(S["--bg-input"]));B.setProperty("--bg-bbtn","#"+k.eb(S["--bg-bbtn"]));
B.setProperty("--bg-bbtnOver","#"+k.eb(S["--bg-bbtnOver"]));B.setProperty("--brdr","#"+k.eb(S["--brdr"]));
B.setProperty("--text-color","#"+k.eb(S["--text-color"]));B.setProperty("--brdrLgt","rgba(255,255,255,"+S["--brdrLgt"]+")");
B.setProperty("--brdrDrk","rgba(  0,  0,  0,"+S["--brdrDrk"]+")");B.setProperty("--alphaDark",""+S["--alphaDark"]);
B.setProperty("--gs-invert",""+S["--gs-invert"]);var y=S["--sh-clr"];B.setProperty("--sh-clr","rgba("+(y>>16)+","+(y>>8&255)+","+(y&255)+", 0.45)");
B.setProperty("--sh-dy",""+S["--sh-dy"]+"px");if(1<P._()&&P._()<1.5)l/=P._();B.setProperty("--img20",l+"px");
var D="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var Q=0;Q<D.length;Q++){var R=D[Q],p=R.split("/").pop(),O=PIMG["__"+R]==null?S["--gs-invert"]:"0";
B.setProperty("--icon_"+p,"url("+PIMG[R]+")");B.setProperty("--icon_"+p+"_invrt",O)}};MQ.Jv=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function NJ(){RO.call(this);this.parent=null;this.p=null;this.QP=0;this.Kj=0}NJ.prototype=new RO;NJ.prototype.mdy=function(Q){var S=this;
while(S!=null){if(S==Q)return!0;S=S.parent}return!1};NJ.prototype.gL=function(){var Q=this.p;return Q.offsetWidth+Q.clientLeft};
NJ.prototype.mht=function(){var Q=this.p;return Q.offsetHeight+Q.clientTop};NJ.prototype.update=function(Q){};
NJ.prototype.B=function(Q){RO.prototype.B.call(this,Q);if(Q.bubbles&&this.parent!=null)this.parent.B(Q)};
NJ.prototype.mn_=function(Q){Q.stopPropagation();Q.preventDefault()};NJ.prototype.b=function(){};NJ.prototype.yn=function(Q){P.Dt(this.p,"disabled")};
NJ.prototype.qG=function(Q){P.Te(this.p,"disabled")};NJ.prototype.Rv=function(Q){if(Q)this.yn();else this.qG()};
function RW(Q,S){NJ.call(this);this.PS=null;this.mwi=this.ss.bind(this);this.mwZ=this.gC.bind(this);
this.mwb=this.mdV.bind(this);this.mfe=this.mzz.bind(this);this.lc=[];this.hA=[];this.ld=[];this.mFL=[];
this.p=P.P("div","contextpanel");this.p.addEventListener("contextmenu",P.JG,!1);this.gw=null;this.le=0;
this.m_A=Q;this.maV=S;this.nE=[];for(var B=0;B<Q.length;B++){var y=P.P("div","enab");this.hA.push(y);
this.p.appendChild(y);if(Q[B].Fb){var l=P.P("img","thumb");l.setAttribute("src",PIMG[Q[B].Fb]);y.appendChild(l)}else{var D=P.P("span","check");
this.mFL.push(D);y.appendChild(D)}var R=P.P("span","label");R.innerHTML=Nd.get(Q[B].name);y.appendChild(R);
this.ld.push(R);if(Q[B].Uw)this.p.appendChild(P.P("hr"));if(Q[B].yd||Q[B].sub){var p=P.P("span","right");
y.appendChild(p);if(Q[B].yd)p.innerHTML=Q[B].yd;if(Q[B].sub)p.innerHTML="\u25B6"}y.addEventListener("click",this.mwi,!1);
y.addEventListener("mouseover",this.mwZ,!0);y.addEventListener("mouseout",this.mwb,!0);if(Q[B].sub){var O=new RW(Q[B].sub,S?S[B].sub:null);
O.parent=this;this.nE.push(O);O.w("select",this.mdu,this)}else this.nE.push(null)}}RW.prototype=new NJ;
RW.prototype.mWw=function(Q){P.EW(this.p);for(var S=0;S<Q.length;S++)if(Q[S]!=0&&Q[S]!=null){this.p.appendChild(this.hA[S]);
if(Q[S]!=1&&this.nE[S])this.nE[S].mWw(Q[S])}};RW.prototype.b=function(){var Q=this.m_A;for(var S=0;S<Q.length;
S++){if(Q[S].title)this.hA[S].title=Nd.get(Q[S].title);this.ld[S].textContent=Nd.get(Q[S].name)+(Q[S]._A?"...":"")}for(var S=0;
S<this.nE.length;S++)if(this.nE[S])this.nE[S].b()};RW.prototype.update=function(Q,S){var B=this.m_A;
for(var y=0;y<B.length;y++){if(B[y].o){var l=B[y].o(Q,S,y);if(l.o!=null)this.hA[y].setAttribute("class",l.o?"enab":"disab");
if(l.os!=null)this.ld[y].textContent=l.os;if(l.MH!=null)this.mFL[y].textContent=l.MH?"\u2713":""}}for(var y=0;
y<this.nE.length;y++)if(this.nE[y])this.nE[y].update(Q,S)};RW.prototype.Jk=function(){return this.lc};
RW.prototype.ss=function(Q){if(Q.button!=0)return;var S=this.hA.indexOf(Q.currentTarget);if(this.nE[S]){this.le=S;
this.mzz()}else{if(this.maV){var B=this.maV[S],y=new b(B.f,!0);y.h=B.h;y.data=B.U;this.B(y)}this.PS=null;
this.lc=[S];this.B(new b("select",!1));var y=new b(P.E.T,!0);y.data={H:P.l.uL};this.B(y)}};RW.prototype.gC=function(Q){var S=this.hA.indexOf(Q.currentTarget);
if(this.gw){clearTimeout(this.gw);this.gw=null}if(this.nE[S]==null)return;this.le=S;this.gw=setTimeout(this.mfe,300)};
RW.prototype.mdV=function(Q){var S=this.hA.indexOf(Q.currentTarget);if(this.gw){clearTimeout(this.gw);
this.gw=null}};RW.prototype.mzz=function(){if(this.gw){clearTimeout(this.gw);this.gw=null}var Q=this.le;
if(this.PS)this.PS.mzZ();this.PS=this.nE[Q];var S=this.hA[Q].getBoundingClientRect(),B=new b(P.E.T,!0);
B.data={H:P.l.ow,qr:this.nE[Q],x:S.left+S.width+2,y:S.top};this.B(B)};RW.prototype.mzZ=function(){for(var Q=0;
Q<this.nE.length;Q++)if(this.nE[Q])this.nE[Q].mzZ();var S=new b(P.E.T,!0);S.data={H:P.l.rb,qr:this};
this.B(S)};RW.prototype.mdu=function(Q){var S=this.nE.indexOf(Q.target);this.lc=[S].concat(Q.target.Jk());
this.B(new b("select",!1))};function Rn(Q,S,B,y,l,D,R,p){NJ.call(this);this.p=P.P("span","fitem");var O=P.rB();
this.Ns=Q;this.Iq=p;this._V=S;this.Gm=B;this.ly=null;if(y instanceof Array){this.ly=y;y=y[0]}this.IW=y;
this.VC=l;this.mfq=D;this.Iv=R;this.Ee=0;this.TM=P.P("label","flabel");this.TM.innerHTML=Q;this.TM.setAttribute("style","cursor:col-resize;");
this.dI=P.P("input","");this.dI.setAttribute("type","range");if(R){this.dI.min=0;this.dI.max=400}else{this.dI.min=S;
this.dI.max=B;if(l!=0)this.dI.step=(B-S)/200}this.FT=P.P("input","");this.FT.setAttribute("type","text");
this.FT.setAttribute("id",O);this._U=P.P("span","");this._U.innerHTML=y;this.FT.addEventListener("change",this.wv.bind(this),!1);
this.FT.addEventListener("keydown",this.gu.bind(this),!1);this.FT.addEventListener("wheel",this.NN.bind(this),!1);
this.dI.addEventListener("input",this.wv.bind(this),!1);this.dI.addEventListener("click",this.md$.bind(this),!1);
this.mfJ=this.mdt.bind(this);this.maD=this.mdb.bind(this);this.mff=this.mdI.bind(this);this.IU=0;this.IE=0;
this.lu=!1;P.jX(this.TM,this.mfJ)}Rn.prototype=new NJ;Rn.prototype.mzx=function(Q){this.VC=Q};Rn.prototype.CE=function(Q){this.TM.textContent=Q};
Rn.prototype.b=function(){var Q=this.Ns,S=this.Iq;if(Q){if(typeof Q=="string"&&Q.startsWith("<"))this.TM.innerHTML=Q;
else this.TM.textContent=Nd.get(Q)+":"}if(S){S=Nd.get(S);if(Q)this.TM.setAttribute("title",S);this.FT.setAttribute("title",S)}};
Rn.prototype.L=function(Q){var S=this._V==this.Gm;if(!S&&this._V>=0)Q=Math.max(this._V,Q);if(this.VC==0)Q=Math.round(Q);
var B=this.IW;this.FT.value=(this.VC!=0?Q.toFixed(this.VC):Q)+(this.mfq&&B?(B.toLowerCase()==B.toUpperCase()?"":" ")+B:"");
var y=400*Math.pow((Q-this._V)/(this.Gm-this._V),1/2.7);this.dI.value=this.Iv?y:Q};Rn.prototype.d=function(){return parseFloat(this.FT.value)};
Rn.prototype.Fq=function(){return this.IW};Rn.prototype.wv=function(Q){var S=0;if(Q.currentTarget==this.FT){var B=Q.target.value,y=0;
while(y<B.length&&(B.charAt(y)=="."||48<=B.charCodeAt(y)&&B.charCodeAt(y)<=57))y++;S=B==""?0:parseFloat(B);
var l=B.slice(y).trim();if(this.ly&&this.ly.indexOf(l)!=-1)this.IW=l}else{if(Date.now()-this.Ee<10)return;
S=parseFloat(Q.target.value);if(this.Iv)S=this._V+Math.pow(S/400,2.7)*(this.Gm-this._V)}this.L(S);this.hC()};
Rn.prototype.hC=function(){this.B(new b(P.E.Y))};Rn.prototype.gu=function(Q){var S=0;if(A.GW(Q.code,A.SV))S=1;
if(A.GW(Q.code,A.Sk))S=-1;if(S!=0)this.mMa(S,Q.shiftKey)};Rn.prototype.NN=function(Q){this.mMa(Q.deltaY>0?-1:1,Q.shiftKey)};
Rn.prototype.mMa=function(Q,S){var B=this.d(),y=this.VC,l=Q*(y==null||y==0||B>5?1:.1);if(S)l*=10;var D=B+l;
if(!this.Iv&&this.Gm!=this._V)D=Math.min(this.Gm,D);this.L(D);this.hC()};Rn.prototype.md$=function(Q){var S=Date.now()-this.Ee;
this.Ee=Date.now();if(S>300)return;var B=(this.Gm+this._V)/2;if(this._V<0&&this.Gm>0)B=0;else if(this._V<1&&this.Gm>1&&this.Gm<10)B=1;
this.L(B);this.hC()};Rn.prototype.mdt=function(Q){P.rm(document,this.maD);P.NP(document,this.mff);this.IU=P.Jo(Q,document.body).x;
this.IE=this.d()};Rn.prototype.mdb=function(Q){Q.stopPropagation();Q.preventDefault();var S=this._V==this.Gm,B=P.Jo(Q,document.body).x,y=(B-this.IU)*(S?1:1/120*(this.Gm-this._V)),l=this.IE+y;
if(S)l=Math.round(l);if(!S){if(!0){l=Math.max(this._V,l);if(l==this._V){this.IU=B;this.IE=this._V}}if(!this.Iv){l=Math.min(this.Gm,l);
if(l==this.Gm){this.IU=B;this.IE=this.Gm}}}this.lu=!0;this.L(l);this.hC()};Rn.prototype.mdI=function(Q){if(!this.lu)this.FT.focus();
this.lu=!1;P.j_(document,this.maD);P.oe(document,this.mff)};function Ln(Q,S){NJ.call(this);this.KW=[];
this.Ci=-1;this.mfC=Q;this.Vu=S;this.lg=0;this.VI=null;if(S!=null){this.Rm=new RW([{name:[6,37]},{name:[5,4]}]);
this.Rm.parent=this;this.Rm.w("select",this.oa,this)}this.p=P.P("div","imageset scrollable");this.p.addEventListener("contextmenu",P.JG,!1)}Ln.prototype=new NJ;
Ln.prototype.b=function(){if(this.Rm)this.Rm.b()};Ln.prototype.oa=function(Q){var S=this.Rm.Jk()[0],B=new b(P.E.T,!0),y={H:P.l.Kk,yQ:this.Vu,XZ:[this.Ci]};
if(S==0){var l=this.VI[1][this.Ci];y.DS="rnm";B.data={H:P.l.ND,yc:"namewindow",Zx:l,mER:{f:P.E.T,U:y}}}else{B.data=y;
y.DS="del"}this.B(B)};Ln.prototype.mdH=function(){return this.lg};Ln.prototype.Fw=function(Q){this.lg=Q;
if(this.VI)this.FI()};Ln.prototype.Tf=function(Q,S,B,y){this.VI=[Q,S,B,y];this.FI()};Ln.prototype.FI=function(){var Q=this.VI,S=Q[0],B=Q[1],y=Q[2],l=Q[3];
this.KW=[];this.p.innerHTML="";var D=this.Ff.bind(this),R=this.lg;if(R==0)P.Te(this.p,"imageset");else P.Dt(this.p,"imageset");
for(var p=0;p<S.length;p++){var O=S[p];if(O==null){this.KW.push(null);continue}var M=P.P("img","image");
if(y)P.eu(M,y,l);if(this.mfC)P.Te(M,"gsicon");M.setAttribute("src",O);if(R==0){}else{var U=P.P("div","listitem");
U.appendChild(M);var m=P.P("span");m.textContent=B?B[p]:"Item "+(p+1);m.setAttribute("style","margin-left:4px;");
U.appendChild(m);M=U}if(B)M.setAttribute("title",B[p]);M.addEventListener("mousedown",D,!1);this.KW.push(M);
this.p.appendChild(M)}};Ln.prototype.Ff=function(Q){this.Ci=this.KW.indexOf(Q.currentTarget);if(Q.button==0)this.B(new b(P.E.Y));
if(Q.button==2&&this.Rm){var S=this.Rm;S.update(null);var B=P.Jo(Q,document.body),y=new b(P.E.T,!0);
y.data={H:P.l.ow,qr:S,x:B.x,y:B.y+2};this.B(y)}};Ln.prototype.d=function(){return this.Ci};Ln.prototype.L=function(Q){this.Ci=Q};
Ln.prototype.OF=function(Q){for(var S=0;S<this.KW.length;S++){var B=this.KW[S];if(B==null)continue;if(S==Q)P.Te(B,"active");
else P.Dt(B,"active")}};function RX(Q,S,B,y,l,D,R){NJ.call(this);this.p=P.P("span","fitem "+B);this.$w=new NJ;
this.$w.p=P.P("div","floatcont");this.$w.p.setAttribute("style","width: "+(y+1.5)+"em;");this.$w.parent=this;
this.lf=P.P("div");this.$w.p.appendChild(this.lf);this.El=P.P("div");this.$w.p.appendChild(this.El);
if(Q){this.Ns=Q;this.TM=P.P("label","flabel");this.p.appendChild(this.TM)}this.H=P.P("button",R?"nopadding":"");
this.H.setAttribute("style","position:relative;");this.H.addEventListener("click",(S?this.ga:this.DE).bind(this),!1);
this.p.appendChild(this.H);this.JU=P.P("img",R?"gsicon":"");this.H.appendChild(this.JU);if(S){var p=P.P("button");
p.textContent="\u25BC";p.addEventListener("click",this.DE.bind(this),!1);this.p.appendChild(p)}else{var O=P.P("span");
O.textContent="\u25BC";O.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.H.appendChild(O)}var M=P.P("span");
this.El.appendChild(M);M.setAttribute("style","display:inline-block;  vertical-align:top; width:"+y+"em;");
this.nw=new Ln(R,D);M.appendChild(this.nw.p);this.nw.parent=this.$w;this.nw.w(P.E.Y,this.mdY,this);this.nw.p.style.height=l+"em";
this.Io=P.P("button");this.Io.textContent="\u25BC";this.Io.setAttribute("style","padding:3px");this.Io.addEventListener("click",this.mez.bind(this),!1);
this.El.appendChild(this.Io);var U=this.gg(),m=D!=rS.A$&&D!=rS.tg?D:null,Y=D==null?"":rS.Ms[D][0].toUpperCase(),x=m?[{name:[12,87]}]:[];
x=x.concat([{name:"",o:function($){return{os:Nd.get([25,3,0])+" / "+Nd.get([25,3,1])}}},{name:[23,6,"."+(Y=="ICC"?"icc .cube .look .3dl":Y)]},{name:"",o:function($){return{os:Nd.get([1,8])+" ."+Y}},Uw:U.length!=0}]);
for(var T=0;T<U.length;T++)x.push({name:U[T].split("/").pop()});this.Rm=new RW(x);this.Rm.parent=this.$w;
this.Rm.w("select",this.oa,this);this.Vu=D;this.mEe=m;this.Gw=null;this.D$=!0;this.RX=null}RX.prototype=new NJ;
RX.prototype.gg=function(){return[]};RX.prototype.mdY=function(Q){this.Bp(Q);this.nw.OF(this.nw.d())};
RX.prototype.ga=function(){};RX.prototype.b=function(){this.Rm.b();this.nw.b();var Q=this.Ns;if(Q)this.TM.textContent=Nd.get(Q)+":"};
RX.prototype.CE=function(Q){this.TM.textContent=Q};RX.prototype.XO=function(Q){var S=this.Vu,B=0;if(S==rS.tw){B=this.Gw?this.Gw.length:0;
Q=Q.slice(0)}this.Gw=Q;this.D$=!0;if(P.lG(this.nw.p)||S==rS.JK)this.Zw();if(S==rS.tw&&Q.length-B==1&&P.lG(this.p)){this.L(Q[B]);
this.D$=!0;this.Zw();this.nw.OF(B);this.B(new b(P.E.Y))}};RX.prototype.oa=function(Q){var S=Q.target.Jk()[0];
if(this.mEe==null)S++;var B=new b(P.E.T,!0);if(S==0){var y=this.lD();if(this.Vu==rS.tw&&y[0].profile==null)return;
B.data={H:P.l.Kk,DS:"add",yQ:this.mEe,cU:y}}else if(S==1)this.nw.Fw(1-this.nw.mdH());else if(S==2)B.data={H:P.l.Ds};
else if(S==3)B.data={H:P.l.us,mMN:this.Vu};else{var l=this.gg();B.data={H:P.l.fd,yQ:{url:"rsrc/"+l[S-4]}}}if(B.data)this.B(B)};
RX.prototype.lD=function(){return[this.d()]};RX.prototype.mez=function(Q){var S=this.Rm;S.b();S.update(null);
var B=Q.currentTarget.getBoundingClientRect(),y=new b(P.E.T,!0);y.data={H:P.l.ow,qr:S,x:B.left,y:B.top+B.height};
this.B(y)};RX.prototype.DE=function(Q){this.Zw();var S=this.H.getBoundingClientRect(),B=new b(P.E.T,!0);
B.data={H:P.l.ow,qr:this.$w,x:S.left,y:S.top+S.height,mMR:!0};this.B(B)};function LR(){NJ.call(this);
this.p=P.P("div");this.iJ=!1;this.qX=[new ND([12,19,1],[[13,1,7]].concat(Nf.Xb)),new MJ([17,1]),new MJ([12,46])];
for(var Q=0;Q<3;Q++){var S=this.qX[Q];this.p.appendChild(S.p);S.w(P.E.Y,this.$Y,this)}this.b()}LR.prototype=new NJ;
LR.prototype.b=function(){for(var Q=0;Q<3;Q++)this.qX[Q].b()};LR.prototype.d=function(){return this.iJ.slice(0)};
LR.prototype.L=function(Q){this.iJ=Q.slice(0);var S=this.qX,B=S[0].d();S[1].L(Q.slice(B*8,B*8+4),B);
S[2].L(Q.slice(B*8+4,B*8+8),B)};LR.prototype.$Y=function(Q){var S=this.qX,B=S.indexOf(Q.currentTarget);
if(B==0)this.L(this.iJ);else{var y=S[0].d()*8+(B==1?0:4),l=S[B].d();for(var D=0;D<4;D++)this.iJ[y+D]=l[D];
this.B(new b(P.E.Y,!1))}};function MJ(Q){NJ.call(this);this.p=P.P("div");this.MJ=P.P("canvas");this.mfF=Q;
this.iJ=[0,20,200,255];this.Zo=0;this.mMQ=-1;this.mhb=!1;this.mpb=[];for(var S=0;S<5;S++){var B=P.P("span");
B.setAttribute("style","display:inline-block;width:"+(S==0?8:S==2?7:2)+"em");this.mpb.push(B);this.p.appendChild(B)}this.RG=this.Gg.bind(this);
this.Bl=this.Re.bind(this);this.Bo=this.ss.bind(this);P.jX(this.MJ,this.RG);this.p.appendChild(this.MJ);
this.FI()}MJ.prototype=new NJ;MJ.prototype.b=function(){this.FI()};MJ.prototype.L=function(Q,S){this.iJ=Q;
this.Zo=S;this.FI()};MJ.prototype.d=function(){return this.iJ.slice(0)};MJ.prototype.Gg=function(Q){var S=this.iJ,B=P.Jo(Q,this.MJ),y=B.x-8,l=-1,D=1e9;
for(var R=0;R<4;R++){var p=y-S[R],O=Math.abs(p);if(O<8&&O<D&&((R&1)==0&&p<0||(R&1)==1&&p>0)){D=p;l=R}}if(l==-1)return;
this.mMQ=l;this.ln=Q.altKey||S[(l>>>1)*2]!=S[(l>>>1)*2+1];P.rm(window,this.Bl);P.NP(window,this.Bo)};
MJ.prototype.Re=function(Q){var S=this.iJ,B=this.mMQ,y=(B>>>1)*2,l=y+1,D=P.Jo(Q,this.MJ),R=Math.round(Math.max(0,Math.min(255,D.x-8)));
S[B]=R;if(this.ln&&S[y]>=S[l])this.ln=!1;if(!this.ln)S[y]=S[l]=R;this.FI();this.B(new b(P.E.Y,!1))};
MJ.prototype.ss=function(Q){P.j_(window,this.Bl);P.oe(window,this.Bo)};MJ.prototype.FI=function(){var Q=this.MJ;
P.tM(Q,255+16,16);var S=Q.getContext("2d"),B=Q.width,y=Q.height,l=Math.round(255*P._()),D=Math.round(8*P._());
S.translate(D,0);var R=S.createLinearGradient(0,0,l,0);R.addColorStop(0,"black");R.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Zo]);
S.fillStyle=R;S.fillRect(0,0,l,D);var p=this.mpb,O=Nd.get(this.mfF)+":";p[0].textContent=O;for(var M=0;
M<4;M++){var U=this.iJ[M];p[1+M].textContent=U;var m=Math.round(U*P._());S.beginPath();S.moveTo(m,D);
S.lineTo(m,D+D);S.lineTo(m+((M&1)==0?-1:1)*D,D+D);S.closePath();S.fillStyle="#cccccc";S.fill();S.strokeStyle="black";
S.stroke()}};function Ms(Q){NJ.call(this);this.Ak=0;this.alt=0;var S="ai"+P.rB();this.p=P.P("span","fitem angleinput");
if(Q){this.TM=P.P("label","flabel");this.Ns=Q;this.p.appendChild(this.TM);this.TM.setAttribute("for",S)}this.Mt=20;
this.pr=P.P("canvas","gsicon");this.oX=this.pr.getContext("2d");P.tM(this.pr,this.Mt*2+1,this.Mt*2+1,this.oX);
this.p.appendChild(this.pr);P.jX(this.pr,this.OV.bind(this));this._k=this.t_.bind(this);this._Z=this.OT.bind(this);
this.FT=P.P("input","");this.FT.setAttribute("type","text");this.p.appendChild(this.FT);this.FT.setAttribute("id",S);
this.FT.addEventListener("change",this.wv.bind(this),!1);this._U=P.P("span","");this._U.innerHTML="\xB0";
this.p.appendChild(this._U);this.L(this.Ak,this.alt)}Ms.prototype=new NJ;Ms.prototype.b=function(){this.TM.textContent=Nd.get(this.Ns)+":"};
Ms.prototype.CE=function(Q){this.TM.textContent=Q};Ms.prototype.d=function(){return{Ak:this.Ak,alt:this.alt}};
Ms.prototype.L=function(Q,S){if(Q!=null)this.Ak=Q;if(S!=null)this.alt=S;this.FT.value=this.Ak;Q=Math.PI*this.Ak/180;
S=.9*this.Mt*(90-this.alt)/90;var B=this.Mt+.5,y=this.oX;y.clearRect(0,0,100,100);y.strokeStyle="#000000";
y.beginPath();y.arc(B,B,.9*this.Mt,0,2*Math.PI);y.moveTo(B,B);y.lineTo(B+Math.cos(Q)*this.Mt*.9,B-Math.sin(Q)*this.Mt*.9);
y.stroke();y.strokeStyle="#ff0000";y.beginPath();y.moveTo(B+Math.cos(Q)*S-3,B-Math.sin(Q)*S);y.lineTo(B+Math.cos(Q)*S+3,B-Math.sin(Q)*S);
y.moveTo(B+Math.cos(Q)*S,B-Math.sin(Q)*S-3);y.lineTo(B+Math.cos(Q)*S,B-Math.sin(Q)*S+3);y.stroke()};
Ms.prototype.wv=function(Q){var S=parseInt(this.FT.value);S=S%360;this.L(S);this.B(new b(P.E.Y,!1))};
Ms.prototype.OV=function(Q){P.rm(window,this._k);P.NP(window,this._Z);this.t_(Q)};Ms.prototype.t_=function(Q){var S=P.Jo(Q,this.pr),B=S.x-this.Mt,y=S.y-this.Mt,l=180*Math.atan2(-y,B)/Math.PI,D=90-90*Math.min(1,Math.sqrt(B*B+y*y)/(.9*this.Mt));
this.L(Math.round(l),Math.round(D));this.B(new b(P.E.Y,!1))};Ms.prototype.OT=function(Q){this.B(new b(P.E.Y,!1));
P.j_(window,this._k);P.oe(window,this._Z)};function M$(Q,S){NJ.call(this);this.iJ=0;this.$f=S;this.p=P.P("span","fitem angleinput");
if(Q){this.TM=P.P("label","flabel");this.Ns=Q;this.p.appendChild(this.TM)}this.pr=P.P("canvas","gsicon");
this.oX=this.pr.getContext("2d");P.tM(this.pr,S,S);this.p.appendChild(this.pr);P.jX(this.pr,this.OV.bind(this));
this._k=this.t_.bind(this);this._Z=this.OT.bind(this);this.L(0)}M$.prototype=new NJ;M$.prototype.b=function(){if(this.Ns)this.TM.textContent=Nd.get(this.Ns)+":"};
M$.prototype.CE=function(Q){this.TM.textContent=Q};M$.prototype.d=function(){return this.iJ};M$.prototype.L=function(Q){this.iJ=Q;
var S=this.pr.width,B=Math.floor(Q/3),y=Q-3*B,l=(y+.5)*S/3,D=(B+.5)*S/3,R=this.oX,p=[.5,Math.round(S/3)+.5,Math.round(2*S/3)+.5,S-.5];
R.clearRect(0,0,S,S);var O=this.$f<30;R.setLineDash([]);R.strokeStyle=O?"rgba(0,0,0,0.5)":"#000000";
R.beginPath();for(var M=0;M<4;M++){var U=p[M];R.moveTo(U,0);R.lineTo(U,S);R.moveTo(0,U);R.lineTo(S,U)}R.stroke();
if(Q==9)return;if(!O){R.setLineDash([1,2]);var m=S*.53,Y=Math.max(0,Math.min(S-m,l-m/2)),x=Math.max(0,Math.min(S-m,D-m/2));
R.strokeRect(Math.round(Y)+.5,Math.round(x)+.5,Math.round(m),Math.round(m))}R.fillStyle="#000000";R.beginPath();
R.arc(l,D,S/8,0,Math.PI*2);R.fill()};M$.prototype.OV=function(Q){P.rm(window,this._k);P.NP(window,this._Z);
this.t_(Q)};M$.prototype.t_=function(Q){var S=P.Jo(Q,this.pr),B=Math.max(0,Math.min(2,Math.floor(S.x/(this.$f/3)))),y=Math.max(0,Math.min(2,Math.floor(S.y/(this.$f/3))));
this.L(y*3+B)};M$.prototype.OT=function(Q){this.B(new b(P.E.Y,!1));P.j_(window,this._k);P.oe(window,this._Z)};
function Nw(Q,S,B,y){NJ.call(this);this.p=P.P("button","fitem"+(S?" spread":"")+(y?" bbtn":""));this.Ns=Q;
this.Iq=B;this.b();this.p.addEventListener("click",this.Ff.bind(this),!1)}Nw.prototype=new NJ;Nw.prototype.b=function(){var Q=this.p,S=this.Ns,B=this.Iq,y=Nd.get(S);
Q.innerHTML=y;if(y.startsWith("<img"))Q.setAttribute("style","padding:2px");if(B){Q.setAttribute("title",Nd.get(B))}};
Nw.prototype.mnU=function(Q){this.p.setAttribute("title",Q)};Nw.prototype.Ff=function(Q){this.B(new b("click",!1))};
Nw.prototype.Cx=function(){P.Te(this.p,"bactive")};Nw.prototype.fO=function(){P.Dt(this.p,"bactive")};
Nw.prototype.CE=function(Q,S){if(Q)this.Ns=Q;if(S)this.Iq=S;this.b()};Nw.prototype.L=function(Q){if(Q)this.Cx();
else this.fO()};Nw.prototype.xH=function(){return this.p.getAttribute("class").indexOf("bactive")!=-1};
Nw.prototype.d=function(){return this.xH()};function QT(Q){NJ.call(this);this.p=P.P("span","fitem cswatch");
this.mRt=0;this.ES=[];this.oU=[];var S=this.mee.bind(this);for(var B=0;B<Q;B++){this.ES.push(0);var y=P.P("span","colorsample");
y.addEventListener("click",S,!1);this.oU.push(y);this.p.appendChild(y)}var l=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],D=Math.min(Q,l.length);
for(var B=0;B<D;B++)this.ES[B]=l[B];this.hb()}QT.prototype=new NJ;QT.prototype.mee=function(Q){this.mRt=this.oU.indexOf(Q.currentTarget);
this.B(new b(P.E.Y))};QT.prototype.d=function(){return this.ES[this.mRt]};QT.prototype.L=function(Q){var S=this.ES,B=S.indexOf(Q);
if(B!=-1)S.splice(B,1);else S.pop();S.unshift(Q);this.hb()};QT.prototype.hb=function(){for(var Q=0;Q<this.ES.length;
Q++){this.oU[Q].setAttribute("style","background-color:#"+k.eb(this.ES[Q]))}};function RU(Q){NJ.call(this);
this.lE=!1;this.ru={t:0,e:0,R:0};this.XF=Q;this.p=P.P("span","fitem colorsample");this.p.addEventListener("click",this.Ff.bind(this),!1)}RU.prototype=new NJ;
RU.prototype.b=function(){};RU.prototype.mMi=function(Q){if(this.lE==Q)return;this.lE=Q;this.gY()};RU.prototype.Ff=function(Q){var S=this.ru;
this.B(new b("click"));var B=new b(P.E.T,!0);B.data={H:P.l.ND,yc:"colorpicker",mn:S.t<<16|S.e<<8|S.R,bU:this.lT.bind(this),lO:this.XF};
this.B(B)};RU.prototype.lT=function(Q){this.TB(Q);this.B(new b(P.E.Y))};RU.prototype.meV=function(){this.Ff(null)};
RU.prototype.gt=function(){var Q=this.ru;return Q.t<<16|Q.e<<8|Q.R};RU.prototype.d=function(){return k.Kg.Od(this.ru)};
RU.prototype.TB=function(Q){this.ru={t:Q>>16&255,e:Q>>8&255,R:Q&255};this.gY()};RU.prototype.L=function(Q){this.ru=k.Kg.RT(Q);
this.gY()};RU.prototype.gY=function(){var Q=this.ru,S=Q.t,B=Q.e,y=Q.R;if(this.lE)S=B=y=Math.round(k.wc(S,B,y));
var l=S<<16|B<<8|y;this.p.setAttribute("style","background-color:#"+k.eb(l))};function pM(Q){RX.call(this,Q,!1,"brushbutton nopadding",16.6,10,rS.Kz,!0);
this.Vi=new mf([12,14,0],1,1e3," px",0,!0);this.Vi.w(P.E.Y,this.mQp,this);this.lf.appendChild(this.Vi.p);
this.Sz=new mf([12,17],0,100,"%");this.Sz.w(P.E.Y,this.mQp,this);this.lf.appendChild(this.Sz.p)}pM.prototype=new RX;
pM.prototype.DE=function(Q){var S=this.p.getBoundingClientRect();this.mp$(S.left,S.top+S.height)};pM.prototype.mp$=function(Q,S){this.Zw();
var B=new b(P.E.T,!0);B.data={H:P.l.ow,qr:this.$w,x:Q,y:S};this.B(B)};pM.prototype.L=function(Q,S,B){this.RX=JSON.parse(JSON.stringify(Q));
var y=Math.floor(20*P._()),l=Math.floor(36*P._()),D=Math.floor(24*P._()),R=Nl.xs(Q,S,B,y,D,l);this.JU.setAttribute("src",R);
P.eu(this.JU,l,D);var p=Q.Brsh.v;this.Vi.L(p.Dmtr.v.val);if(p.Hrdn!=null){this.Sz.yn();this.Sz.L(p.Hrdn.v.val)}else this.Sz.qG();
this.nw.OF(-1)};pM.prototype.lD=function(){return{list:[{t:"Objc",v:this.d()}],gZ:[],JR:[]}};pM.prototype.d=function(){return this.RX};
pM.prototype.Zw=function(){if(!this.D$)return;var Q=[],S=[],B=this.Gw,y=Math.floor(33*P._()),l=Math.floor(40*P._());
for(var D=0;D<B.list.length;D++){var R=B.list[D].v,p=Nl.xs(R,B.gZ,B.JR,y,l);Q.push(p);S.push(R.Nm.v.split("=").pop())}this.nw.Tf(Q,S,y,l);
this.D$=!1};pM.prototype.Bp=function(Q){var S=this.Gw;this.L(S.list[this.nw.d()].v,S.gZ,S.JR);this.B(new b(P.E.Y))};
pM.prototype.b=function(){RX.prototype.b.call(this);this.Vi.b();this.Sz.b()};pM.prototype.mQp=function(Q){var S=this.Gw,B=this.RX;
B.Brsh.v.Dmtr.v.val=this.Vi.d();if(B.Brsh.v.Hrdn!=null)B.Brsh.v.Hrdn.v.val=this.Sz.d();this.L(B,S.gZ,S.JR);
this.B(new b(P.E.Y))};function Qe(Q){RX.call(this,Q,!0,"contourbutton",17,10.5,rS.AZ)}Qe.prototype=new RX;
Qe.prototype.Bp=function(Q){this.L(this.Gw[Q.target.d()]);this.B(new b(P.E.Y))};Qe.prototype.ga=function(Q){var S=new b(P.E.T,!0);
S.data={H:P.l.ND,yc:"contoureditor",S:this.RX,response:this.meg.bind(this)};this.B(S)};Qe.prototype.meg=function(Q){this.L(Q);
this.B(new b(P.E.Y))};Qe.prototype.Zw=function(){if(!this.D$)return;var Q=Math.floor(38*P._()),S=Math.floor(38*P._()),B=[],y=[],l=this.Gw;
for(var D=0;D<l.length;D++){y.push(l[D].Nm?l[D].Nm.v:"");B.push(k.$T.xs(l[D].Crv.v,Q,S))}this.nw.Tf(B,y,Q,S);
this.D$=!1};Qe.prototype.L=function(Q){this.RX=JSON.parse(JSON.stringify(Q));var S=this.RX.Crv.v;for(var B=0;
B<S.length;B++)if(S[B].v.Cnty==null)S[B].v.Cnty={t:"bool",v:!0};this.Jr()};Qe.prototype.Jr=function(){var Q=Math.floor(30*P._()),S=Math.floor(30*P._()),B=k.$T.xs(this.RX.Crv.v,Q,S);
this.JU.setAttribute("src",B);P.eu(this.JU,Q,S)};Qe.prototype.d=function(){return JSON.parse(JSON.stringify(this.RX))};
function pr(Q){NJ.call(this);this.sN=null;this.Kv=null;this.ME=null;this.IP=null;this.mQX=[];this.mQS=[];
this.p=P.P("span","fitem fillbutton");this.$w=new NJ;this.$w.p=P.P("div","floatcont form");this.$w.p.setAttribute("style","width: 21em;");
this.$w.parent=this;this.XP=Q;this.TM=this.TM=P.P("label","flabel");this.p.appendChild(this.TM);this.pr=P.P("canvas");
this.oX=this.pr.getContext("2d");this.mLd=null;this.p.appendChild(this.pr);this.pr.addEventListener("click",this.DE.bind(this),!1);
this.Jb=new R$([12,66],["","Color","Grad","Patt"]);this.$w.p.appendChild(this.Jb.p);this.Jb.w(P.E.Y,this.$Y,this);
this.$w.p.appendChild(P.P("hr"));this.mf_=P.P("span");this.Jx=new RU(!0);this.Jx.parent=this.$w;this.Jx.w(P.E.Y,this.$Y,this);
this.IA=new QT(10);this.IA.w(P.E.Y,this.$Y,this);this.SJ=P.P("div","marged hiline");this.SJ.appendChild(this.Jx.p);
P.XL(this.SJ);this.SJ.appendChild(this.IA.p);this.tz=new Rw("GrFl",!0);this.tz.parent=this.$w;this.tz.w(P.E.Y,this.$Y,this);
this.Vk=P.P("div","marged hiline");var S="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var B=0;
B<S.length;B++){var y=this.tz.Wh[S[B]].p;this.Vk.appendChild(y)}this.tA=new Rw("patternFill",!0);this.tA.parent=this.$w;
this.tA.w(P.E.Y,this.$Y,this);this.hM=P.P("div","marged hiline");var S=["Ptrn","Scl","Algn","phase"];
for(var B=0;B<S.length;B++){var y=this.tA.Wh[S[B]].p;this.hM.appendChild(y)}}pr.prototype=new NJ;pr.prototype.on=function(Q,S){if(S==rS.tJ){this.mQX=[];
this.mQS=[];if(this.sN)this.L(this.ME,this.d(),this.sN)}this.Kv=Q;this.tz.on(Q,S);this.tA.on(Q,S)};pr.prototype.b=function(){this.TM.textContent=Nd.get(this.XP)+": ";
this.Jb.b();this.Jx.b();this.tz.b();this.tA.b()};pr.prototype.$Y=function(Q){var S=Q.currentTarget;if(S==this.Jb){var B=this.Jb.d(),y={Vx:B,DW:this.sN[B]};
if(B>0&&y.DW==null)y.DW=JSON.parse(JSON.stringify(rx.Xc[B-1]));if(this.sN)this.L(this.ME,y,this.sN)}if(S==this.IA)this.Jx.TB(S.d());
this.B(new b(P.E.Y,!1))};pr.prototype.DE=function(Q){var S=this.pr.getBoundingClientRect(),B=new b(P.E.T,!0);
B.data={H:P.l.ow,qr:this.$w,x:S.left,y:S.top+S.height+4};this.B(B);this.IA.L(this.Jx.gt())};pr.prototype.L=function(Q,S,B){this.sN=B;
this.ME=Q;var y=[[13,1,0],[13,0],[12,37],[12,62]],l=this.mQX,D=this.mQS,R=!1,m;for(var p=0;p<4;p++){var O={Vx:p,DW:B[p]},M=pr.m_$(O);
if(D[p]==M)continue;R=!0;var U=pr.mnW(null,O,this.Kv,this.ME,22,22,!1);l[p]="<img width=\"22\" height=\"22\" src=\""+U+"\" />";
D[p]=M}if(R)this.Jb.fB(l,y);this.Jb.L(S.Vx);var M=pr.m_$(S);if(M!=this.mLd)pr.mnW(this.oX,S,this.Kv,this.ME,30,23,!0);
this.mLd=M;var Y=S.Vx;if(Y==0){m=this.mf_}if(Y==1){this.Jx.L(S.DW.Clr.v);m=this.SJ}if(Y==2){this.tz.update(Q,S.DW);
m=this.Vk}if(Y==3){this.tA.update(Q,S.DW);m=this.hM}if(m!=this.IP){if(this.IP!=null){this.$w.p.removeChild(this.IP)}this.$w.p.appendChild(m);
this.IP=m}};pr.prototype.d=function(){var Q={Vx:this.Jb.d()};if(Q.Vx==1){Q.DW=JSON.parse(JSON.stringify(rx.Xc[0]));
Q.DW.Clr.v=this.Jx.d()}if(Q.Vx==2){Q.DW=this.tz.d()}if(Q.Vx==3){Q.DW=this.tA.d()}return Q};pr.m_$=function(Q){var S=Q.Vx,B=Q.DW,y="empty";
if(S==1){y=k.Kg.RT(B.Clr.v);y=y.t+","+y.e+","+y.R}if(S==2)y=JSON.stringify(B.Grad.v);if(S==3)y=B.Ptrn.v.Idnt.v;
return y};pr.mnW=function(Q,S,B,y,l,D,R){if(Q==null)Q=pr.oX;var p=Math.floor(l*P._()),O=Math.floor(D*P._()),M=Q.canvas,U;
M.width=p;M.height=O;P.eu(M,p,O);var m=S.Vx;if(m==0){Q.fillStyle="#ffffff";Q.fillRect(0,0,p,O);Q.strokeStyle="#ff0000";
Q.lineWidth=2;Q.moveTo(0,0);Q.lineTo(p,O);Q.moveTo(0,O);Q.lineTo(p,0);Q.stroke()}if(m==1){var Y=S.DW.Clr.v;
Y=k.Kg.RT(Y);Q.fillStyle="#"+k.eb(Y.t<<16|Y.e<<8|Y.R);Q.fillRect(0,0,p,O)}if(m==2){K.fI.xs(S.DW.Grad.v,p,O,0,B.Tq,B.hB,M)}if(m==3){var x=S.DW.Ptrn.v,T;
if(y!=null)T=Nq.tY(x,y.add.Patt);if(T==null)T=Nq.tY(x,B.tv);MX.xs(T,p,O,M)}if(R){Q.beginPath();Q.strokeStyle="#000000";
Q.fillStyle="#ffffff";Q.lineWidth=2;var $=p*.7,L=Math.floor(O*.7),s=7*P._();Q.moveTo($,L);Q.lineTo($+s,L);
Q.lineTo($+s/2,L+s/2);Q.closePath();Q.stroke();Q.fill()}if(Q==pr.oX)return M.toDataURL()};pr.oX=P.P("canvas").getContext("2d");
function MX(Q){RX.call(this,Q,!1,"patternbutton",18,10,rS.tJ);this.lB=null}MX.prototype=new RX;MX.prototype.Bp=function(Q){var S=this.Gw[this.nw.d()];
this.RX={classID:"Ptrn",Nm:{t:"TEXT",v:S.name},Idnt:{t:"TEXT",v:S.id}};this.B(new b(P.E.Y));this.Jr()};
MX.Ne=!1;MX.prototype.Zw=function(){if(!this.D$)return;var Q=this.Gw;if(Q==null||!MX.Ne){var S=new b(P.E.T,!0);
S.data={H:P.l.fd,yQ:{url:"rsrc/basic/basic.pat"}};this.B(S);MX.Ne=!0;return}var B=Math.floor(34*P._()),y=Math.floor(34*P._()),l=[],D=[];
for(var R=0;R<Q.length;R++){l.push(MX.xs(Q[R],B,y));D.push(Q[R].name)}this.nw.Tf(l,D,B,y);this.D$=!1};
MX.prototype.L=function(Q,S){if(this.RX&&Q.Idnt.v==this.RX.Idnt.v)return;this.RX=JSON.parse(JSON.stringify(Q));
this.Jr(S)};MX.prototype.d=function(){return JSON.parse(JSON.stringify(this.RX))};MX.prototype.lD=function(){return this.lB?[this.lB]:[]};
MX.prototype.Jr=function(Q){var S=Math.floor(50*P._()),B=Math.floor(50*P._()),y;if(Q!=null)y=Nq.tY(this.RX,Q.add.Patt);
if(y==null)y=Nq.tY(this.RX,this.Gw);this.lB=y;var l=MX.xs(y,S,B);this.JU.setAttribute("src",l);P.eu(this.JU,S,B)};
MX.MJ=P.P("canvas","");MX.xs=function(Q,S,B,y){if(y==null)y=MX.MJ;var l=y.getContext("2d");y.width=S;
y.height=B;if(Q){var D=Q.q.r,R=Q.q.O,p=Q.Ko,O=Math.min(S/D,B/R),M=O;if(M*D<2)M=2/D;var U=O;if(U*R<2)U=2/R;
var m=K.Sj.Hg([p,Q.q],new Nu(M,0,0,U,0,0),!1),Y=m.rect.r,x=m.rect.O,T=l.createImageData(Y,x);k.MK(m.buffer,T.data);
l.putImageData(T,Math.floor((S-Y)/2),Math.floor((B-x)/2))}return y.toDataURL()};function pU(Q){RX.call(this,Q,!1,"patternbutton",24.2,17,rS.A$);
this.oj=""}pU.prototype=new RX;pU.prototype.Bp=function(Q){this.RX=JSON.parse(JSON.stringify(this.Gw[0][this.nw.d()]));
this.B(new b(P.E.Y))};pU.prototype.Zw=function(){var Q=this.Gw;if(Q==null||!this.D$)return;var S=Math.floor(50*P._()),B=Math.floor(50*P._()),y=[],l=[];
for(var D=0;D<Q[0].length;D++){y.push(pU.xs(this.Gw[0][D].rG,S,B,this.Gw[1]));l.push(Q[0][D].ox.Nm.v.split("=").pop())}this.nw.Tf(y,l,S,B);
this.D$=!1};pU.prototype.L=function(Q,S,B,y){var l=JSON.stringify(Q.rG)+","+B+","+y;if(this.oj!=l){this.oj=l;
this.RX=JSON.parse(JSON.stringify(Q));this.Jr(S,B,y)}this.nw.OF(-1)};pU.prototype.d=function(){return JSON.parse(JSON.stringify(this.RX))};
pU.prototype.Jr=function(Q,S,B){var y=Math.floor(68*P._()),l=Math.floor(68*P._()),D=pU.xs(this.RX.rG,y,l,Q?Q:this.Gw[1],S,B);
this.JU.setAttribute("src",D);P.eu(this.JU,y,l)};pU.xs=function(Q,S,B,y,l,D){var R=new mV;R.r=S;R.O=B;
R.buffer=k.Q(S*B*4);R.add.Patt=y;R.Mr(l==null?90:l);R.Bm(D==null?30:D);var p=new w(0,0,Math.round(S*.5),Math.round(B*.5));
p.x=Math.round((S-p.r)/2);p.y=Math.round((B-p.O)/2);var O=R.oz();O.rect=p;O.buffer=k.Q(p.Z()*4);k.St(O.buffer,4284045657);
Nq.mhC(Q,O,.5*100);R.G.push(O);R.Jc();R.s();var M=W.Kf;W.Kf=!1;R.re();var U=R.qB();W.Kf=M;var m=Np.jq(U.buffer,R.r,R.O);
return m};function mH(Q){RX.call(this,null,!1,"tpresetbutton",18,24,rS.FG,!0);P.Dt(this.p,"fitem");this.nw.Fw(1);
this.id=Q;this.Jr();this.hQ=new mM([15,7,9]);this.hQ.L(!0);this.hQ.w(P.E.Y,this.me$,this);this.El.appendChild(this.hQ.p)}mH.prototype=new RX;
mH.prototype.meE=function(Q){if(this.id==Q)return;this.id=Q;this.XO(this.Gw)};mH.prototype.Bp=function(Q){var S=this.Gw[this.nw.d()],B=new b(P.E.T,!0);
B.data={H:P.l.Kk,DS:"set",yQ:rS.FG,cU:S};this.B(B)};mH.prototype.b=function(){RX.prototype.b.call(this);
this.hQ.b()};mH.prototype.me$=function(){this.D$=!0;this.Zw()};mH.prototype.Zw=function(){if(!this.D$)return;
var Q=Math.floor(16*P._()),S=Math.floor(16*P._()),B=[],y=[],l=this.Gw,D=this.hQ.d();for(var R=0;R<l.length;
R++){var p=K.Nk(l[R]);if(!D||p==this.id){y.push(l[R][0]?l[R][0].split("=").pop():"");B.push(p==-1?"":PIMG[K.nx[p][0]])}else{B.push(null);
y.push(null)}}this.nw.Tf(B,y,Q,S);this.D$=!1};mH.prototype.Jr=function(){var Q=this.JU;Q.setAttribute("src",PIMG[K.nx[this.id][0]]);
P.Te(Q,"toolicon")};mH.prototype.lD=function(){return null};mH.ql={};mH.xs=function(Q,S,B){var y=mH.Gb,l=mH.ql,D=k.eb(Q.t<<16|Q.e<<8|Q.R);
if(l[D])return l[D];if(y==null){var R=P.P("canvas");y=mH.Gb=R.getContext("2d")}var R=y.canvas;R.width=S;
R.height=B;y.fillStyle="#"+D;y.fillRect(0,0,S,B);var p=l[D]=R.toDataURL();return p};function QG(Q,S){NJ.call(this);
this.p=P.P("span","fitem curveeditor");this.Ki=null;this.mLg=0;this.Zo="";this.mode=0;this.Hp=Q;this.mfa=S;
this.ou=null;this.Lc=null;this.oL=new v;this._x=this.t_.bind(this);this._P=this.OT.bind(this);this.pr=P.P("canvas","");
this.oX=this.pr.getContext("2d");P.XW(this.pr);P.tM(this.pr,256,256,this.oX);this.p.appendChild(this.pr);
P.jX(this.pr,this.OV.bind(this))}QG.prototype=new NJ;QG.prototype.L=function(Q,S){var B=JSON.stringify(Q);
if(B==JSON.stringify(this.ou))return;this.mode=Q.length==256?1:0;this.ou=JSON.parse(B);if(S!=null)this.Lc=this.ou[S];
this.dr()};QG.prototype.FS=function(Q,S,B){this.Ki=Q;this.mLg=S;this.Zo=B;this.dr()};QG.prototype.d=function(){return JSON.parse(JSON.stringify(this.ou))};
QG.prototype.mpj=function(){return this.ou.indexOf(this.Lc)};QG.prototype.OV=function(Q){var S=P.Jo(Q,this.pr),B=S.x,y=256-S.y;
if(this.Hp){var l=B;B=256-y;y=l}this.oL.yZ(B,y);if(this.mode==0){var D=null;for(var R=0;R<this.ou.length;
R++){var p=this.ou[R].v,O=p.Hrzn.v-B,M=p.Vrtc.v-y,U=Math.sqrt(O*O+M*M);if(U<5)D=this.ou[R]}if(D==null){D=k.$T.nd(B,y,!0);
this.ou.push(D)}this.Lc=D}P.rm(document.body,this._x);P.NP(document.body,this._P);this.t_(Q)};QG.prototype.t_=function(Q){var S=P.Jo(Q,this.pr),B=S.x,y=256-S.y;
if(this.Hp){var l=B;B=256-y;y=l}if(this.mode==0){var D=this.ou,R=this.mfa,p=D.indexOf(this.Lc),O=p==0||p==D.length-1,M=0,U=255,m=!0;
if(O){M=1;U=254}if(!R||!O)this.Lc.v.Hrzn.v=Math.max(M,Math.min(U,Math.round(B)));this.Lc.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(y)));
for(var Y=0;Y<D.length;Y++){if(D[Y]==this.Lc)continue;if(Math.abs(D[Y].v.Hrzn.v-this.Lc.v.Hrzn.v)<2)m=!1}if(B<0||B>255||y<0||y>255)m=!1;
if(m&&D.indexOf(this.Lc)==-1)D.push(this.Lc);if(!m&&D.indexOf(this.Lc)!=-1&&D.length>2&&(!R||!O))D.splice(D.indexOf(this.Lc),1);
if(D[0].v.Hrzn.v==D[1].v.Hrzn.v)if(D[0].v.Hrzn.v==0)D[1].v.Hrzn.v=1;else D[0].v.Hrzn.v--;D.sort(function(j,Z){return j.v.Hrzn.v-Z.v.Hrzn.v})}else{B=Math.round(B);
y=Math.round(y);B=Math.max(0,Math.min(255,B));y=Math.max(0,Math.min(255,y));var x=this.oL.x,T=B,$=this.oL.y,L=y;
if(B<this.oL.x){T=x;x=B;L=$;$=y}this.ou[B]=y;if(x!=T)for(var s=x;s<=T;s++)this.ou[s]=Math.round($+(s-x)*(L-$)/(T-x))}this.oL.yZ(B,y);
this.dr();this.B(new b(P.E.Y))};QG.prototype.OT=function(Q){P.j_(document.body,this._x);P.oe(document.body,this._P);
this.B(new b(P.E.Y))};QG.prototype.dr=function(){var Q=this.oX;Q.fillStyle="#ffffff";Q.fillRect(0,0,256,256);
if(this.Ki){Q.translate(0,256);Q.scale(1,-1);MM.mRg(Q,this.Ki,5700/this.mLg,this.Zo);Q.scale(1,-1);Q.translate(0,-256)}Q.strokeStyle="#aaaaaa";
Q.lineWidth=1;Q.beginPath();for(var S=1;S<4;S++){Q.moveTo(0,64*S-.5);Q.lineTo(255,64*S-.5);Q.moveTo(64*S-.5,0);
Q.lineTo(64*S-.5,255)}Q.stroke();if(this.Hp){Q.save();Q.transform(0,1,-1,0,256,0)}if(this.mode==0){var B=this.ou,y=k.$T.LL(B,256);
Q.strokeStyle="#000000";Q.beginPath();Q.moveTo(0,255.5-y[0]);for(var S=0;S<256;S++)Q.lineTo(S,255.5-y[S]);
Q.stroke();Q.lineWidth=2;for(var S=0;S<B.length;S++){var l=B[S].v;Q.fillStyle=this.Lc==B[S]?"#333":"#fff";
Q.beginPath();Q.moveTo(l.Hrzn.v,255.5-l.Vrtc.v);Q.arc(l.Hrzn.v,255.5-l.Vrtc.v,3,0,2*Math.PI);Q.stroke();
Q.fill()}}else{var y=this.ou;Q.strokeStyle="#000000";Q.beginPath();Q.moveTo(0,255.5-y[0]);for(var S=0;
S<256;S++)Q.lineTo(S,255.5-y[S]);Q.stroke()}if(this.Hp)Q.restore()};function MM(Q){NJ.call(this);this.p=P.P("span","");
this.hc=new ND([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.hc.w(P.E.Y,this.FI,this);this.p.appendChild(this.hc.p);
P.XL(this.p);this.MJ=P.P("canvas");var S=this.MJ;this.p.appendChild(S);S.width=Math.round(Q*P._());S.height=Math.round(100*P._());
P.eu(S,S.width,S.height);this.Gb=S.getContext("2d");this.Ki=null;this.ec=0}MM.prototype=new NJ;MM.prototype.b=function(){this.hc.b()};
MM.prototype.Fw=function(Q){this.hc.L(Q);this.FI()};MM.prototype.L=function(Q){this.Ki=Q;this.FI()};
MM.prototype.TB=function(Q){if(Q==this.ec)return;this.ec=Q;this.FI()};MM.prototype.FI=function(){if(this.Ki==null)return;
var Q=this.MJ,S=this.Gb,B=this.Ki,y=this.hc.d(),l=6e3/B[4],D="#"+k.eb(this.ec),R=MM.mRg;Q.width=Q.width;
S.setTransform(Q.width/256,0,0,-Q.height/100,0,Q.height);S.globalCompositeOperation="lighter";if(y==0)R(S,B[0],l/3,D);
else if(y<4)R(S,B[y],l,D);else{R(S,B[1],l,"#ff0000");R(S,B[2],l,"#00ff00");R(S,B[3],l,"#0000ff")}S.setTransform(1,0,0,1,0,0)};
MM.mRg=function(Q,S,B,y){Q.beginPath();Q.moveTo(0,0);for(var l=0;l<256;l++)Q.lineTo(l,S[l]*B);Q.lineTo(256,0);
Q.closePath();Q.fillStyle=y;Q.fill()};function rt(Q){NJ.call(this);this.Jp={t:0,e:0,R:0};if(Math.abs(Q-256/P._())<10)Q=256/P._();
var S=this.p=P.P("div","flexrow");this.gf=new v;this.sQ=new v;this._k=this.mQM.bind(this);this._Z=this.myW.bind(this);
this.pr=P.P("canvas","");this.oX=this.pr.getContext("2d");this.pr.width=this.pr.height=256;this.mfv=this.oX.getImageData(0,0,256,256);
this.mLW=-1;P.XW(this.pr);P.jX(this.pr,this.myg.bind(this));S.appendChild(this.pr);this.mLZ=this.mQU.bind(this);
this.mcM=this.myi.bind(this);this.$V=P.P("canvas","");this.DM=this.$V.getContext("2d");this.$V.width=20;
this.$V.height=256;this.mcv=this.DM.getImageData(0,0,20,256);this.myC(this.mcv.data,20,256);P.XW(this.$V);
P.jX(this.$V,this.mys.bind(this));S.appendChild(this.$V);this.pr.setAttribute("style","width:"+Q+"px; height:"+Q+"px");
this.$V.setAttribute("style","width:"+20/P._()+"px; height:"+Q+"px")}rt.prototype=new NJ;rt.prototype.Kl=function(Q,S){this.pr.style.width=Q+"px"};
rt.prototype.L=function(Q){this.Jp=Q;this.update()};rt.prototype.d=function(){return JSON.parse(JSON.stringify(this.Jp))};
rt.prototype.update=function(){var Q=this.Jp,S=k.pU(Q.t,Q.e,Q.R);if(S.Kh==0)S.YZ=this.gf.x/255;if(S.YZ==0||S.Kh==0)S.Kj=(255-this.hO(this.sQ.y))/255;
if(S.Kh!=0)this.gf.x=S.YZ*255;this.gf.y=(1-S.Kh)*255;this.sQ.y=(1-S.Kj)*255;var B=this.mfv;if(Math.abs(S.Kj-this.mLW)>.002){this.myh(B.data,256,256,S.Kj);
this.mLW=S.Kj}this.oX.putImageData(B,0,0);this.oX.strokeStyle="#000000";this.oX.beginPath();this.oX.arc(this.gf.x+1,this.gf.y+1,5,0,2*Math.PI);
this.oX.stroke();this.oX.strokeStyle="#ffffff";this.oX.beginPath();this.oX.arc(this.gf.x,this.gf.y,5,0,2*Math.PI);
this.oX.stroke();var B=this.mcv;this.DM.putImageData(B,0,0);this.DM.strokeStyle="#ffffff";this.DM.beginPath();
this.DM.moveTo(0,this.sQ.y);this.DM.lineTo(20,this.sQ.y);this.DM.lineWidth=2;this.DM.stroke()};rt.prototype.myh=function(Q,S,B,y){var l=1/S,D=1/B;
for(var R=0;R<B;R++)for(var p=0;p<S;p++){var O=k.OS(y,p*l,(B-R-1)*D),M=R*S+p<<2;Q[M+0]=~~(O.t*255);Q[M+1]=~~(O.e*255);
Q[M+2]=~~(O.R*255);Q[M+3]=255}};rt.prototype.myC=function(Q,S,B){var y=new Uint32Array(Q.buffer);for(var l=0;
l<B;l++){var D=k.OS(1-l/B,1,1),R=255<<24|D.R*255<<16|D.e*255<<8|D.t*255;for(var p=0;p<S;p++)y[l*S+p]=R}};
rt.prototype.myg=function(Q){P.rm(window,this._k);P.NP(window,this._Z);this.mQM(Q)};rt.prototype.myW=function(Q){P.j_(window,this._k);
P.oe(window,this._Z)};rt.prototype.mQM=function(Q){var S=P.Jo(Q,this.pr);S.x=S.x*(256/parseFloat(this.pr.style.width));
S.y=S.y*(256/parseFloat(this.pr.style.height));this.gf.yZ(this.hO(S.x),this.hO(S.y));this.hC()};rt.prototype.hC=function(){this.Jp=this.myU();
this.B(new b(P.E.Y))};rt.prototype.myU=function(){var Q=k.OS((255-this.hO(this.sQ.y))/255,this._h(this.gf.x/255),this._h(1-this.gf.y/255));
return{t:Q.t,e:Q.e,R:Q.R}};rt.prototype.mys=function(Q){P.rm(window,this.mLZ);P.NP(window,this.mcM);
this.mQU(Q)};rt.prototype.myi=function(Q){P.j_(window,this.mLZ);P.oe(window,this.mcM)};rt.prototype.mQU=function(Q){var S=P.Jo(Q,this.$V);
S.y=S.y*(256/parseFloat(this.$V.style.height));this.sQ.yZ(this.hO(S.x),this.hO(S.y));this.hC()};rt.prototype.hO=function(Q){return Math.max(0,Math.min(255,Q))};
rt.prototype._h=function(Q){return Math.max(0,Math.min(1,Q))};function R$(Q,S,B){NJ.call(this);if(!S)return;
this.Ci=0;this.p=P.P("span","fitem bbmenu");if(Q){this.Ns=Q;this.TM=P.P("label","flabel");this.TM.textContent=Q+":";
this.p.appendChild(this.TM)}this.RH=[];this.hd=null;this.fB(S,B);this.L(0)}R$.prototype=new NJ;R$.prototype.CE=function(Q){this.Ns=Q;
this.b()};R$.prototype.b=function(){if(this.Ns!=null){this.TM.textContent=Nd.get(this.Ns)+": "}for(var Q=0;
Q<this.RH.length;Q++)this.RH[Q].b()};R$.prototype.d=function(){return this.Ci};R$.prototype.fB=function(Q,S){while(this.RH.length>0)this.p.removeChild(this.RH.pop().p);
this.hd=Q;for(var B=0;B<Q.length;B++){var y=new Nw(Q[B],!1,S?S[B]:null);y.w("click",this.wv,this);this.p.appendChild(y.p);
this.RH.push(y)}this.b()};R$.prototype.L=function(Q){this.Ci=Q;for(var S=0;S<this.RH.length;S++)this.RH[S].fO();
this.RH[Q].Cx()};R$.prototype.wv=function(Q){var S=this.RH.indexOf(Q.target);this.L(S);this.B(new b(P.E.Y,!1))};
function Qv(Q,S){var B=Qv.myk;R$.call(this,Q,[B[S[0]],B[S[1]],B[S[2]]])}Qv.prototype=new R$;Qv.myk=["<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEUAAACnej3aAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />","<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEV5eXkrfmUiAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />","<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEX///+nxBvIAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />","<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEX////IyMhc4gNCAAAAEElEQVR4nGNg+M+AFeEQBgB+vw/xkaQUAAAAAABJRU5ErkJggg==\" />"];
function ND(Q,S,B,y){NJ.call(this);if(!S)return;if(B==null)B=!1;this.Ci=0;this.mfs=B;this.Ns=Q;this.HQ=null;
this.mct=y;var l="dd"+P.rB();this.p=P.P("span","fitem ddmenu");if(Q&&!B){this.TM=P.P("label","flabel");
this.p.appendChild(this.TM);this.TM.setAttribute("for",l)}this.AH=P.P("select","bbtn");this.AH.setAttribute("id",l);
this.p.appendChild(this.AH);this.AH.addEventListener("change",this.wv.bind(this),!1);this.RH=[];this.hd=null;
this.fB(S,y);this.b()}ND.prototype=new NJ;ND.prototype.CE=function(Q){this.Ns=Q;this.b()};ND.prototype.b=function(){if(this.Ns!=null){var Q=Nd.get(this.Ns);
if(this.mfs)this.AH.setAttribute("title",Q);else this.TM.textContent=Q+":"}if(this.hd)this.fB(this.hd,this.mct);
this.L(this.Ci)};ND.prototype.d=function(){return this.Ci};ND.prototype.fB=function(Q,S){P.EW(this.AH);
var B=[],l=0;if(S){B.push(S[0]);for(var y=1;y<S.length;y++)B.push(B[y-1]+S[y])}this.hd=Q;this.HQ=[];
this.mct=S;for(var y=0;y<Q.length;y++){var D=P.P("option");D.textContent=Nd.get(Q[y]);D.setAttribute("value",y);
this.AH.appendChild(D);this.RH.push(D);this.HQ.push(y+l);if(B.indexOf(y+1)!=-1&&y!=Q.length-1){var R=P.P("option");
R.setAttribute("disabled","");R.textContent="";this.AH.appendChild(R);l++}}};ND.prototype.L=function(Q){this.Ci=Q;
this.AH.selectedIndex=this.HQ[Q]};ND.prototype.wv=function(Q){this.Ci=this.HQ.indexOf(this.AH.selectedIndex);
this.B(new b(P.E.Y,!1))};function Mn(){NJ.call(this);this.pn=null;this.SH=new Qm;this.SH.w(P.E.Y,this.myb,this);
this.SH.parent=this;this.KQ=new NP([12,14,0],1,300,"px",0,!0);this.KQ.w(P.E.Y,this.myY,this);this.KQ.parent=this;
this.KU=new Ry([16,0]," px",3);this.KU.w(P.E.Y,this.ts,this);this.mL=new NP([16,1],-500,5e3,"%",0,!0);
this.mL.w(P.E.Y,this.ts,this);this.mL.parent=this;this.sL=new NP("\u2B0D",1,300,"%",null,null,null,null,[2,7,[22,4,3]]);
this.sL.w(P.E.Y,this.ts,this);this.sL.parent=this;this.sc=new NP("\u2B0C",1,300,"%",null,null,null,null,[2,7,[22,4,2]]);
this.sc.w(P.E.Y,this.ts,this);this.sc.parent=this;this.sd=new NP([16,2],-10,10,"px");this.sd.w(P.E.Y,this.ts,this);
this.sd.parent=this;this.md=new RU(!0);this.md.w(P.E.Y,this.mqR,this);this.md.parent=this;this.HL=new Nw("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.Hq=new Nw("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.HV=new Nw("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.Hh=new Nw("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Hu=new Nw("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.Hf=new Nw("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.HU=new Nw("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.H$=new Nw("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var Q=[this.HL,this.Hq,this.HV,this.Hh,this.Hu,this.Hf,this.HU,this.H$];
for(var S=0;S<Q.length;S++)Q[S].w("click",this.myZ,this);this.lo=new Nw("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.lk=new Nw("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.lb=new Nw("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.mdO=new Nw("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.mdB=new Nw("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.myR=new Nw("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.myJ=new Nw("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.se=[this.lo,this.lk,this.lb,this.mdO,this.mdB,this.myR,this.myJ];for(var S=0;S<this.se.length;S++)this.se[S].w("click",this.ts,this);
var B=["lind","rind","flind","bind","aind"],y=[];for(var S=0;S<5;S++)y.push("<img src=\""+PIMG["par/"+B[S]]+"\" class=\"autoscale gsicon\" /> ");
this.hq=new NP(y[0],-20,20,"px");this.hq.w(P.E.Y,this.ts,this);this.hq.parent=this;this.hh=new NP(y[1],-20,20,"px");
this.hh.w(P.E.Y,this.ts,this);this.hh.parent=this;this.hu=new NP(y[2],-20,20,"px");this.hu.w(P.E.Y,this.ts,this);
this.hu.parent=this;this.hS=new NP(y[3],-20,20,"px");this.hS.w(P.E.Y,this.ts,this);this.hS.parent=this;
this.Cu=new NP(y[4],-20,20,"px");this.Cu.w(P.E.Y,this.ts,this);this.Cu.parent=this;this.sy=new R$([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.sy.w(P.E.Y,this.ts,this);this.sy.parent=this}Mn.prototype=new NJ;Mn.prototype.b=function(){this.SH.b();
this.KQ.b();this.KU.b();this.mL.b();this.sd.b();this.sL.b();this.sc.b();this.sy.b()};Mn.prototype.gS=function(Q){this.sR=JSON.parse(JSON.stringify(Q.sR));
var S=this.sR,B=S.EQ,y=S.Kb;this.HL.L(B.FauxBold!=null?B.FauxBold:!1);this.Hq.L(B.FauxItalic!=null?B.FauxItalic:!1);
this.HV.L(B.FontCaps==2);this.Hh.L(B.FontCaps==1);this.Hf.L(B.FontBaseline==1);this.Hu.L(B.FontBaseline==2);
this.HU.L(B.Underline);this.H$.L(B.Strikethrough);this.SH.L(B.Font==null?null:S.vA[B.Font].Name,Q.Tt,Q.Hi);
var l=B.FontSize==null?20:B.FontSize;this.KQ.L(l);var D=B.Tracking;this.mL.L(D==null?0:D);if(B.AutoLeading)this.KU.L("Auto");
else this.KU.L(B.Leading);this.sL.L((B.VerticalScale!=null?B.VerticalScale:0)*100);this.sc.L((B.HorizontalScale!=null?B.HorizontalScale:0)*100);
this.sd.L(B.BaselineShift!=null?B.BaselineShift:0);if(B.FillColor){var R=rA.RT(B);this.md.TB(Math.round(R.t)<<16|Math.round(R.e)<<8|Math.round(R.R))}else this.md.TB(0);
var p=y._Direction!=null?y._Direction:0,O=rA.pF(y);for(var M=0;M<this.se.length;M++)this.se[M].L(O==M);
this.sy.L(p);this.hq.L(y.StartIndent!=null?y.StartIndent:0);this.hh.L(y.EndIndent!=null?y.EndIndent:0);
this.hu.L(y.FirstLineIndent!=null?y.FirstLineIndent:0);this.hS.L(y.SpaceBefore!=null?y.SpaceBefore:0);
this.Cu.L(y.SpaceAfter!=null?y.SpaceAfter:0)};Mn.prototype.nt=function(){var Q=new b(P.E.T,!0);Q.data={H:P.l.Kk,yQ:rS.Vq,sR:this.sR};
this.B(Q)};Mn.prototype.myZ=function(Q){var S=this.sR.EQ,B=Q.target,y=!B.xH();if(B==this.HL)S.FauxBold=y;
if(B==this.Hq)S.FauxItalic=y;if(B==this.HV)S.FontCaps=y?2:0;if(B==this.Hh)S.FontCaps=y?1:0;if(B==this.Hf)S.FontBaseline=y?1:0;
if(B==this.Hu)S.FontBaseline=y?2:0;if(B==this.HU)S.Underline=y;if(B==this.H$)S.Strikethrough=y;this.nt()};
Mn.prototype.ts=function(Q){var S=this.sR.EQ,B=this.sR.Kb,y=Q.target;if(y==this.mL){var l=this.mL.d();
if(l==null)window.myn("An error occured. Please, write us an email to support@photopea.com and describe what you did.");
S.Tracking=l}if(y==this.KU){var D=this.KU.d().toLowerCase();S.AutoLeading=D=="auto";S.Leading=D=="auto"?40:parseInt(D)}if(y==this.sL)S.VerticalScale=y.d()/100;
if(y==this.sc)S.HorizontalScale=y.d()/100;if(y==this.sd)S.BaselineShift=y.d();if(this.se.indexOf(y)!=-1){B.Justification=rA.pF(B,this.se.indexOf(y))}if(y==this.hq)B.StartIndent=y.d();
if(y==this.hh)B.EndIndent=y.d();if(y==this.hu)B.FirstLineIndent=y.d();if(y==this.hS)B.SpaceBefore=y.d();
if(y==this.Cu)B.SpaceAfter=y.d();if(y==this.sy)B._Direction=y.d();this.nt()};Mn.prototype.myb=function(Q){var S=this.sR,B=this.SH.d(),y=-1;
for(var l=0;l<S.vA.length;l++)if(S.vA[l].Name==B)y=l;if(y==-1){y=S.vA.length;var D=JSON.parse(JSON.stringify(S.vA[0]));
D.Name=B;S.vA.splice(y,0,D)}S.EQ.Font=y;this.nt()};Mn.prototype.myY=function(Q){var S=parseFloat(this.KQ.d());
if(isNaN(S))return;this.sR.EQ.FontSize=S;this.nt()};Mn.prototype.mqR=function(Q){var S=this.md.gt(),B={Type:1,Values:[1,(S>>16&255)/255,(S>>8&255)/255,(S>>0&255)/255]};
for(var y=0;y<4;y++)B.Values[y]=Math.round(B.Values[y]*1e3)/1e3;this.sR.EQ.FillColor=B;this.nt()};function Qm(){NJ.call(this);
this.p=P.P("span","fontinput");this.Yi=null;this.lP=null;this._S=null;this.sJ="";this.KW={};this.lI=[];
this.myB={};this.lH=!1;this.me=P.P("button","fitem");this.me.setAttribute("style","width:9em;");this.me.textContent="Family Name \u25BC";
this.p.appendChild(this.me);P.jX(this.me,this.mLN.bind(this));this.AY=new NJ;this.AY.parent=this;this.AY.p=P.P("div","floatcont");
this.AY.p.addEventListener("keyup",this.mqV.bind(this),!1);this.Lh=new Lz(6.8);this.AY.p.appendChild(this.Lh.mqY());
this.Lh.parent=this.AY;this.Lh.w(P.E.Y,this._u,this);var Q=P.P("div","form");this.AY.p.appendChild(Q);
this.sC=new Nw(P.tC("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.sC.w("click",this.mqs,this);
Q.appendChild(this.sC.p);this.g$=new Ry([12,86],null,9);this.g$.w("input",this.gK,this);Q.appendChild(this.g$.p);
var S=this.mf$=new Nw([23,6,[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);S.w("click",this.mqa,this);
S.p.style.marginLeft="1.5em";Q.appendChild(S.p);this.Hk=P.P("span","fitem imageset scrollable marged");
this.Hk.style.height="30em";this.AY.p.appendChild(this.Hk);this.sW=P.P("button","fitem");this.sW.setAttribute("style","width:7em;");
this.sW.textContent="SubFamily Name \u25BC";this.p.appendChild(this.sW);P.jX(this.sW,this.mLN.bind(this));
this.Cs=new NJ;this.Cs.parent=this;this.Cs.p=P.P("div","floatcont");this.lA=P.P("span","fitem imageset scrollable marged");
this.Cs.p.appendChild(this.lA)}Qm.prototype=new NJ;Qm.prototype.mqV=function(Q){var S=0;if(A.GW(Q.code,A.SV))S=-1;
if(A.GW(Q.code,A.Sk))S=1;if(S!=0){var B=this.lI,y=B.length,l=this.Yi.Wo()[this._S];if(l==null&&y==0)return;
var D=B.indexOf(l[0]);if(D==-1)return;D=(D+S+y)%y;this.Wp(B[D],null)}};Qm.prototype.mqa=function(){var Q=new b(P.E.T,!0);
Q.data={H:P.l.Ds,mfj:".otf,.ttf,.ttc"};this.B(Q)};Qm.prototype.b=function(){this.Lh.b();this.mf$.b();
this.sC.CE(P.tC("tools/cshape",null,"autoscale"))};Qm.prototype.mqs=function(Q){this.sC.L(!this.sC.xH());
this._u()};Qm.prototype.gK=function(Q){this.sJ=this.g$.d().toLowerCase();this._u()};Qm.prototype.mLN=function(Q){Q.preventDefault();
Q.stopPropagation();var S=Q.currentTarget,B=S.getBoundingClientRect(),y=S==this.me,l=y?this.AY:this.Cs;
if(P.lG(l.p)){this.mqH(l);return}if(!y&&this.Yi.Wo()[this._S]==null)return;var D=new b(P.E.T,!0);D.data={H:P.l.ow,qr:l,x:B.left,y:B.top+B.height};
this.B(D);if(y){this._u();this.g$.Nf()}};Qm.prototype.mqD=function(Q){var S=Q.currentTarget.firstChild.nextSibling.textContent;
if(Q.target.tagName.toLowerCase()=="button"){var B=this.lP.slice(0),y=B.indexOf(S);if(y==-1){B=B.slice(Math.max(0,B.length-9));
B.push(S)}else B.splice(y,1);var l=new b(P.E.T,!0);l.data={H:P.l.Kk,yQ:rS.Yu,ao:B};this.B(l);this.lH=!0;
this._u()}else{this.Wp(S,null);this.g$.Nf()}};Qm.prototype.mqb=function(Q){this.Wp(null,Q.currentTarget.firstChild.textContent)};
Qm.prototype.Wp=function(Q,S){var B=Q==null?this.Cs:this.AY,y=this.Yi;if(Q==null)Q=y.Wo()[this._S][0];
else{var l=y.bg(Q),D=y.Wo()[this._S];S=NZ.bh(l,D?D[1]:"regular")}var R=y.pT(Q,S)[2];this.L(R,y);this.B(new b(P.E.Y,!1));
this._u()};Qm.prototype.mqH=function(Q){var S=new b(P.E.T,!0);S.data={H:P.l.rb,qr:Q};this.B(S)};Qm.prototype.d=function(){return this._S};
Qm.prototype.L=function(Q,S,B){var y=this.Yi;if(Q!=null)this._S=Q;else Q=this._S;this.Yi=S;this.lP=B;
if(Q!=null){var l=S.Wo()[Q],D,R;if(l==null){D="- "+Q;R="-------"}else{D=l[0];R=l[1];var p=S.bg(D);p.sort(NZ.mGU);
var O=p.indexOf(R),M=this.mqb.bind(this);this.lA.textContent="";for(var U=0;U<p.length;U++){var l=S.pT(D,p[U]);
if(!this.Lh.Wr(l))continue;var m=this.mLj(l,l[1],M,!1);this.lA.appendChild(m)}}this.me.textContent=D.substring(0,15)+" \u25BC";
this.me.setAttribute("title",D);this.sW.textContent=R.substring(0,10)+" \u25BC";this.sW.setAttribute("title",R)}};
Qm.prototype._u=function(){var Q=this.Yi.Wo()[this._S],S=this.lP,B=null,y=this.Yi.mwr(),l=this.mqD.bind(this);
this.lI=[];for(var D in y){var R=NZ.bh(y[D],"regular"),p=this.Yi.pT(D,R),O=S.indexOf(D)!=-1,M=!0;if(this.sJ.length>0&&p[0].toLowerCase().indexOf(this.sJ)==-1)M=!1;
else if(!this.Lh.Wr(p))M=!1;else if(this.sC.xH()&&!O)M=!1;var U=this.KW[D];if(U==null){var U=this.mLj(p,D,l,!0);
this.KW[D]=U;this.Hk.appendChild(U)}if(M)this.lI.push(D);var m=M?"":"display:none; ",Y="opacity: "+(O?"1":"0.2");
if(Q&&Q[0]==D){m+="background-color:rgba(0,0,0,0.13);";B=U}if(this.myB[D]!=m+Y){U.setAttribute("style",m);
U.firstChild.setAttribute("style",Y);this.myB[D]=m+Y}}if(B&&!this.lH)this.Hk.scrollTop=B.offsetTop-210;
this.lH=!1};Qm.prototype.mLj=function(Q,S,B,y){var l=P.P("div","fontitem"),O="";l.addEventListener("click",B,!1);
if(y)l.appendChild(P.P("button","star"));var D=P.P("span","label");D.setAttribute("title",S);D.textContent=S;
l.appendChild(D);var R=P._(),p=1/R,M=NZ.pX*p,U=NZ.l$*p;if(1<R&&R<1.5)O="width:"+M+"px; height:"+U+"px;";
var m=P.P("span","thumb gsicon");if(Q.mCV){O+="background: url("+Q.mCV+");";if(1<R&&R<1.5)O+="background-size: "+M+"px "+U+"px;"}else{var Y=Math.ceil(FNTS.list.length/NZ.cols),x=Math.floor(Q.d_/Y),T=Q.d_%Y,$=x*NZ.pX,L=T*NZ.l$;
if(1<R&&R<1.5){O+="background-size: "+NZ.cols*M+"px "+Y*U+"px;";$*=p;L*=p}O+="background-position:-"+$+"px -"+L+"px;"}m.setAttribute("style",O);
l.appendChild(m);return l};function Lz(Q){NJ.call(this);this.p=P.P("button","fitem bbtn");this.p.addEventListener("click",this.mqS.bind(this),!1);
this.$w=new NJ;this.$w.p=P.P("div","floatcont");this.$w.parent=this;this.lY=P.P("div","flexrow");this.$w.p.appendChild(this.lY);
this.CX=[];this.mJ=[];var S=this.lY,B=P.P("div",""),y=P.P("div","");S.appendChild(B);S.appendChild(y);
this.tT=[];for(var l=0;l<FNTS.cats.length;l++)this.tT.push({name:FNTS.cats[l],index:l,Lt:0});this.lS=new mM([7,0]);
this.lS.w(P.E.Y,this.mJr,this);B.appendChild(this.lS.p);this.lK=P.P("div","vlist marged scrollable");
this.lK.setAttribute("style","width:10.85em; height:"+Q+"em; ");B.appendChild(this.lK);this.jz=[];for(var l=0;
l<this.tT.length;l++){var D=this.tT[l],R=new mM(D.name);this.jz.push(R);R.w(P.E.Y,this.mJV,this);R.L(!0);
this.lK.appendChild(R.p);this.CX.push(1)}this.myS=new mM([7,0]);this.myS.w(P.E.Y,this.mJN,this);this.jr=P.P("div","vlist marged scrollable");
this.jr.setAttribute("style","width:8.6em; height:"+(Q+1.5)+"em; ");y.appendChild(this.jr);this.HZ=[];
for(var l=0;l<FNTS.subsetNames.length;l++){var R=new mM(FNTS.subsetNames[l]);this.HZ.push(R);R.w(P.E.Y,this.mJg,this);
R.L(!1);this.jr.appendChild(R.p);this.mJ.push(0)}}Lz.prototype=new NJ;Lz.prototype.mqA=function(Q){var S=this.HZ;
for(var B=0;B<S.length;B++){var y=(Q>>>B&1)==1;this.mJ[B]=y;S[B].L(y)}};Lz.prototype.mqY=function(){return this.lY};
Lz.prototype.b=function(){this.p.textContent=Nd.get([25,1,0])+" \u25BC";this.lS.b();this.myS.b()};Lz.prototype.mqS=function(Q){var S=this.p.getBoundingClientRect(),B=new b(P.E.T,!0);
B.data={H:P.l.ow,qr:this.$w,x:S.left,y:S.top+S.height,mMR:!1};this.B(B)};Lz.prototype.Wr=function(Q){if(this.CX[Q[4]]==0)return!1;
else for(var S=0;S<this.mJ.length;S++)if(this.mJ[S]==1&&(Q[3]>>>S&1)==0)return!1;return!0};Lz.prototype.mJr=function(Q){var S=Q.target.d(),B=this.jz,y=this.CX;
for(var l=0;l<B.length;l++){B[l].L(S);y[l]=S?1:0}this.B(new b(P.E.Y,!1))};Lz.prototype.mJN=function(Q){var S=Q.target.d(),B=this.HZ,y=this.mJ;
for(var l=0;l<B.length;l++){B[l].L(S);y[l]=S?1:0}this.B(new b(P.E.Y,!1))};Lz.prototype.mJV=function(Q){var S=this.jz.indexOf(Q.target),B=this.tT[S].index;
this.CX[B]=1-this.CX[B];this.B(new b(P.E.Y,!1))};Lz.prototype.mJg=function(Q){var S=this.HZ.indexOf(Q.target);
this.mJ[S]=1-this.mJ[S];this.B(new b(P.E.Y,!1))};function LZ(Q,S,B){RX.call(this,S,!0,"gradientbutton",18,10,rS.Jw);
this.Tq=-1;this.hB=-1;this.mql=null;this.mfT=Q;this.XF=B}LZ.prototype=new RX;LZ.prototype.Bp=function(Q){var S=this.Gw;
this.L(S[this.nw.d()]);this.B(new b(P.E.Y))};LZ.prototype.ga=function(Q){var S=new b(P.E.T,!0);S.data={H:P.l.ND,yc:"gradienteditor",Kg:this.RX,bU:this.mVc.bind(this),lO:this.XF};
this.B(S)};LZ.prototype.mVc=function(Q){this.L(Q);this.B(new b(P.E.Y))};LZ.prototype.Zw=function(){if(!this.D$)return;
var Q=Math.floor(36*P._()),S=Math.floor(36*P._()),B=[],y=[],l=this.Gw;for(var D=0;D<l.length;D++){var R=l[D];
y.push(R.Nm?R.Nm.v.split("=").pop():"");var p=K.fI.xs(R,Q,S,Math.PI/4,this.Tq,this.hB);B.push(p)}this.nw.Tf(B,y,Q,S);
this.D$=!1};LZ.prototype.WR=function(Q,S){this.mcW(this.RX,Q,S)};LZ.prototype.L=function(Q){this.mcW(Q,this.Tq,this.hB)};
LZ.prototype.mcW=function(Q,S,B){this.Tq=S;this.hB=B;if(Q==null)return;var y=JSON.stringify(Q),l=y+S+","+B;
if(l==this.mql)return;this.mql=l;this.RX=JSON.parse(y);var D=Math.floor(80*P._()),R=Math.floor(16*P._()),p=K.fI.xs(this.RX,D,R,0,this.Tq,this.hB);
this.JU.setAttribute("src",p);P.eu(this.JU,D,R)};LZ.prototype.d=function(){var Q;if(this.mfT)Q=K.fI.mCw(this.RX,this.Tq,this.hB);
else Q=JSON.parse(JSON.stringify(this.RX));return Q};function m$(Q){RX.call(this,Q,!1,"swatchbutton",16,8.75,rS.JK)}m$.prototype=new RX;
m$.prototype.Bp=function(Q){this.L(this.Gw[Q.target.d()]);this.B(new b(P.E.Y))};m$.prototype.Zw=function(){if(!this.D$)return;
var Q=Date.now(),S=Math.floor(10*P._()),B=Math.floor(10*P._()),y=[],l=[],D=this.Gw;for(var R=0;R<D.length;
R++){l.push(D[R].MX?D[R].MX.split("=").pop():"");y.push(m$.xs(D[R],S,B))}this.nw.Tf(y,l,S,B);this.D$=!1};
m$.prototype.L=function(Q){this.RX=JSON.parse(JSON.stringify(Q));this.Jr()};m$.prototype.Jr=function(){var Q=Math.floor(24*P._()),S=Math.floor(20*P._()),B=m$.xs(this.RX,Q,S);
this.JU.setAttribute("src",B);P.eu(this.JU,Q,S)};m$.prototype.d=function(){return JSON.parse(JSON.stringify(this.RX))};
m$.ql={};m$.xs=function(Q,S,B){var y=m$.Gb,l=m$.ql,D=k.eb(Q.t<<16|Q.e<<8|Q.R);if(l[D])return l[D];if(y==null){var R=P.P("canvas");
y=m$.Gb=R.getContext("2d")}var R=y.canvas;R.width=S;R.height=B;y.fillStyle="#"+D;y.fillRect(0,0,S,B);
var p=l[D]=R.toDataURL();return p};function mM(Q,S,B){NJ.call(this);this.p=P.P("span","fitem cbox");
if(S==null)S=!0;if(B==null)B="flabel";var y="cb"+P.rB();this.FT=P.P("input","");this.FT.setAttribute("type","checkbox");
this.FT.setAttribute("id",y);this.p.appendChild(this.FT);this.Ns=Q;this.TM=P.P("label",B);if(S)this.TM.setAttribute("for",y);
this.p.appendChild(this.TM);this.b();this.FT.addEventListener("change",this.wv.bind(this),!1)}mM.prototype=new NJ;
mM.prototype.mqm=function(){return this.Ns};mM.prototype.CE=function(Q){this.TM.textContent=Q};mM.prototype.b=function(){this.TM.textContent=Nd.get(this.Ns)};
mM.prototype.Cx=function(){this.FT.checked=!0};mM.prototype.fO=function(){this.FT.checked=!1};mM.prototype.xH=function(){return this.FT.checked};
mM.prototype.L=function(Q){this.FT.checked=Q};mM.prototype.d=mM.prototype.xH;mM.prototype.wv=function(Q){this.B(new b(P.E.Y,!1))};
function Qi(Q,S,B,y){NJ.call(this);this.p=P.P("span","fitem mbox");this.mfk=B;if(Q){this.Ns=Q;this.TM=P.P("label","flabel");
this.p.appendChild(this.TM)}this.GN=S;this.eW=[];for(var l=0;l<S.length;l++){var D=B?new Nw(S[l],!1,y?y[l]:null):new mM(S[l]);
D.w(B?"click":P.E.Y,this.wv,this);this.eW.push(D);this.p.appendChild(D.p)}this.b()}Qi.prototype=new NJ;
Qi.prototype.L=function(Q){for(var S=0;S<this.GN.length;S++)this.eW[S].L(Q[S])};Qi.prototype.d=function(){var Q=[];
for(var S=0;S<this.GN.length;S++)Q[S]=this.eW[S].d();return Q};Qi.prototype.b=function(){if(this.Ns)this.TM.innerHTML=Nd.get(this.Ns)+":";
for(var Q=0;Q<this.eW.length;Q++)this.eW[Q].b()};Qi.prototype.wv=function(Q){var S=this.eW.indexOf(Q.currentTarget);
if(this.mfk)this.eW[S].L(!this.eW[S].d());this.B(new b(P.E.Y,!1))};function rO(Q,S,B,y,l,D){Rn.call(this,Q,S,B,y,l,!1,D);
this.p.appendChild(this.TM);var R=P.P("span","rangecont");this.p.appendChild(R);R.appendChild(this.dI);
this.p.appendChild(this.FT);this.FT.setAttribute("style","width:3.3em");if(this.IW)this.p.appendChild(this._U)}rO.prototype=new Rn;
function Mz(Q,S,B,y){if(Q==null)Q=!1;if(S==null)S=!1;if(B==null)B=!1;NJ.call(this);this.gX=new v;this.gn=new v;
this.mfb=72;this.CT=72;this.p=P.P("span","");this.QX=new NP([12,41],0,0,null,0,!1,!0);this.p.appendChild(this.QX.p);
this.QX.w(P.E.Y,this.$Y,this);var l=["px","%"];if(Q)l=l.concat(["mm","in"]);this.sj=new ND(null,l);this.p.appendChild(this.sj.p);
P.XL(this.p);this.sj.w(P.E.Y,this.$Y,this);this.ay=new NP([12,42],0,0,null,0,!1,!0);this.p.appendChild(this.ay.p);
this.ay.w(P.E.Y,this.$Y,this);var D=new Nw("\u21F5",!1,null,!0);D.w("click",this.mVF,this);this.mW=new Nw("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.mW.w("click",this.$Y,this);this.mqx=new RT("");if(S){this.p.appendChild(this.mW.p);this.p.appendChild(this.mqx.p);
this.mW.Cx()}else this.p.appendChild(D.p);this.si=new NP("DPI",0,0,null,0,!1,!0);if(Q&&y==null){P.XL(this.p);
this.p.appendChild(this.si.p)}this.si.w(P.E.Y,this.$Y,this);this.sk=new mM([12,23,1]);this.sk.w(P.E.Y,this.$Y,this);
if(B){P.XL(this.p);this.p.appendChild(this.sk.p)}P.XL(this.p)}Mz.prototype=new NJ;Mz.prototype.mVW=function(Q){this.mW.L(Q)};
Mz.prototype.b=function(){this.QX.b();this.ay.b();this.si.b();this.mW.b();this.sk.b()};Mz.prototype.mVF=function(Q){var S=this.gn.x;
this.gn.x=this.gn.y;this.gn.y=S;this.N_();this.B(new b(P.E.Y,!1))};Mz.prototype.$Y=function(Q){if(Q.target==this.sj||Q.target==this.sk){this.N_();
return}if(Q.target==this.mW)Q.target.L(!Q.target.d());var S=this.gX,B=this.CT,y=parseFloat(this.QX.d());
if(isNaN(y))y=1;var l=parseFloat(this.ay.d());if(isNaN(l))l=1;var D=this.sj.d();if(D==1){y=this.gX.x*(y/100);
l=this.gX.y*(l/100)}var R=[1,1,25.4/B,1/B][D];y/=R;l/=R;if(this.sk.d()){y+=this.gX.x;l+=this.gX.y}if(Q.target==this.si){var p=this.si.d();
if(D>1){var O=p/B;y*=O;l*=O}B=p}if(this.mW.d()){if(Q&&Q.target==this.QX)l=y*(S.y/S.x);else y=l*(S.x/S.y)}y=Math.max(Math.abs(y),1);
l=Math.max(Math.abs(l),1);this.gn=new v(Math.round(y),Math.round(l));this.CT=B;this.N_();this.B(new b(P.E.Y,!1))};
Mz.prototype.mVX=function(Q){this.sj.L(Q);this.N_()};Mz.prototype.L=function(Q,S){this.gX=Q.clone();
this.gn=Q.clone();if(S!=null){this.mfb=S;this.CT=S}this.N_()};Mz.prototype.N_=function(){var Q=this.gn.x,S=this.gn.y,B=this.CT,y=(Q/S).toFixed(3);
while(y.charAt(y.length-1)=="0")y=y.substring(0,y.length-1);if(y.charAt(y.length-1)==".")y=y.substring(0,y.length-1);
var l="  "+y+" : 1",D=function(U,m){while(m!=0){var Y=m;m=U%m;U=Y}return U},R=D(Q,S);if(Math.min(Q,S)/R<10)l="  "+Math.round(Q/R)+" : "+Math.round(S/R);
this.mqx.L(l);if(this.sk.d()){Q-=this.gX.x;S-=this.gX.y}var p=this.sj.d();if(p==1){Q=100*Q/this.gX.x;
S=100*S/this.gX.y}Q=Math.round(Q);S=Math.round(S);var O=[1,1,25.4/B,1/B][p];Q*=O;S*=O;var M=p>2?2:0;
this.QX.mzx(M);this.ay.mzx(M);this.QX.L(Q);this.ay.L(S);this.si.L(B)};Mz.prototype.d=function(){return this.gn.clone()};
Mz.prototype.mhz=function(){return this.CT};function QV(){NJ.call(this);this.jN=0;this.ms=[0,0,1,1,100,100];
this.p=P.P("span","fitem");this.PU=new ND(null,[[12,89,0],[12,89,1],[12,89,2]]);this.p.appendChild(this.PU.p);
this.PU.w(P.E.Y,this.$Y,this);this.QX=new Ry("W",null,3);this.QX.L(0);this.p.appendChild(this.QX.p);
this.QX.w(P.E.Y,this.$Y,this);this.ay=new Ry("H",null,3);this.ay.L(0);this.p.appendChild(this.ay.p);
this.ay.w(P.E.Y,this.$Y,this);this.L({xQ:0,x:0,y:0})}QV.prototype=new NJ;QV.prototype.b=function(){P.lV(this.QX,this.ay);
this.PU.b()};QV.prototype.$Y=function(Q){if(Q.target==this.PU){var S=this.d(),B=this.ms;B[this.jN*2]=S.x;
B[this.jN*2+1]=S.y;this.jN=S.xQ;this.L({xQ:S.xQ,x:B[S.xQ*2],y:B[S.xQ*2+1]})}this.B(new b(P.E.Y,!1))};
QV.prototype.L=function(Q){this.PU.L(Q.xQ);this.QX.L(Q.x);this.ay.L(Q.y);if(Q.xQ==0){this.QX.qG();this.ay.qG()}else{this.QX.yn();
this.ay.yn()}};QV.prototype.d=function(){return{xQ:this.PU.d(),x:parseInt(this.QX.d()),y:parseInt(this.ay.d())}};
function RT(Q,S){NJ.call(this);this.Ns=Q;this.p=P.P("span","labelitem fitem"+(S?" spread":""));this.b()}RT.prototype=new NJ;
RT.prototype.L=function(Q){this.p.textContent=Q};RT.prototype.d=function(){return this.p.textContent};
RT.prototype.yn=function(){this.p.removeAttribute("disabled")};RT.prototype.qG=function(){this.p.setAttribute("disabled","")};
RT.prototype.CE=function(Q){this.p.textContent=Q};RT.prototype.b=function(){this.p.textContent=Nd.get(this.Ns)};
RT.prototype.mqm=function(){return this.Ns};function rZ(Q){NJ.call(this);this.p=P.P("span","");this.mVp=Q;
this.RV=new rO("Off X",-100,100,Q?"%":"px",0,!1);this.mX=new rO("Off Y",-100,100,Q?"%":"px",0,!1);this.RV.w(P.E.Y,this.$Y,this);
this.mX.w(P.E.Y,this.$Y,this);this.p.appendChild(this.RV.p);this.p.appendChild(this.mX.p)}rZ.prototype=new NJ;
rZ.prototype.b=function(){this.RV.b();this.mX.b()};rZ.prototype.$Y=function(Q){this.B(new b(P.E.Y,!1))};
rZ.prototype.mVK=function(Q){this.RV.L(Q.x);this.mX.L(Q.y)};rZ.prototype.mnE=function(){return new v(this.RV.d(),this.mX.d())};
rZ.prototype.L=function(Q){var S=Q.Hrzn.v,B=Q.Vrtc.v;if(this.mVp){S=S.val;B=B.val}this.RV.L(S);this.mX.L(B)};
rZ.prototype.d=function(){var Q=this.RV.d(),S=this.mX.d();if(this.mVp)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:Q}},Vrtc:{t:"UntF",v:{type:"#Prc",val:S}}};
else return{classID:"Pnt",Hrzn:{v:Q,t:"doub"},Vrtc:{v:S,t:"doub"}}};function NP(Q,S,B,y,l,D,R,p,O){Rn.call(this,Q,S,B,y,l,!0,D,O);
P.Te(this.p,"rangedropinput");this.p.appendChild(this.TM);this.FT.setAttribute("style","width:"+(p?p:3.3)+"em");
this.p.appendChild(this.FT);this.mVQ=P.P("span","rangecont");this.mVQ.appendChild(this.dI);this.jL=P.P("button");
this.jL.innerHTML="\u25BC";P.jX(this.jL,this.mhm.bind(this));if(R!=!0)this.p.appendChild(this.jL);this.Vh=new NJ;
this.Vh.p=this.mVQ}NP.prototype=new Rn;NP.prototype.mhm=function(Q){if(P.lG(this.Vh.p))return;Q.stopPropagation();
var S=this.p.getBoundingClientRect();this.dI.setAttribute("style","width:"+S.width+"px;");var B=new b(P.E.T,!0);
B.data={H:P.l.ow,qr:this.Vh,x:S.left,y:S.top+S.height};this.B(B)};function Qg(){NJ.call(this);this.p=P.P("span","fitem strokebutton");
this.jc=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.lp=JSON.parse(JSON.stringify(rx.xD.default));
this.CA=P.P("button");this.p.appendChild(this.CA);this.CA.addEventListener("click",this.DE.bind(this),!1);
var Q=P.P("canvas","gsicon");this.oX=Q.getContext("2d");this.CA.appendChild(Q);var S=P.P("span");S.textContent=" \u25BC";
this.CA.appendChild(S);this.$w=new NJ;this.$w.parent=this;this.$w.p=P.P("div","floatcont form");var B=this.$w.p;
B.setAttribute("style","width: 14em;");this.KW=[new ND([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new R$([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new R$([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new Ry([19,9,2])];
for(var y=0;y<this.KW.length;y++){var l=this.KW[y];B.appendChild(l.p);var D=y<4?P.E.Y:"click";l.w(D,this.$Y,this)}P.XL(B);
this.oU=[];var R=this.mhr.bind(this);for(var y=0;y<this.jc.length;y++){var p=P.P("button","fitem");this.oU.push(p);
B.appendChild(p);p.addEventListener("click",R,!1);var Q=P.P("canvas","gsicon"),O=Q.getContext("2d");
p.appendChild(Q);this.mRp(O,40,20,this.jc[y])}}Qg.prototype=new NJ;Qg.prototype.DE=function(Q){var S=this.CA.getBoundingClientRect(),B=new b(P.E.T,!0);
B.data={H:P.l.ow,qr:this.$w,x:S.left,y:S.top+S.height+4};this.B(B)};Qg.prototype.$Y=function(Q){var mq=this.KW,S=mq.indexOf(Q.target),B=[];
for(var y=0;y<4;y++)B.push(mq[y].d());this.lp=this.mzT(B);this.B(new b(P.E.Y,!1))};Qg.prototype.mhr=function(Q){var S=this.oU.indexOf(Q.currentTarget);
this.L(this.mzT(this.jc[S]));this.B(new b(P.E.Y,!1))};Qg.prototype.mzT=function(Q){var S=JSON.parse(JSON.stringify(this.lp)),B=Q[0],y=Q[1],l=Q[2],D=Q[3];
if(B!=null)S.strokeStyleLineAlignment.v.strokeStyleLineAlignment=rx.xD.XQ[B];if(y!=null)S.strokeStyleLineCapType.v.strokeStyleLineCapType=rx.xD.mI[y];
if(l!=null)S.strokeStyleLineJoinType.v.strokeStyleLineJoinType=rx.xD.join[l];var R=S.strokeStyleLineDashSet.v=[];
D=D.split(" ");while((D.length&1)!=0)D.pop();for(var p=0;p<D.length;p++)R.push({t:"UntF",v:{type:"#Nne",val:parseInt(D[p])}});
return S};Qg.prototype.b=function(){for(var Q=0;Q<this.KW.length;Q++)this.KW[Q].b()};Qg.prototype.L=function(Q){this.lp=JSON.parse(JSON.stringify(Q));
var S=rx.xD.XQ.indexOf(Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment),B=rx.xD.mI.indexOf(Q.strokeStyleLineCapType.v.strokeStyleLineCapType),y=rx.xD.join.indexOf(Q.strokeStyleLineJoinType.v.strokeStyleLineJoinType),l=[],D=Q.strokeStyleLineDashSet.v;
for(var R=0;R<D.length;R++)l.push(D[R].v.val);var mq=this.KW;mq[0].L(S);mq[1].L(B);mq[2].L(y);mq[3].L(l.join(" "));
var p=[];for(var O=0;O<4;O++)p.push(mq[O].d());this.mRp(this.oX,40,16,p)};Qg.prototype.d=function(){return JSON.parse(JSON.stringify(this.lp))};
Qg.prototype.mRp=function(Q,S,B,y){var l=y[0],D=y[1],R=y[2],p=y[3].split(" ").map(parseFloat);P.tM(Q.canvas,S,B);
var O=Math.min(5,this.lp.strokeStyleLineWidth.v.val);for(var M=0;M<p.length;M++)p[M]*=O;Q.clearRect(0,0,S,B);
Q.setLineDash(p);Q.lineCap=["butt","round","square"][D];Q.lineJoin=["miter","round","bevel"][R];Q.lineWidth=O;
Q.beginPath();Q.moveTo(0,B/2);Q.lineTo(S*2,B/2);Q.stroke()};function Rx(Q){RX.call(this,Q,!1,"contourbutton",34,16,rS.tg);
this.g$=new Ry([12,86],null,16);this.g$.w("input",this.gK,this);this.$w.p.appendChild(this.g$.p);this.jd=null;
this.sJ="";this.GC=null;this.L(Le.yh())}Rx.prototype=new RX;Rx.prototype.b=function(){RX.prototype.b.call(this);
this.g$.b()};Rx.prototype.Bp=function(Q){this.L(this.jd[Q.target.d()]);this.B(new b(P.E.Y))};Rx.prototype.gK=function(Q){this.sJ=this.g$.d().toLowerCase();
this.mRl()};Rx.Ne=!1;Rx.prototype.Zw=function(){if(!this.D$)return;var Q=this.Gw;if(Q==null||!Rx.Ne){var S=new b(P.E.T,!0);
S.data={H:P.l.fd,yQ:{url:"rsrc/basic/fa_basic.csh"}};this.B(S);Rx.Ne=!0}else{var B=Math.floor(38*P._()),y=Math.floor(38*P._());
this.GC=[];for(var l=0;l<Q.length;l++)this.GC.push(Rx.mQu(Q[l],B,y));this.mRl();this.D$=!1}};Rx.prototype.mRl=function(){var Q=Math.floor(38*P._()),S=Math.floor(38*P._());
this.jd=[];var B=[],y=[],l=this.Gw;for(var D=0;D<l.length;D++){if(l[D].dy.toLowerCase().indexOf(this.sJ)==-1)continue;
this.jd.push(l[D]);B.push(this.GC[D]);y.push(l[D].dy)}this.nw.Tf(B,y,Q,S)};Rx.prototype.L=function(Q){this.RX=Rx.clone(Q);
this.Jr()};Rx.prototype.Jr=function(){var Q=Math.floor(23*P._()),S=Math.floor(23*P._()),B=Rx.mQu(this.RX,Q,S);
this.JU.setAttribute("src",B);P.eu(this.JU,Q,S)};Rx.prototype.d=function(){return Rx.clone(this.RX)};
Rx.clone=function(Q){return{dy:Q.dy,ox:Q.ox,A:z.hm.tS(Q.A),ML:Q.ML.clone()}};Rx.MJ=null;Rx.WQ=null;Rx.mQu=function(Q,S,B){var y=z.hm.tS(Q.A),l=Q.ML,D=Math.min(S/l.r,B/l.O)*.9,R=new Nu;
R.translate(-.5,-.5);R.scale(.95,.95);R.translate(.5,.5);R.scale(D*l.r,D*l.O);k.c.ZU(y,R);var p=new z.hm;
p.A=y;var O=p.Tb();O.rect.x=Math.floor((S-O.rect.r)/2);O.rect.y=Math.floor((B-O.rect.O)/2);var M=k.Q(O.rect.Z()*4);
k.St(M,4278190080);k.SD(O.channel);k.KF(O.channel,M,0);k.KF(O.channel,M,1);k.KF(O.channel,M,2);var U=Rx;
if(U.MJ==null)U.MJ=P.P("canvas");var m=U.MJ,Y=m.getContext("2d");if(m.width!=S||m.height!=B||U.WQ==null){m.width=S;
m.height=B;U.WQ=Y.createImageData(S,B)}var x=U.WQ;k.St(x.data,4294967295);k.oD(M,O.rect,x.data,new w(0,0,S,B));
Y.putImageData(x,0,0);return m.toDataURL()};function pp(Q){RX.call(this,Q,!1,"ICCButton",16,12,rS.tw,!0);
this.nw.Fw(1)}pp.prototype=new RX;pp.prototype.gg=function(){var Q="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var S=0;S<Q.length;S++)Q[S]="luts/"+Q[S]+".CUBE";return Q};pp.prototype.Bp=function(Q){this.L(this.Gw[Q.target.d()]);
this.B(new b(P.E.Y))};pp.prototype.Zw=function(){if(!this.D$)return;var Q=Math.floor(1*P._()),S=Math.floor(1*P._()),B=[],y=[],l=this.Gw;
for(var D=0;D<l.length;D++){var R=l[D].Nm.v.split("\\").pop().split("/").pop();y.push(R);B.push(pp.xs(l[D],Q,S))}this.nw.Tf(B,y,Q,S);
this.D$=!1};pp.prototype.L=function(Q){this.RX=JSON.parse(JSON.stringify(Q));this.Jr()};pp.xs=function(Q,S,B){var y=P.P("canvas"),R="ICC / 3DL / look / cube";
y.width=S;y.height=B;var l=y.getContext("2d"),D=Math.floor(14*P._());l.font=D+"px sans-serif";if(Q.Nm)R=Q.Nm.v.split("\\").pop().split("/").pop();
l.fillText(R,10,D);return y.toDataURL()};pp.prototype.Jr=function(){var Q=Math.floor(120*P._()),S=Math.floor(20*P._());
this.JU.setAttribute("src",pp.xs(this.RX,Q,S));P.eu(this.JU,Q,S)};pp.prototype.d=function(){return JSON.parse(JSON.stringify(this.RX))};
function QX(){NJ.call(this);this.Jp=null;this.p=P.P("span","fitem");this.HH=new pr([14,9]);this.ju=new NP(null,0,150,"pt",1,!0,null,null,[19,2,5]);
this.RF=new Qg;this.HA=[this.HH,this.ju,this.RF];for(var Q=0;Q<this.HA.length;Q++){var S=this.HA[Q];
this.p.appendChild(S.p);S.parent=this;S.w(P.E.Y,this.$Y,this)}}QX.prototype=new NJ;QX.prototype.b=function(){for(var Q=0;
Q<this.HA.length;Q++)this.HA[Q].b()};QX.prototype.on=function(Q,S){this.HH.on(Q,S)};QX.prototype.$Y=function(Q){var S=this.Jp,B=this.HH.d(),y=B.Vx;
S.strokeEnabled.v=y!=0;if(y!=0){S.strokeStyleContent.v=B.DW;B.DW.classID=rx.xD.Uc[y-1]}S.strokeStyleLineWidth.v.val=this.ju.d();
if(Q.target==this.RF)S=this.RF.d();this.Jp=S;this.B(new b(P.E.Y,!1))};QX.prototype.L=function(Q,S,B){this.Jp=JSON.parse(JSON.stringify(S));
var y=S.strokeEnabled.v,l=S.strokeStyleContent.v,D=y?{Vx:1+rx.xD.Uc.indexOf(l.classID),DW:l}:{Vx:0};
this.HH.L(Q,D,B);this.ju.L(S.strokeStyleLineWidth.v.val);this.RF.L(S)};QX.prototype.d=function(){return JSON.parse(JSON.stringify(this.Jp))};
function LC(Q,S){NJ.call(this);this.p=P.P("span","fitem");this.uN=["front","union","difference","intersection"];
var B=[[18,0],[18,1],[18,2],[18,3]];this.hA=[];this.jg=0;for(var y=0;y<this.uN.length;y++){var l=new Nw("<img src=\""+PIMG["set/"+this.uN[y]]+"\" class=\"autoscale gsicon\" />",!1,B[y]);
l.w("click",this.mhd,this);this.p.appendChild(l.p);this.hA.push(l)}this.hA[0].Cx()}LC.prototype=new NJ;
LC.prototype.d=function(){return this.uN[this.jg]};LC.prototype.L=function(Q){this.jg=this.uN.indexOf(Q);
for(var S=0;S<this.hA.length;S++)this.hA[S].fO();this.hA[this.jg].Cx()};LC.prototype.mhd=function(Q){this.L(this.uN[this.hA.indexOf(Q.currentTarget)]);
this.B(new b(P.E.Y,!1))};LC.prototype.b=function(){for(var Q=0;Q<this.hA.length;Q++)this.hA[Q].b()};
function Ry(Q,S,B){NJ.call(this);var y=P.rB();this.p=P.P("span","fitem tinput");if(Q){this.Ns=Q;this.TM=P.P("label","flabel");
this.p.appendChild(this.TM);this.TM.setAttribute("for",y);this.b()}this.FT=P.P("input","");this.FT.setAttribute("type","text");
this.FT.setAttribute("id",y);if(B)this.FT.setAttribute("style","width:"+B+"em");this.p.appendChild(this.FT);
if(S){this._U=P.P("span","");this._U.textContent=S;this.p.appendChild(this._U)}this.FT.addEventListener("change",this.wv.bind(this),!1);
this.FT.addEventListener("input",this.mha.bind(this),!1)}Ry.prototype=new NJ;Ry.prototype.b=function(){if(this.Ns)this.TM.textContent=Nd.get(this.Ns)+":"};
Ry.prototype.CE=function(Q){this.TM.textContent=Q};Ry.prototype.L=function(Q){this.FT.value=Q==null?"":Q};
Ry.prototype.d=function(){return this.FT.value};Ry.prototype.Nf=function(){this.FT.select();this.FT.focus()};
Ry.prototype.wv=function(Q){this.B(new b(P.E.Y,!1))};Ry.prototype.mha=function(Q){this.B(new b("input",!1))};
function mf(Q,S,B,y,l,D){Rn.call(this,Q,S,B,y,l,!0,D);P.Te(this.p,"trangeinput");this.p.appendChild(this.TM);
this.p.appendChild(this.FT);var R=P.P("span","rangecont");this.p.appendChild(R);R.appendChild(this.dI);
this.dI.setAttribute("style","width:97%;")}mf.prototype=new Rn;function Ls(){NJ.call(this);this.VI=[10,!0,!0];
this.p=P.P("span","");this.qX=[new NP([12,24],0,255),new mM("Anti-alias"),new mM([12,25])];for(var Q=0;
Q<3;Q++){var S=this.qX[Q];S.parent=this;S.L(this.VI[Q]);this.p.appendChild(S.p);S.w(P.E.Y,this.$Y,this)}}Ls.prototype=new NJ;
Ls.prototype.$Y=function(){for(var Q=0;Q<3;Q++)this.VI[Q]=this.qX[Q].d();this.B(new b(P.E.Y,!1))};Ls.prototype.L=function(Q){this.VI=Q.slice(0);
for(var S=0;S<3;S++)this.qX[S].L(Q[S])};Ls.prototype.d=function(){return this.VI.slice(0)};Ls.prototype.b=function(){for(var Q=0;
Q<3;Q++)this.qX[Q].b()};function Qb(Q,S){NJ.call(this);if(S==null)S=!1;this.GC=[];this.mVa=0;this.mhI=0;
this.uR=0;this.JP=[];this.qu=[];for(var B in k.cF.type){if(B=="warpCustom"&&!S)continue;this.JP.push(B);
this.qu.push(k.cF.type[B])}this.p=P.P("span","fitem warpbutton");this.$w=new NJ;this.$w.p=P.P("div","floatcont");
if(Q){this.Am=Q;this.TM=P.P("label","flabel");this.p.appendChild(this.TM)}this.H=P.P("button");this.p.appendChild(this.H);
this.H.addEventListener("click",this.DE.bind(this),!1);this.Ap=new Ln(!0);this.$w.p.appendChild(this.Ap.p);
this.Ap.w(P.E.Y,this.mhf,this);this.b()}Qb.prototype=new NJ;Qb.prototype.CE=function(Q){this.TM.textContent=Q};
Qb.prototype.b=function(){if(this.Am)this.TM.innerHTML=Nd.get(this.Am)+":";this.GC=[];var Q=P.P("canvas",""),S=Q.getContext("2d"),B=0;
S.font=Math.floor(13*P._())+"px sans-serif";for(var y=0;y<this.JP.length;y++){B=Math.max(B,S.measureText(Nd.get(k.cF.type[this.JP[y]])).width)}var l=this.mVa=Math.floor(50*P._()+B),D=this.mhI=Math.floor(23*P._());
Q.width=l;Q.height=D;this.$w.p.setAttribute("style","width:"+Math.floor(8+l/P._())+"px;");S.font=Math.floor(13*P._())+"px sans-serif";
S.lineWidth=1;S.strokeStyle="#000000";var R=Math.floor(16*P._()),p=new w(0,0,R,R);for(var y=0;y<this.JP.length;
y++){var O=this.JP[y];S.clearRect(0,0,Q.width,Q.height);var M=k.cF.cF(p,O,!0,.3,0,0),U=k.i.wS(p);U.F.push("M","L","M","L");
U.M.push(0,R/2,R,R/2);U.M.push(R/2,0,R/2,R);U=k.i.Tn(U);U=k.i.Tl(U,R/5);k.Tx.apply(M,U.M,p);k.i.V(U.M,new Nu(1,0,0,1,Math.floor(8*P._())+.5,Math.floor(3*P._())+.5),U.M);
S.beginPath();Typr.U.pathToContext({cmds:U.F,crds:U.M},S);S.stroke();S.fillText(Nd.get(k.cF.type[O]),Math.floor(40*P._()),Math.floor(16*P._()));
this.GC.push(Q.toDataURL())}this.Ap.Tf(this.GC,null,l,D);this.Jr()};Qb.prototype.DE=function(Q){var S=this.H.getBoundingClientRect(),B=new b(P.E.T,!0);
B.data={H:P.l.ow,qr:this.$w,x:S.left,y:S.top+S.height+4};this.B(B)};Qb.prototype.mhf=function(Q){var S=new b(P.E.T,!0);
S.data={H:P.l.rb,qr:this.$w};this.B(S);this.uR=Q.target.d();this.Jr();this.B(new b(P.E.Y))};Qb.prototype.Jr=function(){this.Ap.OF(this.uR);
this.H.innerHTML="<img src=\""+this.GC[this.uR]+"\" class=\"gsicon\" />";var Q=this.mVa,S=this.mhI;P.eu(this.H.firstChild,Q,S)};
Qb.prototype.d=function(){return this.JP[this.uR]};Qb.prototype.L=function(Q){this.uR=this.JP.indexOf(Q);
this.Jr()};function Lb(Q,S,B){NJ.call(this);if(Q==null)Q=!1;if(S==null)S=!1;if(B==null)B=!1;this.mfI=S;
this.cF=null;this.GG=new Qb([12,22],B);this.GG.parent=this;this.GG.w(P.E.Y,this.nt,this);this.mi=new ND([22,0],[[22,4,0],[22,4,1]]);
this.mi.w(P.E.Y,this.nt,this);var y=Q?NP:mf;this.Gn=new y([22,1],-100,100,"%");this.Gs=new y("Horizontal Distortion:",-100,100,"%");
this.Gt=new y("Vertical Distortion:",-100,100,"%");this.Gn.parent=this.Gs.parent=this.Gt.parent=this;
this.Gn.w(P.E.Y,this.nt,this);this.Gs.w(P.E.Y,this.nt,this);this.Gt.w(P.E.Y,this.nt,this)}Lb.prototype=new NJ;
Lb.prototype.b=function(){this.GG.b();this.mi.b();this.Gn.b();var Q=this.mfI?1:100;this.Gs.CE(Nd.get([22,2]).substring(0,Q)+":");
this.Gt.CE(Nd.get([22,3]).substring(0,Q)+":")};Lb.prototype.nt=function(){var Q=this.cF,S=this.GG.d(),B=Q.warpStyle.v.warpStyle;
if(S=="warpCustom")k.cF.IK(k.cF._i(Q),Q);else delete Q.customEnvelopeWarp;Q.warpStyle.v.warpStyle=this.GG.d();
Q.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.mi.d()];Q.warpValue.v=this.Gn.d();Q.warpPerspective.v=this.Gs.d();
Q.warpPerspectiveOther.v=this.Gt.d();if(S=="warpNone"||S=="warpCustom"){Q.warpValue.v=0;Q.warpPerspective.v=0;
Q.warpPerspectiveOther.v=0}else if(B=="warpNone"||B=="warpCustom")Q.warpValue.v=50;this.B(new b(P.E.Y,!1));
this.L(Q)};Lb.prototype.d=function(Q){return JSON.parse(JSON.stringify(this.cF))};Lb.prototype.L=function(Q){this.cF=JSON.parse(JSON.stringify(Q));
this.GG.L(Q.warpStyle.v.warpStyle);this.mi.L(Q.warpRotate.v.Ornt=="Hrzn"?0:1);this.Gn.L(Q.warpValue.v);
this.Gs.L(Q.warpPerspective.v);this.Gt.L(Q.warpPerspectiveOther.v);var S=Q.warpStyle.v.warpStyle,B=S=="warpNone"||S=="warpCustom",y=[this.mi,this.Gn,this.Gs,this.Gt];
for(var l=0;l<y.length;l++)if(B)y[l].qG();else y[l].yn()};function RG(Q){NJ.call(this);this.p=P.P("div");
this.jW=Q;this.uQ=!1;this.MO=new v(0,0);this.Ys="position:relative;overflow:hidden;";this.x_=null;this.Ac=new P.lM(this.p);
this.NU("grab");this.yt=P.P("canvas","canv");this.p.appendChild(this.yt);this.oX=this.yt.getContext("2d");
this.mCx=null;this.Fh=null;this.jF=null;this.sZ=0;this.ja=0;this.jn=0;this.mfA=this.mQN.bind(this);this.mu$=null;
this.u=new QP({r:1,O:1});this.$M=null;this.oT=null;this.mUM=this.Gg.bind(this);this.mFr=this.Re.bind(this);
this.mFv=this.ss.bind(this);this.mUp=this.NN.bind(this);this.uW=0;this.Ae=null;this.mej(this.yt);this.Wd(this)}RG.prototype=new NJ;
RG.prototype.qh=function(Q){var S=this.x_;this.uQ=Q.N(A.tD);if(this.uQ)S="grab";this.Ac.Cp(S,this.Ys);
if(Q.N(A.DQ)){var B=0;if(Q.N(A.XX))B=1;if(Q.N(A.Jy))B=-1;if(B!=0){this.mFn(new v(this.yt.width/2,this.yt.height/2),B==1)}}};
RG.prototype.NU=function(Q){this.x_=Q;this.Ac.Cp(Q,this.Ys)};RG.prototype.mej=function(Q){P.jX(Q,this.mUM);
P.XW(Q);Q.addEventListener("wheel",this.mUp,!1)};RG.prototype.Wd=function(Q){Q.w("viewchange",this.mhs,this)};
RG.prototype.mhs=function(Q){var S=this.u.C,B=Q.currentTarget.lZ();this.u.C=B.C;this.u.a=B.a.clone();
if(S!=B.C)this.We();this.dr()};RG.prototype.lZ=function(){return{C:this.u.C,a:this.u.a}};RG.prototype.L=function(Q,S){var B=Q[0].iQ;
if(this.Fh!=null&&this.Fh[0].iQ.UH(B)){}else{this.u.SB={r:B.r,O:B.O};this.u.a=new v(0,0);this.u.C=1}this.Fh=Q;
this.We();this.lx();this.sZ=0;this.ja=0;this.jn=S==null?0:S;this.mQN()};RG.prototype.NN=function(Q){Q.preventDefault();
if(Q.deltaY==0||Date.now()-this.uW<100)return;var S=P.Jo(Q);S.x=P._()*S.x;S.y=P._()*S.y;this.uW=Date.now();
this.mFn(S,Q.deltaY<0)};RG.prototype.mFn=function(Q,S){K.hT.ug(this.u,Q,S);this.We();this.B(new b("viewchange"));
this.B(new b("zoom"))};RG.prototype.We=function(){this.jF=[];var Q=this.u.C;for(var S=0;S<this.Fh.length;
S++){var B=this.Fh[S],y=new Uint8Array(B.data),l;if(Q>=1)l={Ko:y,rect:B.iQ};else l=k.rX(y,B.iQ,Q);this.jF.push(l)}};
RG.prototype.lx=function(){clearTimeout(this.mu$)};RG.prototype.dr=function(){if(this.Fh==null||!P.lG(this.yt))return;
var Q=this.mCx,S=this.yt.width,B=this.yt.height,R,p;if(Q==null||Q.width!=S||Q.height!=B){Q=this.mCx=this.oX.createImageData(S,B);
console.log("creating image data")}var y=this.Fh[this.sZ],l=this.jF[this.sZ],D=this.u;if(D.C<=1){var O=l.rect.clone();
O.x=D.a.x+Math.floor((D.S.r-l.rect.r)/2);O.y=D.a.y+Math.floor((D.S.O-l.rect.O)/2);R=l.Ko;p=O}else{var M=D.BJ(),U=D.gV(),m=new w(0,0,M.r*D.C,M.O*D.C);
m.x=M.x*D.C+U.x;m.y=M.y*D.C+U.y;if(D.CG==null||D.CG.length!=M.Z()*4){D.CG=k.Q(M.Z()*4)}if(D.Fc==null||D.Fc.length!=m.Z()*4){D.Fc=k.Q(m.Z()*4)}k.St(D.CG,0);
k.oD(l.Ko,l.rect,D.CG,M);k.scale.LR(D.CG,M.r,M.O,D.Fc,m.r,m.O,D.C);R=D.Fc;p=m}var U=D.gV();k.jk(Q.data,D.S.r,D.S.O,8,-U.x,-U.y);
k.X.Rc("norm",R,p,Q.data,D.S,D.S,1);this.oX.setTransform(1,0,0,1,0,0);this.oX.putImageData(Q,0,0);if(D.C<1)U=p;
var Y=U.x,x=U.y,T=U.r,$=U.O;this.oX.clearRect(Y,x,-1e3,$);this.oX.clearRect(Y+T,x,1e3,$);this.oX.clearRect(Y-1e3,x,T+2e3,-1e3);
this.oX.clearRect(Y-1e3,x+$,T+2e3,1e3);var L=RG.mRR(D.C,!1);this.oX.putImageData(L,0,D.S.O-L.height)};
RG.maf={};RG.mRR=function(Q,S){var B="z"+Q+","+S,y=RG.maf[B];if(y)return y;var l=Math.round(50*P._()),D=Math.round(18*P._()),R=P.P("canvas"),p=R.getContext("2d");
R.width=l;R.height=D;p.fillStyle="rgba(0,0,0,1)";p.fillRect(0,0,l,D);p.font=Math.round(11*P._())+"px monospace";
p.fillStyle="rgba(255,255,"+(S?0:255)+",1)";var O=Q*100;if(O<100)O=O.toFixed(2);O=O+"%";var M=p.measureText(O).width;
p.fillText(O,(l-M)/2,Math.round(D*.7));y=RG.maf[B]=p.getImageData(0,0,l,D);return y};RG.prototype.mQN=function(){var Q=this.Fh,S=Q.length,B=this.sZ,y=this.Fh[B],l=(B+1)%S;
this.dr();if(S!=1&&Q[l].iQ.UH(y.iQ)){var D=y.Uk?parseInt(y.Uk.split(",").pop()):30;if(D==0)D=16;if(l==0)this.ja++;
if(this.jn==0||this.ja<this.jn)this.mu$=setTimeout(this.mfA,D)}this.sZ=l};RG.prototype.Kl=function(Q,S){if(Q<=0||S<=0)return;
var B=Math.floor(Q*P._()),y=Math.floor(S*P._());this.u.S=new w(0,0,B,y);this.yt.width=B;this.yt.height=y;
this.yt.setAttribute("style","width:"+B/P._()+"px; height:"+y/P._()+"px; display:block;");this.dr()};
RG.prototype.Gg=function(Q){this.Ae=Q.target;P.rm(window,this.mFr);P.NP(window,this.mFv);this.$M=P.Jo(Q,this.yt);
this.$M.x*=P._();this.$M.y*=P._();this.MO=this.$M;this.oT=this.u.a.clone();if(this.jW&&this.Ae==this.yt&&!this.uQ)this.B(new b("mousedown"))};
RG.prototype.Re=function(Q){var S=this.u,B=this.Fh[this.sZ].iQ.clone();B.r*=S.C;B.O*=S.C;var y=P.Jo(Q,this.yt);
y.x*=P._();y.y*=P._();this.MO=y;if(this.jW&&this.Ae==this.yt&&!this.uQ)this.B(new b("mousemove"));else if(!S.S.vM(B)){var l=y.x-this.$M.x,D=y.y-this.$M.y;
S.a.x=this.oT.x+Math.round(l);S.a.y=this.oT.y+Math.round(D);this.B(new b("viewchange"))}};RG.prototype.ss=function(Q){P.j_(window,this.mFr);
P.oe(window,this.mFv);if(Q.detail>1){this.u.C=1;this.u.a.yZ(0,0);this.dr()}if(this.jW&&this.Ae==this.yt&&!this.uQ)this.B(new b("mouseup"))};
RG.prototype.NE=function(){return this.u.FD(this.MO.x,this.MO.y)};function RP(){NJ.call(this);this.AW=null;
this.GX=null;this.mS=null;this.AE=null;this.m_d="";this.As=[];this.Ab=0;this.uF=[];this.ys=0;this.Kv=null;
var Q=this.p=P.P("div",""),S=this.mUR=P.P("div","form");S.setAttribute("style","line-height:0; margin-bottom:0.5em;");
Q.appendChild(S);var B=this.Am=P.P("span");S.appendChild(B);B.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var y=this.m_Z=new mM([25,2,0]);y.L(!0);S.appendChild(y.p);y.w(P.E.Y,this.hb,this);var l=this.js=new mM([25,2,1]);
l.L(!1);S.appendChild(l.p);l.w(P.E.Y,this.hb,this);var D=new RT(" ");S.appendChild(D.p);var R=this.j$=new Ry([25,1,1]);
S.appendChild(R.p);R.w(P.E.Y,this.hb,this);this.Lh=new Lz(14);this.Lh.mqA(3);S.appendChild(this.Lh.p);
this.Lh.parent=this;this.Lh.w(P.E.Y,this.mCM,this);var p=this.mUc=new Nw([25,1,2],null,null,!0);S.appendChild(p.p);
p.w("click",this.NO,this);this.mUy=this.mCr.bind(this);this.Mh=P.P("div","svggallery scrollable");Q.appendChild(this.Mh);
this.Mh.addEventListener("scroll",this.mhP.bind(this))}RP.prototype=new NJ;RP.prototype.on=function(Q){this.m_x=Q};
RP.prototype.b=function(){this.Am.textContent=Nd.get([25,0]);this.Lh.b();this.m_Z.b();this.js.b();this.j$.b();
this.mUc.b()};RP.prototype.Kl=function(Q,S){S-=26;this.AW=new v(Q,S);this.mUR.setAttribute("style","width:"+Q+"px");
this.Mh.setAttribute("style","width:"+Q+"px; height:"+S+"px");if(P.lG(this.p))this.hb()};RP.prototype.L=function(Q){this.GX=Q;
this.hb()};RP.prototype.mhP=function(Q){var S=this.Mh;if(S.scrollTop+S.clientHeight+10>=S.scrollHeight){this.hb(!0)}};
RP.prototype.mCM=function(Q){this.mS=null;this.hb()};RP.prototype.mCr=function(Q){if(Date.now()-this.ys<2e3)return;
this.ys=Date.now();this.Ab=this.uF.indexOf(Q.currentTarget);var S=this.WG(this.GX.x,this.GX.y);if(S[1]){var B=S[1].largeImageURL,y=new XMLHttpRequest;
y.responseType="arraybuffer";y.open("GET",B,!0);y.onload=this.mCG.bind(this);y.send();return}this.mLT(S)};
RP.prototype.mCG=function(Q){var S=Q.target.response,B=Np.Ge(S),y=Np.hG(B),l=y.tm(S),D=this.WG(this.GX.x,this.GX.y,[S,l[0].iQ.r,l[0].iQ.O]);
this.mLT(D)};RP.prototype.mLT=function(Q){var S=Q[0],B=Np.Ge(S),y=Np.hG(B),l=new mV("template.psd");
y.tm(S,l);var D=new b("tempready",!0);D.data={SB:l};this.B(D)};RP.prototype.NO=function(Q){var S=Q.target;
this.As=[];this.hb()};RP.prototype.muc=function(Q){console.log(Q.target.response);var S=JSON.parse(Q.target.response);
this.AE=S.hits;this.hb()};RP.prototype.hb=function(Q){if(this.GX==null||this.AW==null||this.m_x==null)return;
if(this.AW.x<=0)return;var S=this.GX.x,B=this.GX.y;if(Math.min(S,B)<50)return;if(Q!=!0){this.uF=[];P.EW(this.Mh);
this.Mh.scrollTop=0}if(this.uF.length>300)return;var y=Math.min(1,300/Math.max(S,B)),l=this.AW.clone();
l.x-=20;var D=Math.max(1,Math.floor(l.x/(S*y))),R=Math.max(1,Math.ceil(l.y/(B*y)));y=l.x/D/S;var p=D*R;
if(this.mS==null){var O=this.m_x.Tt.Wo();this.mS=[];for(var M in O){var U=O[M],m=U[3];if(!this.Lh.Wr(U))continue;
if(U[5]==null||U[5].slice(0,2)=="gf")continue;this.mS.push(U)}if(this.mS.length==0)this.mS.push(O.DejaVuSans)}var Y=this.js.d(),x=this.j$.d().trim();
this.j$.Rv(Y);if(Y&&(this.AE==null||x!=this.m_d)){var T=new XMLHttpRequest,$="https://pixabay.com/api/?image_type=photo"+(x==""?"":"&q="+encodeURIComponent(x))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
T.open("GET",$,!0);T.onload=this.muc.bind(this);T.onerror=function(N){console.log(N.target.response)};
T.send();this.m_d=x;return}y*=(S*y-5)/(S*y);var L=this.uF.length;for(var s=0;s<p;s++){var j=this.Ab=L+s;
if(this.As[j]==null)this.As[j]=Math.floor(Math.random()*4294967295);var Z=this.WG(Math.round(S*y),Math.round(B*y)),e=Z[0];
e=X.nl(new Uint8Array(e));var J=P.P("span");J.innerHTML=e;this.uF.push(J);this.Mh.appendChild(J);J.addEventListener("click",this.mUy,!1)}};
RP.prototype.WG=function(Q,S,B){var y=this.js.d(),l=this.m_Z.d(),D=y&&this.AE.length!=0?this.AE:null;
if(l&&!y)D=null;if(l&&y&&(this.Ab&1)==0)D=null;return Nj.MV(Q,S,this.As[this.Ab],this.mS,B?B:D)};function Ld(){NJ.call(this);
this.p=P.P("div");this.op=null;this.m_Y=null;this.jt=-1;this.ar={JPG:[{hk:new mf([12,52,0],0,100,"%"),$H:70}],WEBP:[{hk:new mf([12,52,0],0,100,"%"),$H:70}],GIF:[{hk:new mf([12,52,0],0,100,"%"),$H:100}],PNG:[{hk:new mf([12,52,0],0,100,"%"),$H:100},{hk:new mM("don't use palettes"),$H:!1}],PDF:[{hk:new Ry([12,52,1]),$H:""},{hk:new mM("rasterize all"),$H:!1},{hk:new mM("rasterize text"),$H:!1},{hk:new mM("vectorize text"),$H:!1}],EMF:[{hk:new Ry([12,52,1]),$H:""},{hk:new mM("rasterize all"),$H:!1},{hk:new mM("rasterize text"),$H:!1},{hk:new mM("vectorize text"),$H:!1}],SVG:[{hk:new mM("add raster graphics"),$H:!0},{hk:new mM("add hidden layers"),$H:!1},{hk:new mM("vectorize text"),$H:!1},{hk:new mM("rasterize text"),$H:!1},{hk:new mM("add layer names"),$H:!0},{hk:new mM("pretty-print"),$H:!0}],anim:[{hk:new NP("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),$H:0},{hk:new mM("reverse frames"),$H:!1}],slcs:[{hk:new mM("As Slices"),$H:!0}]};
for(var Q in this.ar){var S=this.ar[Q];for(var B=0;B<S.length;B++){S[B].hk.L(S[B].$H);S[B].hk.w(P.E.Y,this.Wf,this)}}}Ld.prototype=new NJ;
Ld.prototype.mud=function(){this.jt=-1};Ld.prototype.b=function(){for(var Q in this.ar)for(var S=0;S<this.ar[Q].length;
S++)this.ar[Q][S].hk.b()};Ld.prototype.Wf=function(){this.hb();this.B(new b(P.E.Y,!1))};Ld.prototype.hb=function(){var Q=this.op,S=Q[0],B=Q[1],y=Q[2],l=this.ar[S];
if(l==null)l=[];else l=l.slice(0);if(B)l=l.concat(this.ar.anim);if(["GIF","PNG","JPG"].indexOf(S)!=-1&&y)l=l.concat(this.ar.slcs);
if(S+" "+B!=this.jt){this.jt=S+" "+B;P.EW(this.p);for(var D=0;D<l.length;D++){this.p.appendChild(l[D].hk.p);
P.XL(this.p)}}var R=this.m_Y=[];for(var D=0;D<l.length;D++)R.push(l[D].hk.d())};Ld.prototype.mdS=function(Q,S,B){this.op=[Q,S,B];
this.hb()};Ld.prototype.d=function(){return this.m_Y.slice(0)};function mY(){NJ.call(this);this.p=P.P("span","fitem");
this.iJ=!1;this.jB=new Nw("No",!1,"Cancel");this.mH=new Nw("Yes",!1,"Confirm");this.p.appendChild(this.jB.p);
this.p.appendChild(this.mH.p);this.jB.w("click",this.JS,this);this.mH.w("click",this.JS,this);this.b()}mY.prototype=new NJ;
mY.prototype.b=function(){this.jB.CE(P.tC("cross",null,"autoscale"));this.mH.CE(P.tC("checkmark",null,"autoscale"))};
mY.prototype.JS=function(Q){this.iJ=Q.target==this.mH;this.B(new UIEvent("click"))};mY.prototype.d=function(){return this.iJ};
function H(Q){NJ.call(this);this.mUw=Q;this.p=P.P("div","");this.jK=[];this.mGB=[]}H.prototype=new NJ;
H.prototype.WU=function(Q){};H.prototype.iC=function(){return!1};H.prototype.Kl=function(Q,S){};H.prototype.on=function(Q,S){};
H.prototype.FS=function(Q){};H.prototype.L=function(Q,S,B,y,l,D){var R=[];this.KK(Q,R,D);for(var p=0;
p<this.jK.length;p++)this.jK[p].L(R[p])};H.prototype.d=function(){var Q=m_.yh(this.mUw),S=[];for(var B=0;
B<this.jK.length;B++)S.push(this.jK[B].d());this.yL(Q,S);return Q};H.prototype.qh=function(Q){};H.prototype.nt=function(Q){var S=this.mGB;
for(var B=0;B<S.length;B+=2){var y=this.jK[S[B]],l=this.jK[S[B+1]],D=y.d(),R=l.d();if(Q.target==y)l.L(Math.max(D,R));
else y.L(Math.min(D,R))}this.B(new b(P.E.Y))};H.prototype.b=function(){for(var Q=0;Q<this.jK.length;
Q++)this.jK[Q].b()};H.prototype.SZ=function(){P.Te(this.p,"form");var Q=this.jK;for(var S=0;S<Q.length;
S++){var B=Q[S];B.parent=this;B.w(P.E.Y,this.nt,this);this.p.appendChild(B.p);if(B instanceof mM&&Q[S+1]instanceof RU)continue;
P.XL(this.p)}};H.prototype.Bj=function(){return!1};H.prototype.OQ=function(Q,S,B,y,l){};H.prototype.Uy=function(Q,S,B,y,l){};
H.prototype.sn=function(Q,S,B,y,l){};H.LnsF=function(){H.call(this,"LnsF");this.jK.push(new mf([12,2],10,300,"%"));
this.jK.push(new R$([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]));this.jK.push(new mf("Position X",0,100,"%"));
this.jK.push(new mf("Position Y",0,100,"%"));this.SZ()};H.LnsF.prototype=new H;H.LnsF.prototype.KK=function(Q,S){S[0]=Q.Brgh.v;
S[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(Q.Lns.v.Lns);var B=Q.FlrC.v;S[2]=Math.round(B.Hrzn.v*100);S[3]=Math.round(B.Vrtc.v*100)};
H.LnsF.prototype.yL=function(Q,S){Q.Brgh.v=S[0];Q.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][S[1]];var B=Q.FlrC.v;
B.Hrzn.v=S[2]/100;B.Vrtc.v=S[3]/100};H.LnCr=function(){H.call(this,"LnCr");this.jK.push(new mf([12,57],-100,100));
this.jK.push(new mf([12,38],10,150,"%"));this.SZ()};H.LnCr.prototype=new H;H.LnCr.prototype.KK=function(Q,S){S[0]=Q.LnIa.v;
S[1]=Q.LnSi.v};H.LnCr.prototype.yL=function(Q,S){Q.LnIa.v=S[0];Q.LnSi.v=S[1]};H["\0\0\x02\xB1"]=function(){H.call(this,"\0\0\x02\xB1");
this.jK.push(new mf([12,56],1,200," px"));this.SZ()};H["\0\0\x02\xB1"].prototype=new H;H["\0\0\x02\xB1"].prototype.KK=function(Q,S){S[0]=Q.Rds.v.val};
H["\0\0\x02\xB1"].prototype.yL=function(Q,S){Q.Rds.v.val=S[0]};H.GsnB=function(){H.call(this,"GsnB");
this.jK.push(new mf([12,56],.1,400,"px",1,!0));this.SZ()};H.GsnB.prototype=new H;H.GsnB.prototype.KK=function(Q,S){S[0]=Q.Rds.v.val};
H.GsnB.prototype.yL=function(Q,S){console.log(Q);Q.Rds.v.val=S[0]};H.MtnB=function(){H.call(this,"MtnB");
this.jK.push(new Ms([12,15]));this.jK.push(new mf([12,28],1,100," px"));this.SZ()};H.MtnB.prototype=new H;
H.MtnB.prototype.KK=function(Q,S){S[0]=Q.Angl.v;S[1]=Q.Dstn.v.val};H.MtnB.prototype.yL=function(Q,S){Q.Angl.v=S[0].Ak;
Q.Dstn.v.val=S[1]};H.RdlB=function(){H.call(this,"RdlB");this.jK.push(new mf([12,57],1,100));this.jK.push(new R$([12,36],["Spin","Zoom"]));
this.jK.push(new rO("Off X",0,1,null,2));this.jK.push(new rO("Off Y",0,1,null,2));this.SZ()};H.RdlB.prototype=new H;
H.RdlB.prototype.KK=function(Q,S){S[0]=Q.Amnt.v;S[1]=["Spn","Zm"].indexOf(Q.BlrM.v.BlrM);S[2]=Q.Cntr.v.Hrzn.v;
S[3]=Q.Cntr.v.Vrtc.v};H.RdlB.prototype.yL=function(Q,S){Q.Amnt.v=S[0];Q.BlrM.v.BlrM=["Spn","Zm"][S[1]];
Q.Cntr.v.Hrzn.v=S[2];Q.Cntr.v.Vrtc.v=S[3]};H.Dspl=function(){H.call(this,"Dspl");this.jK.push(new ND([6,36,3],["a","b"]));
this.jK.push(new mf([22,4,0],-100,100,"px"));this.jK.push(new mf([22,4,1],-100,100,"px"));this.jK.push(new ND([24,18,0],[[24,18,3],[24,18,2]]));
this.SZ()};H.Dspl.prototype=new H;H.Dspl.prototype.KK=function(Q,S,B){this.mao=[];this.$e=[];var y=-1;
if(B==null)B=this.mUE;else this.mUE=B;if(B)for(var l=0;l<B.length;l++){var D=B[l];this.mao.push(D.oK.trim());
this.$e.push(D.LB);if(D.LB==Q.DspF.v.pth)y=l}this.jK[0].fB(this.mao);S[0]=y==-1?0:y;S[1]=Q.HrzS.v;S[2]=Q.VrtS.v;
S[3]=["WrpA","RptE"].indexOf(Q.UndA.v.UndA)};H.Dspl.prototype.yL=function(Q,S){if(this.$e.length==0)return;
Q.DspF.v.pth=this.$e[S[0]];Q.HrzS.v=S[1];Q.VrtS.v=S[2];Q.UndA.v.UndA=["WrpA","RptE"][S[3]]};H.Pnch=function(){H.call(this,"Pnch");
this.jK.push(new mf([12,57],-100,100,"%"));this.SZ()};H.Pnch.prototype=new H;H.Pnch.prototype.KK=function(Q,S){S[0]=Q.Amnt.v};
H.Pnch.prototype.yL=function(Q,S){Q.Amnt.v=S[0]};H["Plr "]=function(){H.call(this,"Plr ");this.jK.push(new R$(null,["Rect to Polar","Polar to Rect"]));
this.SZ()};H["Plr "].prototype=new H;H["Plr "].prototype.KK=function(Q,S){S[0]=["RctP","PlrR"].indexOf(Q.Cnvr.v.Cnvr)};
H["Plr "].prototype.yL=function(Q,S){Q.Cnvr.v.Cnvr=["RctP","PlrR"][S[0]]};H.Rple=function(){H.call(this,"Rple");
this.jK.push(new mf([12,57],-999,999));this.jK.push(new ND([12,14,0],[[19,8,0],[19,8,1],[19,8,2]]));
this.SZ()};H.Rple.prototype=new H;H.Rple.prototype.KK=function(Q,S){S[0]=Q.Amnt.v;S[1]=["Sml","Mdm","Lrg"].indexOf(Q.RplS.v.RplS)};
H.Rple.prototype.yL=function(Q,S){Q.Amnt.v=S[0];Q.RplS.v.RplS=["Sml","Mdm","Lrg"][S[1]]};H["Shr "]=function(){H.call(this,"Shr ");
this.jK.push(new QG(!0,!0));this.jK.push(new ND([24,18,0],[[24,18,3],[24,18,2]]));this.SZ()};H["Shr "].prototype=new H;
H["Shr "].prototype.KK=function(Q,S){var B=new Nu(0,255/127,255/127,0,-2,128),y=JSON.parse(JSON.stringify(Q.ShrP.v));
k.$T.V(y,B);S[0]=y;S[1]=["WrpA","RptE"].indexOf(Q.UndA.v.UndA)};H["Shr "].prototype.yL=function(Q,S){var B=new Nu(0,255/127,255/127,0,-2,128);
B.SD();k.$T.V(S[0],B);Q.ShrP.v=S[0];Q.ShrE.v=S[0].length-1;Q.UndA.v.UndA=["WrpA","RptE"][S[1]]};H.Sphr=function(){H.call(this,"Sphr");
this.jK.push(new mf([12,57],-100,100));this.jK.push(new ND([12,36],["Normal",[22,4,0],[22,4,1]]));this.SZ()};
H.Sphr.prototype=new H;H.Sphr.prototype.KK=function(Q,S){S[0]=Q.Amnt.v;S[1]=["Nrml","HrzO","VrtO"].indexOf(Q.SphM.v.SphM)};
H.Sphr.prototype.yL=function(Q,S){Q.Amnt.v=S[0];Q.SphM.v.SphM=["Nrml","HrzO","VrtO"][S[1]]};H.Twrl=function(){H.call(this,"Twrl");
this.jK.push(new mf([12,15],-999,999));this.SZ()};H.Twrl.prototype=new H;H.Twrl.prototype.KK=function(Q,S){S[0]=Q.Angl.v};
H.Twrl.prototype.yL=function(Q,S){Q.Angl.v=S[0]};H.Wave=function(){H.call(this,"Wave");this.jK.push(new mf("Number of Generators",1,100));
this.jK.push(new rO("Min Length",1,999));this.jK.push(new rO("Max Length",1,999));this.jK.push(new rO("Min Ampl.",1,999));
this.jK.push(new rO("Max Ampl.",1,999));this.jK.push(new rO("Scale X",1,100,"%"));this.jK.push(new rO("Scale Y",1,100,"%"));
this.mGB=[1,2,3,4];this.jK.push(new R$([12,44],["Sine","Triangle",[12,93,3]]));this.jK.push(new ND([24,18,0],[[24,18,3],[24,18,2]]));
this.jK.push(new Ry("Randomizer Seed"));this.SZ()};H.Wave.prototype=new H;H.Wave.prototype.KK=function(Q,S){S[0]=Q.NmbG.v;
S[1]=Q.WLMn.v;S[2]=Q.WLMx.v;S[3]=Q.AmMn.v;S[4]=Q.AmMx.v;S[5]=Q.SclH.v;S[6]=Q.SclV.v;S[7]=["WvSn","WvTr","WvSq"].indexOf(Q.Wvtp.v.Wvtp);
S[8]=["WrpA","RptE"].indexOf(Q.UndA.v.UndA);S[9]=Q.RndS.v};H.Wave.prototype.yL=function(Q,S){Q.NmbG.v=S[0];
Q.WLMn.v=S[1];Q.WLMx.v=S[2];Q.AmMn.v=S[3];Q.AmMx.v=S[4];Q.SclH.v=S[5];Q.SclV.v=S[6];Q.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][S[7]];
Q.UndA.v.UndA=["WrpA","RptE"][S[8]];var B=parseInt(S[9]);if(isNaN(B))B=248325464;B=Math.max(0,Math.min(268435455,B));
Q.RndS.v=B;this.jK[9].L(B)};H["\0\0\x02\xB5"]=function(){H.call(this,"\0\0\x02\xB5");this.jK.push(new mf([12,56],1,200," px"));
this.jK.push(new mf([4,13],1,255," px"));this.SZ()};H["\0\0\x02\xB5"].prototype=new H;H["\0\0\x02\xB5"].prototype.KK=function(Q,S){S[0]=Q.Rds.v.val;
S[1]=Q.Thsh.v};H["\0\0\x02\xB5"].prototype.yL=function(Q,S){Q.Rds.v.val=S[0];Q.Thsh.v=S[1]};H.AdNs=function(){H.call(this,"AdNs");
this.jK.push(new mf([12,57],0,200," %"));this.jK.push(new ND([12,58],[[12,59,0],[12,59,1]]));this.jK.push(new mM([12,60]));
this.SZ()};H.AdNs.prototype=new H;H.AdNs.prototype.KK=function(Q,S){S[0]=Q.Nose.v.val;S[1]=["Unfr","Gsn"].indexOf(Q.Dstr.v.Dstr);
S[2]=Q.Mnch.v};H.AdNs.prototype.yL=function(Q,S){Q.Nose.v.val=S[0];Q.Dstr.v.Dstr=["Unfr","Gsn"][S[1]];
Q.Mnch.v=S[2]};H.DstS=function(){H.call(this,"DstS");this.jK.push(new mf([12,56],1,200," px"));this.jK.push(new mf([4,13],1,255," px"));
this.SZ()};H.DstS.prototype=new H;H.DstS.prototype.KK=function(Q,S){S[0]=Q.Rds.v;S[1]=Q.Thsh.v};H.DstS.prototype.yL=function(Q,S){Q.Rds.v=S[0];
Q.Thsh.v=S[1]};H["Mdn "]=function(){H.call(this,"Mdn ");this.jK.push(new mf([12,56],1,200," px"));this.SZ()};
H["Mdn "].prototype=new H;H["Mdn "].prototype.KK=function(Q,S){S[0]=Q.Rds.v.val};H["Mdn "].prototype.yL=function(Q,S){Q.Rds.v.val=S[0]};
H.ClrH=function(){H.call(this,"ClrH");this.jK.push(new mf([12,56],4,100," px"));for(var Q=1;Q<4;Q++)this.jK.push(new mf("Angle "+Q,0,90," \xB0"));
this.SZ()};H.ClrH.prototype=new H;H.ClrH.prototype.KK=function(Q,S){S[0]=Q.Rds.v;for(var B=1;B<4;B++)S[B]=Q["Ang"+B].v};
H.ClrH.prototype.yL=function(Q,S){Q.Rds.v=S[0];for(var B=1;B<4;B++)Q["Ang"+B].v=S[B]};H.ClrH.prototype.b=function(){var Q=this.jK;
Q[0].b();for(var S=1;S<4;S++)Q[S].CE(Nd.get([12,15])+" "+S)};H.Crst=function(){H.call(this,"Crst");this.jK.push(new mf([12,61],3,100," px"));
this.SZ()};H.Crst.prototype=new H;H.Crst.prototype.KK=function(Q,S){S[0]=Q.ClSz.v};H.Crst.prototype.yL=function(Q,S){Q.ClSz.v=S[0]};
H.Mztn=function(){H.call(this,"Mztn");this.jK.push(new ND([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.$e="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.SZ()};H.Mztn.prototype=new H;
H.Mztn.prototype.KK=function(Q,S){S[0]=this.$e.indexOf(Q.MztT.v.MztT)};H.Mztn.prototype.yL=function(Q,S){Q.MztT.v.MztT=this.$e[S[0]]};
H["Msc "]=function(){H.call(this,"Msc ");this.jK.push(new mf([12,61],2,200," px"));this.SZ()};H["Msc "].prototype=new H;
H["Msc "].prototype.KK=function(Q,S){S[0]=Q.ClSz.v.val};H["Msc "].prototype.yL=function(Q,S){Q.ClSz.v.val=S[0]};
H.Pntl=function(){H.call(this,"Pntl");this.jK.push(new mf([12,61],3,100," px"));this.SZ()};H.Pntl.prototype=new H;
H.Pntl.prototype.KK=function(Q,S){S[0]=Q.ClSz.v};H.Pntl.prototype.yL=function(Q,S){Q.ClSz.v=S[0]};H["\0\0\x03\xE8"]=function(){H.call(this,"\0\0\x03\xE8");
this.jK.push(new mf([12,57],1,200,"%"));this.jK.push(new mf([12,56],0,200,"px",1,!0));this.SZ()};H["\0\0\x03\xE8"].prototype=new H;
H["\0\0\x03\xE8"].prototype.KK=function(Q,S){S[0]=Q.Amnt.v.val;S[1]=Q.Rds.v.val};H["\0\0\x03\xE8"].prototype.yL=function(Q,S){Q.Amnt.v.val=S[0];
Q.Rds.v.val=S[1]};H.UnsM=function(){H.call(this,"UnsM");this.jK.push(new mf([12,57],1,200," %"));this.jK.push(new mf([12,56],0,200," px"));
this.jK.push(new mf([4,13],0,255," "));this.SZ()};H.UnsM.prototype=new H;H.UnsM.prototype.KK=function(Q,S){S[0]=Q.Amnt.v.val;
S[1]=Q.Rds.v.val;S[2]=Q.Thsh.v};H.UnsM.prototype.yL=function(Q,S){Q.Amnt.v.val=S[0];Q.Rds.v.val=S[1];
Q.Thsh.v=S[2]};H.HghP=function(){H.call(this,"HghP");this.jK.push(new mf([12,56],1,200," px"));this.SZ()};
H.HghP.prototype=new H;H.HghP.prototype.KK=function(Q,S){S[0]=Q.Rds.v.val};H.HghP.prototype.yL=function(Q,S){Q.Rds.v.val=S[0]};
H["Mxm "]=function(){H.call(this,"Mxm ");this.jK.push(new mf([12,56],1,200," px"));this.SZ()};H["Mxm "].prototype=new H;
H["Mxm "].prototype.KK=function(Q,S){S[0]=Q.Rds.v.val};H["Mxm "].prototype.yL=function(Q,S){Q.Rds.v.val=S[0]};
H["Mnm "]=function(){H.call(this,"Mnm ");this.jK.push(new mf([12,56],1,200," px"));this.SZ()};H["Mnm "].prototype=new H;
H["Mnm "].prototype.KK=function(Q,S){S[0]=Q.Rds.v.val};H["Mnm "].prototype.yL=function(Q,S){Q.Rds.v.val=S[0]};
H.Ofst=function(){H.call(this,"Ofst");this.jK.push(new mf([22,4,0],-1024,1024," px"));this.jK.push(new mf([22,4,1],-1024,1024," px"));
this.jK.push(new ND([24,18,0],[[24,18,1],[24,18,2],[24,18,3]]));this.SZ()};H.Ofst.prototype=new H;H.Ofst.prototype.KK=function(Q,S){S[0]=Q.Hrzn.v;
S[1]=Q.Vrtc.v;S[2]=["Bckg","Rpt","Wrp"].indexOf(Q.Fl.v.FlMd)};H.Ofst.prototype.yL=function(Q,S){Q.Hrzn.v=S[0];
Q.Vrtc.v=S[1];Q.Fl.v.FlMd=["Bckg","Rpt","Wrp"][S[2]]};H.Rept=function(){H.call(this,"Rept");this.jK.push(new rO([12,38],1,300," %"));
this.jK.push(new rO("Row Shift",-50,50," %"));this.jK.push(new rO("Space X",-99,200," %"));this.jK.push(new rO("Space Y",-99,200," %"));
this.jK.push(new mM([4,16,2]));this.jK.push(new Ms([12,15]));this.SZ()};H.Rept.prototype=new H;H.Rept.prototype.KK=function(Q,S){S[0]=Q.Scl.v.val;
S[1]=Q.Rsft.v.val;S[2]=Q.SpcX.v.val;S[3]=Q.SpcY.v.val;S[4]=Q.SpcC.v;S[5]=Q.Angl.v};H.Rept.prototype.yL=function(Q,S){Q.Scl.v.val=S[0];
Q.Rsft.v.val=S[1];Q.SpcX.v.val=S[2];Q.SpcY.v.val=S[3];Q.SpcC.v=S[4];Q.Angl.v=S[5].Ak;return Q};H.LqFy=function(){H.call(this,"LqFy");
this.$_=!1;this.ll=null;this.mUD=null;this.h=0;this.Il={$C:[[{h:{id:0,name:[24,1,0,1,0],Ud:"liq/smudge"}}],[{h:{id:1,name:[24,1,0,1,1],Ud:"liq/reconstruct"}}],[{h:{id:2,name:[24,1,0,1,2],Ud:"liq/smooth"}}],[{h:{id:3,name:[24,1,0,1,3],Ud:"liq/twirl"}}],[{h:{id:4,name:[24,1,0,1,4],Ud:"liq/shrink"}}],[{h:{id:5,name:[24,1,0,1,5],Ud:"liq/blow"}}],[{h:{id:6,name:[24,1,0,1,6],Ud:"liq/pleft"}}]],keys:[]};
this.qk=new LE(this.Il,!1);this.qk.Qw(0);this.qk.w(P.E.T,this.muv,this);this.$W=p_.pe();this.ql=null;
this.Mw=[];this.vR=-1;this.JF=null;this.mvw=null;this.$v=null;this.AP=null;this.$P=null;var Q=P.P("div","flexrow");
this.fL=Q;this.p.appendChild(Q);Q.appendChild(this.qk.p);this.view=new RG(!0);this.view.Kl(100,100);
this.view.w("mousedown",this.Gg,this);this.view.w("mousemove",this.Re,this);this.view.w("mouseup",this.ss,this);
this.view.w("zoom",this.Su,this);Q.appendChild(this.view.p);var S=P.P("div","form");Q.appendChild(S);
this.u_=S;S.style.width="230px";this.eW=[new mf([12,14,0],0,1e3,null,!1,!0),new mf([12,74],0,100,null,!1,!1),new mf([12,84],0,100,null,!1,!1),new mM([12,46]),new mf([12,0],0,100,null,!1,!1)];
var B=this.$W.Brsh.v;B.Dmtr.v.val=100;var y=[100,50,100,!1,100];for(var l=0;l<this.eW.length;l++){var D=this.eW[l];
D.L(y[l]);D.w(P.E.Y,this.muU,this);S.appendChild(D.p)}var R=new Nw("Reset",!0,null,!0);R.w("click",this.NO,this);
S.appendChild(R.p);this.Rk=new NJ;this.Rk.p=P.P("div","floatcont");this.YN=new Nw("Menu",!1,null,!0);
this.YN.w("click",this.mue,this);var p=this.YN.p;p.setAttribute("style","position:absolute; right:13px; top:47px")};
H.LqFy.prototype=new H;H.LqFy.prototype.iC=function(){return!0};H.LqFy.prototype.WU=function(Q){this.u_.appendChild(Q)};
H.LqFy.prototype.mue=function(Q){var S=this.YN.p.getBoundingClientRect();this.Rk.p.appendChild(this.u_);
var B=new b(P.E.T,!0);B.data={H:P.l.ow,qr:this.Rk,x:S.right+S.width-290,y:S.top+S.height};this.B(B)};
H.LqFy.prototype.qh=function(Q){this.$_=Q.N(A.qD);var S=K.KT.et(this.$W,Q);if(S!=null){this.$W=S;this.Su();
this.eW[0].L(S.Brsh.v.Dmtr.v.val)}else if(Q.N(A.DQ)&&Q.N(A.XT)){var B=this.Mw;if(Q.N(A.CP)){if(this.vR+1<B.length)this.vR++}else if(this.vR>0)this.vR--;
this.ql.map=B[this.vR].slice(0);this.FI(null)}else this.view.qh(Q)};H.LqFy.prototype.muv=function(Q){if(Q.data.H==P.l.oE){this.h=Q.data.h;
this.qk.Qw(this.h)}};H.LqFy.prototype.muU=function(Q){var S=Q.currentTarget,B=this.eW.indexOf(S),y=this.$W.Brsh.v;
if(B==0){y.Dmtr.v.val=S.d();this.Su()}if(B>2)this.FI(null)};H.LqFy.prototype.NY=function(){var Q=this.Mw;
this.vR++;Q[this.vR]=this.ql.map.slice(0);while(Q.length>this.vR+1)Q.pop();while(Q.length>50){Q=Q.slice(1);
this.vR--}};H.LqFy.prototype.Gg=function(Q){this.jm();this.ll=this.view.NE();this.mUD=new v(0,0);this.w(P.E.WW,this.RN,this)};
H.LqFy.prototype.Re=function(Q){var S=this.view.NE(),B=new v(S.x-this.ll.x,S.y-this.ll.y);if(this.h==0||this.h==6)this.mWf(B);
this.ll=S};H.LqFy.prototype.ss=function(Q){this.NY();this.jm()};H.LqFy.prototype.jm=function(){if(this.bQ(P.E.WW,this.RN))this.removeEventListener(P.E.WW,this.RN,this)};
H.LqFy.prototype.RN=function(Q){if(this.h!=0&&this.h!=6)this.mWf(new v(0,0))};H.LqFy.prototype.mWf=function(Q){var S=this.ql,B=S.QP/this.JF.r,y=this.ll,l=this.$W.Brsh.v,D=l.Dmtr.v.val,R=Date.now(),p=S.QP,O=S.Kj,M=Math.sqrt(Q.x*Q.x+Q.y*Q.y),U=Math.max(1,Math.ceil(M/2)),m=Q.x/U,Y=Q.y/U,x=y.clone(),T=this.h,$=this.eW[1].d()/100,L=this.eW[2].d()/100,s=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],j=s[T*2],Z=s[T*2+1],e=(1-$)*j+$*Z,J=D*B/2;
for(var N=0;N<U;N++){var E=[];x.x+=m;x.y+=Y;k.$X.mfi(S.map,p,O,T,x.x*B,x.y*B,J,1,$,L,new v(m*B,Y*B),E,this.$_);
k.$X.mfo(p,O,S.map,E,e*L)}var h=new w(0,0,p,O),o=new w(y.x*B,y.y*B,0,0);o.Jq(D*B*.5,D*B*.5);var V=o.clone();
V.offset(Q.x*B,Q.y*B);o=o.wM(V);var n=new w(o.x/B,o.y/B,o.r/B,o.O/B);n=k.i.Uf(n).nG(this.JF);this.FI(n)};
H.LqFy.prototype.Su=function(){var Q=Nl.CL(this.$W,null,this.view.lZ().C);this.view.NU(Q)};H.LqFy.prototype.L=function(Q,S,B,y,l){B=B.clone();
if(S==null)return;if(!y.UH(B)){var D=B.wM(y),R=k.Q(D.Z()*4);k.oD(S,B,R,D);S=R;B=D}B.x=B.y=0;this.$v=S;
this.mvw=l;this.$P=S.slice(0);this.AP=S.slice(0);this.JF=B;this.ql=QB.fY(new Uint8Array(Q.LqMe.v).buffer);
var p=B.r,O=B.O;if(this.ql.QP/p<.22){this.ql={QP:Math.floor(p/4),Kj:Math.floor(O/4)};this.ql.map=new Float32Array(this.ql.QP*this.ql.Kj*2)}this.Mw=[];
this.vR=-1;this.NY();this.FI(null);this.Su()};H.LqFy.prototype.d=function(){this.jm();var Q=m_.yh("LqFy"),S=new Uint8Array(QB.iP(this.ql)),B=[];
for(var y=0;y<S.length;y++)B.push(S[y]);Q.LqMe.v=B;return Q};H.LqFy.prototype.Kl=function(Q,S){this.qk.Kl(Q,S);
var B=this.YN.p,y=this.u_;this.fL.appendChild(y);this.fL.appendChild(B);if(Q>450){y.style.marginLeft="1em";
this.fL.removeChild(B);this.view.Kl(Q-238-45,S)}else{y.style.marginLeft="";this.fL.removeChild(y);this.view.Kl(Q-40,S)}};
H.LqFy.prototype.b=function(){this.qk.b();for(var Q=0;Q<this.eW.length;Q++)this.eW[Q].b()};H.LqFy.prototype.NO=function(){this.jm();
this.ql.map.fill(0);this.NY();this.FI(null)};H.LqFy.prototype.FI=function(Q){var S=this.JF,B=this.$v,y=this.$P,l=this.ql;
k.$X.RR(B,this.AP,S.r,S.O,Q,l.map,l.QP,l.Kj,0);if(this.eW[3].xH()){k.oD(this.mvw,S,y,S,Q?Q:S);k.X.Rc("norm",this.AP,S,y,S,Q?Q:S,this.eW[4].d()/100)}else k.MK(this.AP,y);
this.view.L([{iQ:S,data:y.buffer}])};H.GEfc=function(){H.call(this,"GEfc");this.$v=null;this.$P=null;
this.JF=null;this.Kv=null;var Q=P.P("div","flexrow");this.fL=Q;this.p.appendChild(Q);this.view=new RG;
this.view.Kl(100,100);Q.appendChild(this.view.p);var S=P.P("div","form");Q.appendChild(S);this.u_=S;
S.style.width="230px";S.style.marginLeft="1em";this.uv=[];var B=[];this.MD={};for(var y in mr.names){this.uv.push(y);
B.push(mr.names[y]);var l=new H.GEfc._j(y);this.MD[y]=l;l.w(P.E.Y,this.FI,this)}this.qu=new ND(null,B);
S.appendChild(this.qu.p);this.qu.w(P.E.Y,this.muE,this);this.uZ=P.P("div");S.appendChild(this.uZ)};H.GEfc.prototype=new H;
H.GEfc.prototype.iC=function(){return!0};H.GEfc.prototype.WU=function(Q){this.u_.appendChild(Q)};H.GEfc.prototype.on=function(Q,S){this.Kv=Q};
H.GEfc.prototype.Kl=function(Q,S){this.view.Kl(Q-240,S)};H.GEfc.prototype.muE=function(Q){var S=this.uv[this.qu.d()],B=mr.yh(S),y=this.MD[S];
y.L(B);P.EW(this.uZ);this.uZ.appendChild(y.p);this.FI()};H.GEfc.prototype.L=function(Q,S,B,y,l){var D=Q.GEfk.v.GEft,R=this.uv.indexOf(D);
if(R==-1){alert("Unsupported gallery filter");this.close();return}this.qu.L(R);var p=this.MD[D];p.L(Q);
P.EW(this.uZ);this.uZ.appendChild(p.p);B=B.clone();if(S==null)return;if(!y.UH(B)){var O=B.wM(y),M=k.Q(O.Z()*4);
k.oD(S,B,M,O);S=M;B=O}B.x=B.y=0;this.$v=S;this.$P=S.slice(0);this.JF=B;this.FI()};H.GEfc.prototype.d=function(){var Q=this.uv[this.qu.d()];
return this.MD[Q].d()};H.GEfc.prototype.FI=function(Q){var S=this.JF,B=this.$v,y=this.$P,l=this.uv[this.qu.d()],D=this.MD[l].d(),R=this.Kv;
function p(O){return{t:O>>>16,e:O>>>8&255,R:O&255}}m_.sp("GEfc",{rect:this.JF,buffer:this.$v},D,p(R.Tq),p(R.hB),{rect:this.JF,buffer:this.$P},null);
this.view.L([{iQ:S,data:y.buffer}])};H.GEfc.prototype.b=function(){for(var Q in this.MD)this.MD[Q].b()};
H.GEfc._j=function(Q){NJ.call(this);this.Uc=Q;this.p=P.P("div");this.Dz={};var S=mr.yh(Q);for(var B in S){var y;
if(B=="__name"||B=="classID"||B=="GEfk"||["LghI","FlRs"].indexOf(B)!=-1)continue;else if(B=="Sz")y=new mf([12,14,0],1,50);
else if(B=="Dtl")y=new mf("Detail",1,15);else if(B=="Shrp")y=new mf("Sharpness",0,40);else if(B=="BrsT")y=new ND("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(B=="LghD")y=new ND("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(B=="SDir")y=new ND([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(B=="EdgW")y=new mf("Edge Width",1,14);
else if(B=="EdgB")y=new mf("Edge Brightness",0,20);else if(B=="Smth")y=new mf([19,3,3],1,15);else if(B=="ClSz")y=new mf([12,61],3,100);
else if(B=="BrdT")y=new mf([7,9],1,20);else if(B=="HghS")y=new mf([12,64],0,20);else if(B=="HlSz")y=new mf([12,14,0],1,15);
else if(B=="Cntr")y=new mf([12,3,0],0,50);else if(B=="ScrT")y=new ND([12,62],["Circle","Dot",[10,35]]);
else if(B=="SprR")y=new mf("Spray Radius",0,25);else if(B=="StrL")y=new mf("Stroke Length",0,20);else console.log(B);
y.w(P.E.Y,this.hC,this);this.Dz[B]=y;this.p.appendChild(y.p)}};H.GEfc._j.prototype=new NJ;H.GEfc._j.prototype.hC=function(Q){this.B(new b(P.E.Y,!1))};
H.GEfc._j.prototype.L=function(Q){for(var S in this.Dz){var B;if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(S)!=-1)B=Q[S].v;
else if(S=="BrsT")B=mr.Ts.indexOf(Q[S].v[S]);else if(S=="LghD")B=mr.Vd.indexOf(Q[S].v[S]);else if(S=="ScrT")B=mr.Ve.indexOf(Q[S].v[S]);
else if(S=="SDir")B=mr.Vy.indexOf(Q[S].v.StrD);this.Dz[S].L(B)}};H.GEfc._j.prototype.d=function(){var Q=mr.yh(this.Uc);
for(var S in this.Dz){var B=this.Dz[S].d();if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(S)!=-1)Q[S].v=B;
else if(S=="BrsT")Q[S].v[S]=mr.Ts[B];else if(S=="LghD")Q[S].v[S]=mr.Vd[B];else if(S=="ScrT")Q[S].v[S]=mr.Ve[B];
else if(S=="SDir")Q[S].v.StrD=mr.Vy[B]}return Q};H.GEfc._j.prototype.b=function(){for(var Q in this.Dz)this.Dz[Q].b()};
H.blnc=function(){H.call(this);var Q=this.p;this.iJ=null;this.SA=new ND([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.SA.w(P.E.Y,this.FI,this);Q.appendChild(this.SA.p);this.px=[];for(var S=0;S<3;S++){var B=new mf(Nf.Xb[S],-100,100);
B.w(P.E.Y,this.nt,this);this.px.push(B);Q.appendChild(B.p)}this.ub=new mM([13,4]);this.ub.w(P.E.Y,this.nt,this);
Q.appendChild(this.ub.p)};H.blnc.prototype=new H;H.blnc.prototype.b=function(){this.SA.b();for(var Q=0;
Q<3;Q++)this.px[Q].b();this.ub.b()};H.blnc.prototype.L=function(Q){this.iJ=JSON.parse(JSON.stringify(Q));
this.FI()};H.blnc.prototype.d=function(Q){var S=["ShdL","MdtL","HghL"],B=this.iJ[S[this.SA.d()]].v;for(var y=0;
y<3;y++)B[y].v=this.px[y].d();this.iJ.PrsL.v=this.ub.d();return JSON.parse(JSON.stringify(this.iJ))};
H.blnc.prototype.FI=function(Q){var S=["ShdL","MdtL","HghL"],B=this.iJ[S[this.SA.d()]].v;for(var y=0;
y<3;y++)this.px[y].L(B[y].v);this.ub.L(this.iJ.PrsL.v)};H.brit=function(){H.call(this,"brit");this.jK.push(new mf([12,2],-150,150,""));
this.jK.push(new mf([12,3,0],-100,100,""));this.jK.push(new mM([12,3,1]));this.SZ()};H.brit.prototype=new H;
H.brit.prototype.KK=function(Q,S){S[0]=Q.Brgh?Q.Brgh.v:0;S[1]=Q.Cntr?Q.Cntr.v:0;S[2]=Q.useLegacy?Q.useLegacy.v:!1};
H.brit.prototype.yL=function(Q,S){Q.Brgh.v=S[0];Q.Cntr.v=S[1];Q.useLegacy.v=S[2]};H.curv=function(){H.call(this);
this.value=null;this.Ng=null;var Q=this.p;this.L_=new ND([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.L_.w(P.E.Y,this.dr,this);Q.appendChild(this.L_.p);this.PU=new ND(null,["Spline","Sketch"]);this.PU.w(P.E.Y,this.muT,this);
Q.appendChild(this.PU.p);this.Ja=new QG;this.Ja.w(P.E.Y,this.Wn,this);Q.appendChild(this.Ja.p);this.gy=new Qv("Sample from image",[0,1,2]);
Q.appendChild(this.gy.p)};H.curv.prototype=new H;H.curv.prototype.b=function(){this.L_.b()};H.curv.prototype.muT=function(Q){var S=me.nW(this.value,0),B=S.length==256?1:0,y=this.PU.d();
if(B==y)return;var l=m_.yh("curv");if(y==1){var D=[];for(var R=0;R<256;R++)D.push(R);me.FA(l,0,D)}this.L(l);
this.nt()};H.curv.prototype.Wn=function(){me.FA(this.value,this.L_.d(),this.Ja.d());this.nt()};H.curv.prototype.dr=function(){var Q=this.L_.d(),S=me.nW(this.value,Q),B=S.length==256?1:0;
this.PU.L(B);if(this.Ng)this.Ja.FS(this.Ng[Q],this.Ng[4]*[1,.33,.33,.33][Q],["#ccc","#fcc","#cfc","#ccf"][Q]);
this.Ja.L(S)};H.curv.prototype.Bj=function(){return!0};H.curv.prototype.sn=function(Q,S,B,y,l){var D=this.value,R=this.gy.d();
this.value=m_.yh("curv");this.nt();var p=K._q.I_(Q,l,1),O=[p>>>16&255,p>>>8&255,p&255];for(var M=0;M<3;
M++){var U=me.nW(D,1+M);if(R==0)U[0].v.Hrzn.v=O[M];if(R==1){var m=(O[0]+O[1]+O[2])*.333,Y=Math.log(O[M]/255)/Math.log(m/255),x=Math.min(999,Math.max(10,Math.round(100*Y)));
if(U.length==2)U.splice(1,0,JSON.parse(JSON.stringify(U[0])));U[1].v.Hrzn.v=127-Math.log(x/100)*127;
U[1].v.Vrtc.v=127}if(R==2)U[U.length-1].v.Hrzn.v=O[M];me.FA(D,1+M,U)}this.L(D);this.nt()};H.curv.prototype.L=function(Q){this.value=Q;
this.dr()};H.curv.prototype.FS=function(Q){this.Ng=Q;this.dr()};H.curv.prototype.d=function(Q){return JSON.parse(JSON.stringify(this.value))};
H.expA=function(){H.call(this,"expA");this.jK.push(new mf([12,5],-20,20,null,3));this.jK.push(new mf([12,6],-.5,.5,null,3));
this.jK.push(new mf([12,7],.01,6.99,null,3));this.SZ()};H.expA.prototype=new H;H.expA.prototype.KK=function(Q,S){S[0]=Q.Exps.v;
S[1]=Q.Ofst.v;S[2]=Q.gammaCorrection.v};H.expA.prototype.yL=function(Q,S){Q.Exps.v=S[0];Q.Ofst.v=S[1];
Q.gammaCorrection.v=S[2]};H.grdm=function(){H.call(this,"grdm");this.jK.push(new LZ(!0,null,!0));this.jK.push(new mM([12,23,0]));
this.SZ()};H.grdm.prototype=new H;H.grdm.prototype.KK=function(Q,S){S[0]=Q.Grad.v;S[1]=Q.Rvrs?Q.Rvrs.v:!1};
H.grdm.prototype.yL=function(Q,S){Q.Grad.v=S[0];Q.Rvrs={t:"bool",v:S[1]}};H.grdm.prototype.on=function(Q,S){this.jK[0].WR(Q.Tq,Q.hB);
if(S==rS.E_||S==rS.li||S==rS.Jw)this.jK[0].XO(Q.YR)};H.selc=function(){H.call(this);var Q=this.p;this.YM=[];
this.FC=null;this.SA=new ND([12,82],Nf.VR.concat([[13,1,8],[13,1,13],[13,1,10]]));this.SA.w(P.E.Y,this.hC,this);
Q.appendChild(this.SA.p);for(var S=0;S<4;S++){var B=new mf(Nf.mvp[S],-100,100,"%");B.w(P.E.Y,this.hC,this);
this.YM.push(B);Q.appendChild(B.p)}this.gq=new mM([13,3]);Q.appendChild(this.gq.p);this.gq.w(P.E.Y,this.hC,this)};
H.selc.prototype=new H;H.selc.prototype.b=function(){this.SA.b();this.gq.b();for(var Q=0;Q<4;Q++)this.YM[Q].b()};
H.selc.prototype.L=function(Q){this.FC=JSON.parse(JSON.stringify(Q));this.FI()};H.selc.prototype.d=function(Q){return JSON.parse(JSON.stringify(this.FC))};
H.selc.prototype.hC=function(Q){if(Q.target!=this.SA){var S=this.FC,B=[];for(var y=0;y<4;y++)B[y]=this.YM[y].d();
ms.FA(S,this.SA.d(),B);S.Mthd={t:"enum",v:{CrcM:this.gq.d()?"Absl":"Rltv"}}}this.FI();this.nt()};H.selc.prototype.FI=function(){var Q=this.FC,S=ms.nW(Q,this.SA.d());
for(var B=0;B<4;B++)this.YM[B].L(S[B]);this.gq.L(Q.Mthd?Q.Mthd.v.CrcM=="Absl":!1)};H.blwh=function(){H.call(this,"blwh");
this.jK.push(new mM([12,11]));this.jK.push(new RU(!0));for(var Q=0;Q<6;Q++)this.jK.push(new mf(Nf.VR[Q],-200,300));
this.SZ()};H.blwh.prototype=new H;H.blwh.prototype.KK=function(Q,S){S[0]=Q.useTint.v;S[1]=Q.tintColor.v;
var B="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var y=0;y<6;y++)S[2+y]=Q[B[y]].v};H.blwh.prototype.yL=function(Q,S){Q.useTint.v=S[0];
Q.tintColor.v=S[1];var B="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var y=0;y<6;y++)Q[B[y]].v=S[2+y]};
H.hue2=function(){H.call(this);this.value=null;this.RV=null;this.mfR=null;var Q=this.p;this.SA=new ND([12,12],["Master"].concat(Nf.VR));
this.SA.w(P.E.Y,this.dr,this);Q.appendChild(this.SA.p);this.__=new mf([12,8],-180,180);this.__.w(P.E.Y,this.jR,this);
Q.appendChild(this.__.p);this.Mx=new mf([12,9],-100,100);this.Mx.w(P.E.Y,this.jR,this);Q.appendChild(this.Mx.p);
this.gJ=new mf([12,10],-100,100);this.gJ.w(P.E.Y,this.jR,this);Q.appendChild(this.gJ.p);this.gW=new mM([12,11]);
this.gW.w(P.E.Y,this.muk,this);Q.appendChild(this.gW.p);this.mfQ=new RT("...",!0);Q.appendChild(this.mfQ.p)};
H.hue2.prototype=new H;H.hue2.prototype.b=function(){this.__.b();this.Mx.b();this.gJ.b();this.gW.b();
this.SA.b()};H.hue2.prototype.muk=function(Q){var S=this.gW.d();this.value.Clrz.v=S;if(S)this.SA.L(0);
this.dr();this.nt()};H.hue2.prototype.jR=function(Q){var S=this.value.Clrz.v,B=this.SA.d(),y=ma.nW(this.value,B),l=B==0?y:y.px;
l[0]=this.__.d();var D=this.Mx.d();l[1]=S?Math.max(0,D):D;l[2]=this.gJ.d();ma.FA(this.value,B,y);this.dr();
this.nt()};H.hue2.prototype.dr=function(){var Q=this.value.Clrz?this.value.Clrz.v:!1,l="";this.gW.L(Q);
if(Q)this.SA.qG();else this.SA.yn();var S=this.SA.d(),B=ma.nW(this.value,S),y=S==0?B:B.px;this.__.L(y[0]);
this.Mx.L(y[1]);this.gJ.L(y[2]);if(!Q){l+=Nd.get([5,8])+": ";var S=this.SA.d();if(S==0)l+=Nd.get([13,2]);
else l+=B.oV}this.mfQ.L(l)};H.hue2.prototype.Bj=function(){return!0};H.hue2.prototype.OQ=function(Q,S,B,y,l){var D=this.value;
this.value=m_.yh("hue2");this.nt();var R=K._q.I_(Q,l,1),p=[R>>>16&255,R>>>8&255,R&255],O=k.pU(p[0]/255,p[1]/255,p[2]/255);
this.SA.L(1+Math.round(O.Kj*6)%6);this.L(D);this.nt();this.RV=l.x;this.mfR=this.Mx.d()};H.hue2.prototype.Uy=function(Q,S,B,y,l){if(this.RV!=null){var D=l.x-this.RV;
D=Math.max(-100,Math.min(100,this.mfR+.5*D));this.Mx.L(D);this.jR()}};H.hue2.prototype.sn=function(Q,S,B,y,l){this.RV=null};
H.hue2.prototype.L=function(Q){this.value=JSON.parse(JSON.stringify(Q));this.dr()};H.hue2.prototype.d=function(Q){return JSON.parse(JSON.stringify(this.value))};
H.levl=function(){H.call(this);this.value=null;this.Ng=null;this.nN=[new v(0,0),new v(0,0),new v(0,0),new v(0,0),new v(0,0)];
this.Dj=-1;this._x=this.t_.bind(this);this._P=this.OT.bind(this);var Q=this.p;this.L_=new ND([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.L_.w(P.E.Y,this.dr,this);Q.appendChild(this.L_.p);var S=P.P("div","");Q.appendChild(S);var B=P.P("div","");
Q.appendChild(B);this.pr=P.P("canvas");S.appendChild(this.pr);this.oX=this.pr.getContext("2d");this.tq=new v(256,120);
this.pr.setAttribute("style","display:block");P.tM(this.pr,this.tq.x,this.tq.y,this.oX);P.XW(this.pr);
P.jX(this.pr,this.OV.bind(this));this.$V=P.P("canvas","");B.appendChild(this.$V);this.DM=this.$V.getContext("2d");
this.YQ=new v(this.tq.x,40);this.$V.setAttribute("style","display:block");P.tM(this.$V,this.YQ.x,this.YQ.y,this.DM);
P.XW(this.$V);P.jX(this.$V,this.muP.bind(this));var y=this.mfV=[];for(var l=0;l<5;l++){var D=new Ry(null,null,3);
y.push(D);D.w(P.E.Y,this.mux,this);(l<2||l==4?S:B).appendChild(D.p)}S.appendChild(y[1].p);y[4].p.setAttribute("style","margin: 0 4.7em");
y[3].p.setAttribute("style","margin:0 0 0 13em");this.gy=new Qv("Sample from image",[0,1,2]);Q.appendChild(this.gy.p)};
H.levl.prototype=new H;H.levl.prototype.b=function(){this.L_.b()};H.levl.prototype.mux=function(Q){var S=[];
for(var B=0;B<5;B++){var y=255,l=1;if(B==4){y=999;l=100}var D=parseFloat(this.mfV[B].d());S[B]=Math.max(0,Math.min(y,D*l))}MR.FA(this.value,this.L_.d(),S);
this.dr();this.nt()};H.levl.prototype.dr=function(Q){var S=this.tq.x,B=this.tq.y,y=this.L_.d(),l=this.oX;
l.clearRect(0,0,S,B);l.fillStyle="#cccccc";l.fillRect(8,8,S-16,B-16-8);if(this.Ng){if(y==0){k.set(this.Ng[0],0);
var D=JSON.parse(JSON.stringify(this.value));MR.FA(D,0,[0,255,0,255,100]);var R=Nf.eL("levl",D),p=[R.ri,R.NW,R.KS];
for(var O=0;O<3;O++){var M=this.Ng[1+O],U=p[O];for(var m=0;m<256;m++)this.Ng[0][U[m]]+=M[m]}}var Y=this.Ng[y],x=0;
for(var m=0;m<Y.length;m++)x+=Y[m];l.fillStyle="#333333";l.beginPath();l.moveTo(8,B-16);for(var m=0;
m<256;m++){var T=55*Y[m]/x;l.lineTo(8+m/256*(S-16),Math.max(8,B-16-B*T))}l.lineTo(S-8,B-16);l.closePath();
l.fill()}var $=MR.nW(this.value,y);for(var m=0;m<5;m++)this.mfV[m].L($[m]/(m==4?100:1));this.nN[0].yZ(8+$[0]/255*(S-16),B-14);
this.nN[1].yZ(8+$[1]/255*(S-16),B-14);var L=Math.log($[4]/100)/Math.log(9.99);L=.5-L/2;this.nN[4].yZ(this.nN[0].x+L*(this.nN[1].x-this.nN[0].x),B-14);
this.RL(l,this.nN[0],"#000000");this.RL(l,this.nN[4],"#777777");this.RL(l,this.nN[1],"#ffffff");var S=this.YQ.x,B=this.YQ.y;
l=this.DM;l.clearRect(0,0,S,B);var s=l.createLinearGradient(0,0,S-16,0);s.addColorStop(0,"black");s.addColorStop(1,"white");
l.fillStyle=s;l.fillRect(8,8,S-16,16);this.nN[2].yZ(8+$[2]/255*(S-16),B-14);this.nN[3].yZ(8+$[3]/255*(S-16),B-14);
this.RL(l,this.nN[2],"#000000");this.RL(l,this.nN[3],"#ffffff")};H.levl.prototype.RL=function(Q,S,B){Q.fillStyle=B;
Q.fillRect(S.x-5,S.y,10,10)};H.levl.prototype.OV=function(Q){var S=P.Jo(Q,this.pr);if(v.Ui(this.nN[4],S)<10)this.Dj=4;
for(var B=0;B<3;B++)if(v.Ui(this.nN[B],S)<10)this.Dj=B;this.mzg()};H.levl.prototype.muP=function(Q){var S=P.Jo(Q,this.$V);
for(var B=2;B<4;B++)if(v.Ui(this.nN[B],S)<10)this.Dj=B;this.mzg()};H.levl.prototype.mzg=function(Q){if(this.Dj==-1)return;
P.rm(document.body,this._x);P.NP(document.body,this._P)};H.levl.prototype.t_=function(Q){var S=MR.nW(this.value,this.L_.d()),B=P.Jo(Q,this.Dj==2&&this.Dj==3?this.$V:this.pr),y=255*(B.x-8)/(this.tq.x-16);
y=Math.max(0,Math.min(255,y));if(this.Dj==0)y=Math.min(y,S[1]-2);if(this.Dj==1)y=Math.max(y,S[0]+2);
if(this.Dj!=4)S[this.Dj]=Math.round(y);else{var l=(y-S[0])/(S[1]-S[0]);l=1-2*l;l=Math.pow(9.99,l);S[4]=Math.min(999,Math.max(10,Math.round(l*100)))}MR.FA(this.value,this.L_.d(),S);
this.dr();this.nt()};H.levl.prototype.OT=function(Q){P.j_(document.body,this._x);P.oe(document.body,this._P);
this.Dj=-1};H.levl.prototype.Bj=function(){return!0};H.levl.prototype.sn=function(Q,S,B,y,l){var D=this.value,R=this.gy.d();
this.value=m_.yh("levl");this.nt();var p=K._q.I_(Q,l,1),O=[p>>>16&255,p>>>8&255,p&255];for(var M=0;M<3;
M++){var U=MR.nW(D,1+M);if(R==0)U[0]=O[M];if(R==1){var m=Math.log(O[M]/255)/Math.log((O[0]+O[1]+O[2])*.333/255);
U[4]=Math.min(999,Math.max(10,Math.round(100*m)))}if(R==2)U[1]=O[M];MR.FA(D,1+M,U)}this.L(D);this.nt()};
H.levl.prototype.L=function(Q){this.value=Q;this.dr()};H.levl.prototype.FS=function(Q){this.Ng=Q;this.dr()};
H.levl.prototype.d=function(Q){return JSON.parse(JSON.stringify(this.value))};H.phfl=function(){H.call(this,"phfl");
this.jK.push(new RU);this.jK.push(new mf([12,74],0,100,"%"));this.jK.push(new mM([13,4]));this.SZ()};
H.phfl.prototype=new H;H.phfl.prototype.KK=function(Q,S){S[0]=Q.Clr.v;S[1]=Q.Dnst.v;S[2]=Q.PrsL.v};H.phfl.prototype.yL=function(Q,S){var B=k.Kg.RT(S[0]),y=Q.Clr.v,l=k.we(B.t,B.e,B.R);
y.Lmnc.v=l.iu;y.A.v=l.n;y.B.v=l.R;Q.Dnst.v=S[1];Q.PrsL.v=S[2]};H.vibA=function(){H.call(this,"vibA");
this.jK.push(new mf([12,13],-100,100,null));this.jK.push(new mf([12,9],-100,100,null));this.SZ()};H.vibA.prototype=new H;
H.vibA.prototype.KK=function(Q,S){S[0]=Q.vibrance?Q.vibrance.v:0;S[1]=Q.Strt?Q.Strt.v:0};H.vibA.prototype.yL=function(Q,S){Q.vibrance.v=S[0];
Q.Strt.v=S[1]};H.thrs=function(){H.call(this,"thrs");this.jK.push(new mf([4,13],1,255,null));this.SZ()};
H.thrs.prototype=new H;H.thrs.prototype.KK=function(Q,S){S[0]=Q.Lvl.v};H.thrs.prototype.yL=function(Q,S){Q.Lvl.v=S[0]};
H.mixr=function(){H.call(this);var Q=this.p;this.YM=[];this.FC=null;this.SA=new ND([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.SA.w(P.E.Y,this.hC,this);Q.appendChild(this.SA.p);P.XL(Q);this.Db=new mM([12,60]);Q.appendChild(this.Db.p);
this.Db.w(P.E.Y,this.hC,this);for(var S=0;S<4;S++){var B=new mf([[13,1,1],[13,1,4],[13,1,5],[13,2]][S],-200,200,"%");
B.w(P.E.Y,this.hC,this);this.YM.push(B);Q.appendChild(B.p)}};H.mixr.prototype=new H;H.mixr.prototype.b=function(){this.SA.b();
this.Db.b();for(var Q=0;Q<4;Q++)this.YM[Q].b()};H.mixr.prototype.L=function(Q){this.FC=JSON.parse(JSON.stringify(Q));
this.FI()};H.mixr.prototype.d=function(Q){return JSON.parse(JSON.stringify(this.FC))};H.mixr.prototype.hC=function(Q){if(Q.target!=this.SA){var S=Nf.XK(this.FC);
if(Q.target==this.Db){S.Db=this.Db.d();if(S.Db)S.z=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else S.z=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var B=(S.Db?0:this.SA.d())*5,y=this.YM.indexOf(Q.target);
S.z[B+(y<3?y:4)]=Q.target.d()}this.FC=Nf.oy(S)}this.FI();this.nt()};H.mixr.prototype.FI=function(){var Q=Nf.XK(this.FC);
this.Db.L(Q.Db);var S=(Q.Db?0:this.SA.d())*5;for(var B=0;B<4;B++)this.YM[B].L(Q.z[S+(B<3?B:4)])};H.post=function(){H.call(this,"post");
this.jK.push(new mf([4,1],2,255,null));this.SZ()};H.post.prototype=new H;H.post.prototype.KK=function(Q,S){S[0]=Q.Lvls.v};
H.post.prototype.yL=function(Q,S){Q.Lvls.v=S[0]};H.clrL=function(){H.call(this,"clrL");this.jK.push(new pp("LUTs"));
this.SZ()};H.clrL.prototype=new H;H.clrL.prototype.KK=function(Q,S){S[0]=Q};H.clrL.prototype.yL=function(Q,S){var B=S[0];
for(var y in B)Q[y]=B[y]};H.clrL.prototype.on=function(Q,S){if(S==rS.E_||S==rS.tw)this.jK[0].XO(Q.mUf)};
H.rplc=function(){H.call(this,"rplc");this.jK.push(new mf([12,92],0,200));this.jK.push(new RU);this.jK.push(new mf([12,8],-180,180));
this.jK.push(new mf([12,9],-100,100));this.jK.push(new mf([12,10],-100,100));this.SZ()};H.rplc.prototype=new H;
H.rplc.prototype.KK=function(Q,S){S[0]=Q.Fzns.v;S[1]=Q.Mxm.v;S[2]=Q.H.v;S[3]=Q.Strt.v;S[4]=Q.Lght.v};
H.rplc.prototype.yL=function(Q,S){function B(l,D){D.Lmnc.v=l.iu;D.A.v=l.n;D.B.v=l.R}Q.Fzns.v=S[0];Q.H.v=S[2];
Q.Strt.v=S[3];Q.Lght.v=S[4];var y=k.Kg.RT(S[1]),l=k.we(y.t,y.e,y.R);B(l,Q.Mnm.v);B(l,Q.Mxm.v)};H.fade=function(){H.call(this,"fade");
this.jK.push(new mf([12,0],0,100,"%"));this.jK.push(new ND([12,19,0],No.qu,!1,No.KM));this.SZ()};H.fade.prototype=new H;
H.fade.prototype.KK=function(Q,S){S[0]=Q.Opct.v.val;S[1]=No.oM.indexOf(Q.Md.v.BlnM)};H.fade.prototype.yL=function(Q,S){Q.Opct.v.val=S[0];
Q.Md.v.BlnM=No.oM[S[1]]};function Nv(Q,S){NJ.call(this);if(Q==null)return;this.id=S;this.YW=Q;this.jo=null;
this.p=P.P("div","window "+S);this.jE=P.P("div","head");this.mEL=P.P("span","wname");this.jE.appendChild(this.mEL);
this.p.appendChild(this.jE);this.RG=this.muI.bind(this);this.Bl=this.muA.bind(this);this.Bo=this.mgq.bind(this);
P.XW(this.jE);P.jX(this.jE,this.RG);this.jP=P.P("span","cross");this.jE.appendChild(this.jP);Nv.prototype.b.call(this);
P.NP(this.jP,this.mpP.bind(this));this.body=P.P("div","body");this.p.appendChild(this.body)}Nv.prototype=new NJ;
Nv.prototype.TA=function(){return!1};Nv.prototype.Bj=function(){return!1};Nv.prototype.b=function(){if(this.YW==null)return;
this.mEL.textContent=Nd.get(this.YW);var Q=PIMG.__cross==null?"filter:invert(1);":"";this.jP.setAttribute("style","background-image:url("+PIMG.cross+");"+Q)};
Nv.prototype.OQ=function(Q,S,B,y,l){};Nv.prototype.nV=function(Q,S,B,y,l){};Nv.prototype.Uy=function(Q,S,B,y,l){};
Nv.prototype.sn=function(Q,S,B,y,l){};Nv.prototype.Ro=function(Q,S,B,y,l){};Nv.prototype.qh=function(Q,S,B,y){if(y.N(A._o)&&this.SC)this.SC()};
Nv.prototype.bC=function(Q){return!1};Nv.prototype.UN=function(Q,S){return!0};Nv.prototype.Cp=function(Q,S,B,y){};
Nv.prototype.on=function(Q,S){};Nv.prototype.iC=function(){return!1};Nv.prototype.Rs=function(Q,S){return Q<450||S<450?new v(0,0):new v(150,150)};
Nv.prototype.Kl=function(){};Nv.prototype.close=function(){this.B(new b(P.E.Dq))};Nv.prototype.muI=function(Q){this.jo=P.Jo(Q,this.p);
P.rm(window,this.Bl);P.NP(window,this.Bo)};Nv.prototype.muA=function(Q){var S=this.p.parentNode,B=P.Jo(Q,S);
this.p.style.left=Math.round(B.x-this.jo.x)+"px";this.p.style.top=S.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(B.y-this.jo.y)))+"px"};
Nv.prototype.mgq=function(Q){P.j_(window,this.Bl);P.oe(window,this.Bo)};Nv.prototype.mpP=function(Q){this.B(new b("closebtn"));
this.close()};function Rb(){Nv.call(this,[0,13,0],"account");this.pG=P.P("div","form padded scrollable");
this.pG.setAttribute("style","max-width:48em;  max-height:33em;");this.body.appendChild(this.pG);this.tV=[new Rb.TD,new Rb.jV(Rb.mgA)];
for(var Q=0;Q<this.tV.length;Q++)this.tV[Q].parent=this;this.w("showpage",this.mgW,this)}Rb.prototype=new Nv;
Rb.prototype.mgW=function(Q){P.EW(this.pG);this.pG.scrollTop=0;this.pG.appendChild(this.tV[Q.data.d_].p)};
Rb.prototype.b=function(){Nv.prototype.b.call(this);for(var Q=0;Q<this.tV.length;Q++)this.tV[Q].b()};
Rb.prototype.Cp=function(Q,S,B){P.EW(this.pG);var y=this.tV[0];this.pG.appendChild(y.p);y.Cp();this.b()};
Rb.prototype.on=function(Q,S){this.Cp(null,null,null)};Rb.TD=function(){NJ.call(this);this.p=P.P("div");
var Q=this.p,S,B,y="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.YV=P.P("div");Q.appendChild(this.YV);this.YF=new Nw([0,11],!1,null,!0);this.YF.p.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.YF.w("click",this.rc,this);Q.appendChild(this.YF.p);this.oN=new Nw([0,13,1],!1,null,!0);this.oN.w("click",this.mQh,this);
Q.appendChild(this.oN.p);S=P.P("h2","");S.innerHTML="Account types";Q.appendChild(S);B=P.P("table","");
B.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
Q.appendChild(B);var l=this.mUO=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.Pv=[];for(var D=0;D<l.length;D++)this.Pv.push(new Nw("Buy: $"+l[D][0],!1,null,!0));for(var D=0;
D<this.Pv.length;D++){this.Pv[D].p.setAttribute("style",y);this.Pv[D].w("click",this.mgE,this)}S=P.P("h2","");
S.innerHTML="Go Premium";Q.appendChild(S);this.YU=new Nw("...",!0);this.YU.p.setAttribute("style",y);
Q.appendChild(this.YU.p);B=this.mec(3,["Single user",this.Pv[0],this.Pv[1],this.Pv[2],"Team of 5",this.Pv[3],this.Pv[4],this.Pv[5],"Team of 20",this.Pv[6],this.Pv[7],this.Pv[8]]);
Q.appendChild(B);this.mzX=new mM("I accept",!0,"");Q.appendChild(this.mzX.p);this.TU=new Nw([0,13,1],!1,null,!0);
this.TU.w("click",this.mQh,this);Q.appendChild(this.TU.p);this.mmC=new Nw("Info for Buyers",!1,null,!0);
this.mmC.w("click",this.mgF,this);S=P.P("h2","");S.textContent="Team Settings";Q.appendChild(S);this.pc=new mM("Join a team");
Q.appendChild(this.pc.p);this.pc.w(P.E.Y,this.mLA,this);this.YE=new Ry("Email of a leader",null,14);
Q.appendChild(this.YE.p);P.XL(Q);this.g_=new mM("Start a team");Q.appendChild(this.g_.p);this.g_.w(P.E.Y,this.mLA,this);
var R=new RT("Emails of other members:");Q.appendChild(R.p);P.XL(Q);this.Dl=P.P("textarea");this.Dl.setAttribute("rows",3);
this.Dl.setAttribute("cols",70);this.Dl.setAttribute("style","display:block;tab-size:4;");Q.appendChild(this.Dl);
var p=new Nw("Save Team Settings",!1,null,!0);Q.appendChild(p.p);p.w("click",this.mgG,this);var O=this.mUB=new Nw("More about Teams",!1,null,!0);
Q.appendChild(O.p);O.w("click",this.mLp,this);S=P.P("h2","");S.innerHTML="Distributor Account";Q.appendChild(S);
this.Yt=new Nw("...",!0);this.Yt.p.setAttribute("style",y);Q.appendChild(this.Yt.p);B=this.mec(3,["1000 views/month",this.Pv[9],this.Pv[10],this.Pv[11],"5000 views/month",this.Pv[12],this.Pv[13],this.Pv[14],"20000 views/month",this.Pv[15],this.Pv[16],this.Pv[17]]);
Q.appendChild(B);this.YD=new Ry("Domain name (e.g. domain.com)",null,14);Q.appendChild(this.YD.p);P.XL(Q);
var p=new Nw("Save Domain Settings",!1,null,!0);p.Cx();Q.appendChild(p.p);p.w("click",this.mgw,this);
var O=new Nw("More about Distributors",!1,null,!0);Q.appendChild(O.p);O.w("click",this.mLp,this)};Rb.TD.prototype=new NJ;
Rb.TD.prototype.mQh=function(Q){var S=new b("showpage",!0);S.data={d_:1};this.B(S)};Rb.TD.prototype.mgF=function(Q){var S=new b("showpage",!0);
S.data={d_:2};this.B(S)};Rb.TD.prototype.b=function(){this.YF.CE(N_.qR()?Nd.get([0,11]):Nd.get([0,10]));
this.TU.b();this.oN.b();this.mmC.b()};Rb.TD.prototype.mLp=function(Q){var S=new b(P.E.T,!0);S.data={H:P.l.FR,link:"https://www.photopea.com/api/accounts#"+(Q.target==this.mUB?"teams":"distributors")};
this.B(S)};Rb.TD.prototype.mLA=function(Q){var S=Q.currentTarget==this.pc;this.pc.L(S);this.g_.L(!S)};
Rb.TD.prototype.mgG=function(Q){var S=this.pc.d(),B=this.YE.d().trim(),y=this.Dl.value.trim();if(B.length>60){alert("Too long email address");
return}if(y.length>600){alert("Too many team members");return}y=y.split(",").join(" ").trim();y=y.replace(/\s+/g," ");
if(y=="")y=[];else y=y.split(" ");var l=N_.Qz();if(l==null)l={};if(l.acc==null)l.acc={};l.acc.team={jin:S,ldr:B,mmb:y};
N_.ry(l,this.WE.bind(this));alert("Saved!");this.Cp()};Rb.TD.prototype.mgw=function(Q){var S=this.YD.d().trim();
if(S.length==0){alert("Domain is empty.");return}if(!N_.qR()){alert("You have to log in first.");return}if(N_.vk().distrib=="0"){alert("Order a distributor account first.");
return}var B=N_.Qz();if(B==null)B={};if(B.acc==null)B.acc={};B.acc.dname=S;N_.ry(B,this.WE.bind(this));
alert("Saved!");this.Cp()};Rb.TD.prototype.Cp=function(){if(N_.qR()){var Q=N_.vk();if(Q==null)return;
this.YV.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+Q.name+"</span> "+Q.email+" <br/>"}else this.YV.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var S=N_.qR()&&N_.vX();this.YU.p.style.display=S?"block":"none";if(S){var B=parseInt(Q[P.Nw("!&|'&50")])-Date.now()*(1/1e3),y=parseInt(Q.ptype),l;
if(y==-1)l="member of a team";else if(y==1)l="Single user";else l="Team of "+y;this.YU.CE("Premium active for "+Math.round(B/(60*60*24))+" more days! ("+l+")")}var D=N_.qR()&&Q.distrib*1e3>Date.now();
this.Yt.p.style.display=D?"block":"none";if(D){var B=parseInt(Q.distrib)-Date.now()/1e3,y=parseInt(Q.ptype);
this.Yt.CE("Distributor active for "+Math.round(B/(60*60*24))+" more days! ("+y+" visitos)")}var R=N_.Qz();
if(R&&R.acc&&R.acc.team){var p=R.acc.team;this.pc.L(p.jin);this.g_.L(!p.jin);this.YE.L(p.ldr);this.Dl.value=p.mmb.join(", ")}else{this.pc.L(!0);
this.g_.L(!1);this.YE.L("");this.Dl.value=""}if(R&&R.acc&&R.acc.dname)this.YD.L(R.acc.dname);else this.YD.L("")};
Rb.TD.prototype.mec=function(Q,S){var B=P.P("table");B.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(Q==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var y=0;y<S.length;y+=Q+1){var l=P.P("tr"),D;B.appendChild(l);D=P.P("td","left");l.appendChild(D);
D.innerHTML="<b>"+S[y]+"</b>";for(var R=0;R<Q;R++){D=P.P("td");l.appendChild(D);D.appendChild(S[y+1+R].p)}}return B};
Rb.TD.prototype.mgE=function(Q){var S=this.Pv.indexOf(Q.currentTarget);if(!N_.qR()){alert("You must log in before buying Premium");
return}if(this.mzX.d()==!1&&S<9){alert("You must accept Terms of Service");return}var B=this.mUO[S],y=B[1],l=B[2],D=N_.qR()&&N_.vX();
if(D&&l<1e3){alert("You already have premium.");return}N_.order(y,l,this.WE.bind(this));this.Ws()};Rb.TD.prototype.WE=function(Q){if(N_.qR()&&N_.vk().msg)alert(N_.vk().msg);
this.Cp();this.Ws()};Rb.TD.prototype.rc=function(Q){if(N_.qR()){N_.mfM();this.Ws();this.Cp(null,null,null)}else N_.rc(this.mgk.bind(this))};
Rb.TD.prototype.mgk=function(){var Q=new b(P.E.T,!0);Q.data={H:P.l.mUl};this.B(Q)};Rb.TD.prototype.Ws=function(){var Q=new b(P.E.T,!0);
Q.data={H:P.l.mLo};this.B(Q)};Rb.jV=function(Q){NJ.call(this);this.p=P.P("div");var S=this.p,B=this.mUI=new Nw([0,13,2],!1,null,!0);
B.w("click",this.mgI,this);S.appendChild(B.p);var y=P.P("div","");y.innerHTML=Q;S.appendChild(y)};Rb.jV.prototype=new NJ;
Rb.jV.prototype.mgI=function(Q){var S=new b("showpage",!0);S.data={d_:0};this.B(S)};Rb.jV.prototype.b=function(){this.mUI.b()};
Rb.mgA="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function pJ(){Nv.call(this,[11,14],"addguides");this.EJ;this.Kv={Ke:{vP:0}};this.Tj=null;var Q=P.P("div","form");
this.body.appendChild(Q);this.ay=new Ry([22,4,0],null,16);this.ay.w(P.E.Y,this._b,this);this.gG=new Ry([22,4,1],null,16);
this.gG.w(P.E.Y,this._b,this);this.tW=new ND(null,k.hs.TY);this.tW.w(P.E.Y,this._b,this);Q.appendChild(this.ay.p);
Q.appendChild(this.tW.p);P.XL(Q);Q.appendChild(this.gG.p);this.mH=new Nw("OK",!0,null,!0);this.mH.w("click",this.SC,this);
Q.appendChild(this.mH.p);this.w("closebtn",this.mgY,this)}pJ.prototype=new Nv;pJ.prototype.UN=function(Q,S){return Q!=null};
pJ.prototype.TA=function(){return!0};pJ.prototype.b=function(){Nv.prototype.b.call(this);this.ay.b();
this.gG.b();this.tW.b()};pJ.prototype.on=function(Q,S){var B=Q.Ke.vP;this.Kv.Ke.vP=B;this.tW.L(B)};pJ.prototype.Cp=function(Q,S){this.EJ=Q;
this.Tj=JSON.stringify(Q.WM);this.hb()};pJ.prototype.hb=function(){var Q=this.EJ,S=Q.WM,B=function(y,Q,l,D){var R=[];
for(var p=0;p<y.length;p++)R.push(k.hs.vH(y[p],Q.LY,l,D));return R.join(", ")};this.ay.L(B(S[1],Q,this.Kv,Q.O));
this.gG.L(B(S[0],Q,this.Kv,Q.r))};pJ.prototype._b=function(Q){if(Q&&Q.currentTarget==this.tW)this.Kv.Ke.vP=this.tW.d();
else{var S=this.mhl(this.ay),B=this.mhl(this.gG),y=this.EJ;y.WM=[B,S];y.rr=!0}this.hb()};pJ.prototype.mhl=function(Q){var S=Q==this.ay?this.EJ.O:this.EJ.r,B=Q.d().replace(/,/g," ").replace(/  +/g," ").trim(),y=B==""?[]:B.split(" ");
for(var l=0;l<y.length;l++)y[l]=k.hs.mML(y[l],this.EJ.LY,this.Kv,S);return y};pJ.prototype.mgY=function(Q){var S=this.EJ;
S.WM=JSON.parse(this.Tj);S.rr=!0;this.EJ=null};pJ.prototype.SC=function(Q){this._b(Q);var S=new b(P.E.D,!0);
S.h=K.vc;S.data={H:"gids",ki:JSON.parse(this.Tj),GA:JSON.parse(JSON.stringify(this.EJ.WM))};this.EJ=null;
this.close();this.B(S)};function M_(Q){var S=m_.names[Q];if(S==null)S=Nf.names[Q];if(Q=="fade")S=[2,11];
Nv.call(this,S,"afw_"+Q);this.kd=Q;this.hf=null;this.Ti=null;this.Ja=new H[Q];this.Ja.w(P.E.Y,this.nt,this);
this.Ja.parent=this;this.body.appendChild(this.Ja.p);this.LT=new mM([24,18,5]);this.LT.L(!0);this.LT.w(P.E.Y,this.nt,this);
this.mmu=new Nw("Reset",!0,null,!0);this.mmu.w("click",this.NO,this);this.mH=new Nw("OK",!0,null,!0);
this.mH.w("click",this.SC,this);if(this.Ja.iC())this.Ja.WU(this.mH.p);else{P.Te(this.Ja.p,"form");P.Te(this.body,"flexrow");
this.Ja.p.setAttribute("style","width:24em");var B=P.P("div");this.body.appendChild(B);B.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
B.appendChild(this.mH.p);B.appendChild(this.mmu.p);B.appendChild(this.LT.p)}this.w("closebtn",this.Bk,this)}M_.prototype=new Nv;
M_.prototype.TA=function(){return!0};M_.prototype.iC=function(){return this.Ja!=null&&this.Ja.iC()};
M_.prototype.Rs=function(){return this.Ja.iC()?new v(0,0):Nv.prototype.Rs()};M_.prototype.Bj=function(){return this.Ja.Bj()};
M_.prototype.OQ=function(Q,S,B,y,l){this.Ja.OQ(Q,S,B,y,l)};M_.prototype.Uy=function(Q,S,B,y,l){this.Ja.Uy(Q,S,B,y,l)};
M_.prototype.sn=function(Q,S,B,y,l){this.Ja.sn(Q,S,B,y,l)};M_.prototype.UN=function(Q,S){if(this.kd=="fade")return M_.mFB(Q);
return!0};M_.prototype.NO=function(Q){this.Ja.L(m_.yh(this.kd));this.nt()};M_.prototype.nt=function(Q){this.Fo({H:"edit",Kh:this.Ja.d(),wm:!this.LT.d()})};
M_.prototype.Bk=function(Q){this.Fo({H:"cancel"})};M_.prototype.SC=function(Q){if(!this.LT.d()){this.LT.L(!0);
this.nt()}this.Ti=this.Ja.d();if(this.iC())this.nt();this.Fo({H:"confirm"});this.close()};M_.prototype.b=function(){Nv.prototype.b.call(this);
this.LT.b();if(this.Ja)this.Ja.b()};M_.prototype.on=function(Q,S){if(this.Ja)this.Ja.on(Q,S)};M_.prototype.qh=function(Q,S,B,y){if(this.Ja&&this.Ja.iC())this.Ja.qh(y);
else Nv.prototype.qh.call(this,Q,S,B,y)};M_.prototype.Cp=function(Q,S,B,y){this.hf=S.hf;var l=Q.add.lnk2?Q.add.lnk2:[],D,R,p=new w(0,0,Q.r,Q.O),O=Q.G[Q.I[0]],M=null;
D=O.buffer;R=O.rect;if(this.iC())M=Q.qB(Q.I[0]-1);var U=m_.yh(this.kd);if(S.hf==null){this.Ja.L(U,D,R,p,M,l);
if(Nf.names[this.kd]){if(y.N(A.qD)&&this.Ti)this.Ja.L(this.Ti);var m=mw.ZE.getData(Q),Y=k.Qd(m[0].Fk);
this.Ja.FS(Y)}}else{var x=!1,O=Q.G[this.hf.$];if(O.as()){var T=O.DG(Q);D=T.buffer;R=T.rect;var $=O.add.SoLd.filterFX.v.filterFXList.v;
if($[this.hf.index]){var L=$[this.hf.index].v.Fltr.v;this.Ja.L(L,D,R,p,M,l);x=!0}}if(!x)this.Ja.L(U,D,R,p,M,l)}if(!this.iC())this.nt()};
M_.prototype.Fo=function(Q){var S=new b(P.E.D,!0);Q.kd=this.kd;Q.hf=this.hf;S.data=Q;S.h=m_.names[this.kd]||this.hf?K.bI:K.Gf;
S.qi=!0;this.B(S)};M_.prototype.Kl=function(Q,S){S=S-26;Q=Q-26;this.Ja.Kl(Q,S)};M_.mFB=function(Q){if(Q==null)return!1;
var S=Q.vO();if(S==null||!(S.data instanceof Array)||S.data.length!=Q.I.length)return!1;for(var B=0;
B<S.data.length;B++){var y=S.data[B];if(y.$<0&&Q.Ka[-1-y.$])return!0;if(y.$==null||Q.G[y.$]==null||Q.G[y.$].Wg!=y.qe)return!1;
if(Q.I.indexOf(y.$)==-1)return!1}return!0};function rl(){Nv.call(this,[11,0],"camera");this.data=null;
this.iz=new v(1,1);this.pG=P.P("div","form hbar");this.body.appendChild(this.pG);this.mFH=new ND(null,[]);
this.pV=new R$([21,0],[[21,2],[21,1]]);this.pG.appendChild(this.pV.p);this.im=new Nw([11,0],!1,null,!0);
this.im.w("click",this.mWC,this);this.pG.appendChild(this.im.p);this.mMy=new RT("");this.pG.appendChild(this.mMy.p);
this.stream=null;this.Om=P.P("video","");this.Om.setAttribute("autoplay","true");this.body.appendChild(this.Om);
this.mrO=this.mWU.bind(this);this.mrj=this.mFg.bind(this);this.mUH=this.mnc.bind(this);this.w("closebtn",this.mF_,this)}rl.prototype=new Nv;
rl.prototype.b=function(){Nv.prototype.b.call(this);this.pV.b();this.im.b();this.mnc()};rl.prototype.qB=function(){var Q=this.Om.videoWidth,S=this.Om.videoHeight,B=P.P("canvas","");
B.width=Q;B.height=S;var y=B.getContext("2d");y.drawImage(this.Om,0,0,Q,S);var l=y.getImageData(0,0,Q,S);
return{iQ:new w(0,0,Q,S),data:l.data.buffer}};rl.prototype.mWC=function(Q){if(this.pV.d()==0)this.mWa();
else this.mWu()};rl.prototype.mWu=function(){var Q=this.qB(),S={buffer:new Uint8Array(Q.data),rect:Q.iQ},B=new b(P.E.D,!0);
B.qi=!0;B.h=K.Sb;B.data={H:z.mf,$l:S};this.B(B);alert(Nd.get([21,4]))};rl.prototype.mWa=function(){var Q=this.qB(),S=Nx.o$("camera",[Q]),B=new b(P.E.T,!0);
B.data={H:P.l.DJ,SB:S};this.B(B);alert(Nd.get([21,5]))};rl.prototype.Cp=function(Q,S,B){var y={video:{width:{ideal:6e3},height:{ideal:6e3}}};
if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(y).then(this.mrO).catch(this.mrj);
else navigator.webkitGetUserMedia(y,this.mrO,this.mrj)};rl.prototype.mWU=function(Q){this.stream=Q;this.Om.srcObject=Q;
this.Om.addEventListener("loadedmetadata",this.mUH,!1)};rl.prototype.mnc=function(Q){var S=this.Om.videoWidth,B=this.Om.videoHeight;
this.mMy.L(Nd.get([21,3])+": "+S+" x "+B+" px");this.iz.yZ(S,B);this.Kl(this.QP,this.Kj)};rl.prototype.Rs=function(Q,S){return Math.min(Q,S)<500?new v(0,0):new v(100,100)};
rl.prototype.Kl=function(Q,S){this.QP=Q;this.Kj=S;var B=Q-28,y=S-28-38,l=this.iz.x/this.iz.y;if(B/y>l)B=y*l;
else y=B/l;this.Om.setAttribute("style","display: block; width: "+Math.round(B)+"px; height:"+Math.round(y)+"px;")};
rl.prototype.mFg=function(Q){console.log("error",Q);alert(Nd.get([21,6]));this.close()};rl.prototype.mF_=function(Q){if(this.stream!=null){this.stream.getTracks()[0].stop();
this.Om.src="";this.stream=null}};function ph(){Nv.call(this,[7,8],"crange");this.EJ=null;this.YB={iu:73,n:4.45,R:4};
this.Yl={iu:73,n:4.45,R:4};var Q=P.P("div","form");Q.setAttribute("style","width:18em");this.body.appendChild(Q);
this.tf=new mf([12,92],0,200);this.tf.L(40);this.tf.w(P.E.Y,this.FI,this);Q.appendChild(this.tf.p);this.MJ=P.P("canvas");
Q.appendChild(this.MJ);this.iM=new R$([12,36],[[18,0],"\uFF0B","\u2014"]);Q.appendChild(this.iM.p);this.b_=new Nw("OK",!0,null,!0);
this.b_.w("click",this.SC,this);this.body.appendChild(this.b_.p)}ph.prototype=new Nv;ph.prototype.UN=function(Q,S){return Q!=null};
ph.prototype.Bj=function(){return!0};ph.prototype.TA=function(){return!0};ph.prototype.b=function(){Nv.prototype.b.call(this);
this.tf.b();this.iM.b()};ph.prototype.OQ=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y);this.mmt(D.x,D.y)};
ph.prototype.mmt=function(Q,S){var B=Math.min,y=Math.max,l=this.EJ,D=y(0,B(l.r-1,Math.floor(Q))),R=y(0,B(l.O-1,Math.floor(S))),p=l.qB(),O=(R*l.r+D)*4,M=p[O],U=p[O+1],m=p[O+2],Y=k.we(M,U,m),x=this.iM.d(),T=this.YB,$=this.Yl;
if(x==0){this.YB=JSON.parse(JSON.stringify(Y));this.Yl=Y}else if(x==1){T.iu=B(T.iu,Y.iu);T.n=B(T.n,Y.n);
T.R=B(T.R,Y.R);$.iu=y($.iu,Y.iu);$.n=y($.n,Y.n);$.R=y($.R,Y.R)}else if(x==2){var L=(T.iu+$.iu)/2,s=(T.n+$.n)/2,j=(T.R+$.R)/2;
if(Y.iu<L)T.iu=y(T.iu,Y.iu+10);else $.iu=B($.iu,Y.iu-10);if(Y.n<s)T.n=y(T.n,Y.n+1);else $.n=B($.n,Y.n-1);
if(Y.R<j)T.R=y(T.R,Y.R+1);else $.R=B($.R,Y.R-1)}this.FI()};ph.prototype.SC=function(Q){var S=new b(P.E.D,!0);
S.h=K.wl;S.data={H:"crange",ZO:this.YB,ZZ:this.Yl,go:this.tf.d()/200};S.qi=!0;this.B(S);this.close()};
ph.prototype.Cp=function(Q,S){this.EJ=Q;this.mmt(0,0)};ph.prototype.FI=function(){var Q=this.EJ,S=K.pL.Q$(Q,this.YB,this.Yl,this.tf.d()/200),B=S.rect,y=S.channel,l=this.MJ,D=l.getContext("2d"),R=Math.floor(230*P._()),p=Math.floor(R*(B.O/B.r));
l.width=R;l.height=p;P.eu(l,R,p);var O=k.Q(y.length*4);k.St(O,4294967295);for(var M=0;M<3;M++)k.KF(y,O,M);
var U=K.Sj.Hg([O,B],new Nu(R/B.r,0,0,p/B.O,0,0)),m=U.rect,Y=new ImageData(new Uint8ClampedArray(U.buffer.buffer),m.r,m.O);
D.putImageData(Y,0,0)};function LU(){Nv.call(this,[12,76,1],"createshape");this.VI=null;var Q=P.P("div","form");
Q.setAttribute("style","width:20em");this.body.appendChild(Q);this.QX=new NP([12,41],0,0,null,0,!1,!0);
Q.appendChild(this.QX.p);P.XL(Q);this.ay=new NP([12,42],0,0,null,0,!1,!0);Q.appendChild(this.ay.p);P.XL(Q);
this.ip=new mM([19,5,3]);Q.appendChild(this.ip.p);this.QX.L(100);this.ay.L(100);this.mH=new Nw("OK",!0,null,!0);
this.mH.w("click",this.SC,this);Q.appendChild(this.mH.p)}LU.prototype=new Nv;LU.prototype.SC=function(Q){this.VI.mFP(this.VI.m_z,this.QX.d(),this.ay.d(),this.ip.d());
this.close()};LU.prototype.b=function(){if(this.VI)this.YW=Nd.get([5,3])+": "+Nd.get(this.VI.mFS);Nv.prototype.b.call(this);
this.QX.b();this.ay.b();this.ip.b()};LU.prototype.Cp=function(Q,S){this.VI=S;this.b()};function Rj(){Nv.call(this,[11,1],"colorpicker");
this.gv=null;this.Jp=null;this.Sm=null;this.pa=!1;this.XF=!1;var Q=P.P("div","flexrow"),D,R;this.body.appendChild(Q);
this.OU=new rt(256);this.OU.w(P.E.Y,this.Wt,this);Q.appendChild(this.OU.p);var S=P.P("div","form");S.setAttribute("style","width:14.5em; margin-left:1em;");
Q.appendChild(S);this.mro=P.P("div","full");S.appendChild(this.mro);this.mRi=P.P("div","full");S.appendChild(this.mRi);
var B=P.P("div","flexrow");S.appendChild(B);var y=P.P("div"),l=P.P("div");B.appendChild(y);B.appendChild(l);
D=["R","G","B"];R=y;this.ir=[];for(var p=0;p<3;p++){var O=new NP(D[p]+":",0,255,null,0,!1,!0);this.ir.push(O);
O.w(P.E.Y,this.mFf,this);R.appendChild(O.p)}D=["H","S","B"];R=l;this.iy=[];for(var p=0;p<3;p++){var M=0,U=360,m="\xB0";
if(p!=0){U=100;m="%"}var O=new NP(D[p]+":",M,U,m,0,!1,!0);this.iy.push(O);O.w(P.E.Y,this.mF$,this);R.appendChild(O.p)}this.ay=new Ry("Hex",null,6);
this.ay.w(P.E.Y,this.WX,this);S.appendChild(this.ay.p);this.Xh=P.P("input","fitem");this.Xh.setAttribute("type","color");
this.Xh.setAttribute("style","width:50px");this.Xh.addEventListener("change",this.WX.bind(this),!1);
S.appendChild(this.Xh);this.gE=new QT(9);this.gE.w(P.E.Y,this.WX,this);S.appendChild(this.gE.p);this.mH=new Nw("OK",!0,null,!0);
this.mH.w("click",this.SC,this);S.appendChild(this.mH.p);this.w("closebtn",this.Bk,this);this.Yo=!1}Rj.prototype=new Nv;
Rj.prototype.Bj=function(){return!0};Rj.prototype.Kl=function(Q,S){this.OU.Kl(Math.min(256,Q-250),S)};
Rj.prototype.Wt=function(Q){this.Jp=this.OU.d();this.update()};Rj.prototype.OQ=function(Q,S,B,y,l){this.Yo=!0;
this.mmK(Q,l)};Rj.prototype.Uy=function(Q,S,B,y,l){if(!this.Yo)return;this.mmK(Q,l)};Rj.prototype.sn=function(Q,S,B,y,l){this.Yo=!1};
Rj.prototype.mmK=function(Q,S){var B=K._q.I_(Q,S,1),y=B&255,l=B>>8&255,D=B>>16&255;this.Jp={t:D/255,e:l/255,R:y/255};
this.update()};Rj.prototype.mFf=function(Q){var S=this.ir,B=this.hO(parseInt(S[0].d())),y=this.hO(parseInt(S[1].d())),l=this.hO(parseInt(S[2].d()));
this.Jp={t:B/255,e:y/255,R:l/255};this.update()};Rj.prototype.mF$=function(Q){var S=this.iy,B=this._h(parseInt(S[0].d())/360),y=this._h(parseInt(S[1].d())/100),l=this._h(parseInt(S[2].d())/100);
this.Jp=k.OS(B,y,l);this.update()};Rj.prototype.WX=function(Q){var S;if(Q.currentTarget==this.gE)S=this.gE.d();
else{S=Q.currentTarget==this.ay?this.ay.d():this.Xh.value;if(S.charAt(0)=="#")S=S.slice(1);if(S.length==3)S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2];
S=k.mRW(S)}this.Jp={t:(S>>16&255)/255,e:(S>>8&255)/255,R:(S&255)/255};this.update()};Rj.prototype.jh=function(Q){var S=Q.t,B=Q.e,y=Q.R;
return Math.round(S*255)<<16|Math.round(B*255)<<8|Math.round(y*255)};Rj.prototype.SC=function(Q){this.mpd();
var S=this.jh(this.Jp);this.Sm(S);this.close();this.XF=!1;this.Jp=null};Rj.prototype.Bk=function(Q){this.mpd();
if(this.pa)this.Sm(this.jh(this.gv));this.XF=!1;this.Jp=null};Rj.prototype.mpd=function(Q){var S=new b(P.E.T,!0);
S.data={H:P.l.mc_};this.B(S)};Rj.prototype.on=function(Q,S){if(S!=rS.li)return;var B=Q.Tq;this.gE.L(B);
if(this.Jp!=null){this.Jp={t:(B>>16&255)/255,e:(B>>8&255)/255,R:(B>>0&255)/255};this.update()}};Rj.prototype.Cp=function(Q,S){var B=S.mn,y={t:(B>>16&255)/255,e:(B>>8&255)/255,R:(B>>0&255)/255};
if(this.Jp==null){var l=new b(P.E.T,!0);l.data={H:P.l.qL,YT:"crosshair",push:!0};this.B(l);this.Yo=!1;
this.Sm=S.bU;this.pa=!1;this.XF=S.lO;this.gv=JSON.parse(JSON.stringify(y));this.mRi.setAttribute("style","height:3em;background-color:#"+k.eb(B)+";")}this.Jp=y;
this.update()};Rj.prototype.update=function(){var Q=this.Jp,S=this.jh(Q),B=this.ir;B[0].L(Math.round(Q.t*255));
B[1].L(Math.round(Q.e*255));B[2].L(Math.round(Q.R*255));this.ay.L(k.eb(S));this.Xh.value="#"+k.eb(S);
this.mro.setAttribute("style","height:3em;background-color:#"+k.eb(S)+";");var y=k.pU(Q.t,Q.e,Q.R);B=this.iy;
B[0].L(Math.round(y.Kj*360));B[1].L(Math.round(y.YZ*100));B[2].L(Math.round(y.Kh*100));this.OU.L(Q);
if(this.XF){this.Sm(this.jh(this.Jp));this.pa=!0}};Rj.prototype.hO=function(Q){return Math.max(0,Math.min(255,Q))};
Rj.prototype._h=function(Q){return Math.max(0,Math.min(1,Q))};function QI(){Nv.call(this,[11,2],"contoureditor");
this.mQF=null;this._Y=null;this.response=null;this.Oc=P.P("div","cell");this.body.appendChild(this.Oc);
this.MP=P.P("div","cell padded");this.body.appendChild(this.MP);var Q=P.P("div","bordered padded vmargin");
this.Oc.appendChild(Q);this.Ja=new QG;this.Ja.w(P.E.Y,this.Wn,this);Q.appendChild(this.Ja.p);this.mH=new Nw("OK",!0,null,!0);
this.mH.w("click",this.close,this);this.MP.appendChild(this.mH.p);this.coords=P.P("div","");this.coords.setAttribute("style","width:250px");
this.Oc.appendChild(this.coords);this.O$=new Ry("X (in)","%",4);this.Oj=new Ry("Y (out)","%",4);this.gO=new mM([19,3,0]);
this.O$.w(P.E.Y,this.WO,this);this.Oj.w(P.E.Y,this.WO,this);this.gO.w(P.E.Y,this.WO,this);this.coords.appendChild(this.O$.p);
this.coords.appendChild(this.gO.p);this.coords.appendChild(this.Oj.p);this.w("closebtn",this.hp,this)}QI.prototype=new Nv;
QI.prototype.b=function(){Nv.prototype.b.call(this);this.gO.b()};QI.prototype.Wn=function(Q){this._Y.Crv.v=this.Ja.d();
this.response(this._Y);this.WD()};QI.prototype.hp=function(Q){this.response(this.mQF)};QI.prototype.Cp=function(Q,S){this.mQF=JSON.parse(JSON.stringify(S.S));
this._Y=S.S;this.response=S.response;this.Ja.L(this._Y.Crv.v);this.WD()};QI.prototype.WD=function(){var Q=this.Ja.mpj();
this.coords.setAttribute("class",Q==-1?"disabled":"");if(Q==-1)return;var S=this._Y.Crv.v[Q].v;this.O$.L(Math.round(S.Hrzn.v*(100/255)));
this.Oj.L(Math.round(S.Vrtc.v*(100/255)));this.gO.L(S.Cnty.v)};QI.prototype.WO=function(Q){var S=this.Ja.mpj(),B=this._Y.Crv.v[S];
B.v.Hrzn.v=parseFloat(this.O$.d())*(255/100);B.v.Vrtc.v=parseFloat(this.Oj.d())*(255/100);B.v.Cnty.v=this.gO.d();
this._Y.Crv.v.sort(function(y,l){return y.v.Hrzn.v-l.v.Hrzn.v});this.Ja.L(this._Y.Crv.v,this._Y.Crv.v.indexOf(B));
this.WD();this.response(this._Y)};function QK(){Nv.call(this,[11,3],"csize");this.ih=0;this.pG=P.P("div","form");
this.pG.setAttribute("style","width:22em");this.body.appendChild(this.pG);this.pY=new Mz(!0,!0,!0,!0);
this.pY.mVW(!1);this.pG.appendChild(this.pY.p);this.iw=new R$("Align with",[[8,7],[12,6]]);this.iw.w(P.E.Y,this.mFk,this);
this.gk=new M$([12,23,2],41);this.pG.appendChild(this.gk.p);this.gk.L(4);this.iE=new rZ(!1);this.iE.mVK(new v(0,0));
this.b_=new Nw("OK",!0,null,!0);this.b_.w("click",this.SC,this);this.body.appendChild(this.b_.p)}QK.prototype=new Nv;
QK.prototype.UN=function(Q,S){return Q!=null};QK.prototype.TA=function(){return!0};QK.prototype.mFk=function(){var Q=[this.gk.p,this.iE.p];
this.pG.removeChild(Q[this.ih]);this.ih=this.iw.d();this.pG.appendChild(Q[this.ih])};QK.prototype.b=function(){Nv.prototype.b.call(this);
this.pY.b();this.iw.b();this.gk.b();this.iE.b()};QK.prototype.SC=function(Q){var S=this.pY.d(),B=S.x,y=S.y,l=new b(P.E.RK,!0);
l.data=K.SK.cz(B,y,this.gk.d());this.close();this.B(l)};QK.prototype.Cp=function(Q,S){this.pY.L(new v(Q.r,Q.O),Q.LY)};
function MV(){Nv.call(this,[11,4],"duplinto");this.mc=null;this.aN=null;var Q=P.P("div","form");Q.setAttribute("style","max-width:26em");
this.body.appendChild(Q);this.pv=new ND([12,43],["abc","def"]);this.pv.w(P.E.Y,this.mrR,this);Q.appendChild(this.pv.p);
P.XL(Q);this.Gk=new Ry([12,48],null,14);Q.appendChild(this.Gk.p);this.mH=new Nw("OK",!0,null,!0);this.mH.w("click",this.SC,this);
Q.appendChild(this.mH.p)}MV.prototype=new Nv;MV.prototype.TA=function(){return!0};MV.prototype.b=function(){Nv.prototype.b.call(this);
this.pv.b();this.Gk.b()};MV.prototype.mrR=function(Q){var S=this.pv.d();if(S==this.aN.length)this.Gk.yn();
else this.Gk.qG()};MV.prototype.Cp=function(Q,S,B){this.mc=Q;this.aN=B;this.Gk.L(Q.I.length==0?"Layer":Q.G[Q.I[0]].getName());
var y=[];for(var l=0;l<B.length;l++)y.push(B[l].name);y.push([11,7]);this.pv.fB(y);this.pv.L(B.indexOf(Q));
this.mrR(null)};MV.prototype.SC=function(Q){var S=this.pv.d();if(S==this.aN.length){var B=new mV(this.Gk.d()+".psd");
B.r=this.mc.r;B.O=this.mc.O;B.buffer=k.Q(B.r*B.O*4);var y=B.oz();y.pM("Background");B.$O([y]);var l=new b(P.E.T,!0);
l.qi=!0;l.data={H:P.l.DJ,SB:B};this.B(l)}var D=this.mc.MC(null,this.mc!=this.aN[S]),l=new b(P.E.D,!0);
l.data={H:z.mG,G:D,ZD:this.mc,xh:this.aN[S]};l.h=K.Sb;l.qi=!0;this.B(l);this.close()};function Qs(){Nv.call(this,[1,9],"eassets");
this.Kv=null;this.CB=null;var Q=P.P("div","form");Q.setAttribute("style","width:32em");this.body.appendChild(Q);
this._p=P.P("span");Q.appendChild(this._p);P.XL(Q);this.Yb=[new mM("Only layers / folders, whose name starts with \"-e-\""),new mM("Remove parts outside the canvas"),new mM("Trim transparent parts")];
for(var S=0;S<3;S++){var B=this.Yb[S];B.L(!0);B.w(P.E.Y,this.hb,this);Q.appendChild(B.p);P.XL(Q)}this.Yx=new Qi([12,14,0],["1x","2x","3x","4x"]);
this.Yx.L([!0,!1,!1,!1]);Q.appendChild(this.Yx.p);P.mdL(Q);this.ij=["PNG","JPG","SVG"];this.gx=new ND([12,50],this.ij);
this.gx.w(P.E.Y,this.mLr,this);Q.appendChild(this.gx.p);this.Lo=new Ld;Q.appendChild(this.Lo.p);this.b_=new Nw([1,9],!0,null,!0);
this.b_.w("click",this.SC,this);Q.appendChild(this.b_.p);this.w("closebtn",this.RJ,this)}Qs.prototype=new Nv;
Qs.prototype.mLr=function(Q){this.Lo.mdS(this.ij[this.gx.d()])};Qs.prototype.RJ=function(Q){this.CB=null};
Qs.prototype.b=function(){Nv.prototype.b.call(this);this.gx.b();this.Yx.b();this.b_.b();this.Lo.b()};
Qs.prototype.Cp=function(Q,S,B){this.CB=Q;this.hb()};Qs.prototype.hb=function(Q){var S=this.mLS(),B="- - - "+S.length+" exportable layers";
this._p.textContent=B;this.mLr(null)};Qs.prototype.mLS=function(){var Q=this.Yb[0].d(),S=[],B=this.CB;
for(var y=0;y<B.G.length;y++){var l=B.G[y],D=l.getName();if(!Q&&!l.So()&&!l.rect.Kq()||D.startsWith("-e"))S.push(y)}return S};
Qs.prototype.on=function(Q,S){this.Kv=Q};Qs.prototype.SC=function(Q){var S=this.CB,B=[this.ij[this.gx.d()]],y=[this.Lo.d()],l=this.Yx.d(),D={},R={},p=this.mLS(),O=[this.Yb[1].d(),this.Yb[2].d()];
for(var M=0;M<p.length;M++){var U=p[M],m=S.G[U],Y=m.getName();if(R[Y]!=null){R[Y]++;Y+=" "+R[Y]}else R[Y]=1;
var x=m.qm();m.SO(!0);for(var T=0;T<l.length;T++){if(!l[T])continue;var $=T+1,L=K.Ku.yH(S,B,$,this.Kv,U,y,O);
for(var s=0;s<B.length;s++){var j=B[s],Z=Y.slice(Y.startsWith("-e-")?3:0)+($==1?"":"-"+$+"x")+"."+j.toLowerCase();
D[Z]=new Uint8Array(L[s])}}m.SO(x)}var e=UZIP.encode(D),J=new b(P.E.T,!0);J.data={H:P.l.rx,data:e,name:"assets.zip"};
this.B(J)};function rE(){Nv.call(this,[11,5],"gradienteditor");this.gv=null;this.Jp=null;this.vB=null;
this.Sm=null;this.pa=!1;this.XF=!1;P.Te(this.body,"form");this.Da=null;this.FH=null;this.hP=-1;this.cf=-1;
this.Ee=0;this._x=this.t_.bind(this);this._P=this.OT.bind(this);this.pr=P.P("canvas","");this.oX=this.pr.getContext("2d");
this.pr.setAttribute("style","display:block");this.hY=null;P.XW(this.pr);P.jX(this.pr,this.OV.bind(this));
this.Xv=new NP([19,3,3],0,100,"%");this.Xv.w(P.E.Y,this.Gd,this);this.Xv.parent=this;this.body.appendChild(this.Xv.p);
P.XL(this.body);this.KE=new RT([12,0]);this.body.appendChild(this.KE.p);this.gH=P.P("div","bordered padded noalign");
this.body.appendChild(this.gH);this.Md=new NP([12,0],0,100,"%");this.Md.parent=this;this.Md.w(P.E.Y,this.Gd,this);
this.gH.appendChild(this.Md.p);this.KB=new NP([12,40],0,100,"%");this.KB.parent=this;this.KB.w(P.E.Y,this.Gd,this);
this.gH.appendChild(this.KB.p);this.YA=new Nw([5,4],!1,null,!0);this.YA.w("click",this.mcc,this);this.gH.appendChild(this.YA.p);
this.body.appendChild(this.pr);P.XL(this.body);this.mQt=new RT([13,0]);this.body.appendChild(this.mQt.p);
this.Gr=P.P("div","bordered padded noalign");this.body.appendChild(this.Gr);this.dN=new ND([12,44],[[12,45],[12,46],[12,47]]);
this.dN.w(P.E.Y,this.Gd,this);this.Gr.appendChild(this.dN.p);this._n=new RU(!0);this._n.parent=this;
this._n.w(P.E.Y,this.Gd,this);this.Gr.appendChild(this._n.p);this.mm=new NP([12,40],0,100,"%");this.mm.parent=this;
this.mm.w(P.E.Y,this.Gd,this);this.Gr.appendChild(this.mm.p);this.YY=new Nw([5,4],!1,null,!0);this.YY.w("click",this.mcd,this);
this.Gr.appendChild(this.YY.p);this.mH=new Nw("OK",!0,null,!0);this.mH.w("click",this.SC,this);this.body.appendChild(this.mH.p);
this.w("closebtn",this.Bk,this)}rE.prototype=new Nv;rE.prototype.Bk=function(Q){if(this.pa)this.Sm(this.gv)};
rE.prototype.b=function(){Nv.prototype.b.call(this);this.Xv.b();this.KE.b();this.mQt.b();this.YA.b();
this.YY.b();this.Md.b();this.KB.b();this.dN.b();this.mm.b()};rE.prototype.on=function(Q,S){this.vB=Q};
rE.prototype.Cp=function(Q,S){this.Jp=JSON.parse(JSON.stringify(S.Kg));this.gv=JSON.parse(JSON.stringify(S.Kg));
this.Da=this.FH=null;this.Sm=S.bU;this.pa=!1;this.XF=S.lO;this.dr();this._I()};rE.prototype.SC=function(Q){var S=this.Jp;
this.Sm(S);this.close()};rE.prototype.bC=function(Q){return Q==A.fV||Q==A.fc};rE.prototype.qh=function(Q,S,B,y){if(y.N(A.fV)||y.N(A.fc)){if(this.FH)this.mcc();
if(this.Da)this.mcd()}};rE.prototype.mcc=function(Q){var S=this.Jp.Trns.v;if(this.FH==null||S.length==2)return;
S.splice(S.indexOf(this.FH),1);this.FH=null;this.dr();this._I()};rE.prototype.mcd=function(Q){var S=this.Jp.Clrs.v;
if(this.Da==null||S.length==2)return;S.splice(S.indexOf(this.Da),1);this.Da=null;this.dr();this._I()};
rE.prototype.dr=function(){var Q=this.pr,S=this.oX,B=P._();Q.width=Math.floor(410*B);Q.height=Math.floor(90*B);
P.eu(Q,Q.width,Q.height);this.hY=new w(0,0,Math.floor(380*B),Math.floor(32*B));this.hY.x=Math.floor((this.pr.width-this.hY.r)/2);
this.hY.y=Math.floor((this.pr.height-this.hY.O)/2);var y=this.hY,l=y.r,D=y.O,R=y.x,p=y.y,O=new w(0,0,l,D),M=S.getImageData(0,0,l,D),U=new Uint8Array(M.data.buffer);
k.jk(U,l,D,8,0,0);var m=k.Q(l*D*4);k.Kg.TC(this.Jp,m,O,[1/l,0,0,1/D],l/2,D/2,!1,0,this.vB.Tq,this.vB.hB);
k.X.Rc("norm",m,y,U,y,y,1);S.clearRect(0,0,Q.width,Q.height);S.putImageData(M,R,p);var Y=this.Jp.Trns.v,x=this.Jp.Clrs.v,T=k.Kg.vj(x,this.vB.Tq,this.vB.hB),$=Math.round(6*P._()),L=Math.round(14*P._()),s=this.FH?this.FH.v:null,j=this.Da?this.Da.v:null;
for(var Z=0;Z<Y.length;Z++){var e=Y[Z].v,J=Math.round(255-255*e.Opct.v.val/100);if((e==s||Y[Z-1]&&Y[Z-1].v==s||Z==this.cf)&&Z!=0){S.fillStyle="#000000";
S.fillRect(R-3+l*(Y[Z-1].v.Lctn.v+(e.Lctn.v-Y[Z-1].v.Lctn.v)*e.Mdpn.v/100)/4096,p-6-2,6,6)}if(e==s){S.fillStyle="#ffffff";
S.fillRect(R-$+l*(e.Lctn.v/4096)-2,p-2-L-2,2*$+4,L+4)}S.fillStyle="rgb("+J+","+J+","+J+")";S.fillRect(R-$+l*(e.Lctn.v/4096),p-2-L,2*$,L)}for(var Z=0;
Z<x.length;Z++){var N=x[Z].v,E=T[Z];if((N==j||x[Z-1]&&x[Z-1].v==j||Z==this.hP)&&Z!=0){S.fillStyle="#000000";
S.fillRect(R-3+l*(x[Z-1].v.Lctn.v+(N.Lctn.v-x[Z-1].v.Lctn.v)*N.Mdpn.v/100)/4096,p+D+2,6,6)}if(N==j){S.fillStyle="#ffffff";
S.fillRect(R-$+l*(N.Lctn.v/4096)-2,p+D+2-2,2*$+4,L+4)}S.fillStyle="rgb("+Math.round(E.t)+", "+Math.round(E.e)+","+Math.round(E.R)+")";
S.fillRect(R-$+l*(N.Lctn.v/4096),p+D+2,2*$,L)}if(this.XF){this.Sm(this.Jp);this.pa=!0}};rE.prototype._I=function(){this.Xv.L(Math.round(100*this.Jp.Intr.v/4096));
var Q=this.Jp.Trns.v,S=this.Jp.Clrs.v,B=this.FH!=null,y=this.cf!=-1;this.Md.Rv(B);this.KB.Rv(B||y);this.YA.Rv(B);
if(B){this.gH.setAttribute("style","");var l=this.FH.v;this.KB.L(Math.round(100*l.Lctn.v/4096));this.Md.L(l.Opct.v.val)}if(y)this.KB.L(Q[this.cf].v.Mdpn.v);
var B=this.Da!=null,y=this.hP!=-1;this.dN.Rv(B);this._n.Rv(B);this.mm.Rv(B||y);this.YY.Rv(B);if(B){this.Gr.setAttribute("style","");
var D=this.Da.v;this.mm.L(Math.round(100*D.Lctn.v/4096));var R=D.Type.v.Clry;this.dN.L(["FrgC","BckC","UsrS"].indexOf(R));
if(R=="FrgC")this._n.TB(this.vB.Tq);if(R=="BckC")this._n.TB(this.vB.hB);if(R=="UsrS")this._n.L(D.Clr.v)}if(y)this.mm.L(S[this.hP].v.Mdpn.v)};
rE.prototype.Gd=function(Q){var S=Math.round(4096*this.Xv.d()/100);this.Jp.Intr.v=S;var B=this.Jp.Trns.v,y=this.Jp.Clrs.v;
if(this.FH!=null){var l=this.FH.v;l.Lctn.v=Math.round(4096*(this.KB.d()/100));l.Opct.v.val=this.Md.d()}if(this.Da!=null){var D=this.Da.v;
D.Lctn.v=Math.round(4096*(this.mm.d()/100));if(Q.target==this._n)this.dN.L(2);var R=this.dN.d();D.Type.v.Clry=["FrgC","BckC","UsrS"][R];
if(R==2)D.Clr={t:"Objc",v:this._n.d()};else if(D.Clr)delete D.Clr}if(this.cf!=-1)B[this.cf].v.Mdpn.v=this.KB.d();
if(this.hP!=-1)y[this.hP].v.Mdpn.v=this.mm.d();this.dr()};rE.prototype.OV=function(Q){var S=P.Jo(Q,this.pr),B=(S.x*P._()-this.hY.x)/this.hY.r,y=(S.y*P._()-this.hY.y)/this.hY.O,l=this.Jp.Trns.v,D=this.Jp.Clrs.v,R=null,p=null,O=-1,M=-1;
if(y<1)for(var U=0;U<l.length;U++){var m=l[U].v;if(Math.abs(m.Lctn.v/4096-B)<.02)R=l[U];if(U>0)if(Math.abs((l[U-1].v.Lctn.v+(m.Lctn.v-l[U-1].v.Lctn.v)*m.Mdpn.v/100)/4096-B)<.01)O=U}if(y>0)for(var U=0;
U<D.length;U++){var Y=D[U].v;if(Math.abs(Y.Lctn.v/4096-B)<.02)p=D[U];if(U>0)if(Math.abs((D[U-1].v.Lctn.v+(Y.Lctn.v-D[U-1].v.Lctn.v)*Y.Mdpn.v/100)/4096-B)<.01)M=U}if(p==null&&R==null&&O==-1&&M==-1){if(y<0){var m={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
m.v.Lctn.v=Math.round(B*4096);l.push(m);l.sort(this.jC);R=m}if(y>1){var D=this.Jp.Clrs.v,x=k.Kg.vj(D,this.vB.Tq,this.vB.hB),T=k.Kg.mo(this.Jp,x,B),Y={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:k.Kg.Od({t:T&255,e:T>>8&255,R:T>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
Y.v.Lctn.v=Math.round(B*4096);D.push(Y);D.sort(this.jC);p=Y}}if(p!=null)M=-1;if(R!=null)O=-1;if(p!=null||R!=null||O>-1||M>-1){this.FH=R;
this.Da=p;this.cf=O;this.hP=M;this._I();this.dr();P.rm(window,this._x);P.NP(window,this._P)}};rE.prototype.t_=function(Q){var S=P.Jo(Q,this.pr),B=P._()*(S.x-this.hY.x)/this.hY.r,y=P._()*(S.y-this.hY.y)/this.hY.O;
B=Math.max(0,Math.min(1,B));var l=this.Jp.Trns.v,D=this.Jp.Clrs.v;if(this.FH!=null){var R=this.FH.v;
R.Lctn.v=Math.round(4096*B);var p=l.indexOf(this.FH);if(p!=-1&&y<-1&&l.length>2)l.splice(p,1);if(p==-1&&y>-1)l.push(this.FH);
l.sort(this.jC)}if(this.Da!=null){var O=this.Da.v;O.Lctn.v=Math.round(4096*B);var M=D.indexOf(this.Da);
if(M!=-1&&y>1.5&&D.length>2)D.splice(M,1);if(M==-1&&y<1.5)D.push(this.Da);D.sort(this.jC)}if(this.cf>-1){var R=l[this.cf].v;
R.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(B*4096-l[this.cf-1].v.Lctn.v)/(R.Lctn.v-l[this.cf-1].v.Lctn.v))))}if(this.hP>-1){var O=D[this.hP].v;
O.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(B*4096-D[this.hP-1].v.Lctn.v)/(O.Lctn.v-D[this.hP-1].v.Lctn.v))))}if(this.FH!=null||this.Da!=null||this.cf>-1||this.hP>-1){this._I();
this.dr()}};rE.prototype.OT=function(Q){P.j_(window,this._x);P.oe(window,this._P);if(Date.now()-this.Ee<300){if(this.hP!=-1||this.cf!=-1){var S=(this.hP!=-1?this.Jp.Clrs.v[this.hP]:this.Jp.Trns.v[this.cf]).v;
S.Mdpn.v=50;this._I();this.dr()}else if(this.Da!=null)this._n.meV()}this.Ee=Date.now()};rE.prototype.jC=function(Q,S){return Q.v.Lctn.v-S.v.Lctn.v};
function Mh(){Nv.call(this,[11,10],"isize");this.pG=P.P("div","form");this.pG.setAttribute("style","width:20em");
this.body.appendChild(this.pG);this.pY=new Mz(!0,!0);this.pG.appendChild(this.pY.p);this.PU=new ND([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.PU.L(1);this.pG.appendChild(this.PU.p);this.b_=new Nw("OK",!0,null,!0);this.b_.w("click",this.SC,this);
this.body.appendChild(this.b_.p)}Mh.prototype=new Nv;Mh.prototype.UN=function(Q,S){return Q!=null};Mh.prototype.TA=function(){return!0};
Mh.prototype.b=function(){Nv.prototype.b.call(this);this.PU.b();this.pY.b()};Mh.prototype.SC=function(Q){this.close();
var S=this.pY.d(),B=S.x,y=S.y,l=new b(P.E.RK,!0);l.data=K.SK.Lu(B,y,this.pY.mhz(),this.PU.d());this.B(l)};
Mh.prototype.Cp=function(Q,S){this.pY.L(new v(Q.r,Q.O),Q.LY)};function Rw(Q,S,B){NJ.call(this);this.p=P.P("div","");
this.oM=Q;this.Wh=null;this.Wz=S==null?!1:S;this.YK=null;this.X$=B;this.ib=[];this.pw=[];this.Wm=[];
this.KW=[];this.WF=0;this.Wh=this.m_L(Rw.KW[Q]);this.SZ()}Rw.prototype=new NJ;Rw.prototype.mFx=function(){for(var Q=0;
Q<this.KW.length;Q++){P.Dt(this.KW[Q],"selected");if(this.Wm[Q]instanceof mM)this.Wm[Q].L(!1)}};Rw.prototype.mFI=function(Q){var S=this.mFY.bind(this);
for(var B=0;B<this.Wm.length;B++){var y=P.P("div","listitem");this.KW.push(y);if(B>0)y.textContent="\u2003";
y.appendChild(this.Wm[B].p);if(rx.mzG.indexOf(this.oM)!=-1){var l=new Nw("+");l.Cx();l.p.style.float="right";
y.appendChild(l.p);var D=new Nw("\u2B0D");D.Cx();D.p.style.float="right";D.p.style["margin-right"]="2px";
y.appendChild(D.p)}y.addEventListener("click",S,!1);Q.appendChild(y)}};Rw.GJ=function(Q,S){var B=S.getBoundingClientRect();
return(Q.clientY-B.top)/B.height};Rw.prototype.mFY=function(Q){var S=Q.target.tagName.toLowerCase();
if(S=="input"){return}if(S=="button"){var B=new b(P.E.D,!0),y=Q.target.textContent=="+",l=y?0:Rw.GJ(Q,Q.target)<.5?-1:1;
if(y)B.data={H:"st_dupsingle",$:this.parent.data.$,sA:this.X$};else B.data={H:"st_movsingle",$:this.parent.data.$,sA:this.X$,m_y:l};
B.h=K.Qn;B.qi=!0;this.B(B);B=new b("redrawall",!0);B.data={m_y:l};this.B(B);return}Q.preventDefault();
Q.stopPropagation();this.WB();this.WF=this.KW.indexOf(Q.currentTarget);this.B(new b("showme"))};Rw.prototype.WB=function(){if(this.Wh.enab&&this.Wh.enab.d()==!1)this.Fo({dP:"enab",z:!0})};
Rw.prototype.m_R=function(){var Q=this.KW[this.WF];if(Q)P.Te(Q,"selected");return this.pw[this.WF]};
Rw.prototype.m_L=function(Q){var S={};for(var B=0;B<Q.length;B++){var y=Q[B],l=null;if(y=="----")l={p:P.P("hr")};
if(y=="\n")l={p:P.P("br")};if(y=="blOptions")l=new RT([14,10]);if(y=="brst")l=new MultiCheck([12,72],["R","G","B"]);
if(y=="knko")l=new ND("Knockout",[[13,1,0],"Shallow","Deep"]);if(y=="enab")l=new mM(rx.names[rx.order.indexOf(this.oM)]);
if(y=="lrMd"||y=="Md")l=new ND([12,19,0],No.qu,!1,No.KM);if(y=="Opct")l=new rO([12,0],0,100,"%");if(y=="iOpa")l=new rO([12,26],0,100,"%");
if(y=="blIf")l=new LR;if(y=="ShdN")l=new rO([12,68],0,100,"%");if(y=="lagl"||y=="Angl")l=new Ms([12,15]);
if(y=="uglg")l=new mM([12,27]);if(y=="Dstn")l=new rO([12,28],0,200,"px");if(y=="Ckmt")l=new rO([12,29],0,100,"%");
if(y=="blur")l=new rO([12,14,0],0,200,"px");if(y=="TrnS"||y=="MpgS")l=new Qe([12,21]);if(y=="Nose")l=new rO([12,30],0,100,"%");
if(y=="layerConceals")l=new mM([12,31]);if(y=="AntA"||y=="antialiasGloss")l=new mM("Anti-alias");if(y=="GlwT")l=new ND([12,32],rx.gh.names);
if(y=="glwS")l=new ND([12,70],rx.gh.mfg);if(y=="Inpr")l=new rO([12,12],1,100,"%");if(y=="bvlS")l=new ND([12,22],rx.DV.style);
if(y=="bvlT")l=new ND([12,32],rx.DV.mfS);if(y=="bvlD")l=new ND(null,rx.DV.dir);if(y=="srgR")l=new rO([12,34],0,1e3,"%");
if(y=="Sftn")l=new rO([12,35],0,20,"px");if(y=="Lald")l=S.lagl;if(y=="hglM"||y=="sdwM")l=new ND([12,36],No.qu,!1,No.KM);
if(y=="hglC"||y=="sdwC")l=new RU;if(y=="hglO"||y=="sdwO")l=new rO([12,0],0,100,"%");if(y=="Invr"||y=="InvT")l=new mM([4,11]);
if(y=="Sz")l=new rO([12,14,0],1,200,"px");if(y=="Styl")l=new ND([12,40],rx.stroke.names);if(y=="PntT")l=new ND([12,66],rx.stroke.mfh);
if(y=="Clr")l=new RU(!0);if(y=="Grad"){l=new LZ(!0,[12,37],!0);l.L(JSON.parse(rx.ls.mpX).v)}if(y=="Rvrs")l=new mM([12,23,0]);
if(y=="Type")l=new ND([12,22],rx.Kg.names.slice(0,this.oM=="FrFX"?6:5));if(y=="Ptrn")l=new MX([12,62]);
if(y=="Scl")l=new rO([12,38],10,500,"%",0,!0);if(y=="Algn")l=new mM([12,39]);if(y=="Ofst")l=new rZ(!0);
if(y=="phase")l=new rZ(!1);if(y=="useShape")l=new mM([12,21]);if(y=="useTexture")l=new mM([12,67]);if(y=="textureDepth")l=new rO([12,34],-300,300,"%");
var D=y=="----"||y=="\n"?y+B:y;if(l!=null)S[D]=l}return S};Rw.prototype.m_V=function(Q){var S=this.pw[this.WF];
for(var B=0;B<Q.length;B++){var y=this.Wh[Q[B]];if(y&&S.contains(y.p))S.removeChild(y.p)}};Rw.prototype.m_h=function(Q){var S=this.pw[this.WF];
for(var B=0;B<Q.length;B++){var y=this.Wh[Q[B]];if(y&&!S.contains(y.p))S.appendChild(y.p)}};Rw.prototype.on=function(Q,S){if(this.Wh==null)return;
var B=S==rS.E_;if(this.Wh.Grad){this.Wh.Grad.WR(Q.Tq,Q.hB);if(B||S==rS.li||S==rS.Jw)this.Wh.Grad.XO(Q.YR)}if(this.Wh.Ptrn){if(B||S==rS.tJ)this.Wh.Ptrn.XO(Q.tv)}if(this.Wh.TrnS){if(B||S==rS.AZ)this.Wh.TrnS.XO(Q.ix)}if(this.Wh.MpgS){if(B||S==rS.AZ)this.Wh.MpgS.XO(Q.ix)}};
Rw.prototype.b=function(){for(var Q=0;Q<this.ib.length;Q++)this.ib[Q].b();for(var S in this.Wh)if(this.Wh[S]instanceof NJ)this.Wh[S].b()};
Rw.prototype.SZ=function(){for(var Q in this.Wh){var S=this.Wh[Q];S.parent=this;if(S instanceof NJ)S.w(P.E.Y,this.m_v,this);
if(this.pw.length==0||Q=="useShape"||Q=="useTexture"){var B=new RT(S.mqm()),y=P.P("div","bordered padded");
if(this.Wz==!1){y.appendChild(B.p);y.appendChild(P.P("hr",""))}this.ib.push(B);this.pw.push(y);this.Wm.push(S)}else this.pw[this.pw.length-1].appendChild(S.p)}};
Rw.prototype.update=function(Q,S){if(this.Wh==null)return;if(this.Wz)this.YK=JSON.parse(JSON.stringify(S));
for(var B in S){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(B)!=-1)this.Wh[B].L(S[B].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(B)!=-1){this.Wh[B].L(S[B].v,Q)}if(["Md","hglM","sdwM"].indexOf(B)!=-1)this.Wh[B].L(No.oM.indexOf(S[B].v.BlnM));
if(B=="lrMd"){var y=(S.So?[[15,10,27]]:[]).concat(No.qu),l=(S.So?[1]:[]).concat(No.KM);this.Wh[B].fB(y,l);
this.Wh[B].L(S[B].v)}if(B=="lagl"){var D=S.uglg&&S.uglg.v?Q.qQ():S.lagl.v.val;this.Wh[B].L(D)}if(B=="Lald"){var D=S.uglg&&S.uglg.v?Q.My():S.Lald.v.val;
this.Wh[B].L(null,D)}if(B=="Type")this.Wh[B].L(rx.Kg.types.indexOf(S.Type.v.GrdT));if(B=="Styl")this.Wh[B].L(rx.stroke.types.indexOf(S.Styl.v.FStl));
if(B=="PntT"){var R=rx.stroke.hN.indexOf(S.PntT.v.FrFl);this.Wh[B].L(R);if(!this.Wz){this.m_V(rx.ti.concat(rx.nj.concat(rx.sG)));
this.m_h([rx.ti,rx.nj,rx.sG][R])}}if(B=="GlwT")this.Wh[B].L(rx.gh.types.indexOf(S.GlwT.v.BETE));if(B=="glwS")this.Wh[B].L(rx.gh.mR$.indexOf(S.glwS.v.IGSr));
if(B=="bvlS")this.Wh[B].L(rx.DV.types.indexOf(S.bvlS.v.BESl));if(B=="bvlT")this.Wh[B].L(rx.DV.mGL.indexOf(S.bvlT.v.bvlT));
if(B=="bvlD")this.Wh[B].L(["In","Out"].indexOf(S.bvlD.v.BESs))}};Rw.prototype.m_v=function(Q){for(var S in this.Wh){if(this.Wh[S]!=Q.target)continue;
var B=null,y=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(S)!=-1)B={type:"#Prc",val:Q.target.d()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(S)!=-1)B={type:"#Pxl",val:Q.target.d()};if(["Angl","lagl"].indexOf(S)!=-1)B={type:"#Ang",val:Q.target.d().Ak};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(S)!=-1)B=Q.target.d();
if(["Md","hglM","sdwM"].indexOf(S)!=-1)B={BlnM:No.oM[Q.target.d()]};if(S=="uglg"){B=Q.target.d();y=!0}if(S=="PntT"){B={FrFl:rx.stroke.hN[Q.target.d()]};
y=!0}if(S=="Lald")B={type:"#Ang",val:Q.target.d().alt};if(S=="Type")B={GrdT:rx.Kg.types[Q.target.d()]};
if(S=="Styl")B={FStl:rx.stroke.types[Q.target.d()]};if(S=="GlwT")B={BETE:rx.gh.types[Q.target.d()]};
if(S=="glwS")B={IGSr:rx.gh.mR$[Q.target.d()]};if(S=="bvlS")B={BESl:rx.DV.types[Q.target.d()]};if(S=="bvlT")B={bvlT:rx.DV.mGL[Q.target.d()]};
if(S=="bvlD")B={BESs:["In","Out"][Q.target.d()]};this.Fo({dP:S,z:B});if(y){if(this.Wz)this.update(null,this.YK);
else{var l=this.parent,D=l.SB,R=this.X$,p=D.G[l.data.$].add.lmfx[rx.or[R[0]]].v[R[1]].v;this.update(D,p)}}}};
Rw.prototype.Fo=function(Q){if(this.Wz){this.YK[Q.dP].v=Q.z;this.B(new b(P.E.Y))}else{Q.H="changeprop";
Q.$=this.parent.data.$;Q.d_=this.X$;var S=new b(P.E.D,!0);S.data=Q;S.h=K.Qn;S.qi=!0;this.B(S);this.B(new b("afterchange",!0))}};
Rw.prototype.d=function(){return JSON.parse(JSON.stringify(this.YK))};Rw.KW={bops:"blOptions lrMd Opct iOpa ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(rx.ti),GrFl:["enab","Md","Opct"].concat(rx.nj),patternFill:["enab","Md","Opct"].concat(rx.sG),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(rx.ti.concat(rx.nj.concat(rx.sG)))};
function mL(){Nv.call(this,[11,6],"layerstyle");this.mGQ=-1;this.data={};this.SB=null;this.Kv=null;this.cw=[];
this.Xl=[];P.Te(this.body,"flexrow");this.Oc=P.P("div","bordered");this.Oc.setAttribute("style","min-width:13em;");
this.body.appendChild(this.Oc);this.ov=P.P("div","");this.ov.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.ov);this.MP=P.P("div","form");this.MP.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.MP);this.mH=new Nw("OK",!0,null,!0);this.mH.w("click",this.SC,this);this.MP.appendChild(this.mH.p);
this.iY=new Nw([12,87],!0,null,!0);this.iY.w("click",this.m_n,this);this.MP.appendChild(this.iY.p);this.pO=new pU;
this.pO.parent=this;this.pO.w(P.E.Y,this.m_f,this);this.MP.appendChild(this.pO.p);this.w("closebtn",this.Bk,this);
this.w("redrawall",this.mdN,this)}mL.prototype=new Nv;mL.prototype.TA=function(){return!0};mL.prototype.m_f=function(Q){var S=this.pO.d();
this.Fo({H:"setstl",z:S.rG});this.mdN(null)};mL.prototype.m_n=function(Q){var S=this.SB,B=this.data.$;
if(B==null)B=S.I[0];var y=this.SB.G[B],l=Nq.mgL(y),D=new b(P.E.T,!0);D.data={H:P.l.Kk,DS:"add",yQ:rS.A$,cU:[JSON.parse(JSON.stringify(l))]};
this.B(D)};mL.prototype.m_D=function(Q){this.data.index=Q.currentTarget.X$;this.Wj(Q.currentTarget.X$)};
mL.prototype.mdN=function(Q){this.Cp(this.SB,this.data)};mL.prototype.Wj=function(Q,S){P.EW(this.ov);
for(var B=0;B<this.cw.length;B++)this.cw[B].mFx();var y=Q==0?this.cw[0]:this.Xl[Q[0]][Q[1]];this.ov.appendChild(y.m_R());
if(S)y.WB();var l=this.SB;if(l){var D=l.G[this.data.$];this.cw[0].update(l,mw.OL.ta(l,D));var R=D.add.lmfx;
if(R==null)return;for(var B=0;B<rx.order.length;B++){var p=R[rx.or[B]].v;for(var O=0;O<p.length;O++)this.Xl[B][O].update(l,p[O].v)}}if(S)y.WB()};
mL.prototype.b=function(){Nv.prototype.b.call(this);this.iY.b();this.pO.b();for(var Q=0;Q<this.cw.length;
Q++)this.cw[Q].b()};mL.prototype.Cp=function(Q,S){var B=S.$==null;this.data.$=S.$;this.data.index=S.index;
S=this.data;this.SB=Q;if(B)S.$=Q.I.length==0?Q.G.length-1:Q.I[0];P.EW(this.Oc);var y=Q.G[S.$].add.lmfx;
this.WT();this.cw=[new Rw("bops",!1,0)];this.Xl=[];for(var l=0;l<rx.order.length;l++){this.Xl.push([]);
var D=y==null?[]:y[rx.or[l]].v;for(var R=0;R<D.length;R++){var p=new Rw(rx.order[l],!1,[l,R]);this.cw.push(p);
this.Xl[l].push(p)}if(D.length==0){var p=new Rw(rx.order[l],!1,[l,0]);this.cw.push(p);this.Xl[l].push(p)}}this.b();
this.meT(this.Kv,rS.E_);for(var l=0;l<this.cw.length;l++){this.cw[l].parent=this;this.cw[l].mFI(this.Oc);
this.cw[l].w("showme",this.m_D,this)}if(S.index==null||S.index==0||!B&&y[rx.or[S.index[0]]].v.length==0){this.Wj(0)}else this.Wj(S.index,B);
this.w("afterchange",this.WT,this)};mL.prototype.WT=function(Q){var S=this.SB,B=this.data.$;if(B==null)B=S.I[0];
var y=this.SB.G[B],l=Nq.mgL(y);this.pO.L(l,S.add.Patt?S.add.Patt:[],S.qQ(),S.My())};mL.prototype.on=function(Q,S){this.Kv=Q;
this.meT(Q,S);if(S==rS.A$||S==rS.E_){this.pO.XO([Q.Zn,Q.tv])}if(S==rS.tg){}};mL.prototype.meT=function(Q,S){for(var B=0;
B<this.cw.length;B++)this.cw[B].on(Q,S)};mL.prototype.Bk=function(Q){this.Fo({H:"cancel"})};mL.prototype.SC=function(Q){this.Fo({H:"confirm"});
this.close()};mL.prototype.Fo=function(Q){Q.$=this.data.$;var S=new b(P.E.D,!0);S.data=Q;S.h=K.Qn;S.qi=!0;
this.B(S);this.WT()};mL.meK=function(Q){var S=[{name:[14,10],Uw:!0}];for(var B=0;B<rx.names.length;B++)S.push({name:rx.names[B]});
if(Q){S[S.length-1].Uw=!0;S.push({name:"Styles To Separate Layers",o:function(y){return{o:y!=null&&y.I.length!=0&&y.G[y.I[0]].add.lmfx!=null}}})}return S};
mL.myz=function(Q){var S=[{f:P.E.T,U:{H:P.l.ND,yc:"layerstyle"}}];for(var B=0;B<rx.names.length;B++)S.push({f:P.E.T,U:{H:P.l.ND,yc:"layerstyle",index:[B,0]}});
if(Q){var y={classID:"Mk",null:mg.KG("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
S.push({f:P.E.RK,U:{QF:"make",$o:y}})}return S};mL.myL=function(Q){var S=[];if(Q)S.push({name:[6,48,0,0],_A:!0},{name:[6,48,0,1],_A:!0},{name:[6,48,0,2],_A:!0,Uw:!0});
for(var B in Nf.names)S.push({name:Nf.names[B],Uw:Nf.jj.indexOf(B)!=-1,_A:H[B]!=null});return S};mL.mVu=function(Q){var S=[];
if(Q)for(var B=0;B<3;B++)S.push({f:P.E.RK,U:K.sE.bH(B)});for(var y in Nf.names){var l=m_.yh(y);for(var D in Nf.XS)if(Nf.XS[D]==y)l.classID=D;
var R={QF:"make",$o:{classID:"Mk",null:mg.KG("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:l}}}}};
S.push({f:P.E.RK,U:R})}return S};function mu(){Nv.call(this,"Merge Channels","mergechannels");this.Xk=null;
var Q=P.P("div","form");this.body.appendChild(Q);this.Sr=[];for(var S=0;S<3;S++){var B=new ND(Nf.Xb[S],[]);
this.Sr.push(B);Q.appendChild(B.p);P.XL(Q)}this.mH=new Nw("OK",!0,null,!0);this.mH.w("click",this.SC,this);
Q.appendChild(this.mH.p)}mu.prototype=new Nv;mu.prototype.b=function(){Nv.prototype.b.call(this);for(var Q=0;
Q<3;Q++)this.Sr[Q].b()};mu.prototype.Cp=function(Q,S,B,y){this.Xk=B;var l=[];for(var D=0;D<B.length;
D++)l.push(B[D].name);for(var D=0;D<3;D++){var R=this.Sr[D];R.fB(l);R.L(Math.min(D,B.length-1))}};mu.prototype.SC=function(Q){var S=this.Xk,B=S[0],y=new b(P.E.RK,!0);
y.data=mV.VA(B.r,B.O,B.LY,"Merged Document","Wht");this.B(y);var l=[];for(var D=0;D<3;D++)l.push(S[this.Sr[D].d()].qB());
var B=S[S.length-1],R=B.G[0],p=R.buffer;for(var D=0;D<p.length;D+=4){p[D]=l[0][D];p[D+1]=l[1][D];p[D+2]=l[2][D]}R.s();
B.s();this.close()};function LM(){Nv.call(this,[1,10],"script");var Q=P.P("div","form");this.body.appendChild(Q);
var S=new Nw("JS Reference",!1,null,!0);S.w("click",this.mGM,this);Q.appendChild(S.p);Q.appendChild(new RT("Demos:").p);
this.mLz=[];var B=LM.Wi;for(var y=0;y<B.length;y++){var l=new Nw(B[y].Cm,!1,null,!0);this.mLz.push(l);
Q.appendChild(l.p);l.w("click",this.mGR,this)}this.Dl=P.P("textarea");this.Dl.setAttribute("rows",16);
this.Dl.setAttribute("cols",70);this.Dl.setAttribute("style","display:block;tab-size:4; font-family:monospace;");
Q.appendChild(this.Dl);this.mLG=new Nw("Run",!0,null,!0);this.mLG.w("click",this.SC,this);Q.appendChild(this.mLG.p)}LM.prototype=new Nv;
LM.prototype.Cp=function(Q,S,B){this.Dl.value=LM.Wi[0].jG};LM.prototype.mGM=function(Q){var S=new b(P.E.T,!0);
S.data={H:P.l.FR,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.B(S)};LM.prototype.SC=function(Q){var S=new b(P.E.T,!0);S.data={H:P.l.Dw,aR:this.Dl.value};this.B(S)};
LM.prototype.mGR=function(Q){var S=this.mLz.indexOf(Q.currentTarget);this.Dl.value=LM.Wi[S].jG};LM.Wi=[{Cm:"Hello",jG:"\nalert(\"Hello Photopea!\");\n"},{Cm:"Process Layers",jG:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{Cm:"Clone Layers",jG:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function Qp(){Nv.call(this,[11,7],"newproject");this.data=null;this.Xk=null;var Q=P.P("div","flexrow");
this.lw=Q;this.body.appendChild(Q);var S=P.P("div","form");this.pG=S;Q.appendChild(S);this.Gk=new Ry([12,48]);
S.appendChild(this.Gk.p);P.XL(S);this.pY=new Mz(!0);this.pY.L(new v(1280,720),72);this.pY.w(P.E.Y,this.Wk,this);
S.appendChild(this.pY.p);this.iS=new ND([12,46],[[13,1,8],[13,1,9],[12,46]]);S.appendChild(this.iS.p);
S.appendChild(P.P("hr"));this.b_=new Nw([12,49],!0,null,!0);this.b_.w("click",this.SC,this);S.appendChild(this.b_.p);
var B=Qp.VI,y=[];for(var l=0;l<B.length;l++)y.push(B[l].name);this.XI=new R$(null,y);this.XI.w(P.E.Y,this.mWT,this);
S.appendChild(this.XI.p);this.XI.p.style["margin-top"]="1em";this.DX=new Ln(!0);this.DX.w(P.E.Y,this.mGd,this);
S.appendChild(this.DX.p);this.mWT();this.aQ=new RP;this.aQ.parent=this;this.aQ.p.setAttribute("style","margin-left:1em");
this.aQ.w("tempready",this.mGu,this)}Qp.prototype=new Nv;Qp.prototype.on=function(Q,S){this.aQ.on(Q)};
Qp.prototype.Rs=function(Q,S){return new v(Math.max(0,Math.min(70,(Q-690)/2)),Q>S?Math.max(0,Math.min(50,(S-400)/2)):0)};
Qp.prototype.Kl=function(Q,S){this.pG.setAttribute("style","width:"+Math.min(Q,338)+"px");this.DX.p.style.height=S-260+"px";
var B=this.aQ.p,y=B.parentNode;if(Q<500){if(y!=null)this.lw.removeChild(B)}else{if(y==null)this.lw.appendChild(B)}this.aQ.Kl(Q-360,S-35)};
Qp.prototype.Wk=function(){this.aQ.L(this.pY.d())};Qp.prototype.mGd=function(Q){var S=this.DX.d(),B=Qp.VI[this.XI.d()].px[S],y=B[4];
if(y==0)y=72;var l=B[1],D=B[2],R=["px","%","mm","in"].indexOf(B[3]),p=[1,1,25.4/y,1/y][R];l/=p;D/=p;
this.pY.L(new v(Math.round(l),Math.round(D)),y);this.pY.mVX(R);this.DX.OF(S);this.Wk()};Qp.prototype.mWT=function(Q){var S=Qp.VI[this.XI.d()].px,B=[],y=[],l=Math.round(106*P._()),D=Math.round(106*P._()),R=0;
for(var p=0;p<S.length;p++)R=Math.max(R,S[p][1],S[p][2]);for(var p=0;p<S.length;p++){var O=S[p],M=O[1]+" x "+O[2]+" "+O[3];
if(O[3]=="in")M=(O[1]*25.4).toFixed(0)+" x "+(O[2]*25.4).toFixed(0)+" mm";if(O[3]=="mm")M=(O[1]/25.4).toFixed(1)+" x "+(O[2]/25.4).toFixed(1)+" in";
if(O[4])M=M+" @ "+O[4]+" ppi";y.push(M);B.push(Qp.xs(O,l,D,R))}this.DX.Tf(B,y,l,D)};Qp.xs=function(Q,S,B,y){var l=P.P("canvas",""),D=l.getContext("2d");
l.width=S;l.height=B;var R=Math.round(S/8),p=Math.floor(11*P._()),O=Q[1],M=Q[2];D.fillStyle="#000000";
D.font=Math.round(p*.9)+"px \"Open Sans\", Sans-Serif";var U=O+" x "+M+" "+Q[3],m=D.measureText(U);D.fillText(U,Math.round((S-m.width)/2),B-Math.round(R/2));
if(Q[0]!=null){D.font="bold "+p+"px \"Open Sans\", Sans-Serif";var U=Q[0],m=D.measureText(U);D.fillText(U,Math.round((S-m.width)/2),B-Math.round(R/2)-Math.round(p*1.3))}B-=Math.round(2.5*p);
var Y=Math.min((S-R)/O,(B-R)/M);Y*=.5+.5*(Math.max(O,M)/y);var x=(S-O*Y)/2,T=(B-M*Y)/2;D.strokeRect(Math.round(x)+.5,Math.round(T)+.5,Math.round(O*Y),Math.round(M*Y));
return l.toDataURL()};Qp.prototype.b=function(){Nv.prototype.b.call(this);this.pY.b();this.Gk.b();this.iS.b();
this.b_.b();this.Gk.L(Nd.get([11,7]));this.XI.b();this.aQ.b()};Qp.prototype.SC=function(Q){var S=this.pY.d(),B=S.x,y=S.y;
this.close();var l=new b(P.E.RK,!0);l.data=mV.VA(B,y,this.pY.mhz(),this.Gk.d(),["Wht","Trns","BckC"][this.iS.d()]);
this.B(l);this.mwq()};Qp.prototype.mGu=function(Q){var S=Q.data.SB,B=new b(P.E.T,!0);B.data={H:P.l.DJ,SB:S};
this.B(B);this.close();this.mwq()};Qp.prototype.mwq=function(){var Q=this.Xk[this.Xk.length-1],S=this.data.mnp;
if(S)pv.jy(function(){var B=new XMLHttpRequest,y="https://www.googleapis.com/drive/v3/files?"+pv.rF();
B.open("POST",y,!0);B.setRequestHeader("Content-Type","application/json");B.addEventListener("load",function(l){var D=JSON.parse(l.target.response);
Q.NV={file:D,iK:"psd"};alert(Q.name+" created in Google Drive")});B.send(JSON.stringify({name:Q.name,mGG:[S]}))})};
Qp.prototype.Cp=function(Q,S,B,y){this.Xk=B;if(Q!=null&&Q.m!=null){var l=new w(0,0,Q.r,Q.O).nG(Q.m.rect);
this.pY.L(new v(l.r,l.O))}this.data=S;this.Wk();this.Gk.Nf()};Qp.prototype.mnD=function(Q){if(Q=="granted")Nx.mcJ(this,this.mGa.bind(this))};
Qp.prototype.mGa=function(Q,S){this.pY.L(new v(S.r,S.O))};Qp.VI=[{name:"Social",px:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],px:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["A6",105,148,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],px:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],px:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],px:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],px:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",px:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function mD(Q,S,B){Nv.call(this,S,"sel_"+Q);this.H=Q;var y=P.P("div","form");this.body.appendChild(y);
this.Gk=new NP(S,0,255,null,0,!1,!0);y.appendChild(this.Gk.p);this.Gk.L(1);var l=P.P("span");l.textContent=B;
y.appendChild(l);P.XL(y);this.mLt=new mM("Apply at canvas bounds");if(Q!="border")y.appendChild(this.mLt.p);
this.mH=new Nw("OK",!0,null,!0);this.mH.w("click",this.SC,this);y.appendChild(this.mH.p)}mD.prototype=new Nv;
mD.prototype.UN=function(Q,S){if(Q==null)return;if(Q.m==null)alert("No selection!");return Q.m!=null};
mD.prototype.SC=function(Q){var S=new b(P.E.RK,!0);S.data=K.pL.mhG(this.H,this.Gk.d(),this.mLt.d());
S.qi=!0;this.B(S);this.close()};mD.prototype.b=function(){Nv.prototype.b.call(this);if(this.Gk)this.Gk.b()};
mD.prototype.Cp=function(Q,S){};function Mt(Q,S){Nv.call(this,S,Q);this.VI=null;this.pG=P.P("div","form");
this.body.appendChild(this.pG);this.Gk=new Ry(S);this.pG.appendChild(this.Gk.p);this.mH=new Nw("OK",!0,null,!0);
this.mH.w("click",this.SC,this);this.pG.appendChild(this.mH.p)}Mt.prototype=new Nv;Mt.prototype.SC=function(Q){var S=this.VI.mER,B=new b(S.f,!0);
B.h=S.h;B.data=S.U;B.data.z=this.Gk.d();B.qi=!0;this.B(B);this.close()};Mt.prototype.b=function(){Nv.prototype.b.call(this);
if(this.Gk)this.Gk.b()};Mt.prototype.Cp=function(Q,S){this.VI=S;this.Gk.L(S.Zx);this.Gk.Nf()};function Mk(){Nv.call(this,[1,5],"open_from_url");
this.$h=null;var Q=P.P("div","form");this.body.appendChild(Q);this.SN=new Ry("URL",null,22);Q.appendChild(this.SN.p);
this.SN.w(P.E.Y,this.SC,this);P.XL(Q);this.pV=new R$([21,0],[[21,2],[21,1]]);Q.appendChild(this.pV.p);
this.b_=new Nw("OK",!0,null,!0);this.b_.w("click",this.SC,this);Q.appendChild(this.b_.p)}Mk.prototype=new Nv;
Mk.prototype.b=function(){Nv.prototype.b.call(this);this.pV.b()};Mk.prototype.Cp=function(Q,S,B){this.SN.Nf();
this.$h=null;if(Q&&B.indexOf(Q)!=-1)this.$h=B.indexOf(Q)};Mk.prototype.SC=function(Q){var S=new b(P.E.T,!0),B=this.SN.d();
S.data={H:P.l.fd,yQ:{url:B,Pa:!0,$h:this.pV.d()==1?this.$h:null}};this.B(S);this.close()};function Lv(){Nv.call(this,[12,79],"preferences");
this.Kv=null;var Q=P.P("div","form");this.body.appendChild(Q);this.KW=[new mM([8,2]),new mM([8,4]),new ND([12,80,3],[[12,93,3],[12,80,4]]),new rO([12,80,5],1,100,null,2),new ND(null,k.hs.TY),new ND([12,80,6],k.hs.TY)];
for(var S=0;S<this.KW.length;S++){var B=this.KW[S];Q.appendChild(B.p);if(S!=3)P.XL(Q);B.w(P.E.Y,this._b,this)}}Lv.prototype=new Nv;
Lv.prototype.b=function(){Nv.prototype.b.call(this);for(var Q=0;Q<this.KW.length;Q++)this.KW[Q].b()};
Lv.prototype.Cp=function(Q,S,B){};Lv.prototype.on=function(Q,S){this.Kv=Q;this.KW[0].L(Q.Ke.WM);this.KW[1].L(Q.Ke.Zp);
this.KW[2].L(Q.Ke.IZ);this.KW[3].L(Q.Ke.WK);this.KW[4].L(Q.Ke.Fg);this.KW[5].L(Q.Ke.vP)};Lv.prototype._b=function(Q){var mq=this.KW,S=JSON.parse(JSON.stringify(this.Kv.Ke));
S.WM=mq[0].d();S.Zp=mq[1].d();S.IZ=mq[2].d();S.WK=mq[3].d();S.Fg=mq[4].d();S.vP=mq[5].d();if(S.Fg!=4)S.WK=Math.round(S.WK);
var B=new b(P.E.T,!0);B.data={H:P.l.Kk,yQ:rS.Yg,ao:S};this.B(B)};function QE(){Nv.call(this,[11,8],"saveforweb");
this.mcE="";this.w("closebtn",function(){this.rM.lx()},this);this.$f=new v(512,512);this.SB=null;this.pZ=null;
this.mcs=null;this.Kv=null;P.Te(this.body,"flexrow");var Q=P.P("div"),S=P.P("div");this.body.appendChild(Q);
this.body.appendChild(S);this.Gr=P.P("div","imgcont");Q.appendChild(this.Gr);this.rM=new RG;this.rM.Kl(this.$f.x,this.$f.y);
this.nB=P.P("span");Q.appendChild(this.nB);this.pG=P.P("div","form cell");this.pG.setAttribute("style","width:15em; padding-left:1em;");
S.appendChild(this.pG);this.rQ=new ND([12,50],Np.at());this.pG.appendChild(this.rQ.p);this.rQ.w(P.E.Y,this.hb,this);
this.pY=new Mz(!1,!0);this.pY.w(P.E.Y,this.hb,this);this.pG.appendChild(this.pY.p);this.Lo=new Ld;this.Lo.w(P.E.Y,this.hb,this);
this.pG.appendChild(this.Lo.p);this.kz=new Nw([1,2],!0,null,!0);this.kz.w("click",this.SC,this);this.pG.appendChild(this.kz.p)}QE.prototype=new Nv;
QE.prototype.UN=function(Q,S){return Q!=null};QE.prototype.b=function(){Nv.prototype.b.call(this);this.pY.b();
this.rQ.b();this.Lo.b();this.kz.b()};QE.prototype.SC=function(Q){var S=this.SB.name.split(".")[0],B=Np.at()[this.rQ.d()],y=this.pZ,l=S+"."+B.toLowerCase(),D=this.SB,R=D.$q;
if(R.length!=0&&(B=="JPG"||B=="PNG"||B=="GIF")&&this.Lo.d().pop()){var p="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",O=[],M={},U=new w(0,0,D.r,D.O),m=D.qB();
for(var Y=0;Y<R.length;Y++)O.push(K.GM.fm(R,Y));O.reverse();var x=k.rect.Ie([0,0,D.r,D.O],O);for(var Y=0;
Y<x.length;Y++){var T=x[Y],$=new w(T[0],T[1],T[2]-T[0],T[3]-T[1]),L=T.length==5?R[T[4]].v:null,s=k.Q($.Z()*4);
k.oD(m,U,s,$);var j="img/img"+(Y+1)+"."+B.toLowerCase();M[j]=new Uint8Array(Np[B].Ba([[s.buffer,0]],$.r,$.O,this.Lo.d()));
p+="<div style=\"background-image:url('"+j+"'); left:"+$.x+"px; top:"+$.y+"px; width:"+$.r+"px; height:"+$.O+"px\">";
if(L&&L.url.v!="")p+="\n\t<a href=\""+L.url.v+"\" target=\""+L.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
p+="</div>\n"}p+="</body>\n</html>\n";var Z=k.Q(Math.round(p.length*1.5)),e=X.cb(p,Z,0);M["index.html"]=Z.slice(0,e);
y=UZIP.encode(M);l=S+".zip"}var J=new b(P.E.T,!0);J.data={H:P.l.rx,data:y,name:l};this.B(J);this.rM.lx();
this.close()};QE.prototype.Cp=function(Q,S){if(S.AD!=null)this.rQ.L(S.AD);this.SB=Q;var B=Q.r+","+Q.O;
if(B!=this.mcE){this.mcE=B;this.pY.L(new v(Q.r,Q.O))}this.Lo.mud();this.hb()};QE.prototype.Rs=function(Q,S){return new v(Math.max(0,Math.min(150,(Q-770)/2)),Math.max(0,Math.min(150,(S-590)/2)))};
QE.prototype.Kl=function(Q,S){this.QP=Q;this.Kj=S;this.$f.x=Math.min(512,Q-26-214);this.$f.y=Math.min(512,S-45);
if(this.SB==null)return;var B=this.pY.d(),Q=B.x,S=B.y,y=Np.at()[this.rQ.d()],l=Np[y],m="<span style=\"width:",Y="display:inline-block; text-align:right;\">";
if(l.oc){var D=Q,R=S,p;if(y=="PDF"||l.wm){D=this.$f.x;R=this.$f.y}else{D=Math.min(Q+20,this.$f.x);R=Math.min(S+20,this.$f.y)}this.Gr.firstChild.setAttribute("style","display:block; width:"+D+"px; height:"+R+"px;")}else{var O=this.mcs,M=O[0].iQ,D=M.r,R=M.O;
this.rM.Kl(Math.max(50,Math.min(D/P._(),this.$f.x)),Math.max(50,Math.min(R/P._(),this.$f.y)))}var U=this.pZ.byteLength,x=y+":"+m+64+"px;"+Y+QE.jU(U)+"</span>";
if(this.$f.x>200)x+=m+90+"px; opacity:"+.5+";"+Y+U.toLocaleString()+" B</span>";this.nB.innerHTML=x};
QE.jU=function(Q){var S=0;while(Q>>>S+10!=0)S+=10;var B=(Q/(1<<S)).toFixed(1),y=["B","KB","MB","GB"][Math.floor(S/10)];
return B+" "+y};QE.prototype.on=function(Q,S){this.Kv=Q};QE.prototype.hb=function(Q){var S=this.pY.d(),B=S.x,y=S.y,l=this.rQ.d(),D=Np.at()[l],R=["GIF","PNG","WEBP"].indexOf(D)!=-1&&Np.xR(this.SB)[0].length>1,O="";
this.Lo.mdS(D,R,this.SB.$q.length!=0);var p=this.Lo.d();this.pZ=Np.jw(this.SB,D,B,y,p,this.Kv);if(this.pZ==null){this.SB=null;
return}P.EW(this.Gr);this.rM.lx();var M=Np[D];if(M.wm){this.Gr.innerHTML="<div></div>";O+="width:0px"}else if(M.oc){var U=B,m=y,Y;
if(D=="PDF"){Y=URL.createObjectURL(new Blob([this.pZ],{type:"application/pdf"}))}else{Y=URL.createObjectURL(new Blob([this.pZ],{type:"image/svg+xml"}))}this.Gr.innerHTML="<iframe src=\""+Y+"\"></iframe>"}else{var x=this.mcs=M.tm(this.pZ),T=x[0].iQ,U=T.r,m=T.O;
this.rM.L(x,x.length>1?p[p.length-2]:0);this.Gr.appendChild(this.rM.p);O="background: rgba(0,0,0,0);"}this.Gr.setAttribute("style","display:block; background-size:"+16/P._()+"px;"+O);
this.Kl(this.QP,this.Kj)};function mB(){Nv.call(this,[11,13],"shortcuts");var Q=this.lw=P.P("div","scrollable");
Q.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(Q);
this.mnP()}mB.prototype=new Nv;mB.prototype.b=function(){Nv.prototype.b.call(this);this.mnP()};mB.prototype.mnP=function(){var Q="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",S="";
S+="<h2 style=\"margin-top:0;\">Main Menu</h2>";S+=Q;S+=this.RC([[0,0],"---",[1,0],"Ctrl + O",[1,2],"Ctrl + S",[1,3],"Shift+Ctrl + S",[1,8],"Alt+Shift+Ctrl + S",[0,1],"---",[2,0],"Shift + Ctrl + Z",[2,1],"Ctrl + Z",[5,0],"Ctrl + X",[5,1],"Ctrl + C",[5,2],"Ctrl + V",[2,2],"Delete",[2,3],"Alt + Backspace",[10,16],"Alt + Ctrl + T",[12,79],"Ctrl + K",[3],"---",[4,1],"Ctrl + L",[4,2],"Ctrl + M",[4,5],"Ctrl + U",[4,11],"Ctrl + I",[0,3],"---",[6,0],"Ctrl + J",[6,6,0],"Alt + Ctrl + G",[6,9],"Ctrl + G",[6,10],"Ctrl + E",[0,5],"---",[7,0],"Ctrl + A",[7,1],"Ctrl + D",[7,2],"Shift+Ctrl + I",[0,7],"---",[8,0],"Ctrl + +",[8,1],"Ctrl + -",[8,3],"Ctrl + R",[8,2],"Ctrl + ;",[8,4],"Ctrl + '",[11,13],"?"]);
S+="</div>";S+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";S+=Q;S+=this.RC("Vertical scroll,Wheel,Horizontal scroll,Ctrl + Wheel,Zooming,Alt + Wheel".split(","));
S+="</div>";S+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
S+=Q;S+=this.RC([[10,11],"Ctrl",[10,7],"Spacebar",[10,17],"Ctrl + Spacebar"]);S+="</div>";S+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
S+=Q;var B=[];for(var y=0;y<mB.Il.length;y+=3)B.push(mB.Il[y],mB.Il[y+1]);S+=this.RC(B);S+=this.RC(["abc",null,[24,16],"---",[22,7,1],"D",[22,7,0],"X","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
S+="</div>";this.lw.innerHTML=S};mB.prototype.RC=function(Q){var S="",B=!0;for(var y=0;y<Q.length;y+=2){var l=Q[y],D=Q[y+1];
if(D==null){B=!1;continue}var R=P.mVO(Nd.get(l));if(D=="---"){if(!B)S+="<br/>";S+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+R+"</div>"}else S+="<div>"+R+" <span style=\"float:right; font-weight:bold;\">"+D+"</span> </div>";
B=!1}return S};mB.Il=[[10,11],"V",0,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function MS(){Nv.call(this,[8,11,1],"soptions");this.gn=null;var Q=P.P("div","form");Q.style.width="20em";
this.body.appendChild(Q);this.Sq={Nm:[12,48],url:"URL",null:[12,71]};this.KW={};for(var S in this.Sq){var B=new Ry(this.Sq[S],null,15);
this.KW[S]=B;Q.appendChild(B.p)}var y=new Nw("OK",!0,null,!0);y.w("click",this.SC,this);Q.appendChild(y.p)}MS.prototype=new Nv;
MS.prototype.Cp=function(Q,S,B){var y=S.z;this.gn=JSON.stringify(y);for(var l in this.Sq){if(y[l])this.KW[l].L(y[l].v)}};
MS.prototype.SC=function(Q){var S=JSON.parse(this.gn);for(var B in this.Sq){var y=this.KW[B].d();S[B]={t:"TEXT",v:y}}var l=new b(P.E.D,!0);
l.h=K.nk;l.data=S;l.qi=!0;this.B(l);this.close()};function Lh(){Nv.call(this,[2,3],"fill");this.Kv=null;
this.EJ=null;var Q=P.P("div","form padded");Q.style.width="22em";this.body.appendChild(Q);this.fu="FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
this.Jb=new ND([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3]]);this.Jb.w(P.E.Y,this.mG$,this);
Q.appendChild(this.Jb.p);this.Gr=P.P("span");Q.appendChild(this.Gr);this.mZ=new RU;this.mZ.parent=this;
this.mZ.TB(0);this.kM=new ND([12,19,0],No.qu,!1,No.KM);Q.appendChild(this.kM.p);this.SW=new rO([12,0],0,100,"%",0,!1);
this.SW.L(100);Q.appendChild(this.SW.p);this.b_=new Nw("OK",!0,null,!0);this.b_.w("click",this.SC,this);
this.body.appendChild(this.b_.p)}Lh.prototype=new Nv;Lh.prototype.UN=function(Q,S){return Q!=null};Lh.prototype.TA=function(){return!0};
Lh.prototype.mG$=function(){var Q=this.Jb.d()==2,S=this.mZ.p,B=this.Gr;if(Q)B.appendChild(S);else if(B.contains(S))B.removeChild(S)};
Lh.prototype.b=function(){Nv.prototype.b.call(this);this.Jb.b();this.kM.b();this.SW.b()};Lh.prototype.SC=function(Q){if(!this.EJ.pD())return;
var S=new b(P.E.RK,!0),B=this.Jb.d();S.data=K.KT.bH(this.fu[B],No.ea[this.kM.d()],this.SW.d()/100,this.mZ.d());
this.close();this.B(S)};Lh.prototype.Cp=function(Q,S){this.EJ=Q};Lh.prototype.on=function(Q,S){this.Kv=Q};
function Lr(){Nv.call(this,[14,9],"stroke");this.Kv=null;this.pG=P.P("div","form");this.pG.setAttribute("style","width:24em");
this.body.appendChild(this.pG);this.RF=new Rw("FrFX",!0);this.RF.parent=this;var Q=["Sz","Styl","Md","Opct"].concat(rx.ti);
for(var S=0;S<Q.length;S++){var B=this.RF.Wh[Q[S]].p;this.pG.appendChild(B)}this.mci=!1;this.b_=new Nw("OK",!0,null,!0);
this.b_.w("click",this.SC,this);this.body.appendChild(this.b_.p)}Lr.prototype=new Nv;Lr.prototype.UN=function(Q,S){return Q!=null};
Lr.prototype.TA=function(){return!0};Lr.prototype.b=function(){Nv.prototype.b.call(this);this.RF.b()};
Lr.prototype.SC=function(Q){var S=new b(P.E.D,!0);S.h=K.xG;S.data={H:"stroke",mW_:this.RF.d()};this.close();
this.B(S)};Lr.prototype.Cp=function(Q,S){if(!this.mci){var B=rx.Pf[rx.order.indexOf("FrFX")];B=JSON.parse(B);
this.RF.update(Q,B);this.mci=!0}var B=this.RF.d(),y=this.Kv.Tq;B.Clr.v=k.Kg.Od({t:y>>16&255,e:y>>8&255,R:y&255});
this.RF.update(Q,B)};Lr.prototype.on=function(Q,S){this.Kv=Q};function Lg(){Nv.call(this,[11,9],"textwarp");
this.KW=new Lb;this.KW.w(P.E.Y,this.nt,this);this.KW.parent=this;this.pG=P.P("div","form");this.pG.setAttribute("style","width:20em");
this.body.appendChild(this.pG);this.pG.appendChild(this.KW.GG.p);this.pG.appendChild(this.KW.mi.p);this.pG.appendChild(this.KW.Gn.p);
this.pG.appendChild(this.KW.Gs.p);this.pG.appendChild(this.KW.Gt.p);this.b_=new Nw("OK",!0,null,!0);
this.b_.w("click",this.SC,this);this.pG.appendChild(this.b_.p);this.w("closebtn",this.Bk,this)}Lg.prototype=new Nv;
Lg.prototype.TA=function(){return!0};Lg.prototype.b=function(){Nv.prototype.b.call(this);this.KW.b()};
Lg.prototype.nt=function(Q){var S=this.KW.d();this.WZ({H:"warp",cF:S})};Lg.prototype.WZ=function(Q){var S=new b(P.E.D,!0);
S.h=K.yC;S.data=Q;S.qi=!0;this.B(S)};Lg.prototype.Bk=function(Q){this.WZ({H:"warpCancel"})};Lg.prototype.SC=function(Q){this.WZ({H:"warpConfirm"});
this.close()};Lg.prototype.Cp=function(Q,S){var B=Q.G[Q.I[0]];this.KW.L(B.add.TySh.IT)};function mx(){Nv.call(this,"Raw Photopea","rawpea");
this.JU=null;this.mp=null;this.kp=null;this.mGj=0;this.aL=null;this.wH=null;this.mcb=500;this.mdl=500;
this.w("closebtn",this.Hs,this);P.Te(this.body,"flexrow");var Q=P.P("div"),S=P.P("div"),l="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
S.setAttribute("style","padding-left: 1em");this.body.appendChild(Q);this.body.appendChild(S);this.MJ=P.P("canvas");
Q.appendChild(this.MJ);this.Ki=new MM(225);this.Ki.Fw(4);S.appendChild(this.Ki.p);this.pG=P.P("div");
this.pG.setAttribute("style","width:18em;");S.appendChild(this.pG);this.meq=new RT("Hi",!0);this.pG.appendChild(this.meq.p);
this.Dz=[new mf("Temperature",2e3,13e3),new mf("Tint",-150,150),new mf([4,3],-4,4,null,!0),new mf([12,3,0],-100,100)];
for(var B=0;B<this.Dz.length;B++){var y=this.Dz[B];y.L(0);y.w(P.E.Y,this.FI,this);this.pG.appendChild(y.p);
if(B==1)this.pG.appendChild(P.P("hr"))}this.b_=new Nw([1,0],!0,null,!0);this.b_.w("click",this.SC,this);
this.pG.appendChild(this.b_.p);this.kr=new Nw(l+" JPG",!0,null,!0);this.kr.w("click",this.mGX,this);
this.pG.appendChild(this.kr.p);this.kr.p.style.marginTop="6px"}mx.prototype=new Nv;mx.prototype.iC=function(){return!0};
mx.prototype.Rs=function(){return new v(0,0)};mx.prototype.Kl=function(Q,S){this.mcb=Q-274;this.mdl=S-32;
if(this.JU)this.mmD()};mx.prototype.b=function(){Nv.prototype.b.call(this);this.b_.b();for(var Q=0;Q<this.Dz.length;
Q++)this.Dz[Q].b()};mx.prototype.mGX=function(Q){var S=this.JU,B=this.mp,y=k.Q(S.width*S.height*4);k.St(y,4294967295);
k.raw.LI(B,y,S,this.aX());var l=Np.JPG.Ba([[y.buffer]],B.jv,B.jT,[85]),D=new b(P.E.T,!0);D.data={H:P.l.rx,data:l,name:"photo.jpg"};
this.B(D)};mx.prototype.SC=function(Q){var S=this.JU,B=this.mp,y=k.Q(S.width*S.height*4);k.St(y,4294967295);
k.raw.LI(B,y,S,this.aX());var S={iQ:new w(0,0,B.jv,B.jT),data:y.buffer},l=Nx.o$("Raw Photo",[S]),D=new b(P.E.T,!0);
D.data={H:P.l.DJ,SB:l};this.B(D);this.Hs();this.close()};mx.prototype.Hs=function(){this.JU=null;this.mp=null;
this.aL=null;this.wH=null};mx.prototype.Cp=function(Q,S,B,y){this.JU=S.Pb;this.mp=k.raw.mCN(this.JU);
var l=this.mp;this.meq.L(l.jv+" x "+l.jT+", "+(l.jv*l.jT/1e6).toFixed(1)+" MPx");var D=k.raw.muC(S.Pb);
this.kp=Qh.HF(D);this.Dz[0].L(this.kp.wh);this.Dz[1].L(this.kp.Tw);for(var R=2;R<this.Dz.length;R++)this.Dz[R].L(0);
this.mmD()};mx.prototype.on=function(Q,S){this.Ki.TB(MQ.Jv[Q.QD]["--text-color"])};mx.prototype.mmD=function(){var Q=this.mp,S=Q.jv,B=Q.jT,y=1;
while(S/y>this.mcb*P._()||B/y>this.mdl*P._())y++;var l=Math.floor(S/y),D=Math.floor(B/y);this.aL={Ko:new Float32Array(l*D*3),jv:l,jT:D};
var R=this.MJ.getContext("2d");this.wH=R.createImageData(l,D);k.St(this.wH.data,4294967295);var p=1/(y*y);
for(var O=0;O<D;O++)for(var M=0;M<l;M++){var U=0,m=0,Y=0,x=(M+1)*y,T=(O+1)*y;for(var $=O*y;$<T;$++)for(var L=M*y;
L<x;L++){var s=($*S+L)*3;U+=this.mp.Ko[s];m+=this.mp.Ko[s+1];Y+=this.mp.Ko[s+2]}var j=(O*l+M)*3;this.aL.Ko[j]=U*p;
this.aL.Ko[j+1]=m*p;this.aL.Ko[j+2]=Y*p}this.FI()};mx.prototype.FI=function(){var Q=this.JU,S=this.aL.jv,B=this.aL.jT,y=S*B,l=this.MJ,D=l.getContext("2d");
l.width=S;l.height=B;P.eu(l,S,B);k.raw.LI(this.aL,new Uint8Array(this.wH.data.buffer),Q,this.aX());D.putImageData(this.wH,0,0);
var R=k.Qd(this.wH.data);for(var p=0;p<4;p++)for(var O=1;O<256;O++)if(R[p][O]==0)R[p][O]=R[p][O-1];for(var p=0;
p<4;p++)for(var O=1;O<256;O++)if(R[p][O]==0)R[p][O]=R[p][O-1];this.Ki.L(R)};mx.prototype.aX=function(){var Q=[];
for(var S=0;S<this.Dz.length;S++)Q.push(this.Dz[S].d());return Q};function rB(){Nv.call(this,[11,11],"vbitmap");
this.VI=null;this.SG=null;this.kL=null;this.SU=null;this.CB=null;this.pG=P.P("div","form hbar");this.body.appendChild(this.pG);
this.W_=new rO([12,82],2,50,null);this.W_.w(P.E.Y,this.dr,this);this.pG.appendChild(this.W_.p);this.Ww=new mM([12,81]);
this.Ww.w(P.E.Y,this.dr,this);this.pG.appendChild(this.Ww.p);this.b_=new Nw("OK",!1,null,!0);this.b_.w("click",this.SC,this);
this.pG.appendChild(this.b_.p);var Q=P.P("div","flexrow"),S=16;this.body.appendChild(Q);this.rW=new RG;
this.rW.w("viewchange",this.mpz,this);this.yt=P.P("canvas");this.yt.setAttribute("style","margin-left: 1px; cursor:grab;");
this.oX=this.yt.getContext("2d");var B=k.Q(16*16*4);k.jk(B,S,S,8,0,0);this.ke=k.scale.vY(B,S,S);this.rW.mej(this.yt);
Q.appendChild(this.rW.p);Q.appendChild(this.yt)}rB.prototype=new Nv;rB.prototype.iC=function(){return!0};
rB.prototype.Rs=function(){return new v(0,0)};rB.prototype.TA=function(){return!0};rB.prototype.Kl=function(Q,S){S=S-26-30;
Q=Math.floor((Q-28)/2);P.tM(this.yt,Q,S);this.rW.Kl(Q,S)};rB.prototype.qh=function(Q,S,B,y){this.rW.qh(y)};
rB.prototype.b=function(){Nv.prototype.b.call(this);this.W_.b();this.Ww.b();this.b_.b()};rB.prototype.Cp=function(Q,S){this.CB=Q;
var B=Q.G[Q.I[0]],y=k.Qb.Hj(B.buffer.buffer,B.rect.r,B.rect.O).mhn,l=y/((B.rect.r-2)*(B.rect.O-2));this.Ww.L(l<.75);
var D=B.rect.clone();D.x=D.y=0;this.VI={iQ:D,data:B.buffer.buffer.slice(0)};this.SG=null;this.rW.L([this.VI]);
this.W_.L(20);this.dr()};rB.prototype.dr=function(){var Q=this.VI,S=this.Ww.d();if(S&&this.SG==null){var B=new Uint8Array(Q.data.slice(0)),y=15,l=35,D=Q.iQ.r,R=Q.iQ.O,p=new k.rp(D*R);
k.Cd(B,p);var O=new k.rp(D*R);k.ns.VT(p.t,p.n,O.t,D,R,y,k.ns.Ql,[l]);k.ns.VT(p.e,p.n,O.e,D,R,y,k.ns.Ql,[l]);
k.ns.VT(p.R,p.n,O.R,D,R,y,k.ns.Ql,[l]);k.MK(p.n,O.n);var M=l/255,U=1-M;for(var m=0;m<D*R;m++)O.n[m]=M*O.n[m]+U*p.n[m];
k.Cc(O,B);this.SG={iQ:Q.iQ.clone(),data:B.buffer}}if(S)Q=this.SG;var B=new Uint8Array(Q.data),D=Q.iQ.r,R=Q.iQ.O;
for(var m=0;m<B.length;m+=4){if(B[m+3]<10)B[m]=B[m+1]=B[m+2]=B[m+3]=0}var Y=k.Qb.mFd(B,D,R,this.W_.d(),S?.1:2e-4),x=Y.XZ.slice(0);
for(var m=0;m<x.length;m++)x[m]++;var T=new Uint8Array((D+2)*(R+2));k.ht(x,new w(1,1,D,R),T,new w(0,0,D+2,R+2));
var $=Math.round((D+2)*(R+2)/1e4),L=Rf.m_u(T,D+2,R+2,Math.min(12,$)),s=Rf.sH(L),j=new Nu(1,0,0,1,-1,-1);
for(var m=0;m<s.length;m++)k.i.V(s[m].path.M,j,s[m].path.M);this.SU=s;this.kL=Y;for(var m=0;m<s.length;
m++){var Z=s[m];for(var e=m+1;e<s.length;e++){var J=s[e];if(Y.it[J.color-1].est.q[3]>.05||J.parent!=m)continue;
var N=J.path.F.slice(1);N.reverse();N=["M"].concat(N);var E=[],L=J.path.M.length;for(var h=0;h<L;h+=2){E[h]=J.path.M[L-2-h];
E[h+1]=J.path.M[L-2-h+1]}k.i.concat(Z.path,{M:E,F:N})}}for(var m=0;m<s.length;m++){var Z=s[m],o=Y.it[Z.color-1].est.q;
if(o[3]<=.05){s.splice(m,1);m--;continue}}for(var m=1;m<s.length;m++){var V=s[m-1],Z=s[m];if(V.color==Z.color){k.i.concat(V.path,Z.path);
s.splice(m,1);m--;continue}}this.mpz()};rB.prototype.mpz=function(Q){if(this.SU==null)return;var S=this.VI.iQ.r,B=this.VI.iQ.O,y=this.SU,l=this.kL.it,D=this.oX,R=this.rW.lZ();
D.setTransform(1,0,0,1,0,0);D.clearRect(0,0,D.canvas.width,D.canvas.height);D.translate(D.canvas.width/2,D.canvas.height/2);
D.scale(R.C,R.C);D.translate(R.a.x/R.C-S/2,R.a.y/R.C-B/2);D.scale(1/R.C,1/R.C);D.fillStyle=this.ke;D.fillRect(0,0,S*R.C,B*R.C);
D.scale(R.C,R.C);var p=[];for(var O=0;O<l.length;O++){var M=l[O].est.q;p.push({t:Math.round(255*M[0]),e:Math.round(255*M[1]),R:Math.round(255*M[2]),n:Math.round(255*M[3])})}for(var O=0;
O<y.length;O++){var U=y[O],M=p[U.color-1];if(M.n==0)continue;D.fillStyle="rgba("+M.t+","+M.e+","+M.R+","+M.n/255+")";
D.beginPath();Typr.U.pathToContext({crds:U.path.M,cmds:U.path.F},D);D.fill()}};rB.prototype.SC=function(Q){var S=this.SU,B=S.length==1,y=this.CB,l=y.I[0],D=y.G[l],R=y.G.slice(0,l);
if(!B)R.push(y.rg());for(var p=0;p<S.length;p++){var O=S[p],M=this.kL.it[O.color-1].est.q;k.i.V(O.path.M,new Nu(1,0,0,1,D.rect.x,D.rect.y),O.path.M);
var U=y.oz();U.pM("Path "+p);R.push(U);U.opacity=Math.round(M[3]*255);U.$N|=16;U.add.SoCo={classID:"null",Clr:{t:"Objc",v:k.Kg.Od({t:255*M[0],e:255*M[1],R:255*M[2]})}};
U.add.vmsk=new z.hm;U.add.vstk=JSON.parse(JSON.stringify(rx.xD.default));U.add.vmsk.A=k.i.Ua(O.path,!1);
U.add.vogk=[];U.sr();U.Zs(y)}var m=R[R.length-1];if(!B){var U=y.oz();U.pM(D.getName());U.add.lsct=NI.YG;
U.wk="pass";U.$N=24;R.push(U);m=U}var Y=D.add.lmfx;if(Y)m.add.lmfx=JSON.parse(JSON.stringify(Y));for(var p=l+1;
p<y.G.length;p++)R.push(y.G[p]);var x=new b(P.E.D,!0);x.qi=!0;x.h=K.Sb;x.data={H:z.DF,FP:R,mT:[l+S.length+(B?-1:1)],$a:[11,11]};
this.B(x);this.close()};function MT(){Nv.call(this,[7,11],"redge");this.VI={};this.ed=null;this.pn=null;
this.CB=null;this.Wb=null;this.PT=null;this.Mw=[];this.vR=-1;this.pG=P.P("div","form hbar");this.body.appendChild(this.pG);
this.$x=new pM;this.$x.parent=this;this.$x.w(P.E.Y,this.Su,this);this.pG.appendChild(this.$x.p);this.kq=new Qv(null,[2,1,0]);
this.pG.appendChild(this.kq.p);this.ac=new NP([7,9],0,50,null);this.ac.parent=this;this.ac.w(P.E.Y,this.mQ_,this);
this.pG.appendChild(this.ac.p);var Q=new Nw([12,90],!1,null,!0);Q.w("click",function(y){alert(Nd.get([15,7,1]),5e3)},this);
this.pG.appendChild(Q.p);this.mnr=Q;var S=P.P("span","form");this.pG.appendChild(S);S.setAttribute("style","position:absolute;  right:0px");
this.Sn=new Qv([12,46],[3,2,0]);this.Sn.w(P.E.Y,this.mcY,this);S.appendChild(this.Sn.p);this.kJ=new ND(null,[[6,13],[6,2],[17,2]]);
S.appendChild(this.kJ.p);this.b_=new Nw("OK",!1,null,!0);this.b_.w("click",this.SC,this);S.appendChild(this.b_.p);
var B=P.P("div","flexrow");this.body.appendChild(B);this.Oe=new RG(!0);this.Wx=new RG;this.Oe.Wd(this.Wx);
this.Wx.Wd(this.Oe);this.Oe.w("mousedown",this.Gg,this);this.Oe.w("mousemove",this.Re,this);this.Oe.w("mouseup",this.ss,this);
this.Oe.w("zoom",this.Su,this);B.appendChild(this.Oe.p);B.appendChild(this.Wx.p)}MT.prototype=new Nv;
MT.prototype.UN=function(Q,S){var B=Q!=null&&!Q.G[Q.I[0]].rect.Kq();if(!B)alert("The layer is empty.");
return B};MT.prototype.iC=function(){return!0};MT.prototype.Rs=function(){return new v(0,0)};MT.prototype.TA=function(){return!0};
MT.prototype.Kl=function(Q,S){S=S-26-30;Q=Math.floor((Q-28)/2);this.Oe.Kl(Q,S);this.Wx.Kl(Q,S)};MT.prototype.b=function(){Nv.prototype.b.call(this);
this.$x.b();this.ac.b();this.b_.b();this.Sn.b();this.kJ.b();this.mnr.b()};MT.prototype.on=function(Q,S){this.pn=Q;
if(S==rS.Kz||S==rS.E_){this.$x.XO(Q.ml);this.$x.L(p_.pe(),Q.ml.gZ,Q.ml.JR)}};MT.prototype.qh=function(Q,S,B,y){this.Wb=y;
var l=K.KT.et(this.$x.d(),y);if(l!=null){this.$x.L(l);this.Su()}else if(y.N(A.DQ)&&y.N(A.XT)){var D=this.Mw,R=0;
if(y.N(A.CP)){if(this.vR+1<D.length)R=1}else if(this.vR>0)R=-1;if(R!=0){this.vR+=R;var p=this.vR,O=this.VI;
if(R==1)k.oD(D[p][2],D[p][0],O.cR,O.rect);else k.oD(D[p+1][1],D[p+1][0],O.cR,O.rect);O.kV=O.rect;this.dr()}}else this.Oe.qh(y)};
MT.prototype.NY=function(Q){var S=this.VI,B=this.Mw,y=k.Q(Q.Z()*4);k.oD(S.meI,S.rect,y,Q);S.meI=null;
var l=k.Q(Q.Z()*4);k.oD(S.cR,S.rect,l,Q);this.vR++;B[this.vR]=[Q.clone(),y,l];while(B.length>this.vR+1)B.pop();
while(B.length>50){B=B.slice(1);this.vR--}};MT.prototype.Su=function(){var Q=this.pn,S=Nl.CL(this.$x.d(),Q.ml.gZ,this.Oe.lZ().C);
this.Oe.NU(S)};MT.prototype.Gg=function(Q){var S=this.pn,B=this.VI,y=this.Wb,l=this.$x.d(),D=this.Oe.NE(),R=[16777215,8355711,0][this.kq.d()];
this.ed=new Nl(l,S.ml.list[0].gZ,S.ml.list[0].JR,{Md:1,EE:!0},R,S.hB,B.rect);B.meI=B.cR.slice(0);if(y!=null&&y.N(A.CP)&&this.PT){this.ed.moveTo(this.PT.x,this.PT.y);
this.ed.lineTo(D.x,D.y)}else this.ed.moveTo(D.x,D.y);this.mRF()};MT.prototype.Re=function(Q){var S=this.VI,B=this.Oe.NE();
this.ed.lineTo(B.x,B.y);this.mRF()};MT.prototype.ss=function(Q){this.PT=this.Oe.NE();this.NY(this.ed.WN());
this.dr()};MT.prototype.mRF=function(){var Q=this.VI,S=this.ed,B=S.hK();if(B.Kq())return;Q.kV=B;k.X.Rc("norm",S.Du(),S.jH(),Q.cR,Q.rect,B,1);
this.mcQ()};MT.prototype.Cp=function(Q,S){this.CB=Q;var B=Q.G[Q.I[0]],y=B.rect.clone();this.ac.L(3);
this.kq.L(Q.m==null?0:1);this.Su();if(Q.m==null)this.ac.qG();else this.ac.yn();var l=k.Q(y.Z()),D=k.Q(y.Z());
if(Q.m)k.ht(Q.m.channel,Q.m.rect,l,y);y.x=y.y=0;var R=y.r,p=y.O;for(var O=0;O<p;O++)for(var M=0;M<R;
M++){var U=O*R+M,m=l[U];if(M>0&&l[U-1]!=m||M<R-1&&l[U+1]!=m||O>0&&l[U-R]!=m||O<p-1&&l[U+R]!=m)D[U]=255}var Y=new Float32Array(y.Z());
k.style.LJ(D,Y,R,p);this.VI={rect:y,Ko:B.buffer,_v:l,Dx:Y,tj:k.Q(y.Z()*4),Vj:k.Q(y.Z()*4),cR:k.Q(y.Z()*4),DD:null,kV:y};
this.mQ_();this.Mw=[1];this.vR=0};MT.prototype.mQ_=function(){var Q=this.VI,S=Q.rect.Z(),B=this.ac.d(),y=Q._v.slice(0);
for(var l=0;l<S;l++)if(Q.Dx[l]<B)y[l]=128;k.St(Q.cR,4294967295);k.KF(y,Q.cR,0);k.KF(y,Q.cR,1);k.KF(y,Q.cR,2);
this.dr()};MT.prototype.dr=function(){var Q=this.VI,S,l,D,R=0,p=0,O=0;this.mcQ();if(!0)S=Q.rect;else{var B=Math.min(S.r,S.O);
B=Math.max(B,50);S.Jq(B,B);S=S.nG(Q.rect);while((S.r&3)!=0){S.r++;if(S.r+S.x>Q.rect.r)S.x--}while((S.O&3)!=0){S.O++;
if(S.O+S.y>Q.rect.O)S.y--}console.log(S)}var y=k.Q(S.Z());if(S.UH(Q.rect)){k.MA(Q.cR,y,0);l=Q.Ko}else{l=k.Q(S.Z()*4);
k.oD(Q.cR,Q.rect,l,S);k.MA(l,y,0);k.oD(Q.Ko,Q.rect,l,S)}for(var M=0;M<y.length;M++){var U=y[M];if(U==0)R++;
else if(U==255)p++;else O++}if(R*p*O!=0){D=k.lJ.lJ(S,l,y)}else{D=l.slice(0);k.KF(y,D,3)}if(S.UH(Q.rect))Q.DD=D;
else k.oD(D,S,Q.DD,Q.rect);this.mcY()};MT.prototype.mcQ=function(Q){var S=this.VI,B=S.kV;k.oD(S.Ko,S.rect,S.tj,S.rect,B,!0);
k.X.Rc("norm",S.cR,S.rect,S.tj,S.rect,B,.3);this.Oe.L([{iQ:S.rect,data:S.tj.buffer}])};MT.prototype.mcY=function(Q){var S=this.VI;
k.St(S.Vj,[0,4294967295,4278190080][this.Sn.d()]);k.X.Rc("norm",S.DD,S.rect,S.Vj,S.rect,S.rect,1);this.Wx.L([{iQ:S.rect,data:S.Vj.buffer}])};
MT.prototype.SC=function(Q){var S=this.CB,B=this.VI,y=this.kJ.d(),l=S.G[S.I[0]],D=new b(P.E.D,!0);D.qi=!0;
var R=l.rect.clone();if(y==0&&l.qm()||y!=0&&!l.qm()){D.h=K.Sb;D.data={H:z.eo,$:S.I[0]};this.B(D)}if(S.m!=null){D.h=K.wl;
D.data={H:"fromAction",wT:K.pL.Cv()};this.B(D)}if(y==0){var p=S.G.slice(0),O=S.oz();O.pM(l.getName());
p.splice(S.I[0]+1,0,O);O.rect=R;O.buffer=B.DD;O.s();D.h=K.Sb;D.data={H:z.DF,FP:p,mT:[S.I[0]+1],$a:[7,11]};
this.B(D)}if(y==1){var M=l.Tb();D.h=K.Sb;D.data={H:z.UY,maw:!0};this.B(D);var U=l.Tb();U.channel=k.Q(R.Z());
U.rect=R;U.color=0;U.DP=!0;k.MA(B.DD,U.channel,3);if(M){var m=U.Cr(M);U.rect=m.rect;U.channel=m.channel;
U.color=m.color}U.On();l.Zs()}if(y==2){var Y={rect:R,channel:k.Q(R.Z())};k.MA(B.DD,Y.channel,3);D.h=K.wl;
D.data={H:"setsel",m:Y,$a:this.YW};this.B(D)}this.close()};function mi(){Nv.call(this,[1,13],"locstor");
this.Kv=null;this.JP=[];var Q=this.body,S=P.P("p");S.textContent="These files are loaded every time you start Photopea.";
Q.appendChild(S);this.mJd=0;this.kh=P.P("span");Q.appendChild(this.kh);this.kh.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
this.kC=new Nw([5,4],!1,null,!0);this.kC.w("click",this.mGZ,this);Q.appendChild(this.kC.p);this._t=new Ln(!0);
this._t.parent=this;this._t.Fw(1);this._t.w(P.E.Y,this.mGl,this);Q.appendChild(this._t.p);this._t.p.setAttribute("style","width: 40em; height: 25em")}mi.prototype=new Nv;
mi.prototype.b=function(){Nv.prototype.b.call(this);this.kh.textContent=Nd.get([13,2])+": "+QE.jU(this.mJd);
this.kC.b()};mi.prototype.on=function(Q,S){this.Kv=Q;if(S==rS.Xs)this.Cp()};mi.prototype.Cp=function(Q,S){var B=this.Kv.av.WP,O=0;
this.JP=[];for(var y in B)this.JP.push(y);this.JP.sort(function(m,Y){m=m.split(".");Y=Y.split(".");return m[1]==Y[1]?m[0]<Y[0]?-1:1:m[1]<Y[1]?-1:1});
var l=Math.floor(100*P._()),D=Math.floor(16*P._()),R=[],p=[];for(var M=0;M<this.JP.length;M++){var y=this.JP[M],U=mi.xs(y,B[y],l,D);
R.push(U);p.push(y);O+=B[y].byteLength}this._t.Tf(R,p,l,D);this.mJd=O;this.b()};mi.prototype.mGl=function(Q){this._t.OF(this._t.d())};
mi.prototype.mGZ=function(Q){var S=this._t.d();if(S==-1){alert("Select a file first.");return}this._t.L(-1);
var B=this.Kv.av.WP;delete B[this.JP[S]];var y=new b(P.E.T,!0);y.data={H:P.l.Kk,yQ:rS.Xs};this.B(y)};
mi.xs=function(Q,S,B,y){var l=P.P("canvas"),p=0;l.width=B;l.height=y;var D=l.getContext("2d"),R=Q.split(".").pop().toLowerCase();
for(var O=0;O<R.length;O++)p+=R.charCodeAt(O)*613<<8*O;D.fillStyle="#"+k.eb(p&16777215);D.fillRect(0,0,20,y);
var M=Math.floor(14*P._());D.fillStyle="#000000";D.font="bold "+M+"px sans-serif";var U=(y-M)/2,m=QE.jU(S.byteLength),Y=D.measureText(m);
D.fillText(m,B-12-Y.width,y-U);return l.toDataURL()};function pR(Q,S,B){Nv.call(this,S,"cwindow");this.mnN=new v(B[0],B[1]-33);
this.pG=P.P("div","form");this.pG.setAttribute("style","width:"+(B[2]-B[0])+"px; height:"+(B[3]-B[1])+"px");
this.body.appendChild(this.pG)}pR.prototype=new Nv;pR.prototype.Rs=function(Q,S){return this.mnN.clone()};
function Nn(Q,S,B,y){NJ.call(this);this.name=Q;this.mnL=B;this.aw=y;this.qZ=P.P("div","");this.qZ.setAttribute("draggable","true");
this.iA=P.P("div","pbody");this.cj=new Nw("",!1,"");this.cj.parent=this;this.mhu=P.P("span","cross");
this.XP=P.P("span","label");var l=this.mGS.bind(this);this.qZ.addEventListener("mousedown",this.mGP.bind(this),!1);
this.qZ.addEventListener("contextmenu",l,!1);this.cj.p.addEventListener("contextmenu",l,!1);this.mhu.addEventListener("mousedown",this.RJ.bind(this),!1);
this.qZ.appendChild(this.XP);if(S)this.qZ.appendChild(this.mhu);this.Ci=!1;this.ku=new RW([{name:[1,12]}]);
this.ku.w("select",this.RJ,this);this.XP.textContent=Q}Nn.prototype=new NJ;Nn.prototype.WA=function(){return null};
Nn.prototype.jD=function(){return new v(0,0)};Nn.prototype.b=function(){var Q=Nd.get(this.name),S=this.QP==0?22:Math.round(2+this.QP/50),B=Q.length>S;
this.XP.textContent=B?Q.slice(0,S-2):Q;if(B)for(var y=0;y<2;y++){var l=P.P("span");l.textContent=Q.charAt(S-2+y);
l.setAttribute("style","opacity:"+(.6-y*.4));this.XP.appendChild(l)}var D=Q.split(" "),R=D.length==2?D[0].substring(0,2)+D[1][0]:Q.substring(0,3);
if(R.charCodeAt(0)>=11776)R=R.substring(0,1);var p=this.mnL;if(p==null)this.cj.CE(R,Q);else{if(p.indexOf("\"")==-1)this.cj.CE("<img src=\""+p+"\" alt=\""+Q+"\" height=\"20\" />",Q)}};
Nn.prototype.enable=function(){this.iA.setAttribute("class","pbody")};Nn.prototype.disable=function(){this.iA.setAttribute("class","pbody disabled")};
Nn.prototype.on=function(Q,S){};Nn.prototype.Cp=function(Q,S,B){};Nn.prototype.Kl=function(Q,S){};Nn.prototype.hj=function(Q){this.name=Q;
this.b()};Nn.prototype.ad=function(){};Nn.prototype.mGP=function(Q){if(Q.button==0)this.B(new b("select",!1))};
Nn.prototype.mGS=function(Q){Q.stopPropagation();Q.preventDefault();if(this.aw!=null&&isNaN(this.aw))return;
var S=P.Jo(Q,document.body),B=this.ku;B.update(null);B.b();B.parent=this;var y=new b(P.E.T,!0);y.data={H:P.l.ow,qr:B,x:S.x+1,y:S.y+1};
this.B(y)};Nn.prototype.Fp=function(){this.RJ({})};Nn.prototype.RJ=function(Q){if(Q.stopPropagation)Q.stopPropagation();
if(this.aw!=null&&!isNaN(this.aw)){var S=new b(P.E.T,!0);S.data={H:P.l.rb,qr:this.ku};this.B(S);S.data={H:P.l.Kk,yQ:rS.Vz,z:parseFloat(this.aw),DS:"del"};
this.B(S)}else if(this.mda())this.B(new b(P.E.Dq,!1))};Nn.prototype.mda=function(Q){return!0};Nn.prototype.OQ=function(Q,S,B,y,l){};
Nn.prototype.Uy=function(Q,S,B,y,l){};Nn.prototype.sn=function(Q,S,B,y,l){};Nn.OI=function(Q,S){if(Q.childElementCount!=0)return;
var B=Q.textContent;this.oI=this.maz.bind(this);this.mhA=this.maN.bind(this);this.lq=S;this.KV=Q;this.mnG=B;
var y=P.P("input","");y.setAttribute("type","text");y.setAttribute("size","10");y.setAttribute("value",B);
P.EW(Q);Q.appendChild(y);y.select();y.focus();Q.addEventListener("keyup",this.oI,!1);document.body.addEventListener("mousedown",this.mhA,!1)};
Nn.OI.prototype.maz=function(Q){var S=A.GW,B=S(Q.code,A._o);if(S(Q.code,A.fr)||B)this.mJL(B)};Nn.OI.prototype.maN=function(Q){var S=Q.target;
if(S.tagName&&S.tagName.toLowerCase()=="input")return;this.mJL(!0)};Nn.OI.prototype.mJL=function(Q){var S=this.KV;
S.removeEventListener("keyup",this.oI);document.body.removeEventListener("mousedown",this.mhA);if(Q){var B=S.firstChild.value;
this.lq(B)}else{P.EW(S);S.textContent=this.mnG}};Nn.Dg={CF:"0",mac:"1",Sb:"2",maq:"3",maJ:"4",jO:"5",CSS:"6",Kz:"7",mav:"8",maj:"9",mvQ:"10",mgV:"11",mvy:"12",li:"13",FG:"14",mvV:"15",mvf:"16",Yj:"17"};
function LQ(){Nn.call(this,[9,9],!1,null,Nn.Dg.mgV);this.Kv=null;this.DK=[0,0];this.op=P.P("div","padded scrollable");
this.op.setAttribute("style","width:260px;  height:260px");this.iA.appendChild(this.op);this.w(P.E.Y,this.Wf,this);
this.Cq=P.P("div","lpfoot");this.iA.appendChild(this.Cq);this.oU=[];var Q="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",S="</svg>",B=Q+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+S,y=Q+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+S;
this.mhY=Q+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+S;this.mnf=Q+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+S;
var l=[this.mhY,y,"lrs/folder","lrs/newlayer","lrs/bin",B],D=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var R=0;R<l.length;R++){var p=l[R];if(1<R&&R!=l.length-1)p="<img src=\""+PIMG[l[R]]+"\" class=\"gsicon\" />";
var O=new Nw(p,!1,D[R]);O.w("click",this.mwI,this);this.Cq.appendChild(O.p);this.oU.push(O)}}LQ.prototype=new Nn("");
LQ.prototype.b=function(){Nn.prototype.b.call(this);for(var Q=0;Q<this.oU.length;Q++)this.oU[Q].b()};
LQ.prototype.mwI=function(Q){var S=this.oU.indexOf(Q.currentTarget),B=this.DK,y=this.Kv,l=y.AB;if(S==0){var D,R=y.Ss;
if(l.length==0){alert("Create an Action Set first.");return}if(B.length<2){alert("Select a target action first.");
return}if(R==null){D=this.mnf;R=this.DK}else{D=this.mhY;R=null}this.oU[0].CE(D);y.Ss=R}else if(S==1)this.mvn();
else if(S==2||S==3){var p={$a:"Action Set "+l.length,S:[],exp:!0};if(S==2||l.length==0){B=[l.length];
l.push(p)}if(S==3){var O=l[B[0]].S;B=[B[0],O.length];O.push({$a:"Action "+O.length,color:0,S:[],mut:!1,shift:!1,exp:!0,d_:O.length})}this.DK=B;
this.FI()}else if(S==4){var M;if(B.length==1)M=l;else if(B.length==2)M=l[B[0]].S;else M=l[B[0]].S[B[1]].S;
var U=B.length-1;M.splice(B[U],1);if(M.length==0)B.pop();else while(B[U]>=M.length)B[U]--;if(B.length==0)B.push(0);
this.FI()}else if(S==5){if(l.length==0){alert("No Actions Present.");return}var m=new b(P.E.T,!0);m.data={H:P.l.us,mMN:rS.D,sA:B[0]};
this.B(m)}};LQ.prototype.Wf=function(Q){var S=this.Kv.AB,B=Q.data.H,y=Q.data._X;if(B=="sel")this.DK=y;
if(B=="fold"){if(y.length==1)S[y[0]].exp=!S[y[0]].exp;else S[y[0]].S[y[1]].exp=!S[y[0]].S[y[1]].exp}if(B=="enab"){var l=S[y[0]].S[y[1]].S[y[2]];
l.o=!l.o}if(B=="nchange"){if(y.length==1)S[y[0]].$a=Q.data.wa;else S[y[0]].S[y[1]].$a=Q.data.wa}this.FI()};
LQ.prototype.on=function(Q,S){this.Kv=Q;if(S==rS.D||S==rS.E_)this.FI()};LQ.prototype.FI=function(){if(this.Kv==null)return;
P.EW(this.op);var Q=this.Kv.AB;if(Q.length==0)return;var S=JSON.stringify(this.DK);for(var B=0;B<Q.length;
B++){var y=Q[B],l=new LQ.G_([B],S,y.exp,y.$a.split("=").pop());l.parent=this;this.op.appendChild(l.p);
if(!y.exp)continue;for(var D=0;D<y.S.length;D++){var R=y.S[D],l=new LQ.G_([B,D],S,R.exp,R.$a.split("=").pop());
l.parent=this;this.op.appendChild(l.p);if(!R.exp)continue;for(var p=0;p<R.S.length;p++){var O=R.S[p],l=new LQ.G_([B,D,p],S,null,Nd.get(mg.mvz(O)),O.o);
l.parent=this;this.op.appendChild(l.p)}}}};LQ.prototype.mvn=function(){var Q=this.Kv.AB,S=this.DK;if(Q.length==0){alert("No Actions Present");
return}if(S.length==1){alert("Select an Action first");return}if(this.Kv.Ss!=null){alert("You can not apply actions while recording actions");
return}if(S.length==1)S.push(0);var B=new b(P.E.RK,!0),y=Q[S[0]].S[S[1]].S;for(var l=0;l<y.length;l++){var D=y[l];
if(!D.o)continue;B.data={QF:D.QF,$o:D.$o};this.B(B)}};LQ.G_=function(Q,S,B,y,l){NJ.call(this);this._X=Q;
var D=this._X.length-1;this.p=P.P("div","layeritem"+(JSON.stringify(Q)==S?" selected":""));this.jE=P.P("div","head");
this.p.appendChild(this.jE);this.jE.setAttribute("style","height:24px");this.Oq=P.P("div","headL");this.jE.appendChild(this.Oq);
if(D!=0){var R=P.P("div");R.style.width=D*20+"px";this.Oq.appendChild(R)}if(B!=null){var p=this.mnn=P.P("div",B?"open":"closed");
this.Oq.appendChild(p)}else{var O=this.mns=P.P("div","cmark");O.setAttribute("style","background-size:12px 12px; opacity:"+(l?1:.3));
this.Oq.appendChild(O)}if(D==0){var M=P.P("div","folder");this.Oq.appendChild(M)}var U=this.XP=P.P("div","label");
U.textContent=y;this.Oq.appendChild(U);this.p.addEventListener("mouseup",this.Ru.bind(this),!1)};LQ.G_.prototype=new NJ;
LQ.G_.prototype.Ru=function(Q){if(Q.detail==1&&Q.target.tagName.toLowerCase()!="input"){var S="sel";
if(Q.target==this.mnn)S="fold";if(Q.target==this.mns)S="enab";var B=new b(P.E.Y,!0);B.data={H:S,_X:this._X};
this.B(B)}else if(this._X.length<3)var y=new Nn.OI(this.XP,this.lq.bind(this))};LQ.G_.prototype.lq=function(Q){var S=new b(P.E.Y,!0);
S.data={H:"nchange",wa:Q,_X:this._X};this.B(S)};function NY(){Nn.call(this,[9,3],!1,null,Nn.Dg.Kz);this.Gw=null;
this.bW=null;this.Kv=null}NY.prototype=new Nn("");NY.prototype.OH=function(){var Q=P.P("div","");this.iA.appendChild(Q);
this.Oc=P.P("div","bordered cell");this.Oc.setAttribute("style","width:10em; height:28.5em;");Q.appendChild(this.Oc);
this.KW=[];this.kF=null;this.mq=[];var S=this.mvk.bind(this);this.cw=[new NY.tO,new NY.UX,new NY.lh,new NY.Ri];
for(var B=0;B<this.cw.length;B++){var y=P.P("div","listitem"),l=this.cw[B].Uv,D=null;if(B==0){this.kF=new RT(l);
y.appendChild(this.kF.p)}else{D=new mM(l,!1);D.w(P.E.Y,this.mvT,this);y.appendChild(D.p)}this.mq.push(D);
this.Oc.appendChild(y);this.KW.push(y);y.addEventListener("click",S,!1)}this.ov=P.P("div","cell padded");
Q.appendChild(this.ov);for(var B=0;B<this.cw.length;B++)this.cw[B].w("brushchange",this.mvj,this);this.setItem(0);
this.pr=P.P("canvas","");this.pr.width=Math.floor(380*P._());this.pr.height=Math.floor(80*P._());P.eu(this.pr,this.pr.width,this.pr.height);
Q.appendChild(this.pr);this.oX=this.pr.getContext("2d");this.dr()};NY.prototype.ad=function(){if(this.Oc){this.dr();
return}this.OH();this.b();this.on(this.Kv,rS.E_)};NY.prototype.b=function(){Nn.prototype.b.call(this);
if(this.Oc==null)return;this.kF.b();for(var Q=1;Q<this.mq.length;Q++)this.mq[Q].b();for(var Q=0;Q<this.cw.length;
Q++)this.cw[Q].b()};NY.prototype.mvj=function(Q){var S=this.cw.indexOf(Q.currentTarget),B=JSON.parse(JSON.stringify(this.cw[S].bW)),y=new b(P.E.T,!0);
y.data={H:P.l.Kk,yQ:rS.tP,bW:B};this.B(y)};NY.prototype.mvT=function(Q){this.mzu(this.mq.indexOf(Q.currentTarget),Q.currentTarget.xH())};
NY.prototype.mvk=function(Q){var S=this.KW.indexOf(Q.currentTarget);if(Q.target.tagName.toLowerCase()=="input")return;
if(this.mq[S]&&!this.mq[S].xH()){this.mq[S].Cx();this.mzu(S,!0)}this.setItem(S)};NY.prototype.mzu=function(Q,S){this.cw[Q].ji(S)};
NY.prototype.setItem=function(Q){for(var S=0;S<this.cw.length;S++)this.KW[S].setAttribute("class","listitem");
if(this.ov.firstChild)this.ov.removeChild(this.ov.firstChild);this.KW[Q].setAttribute("class","listitem selected");
this.ov.appendChild(this.cw[Q].p)};NY.prototype.on=function(Q,S){this.Kv=Q;if(this.Oc==null)return;if(S==rS.Kz||S==rS.E_){this.Gw=Q.ml;
for(var B=0;B<this.cw.length;B++)this.cw[B].XO(this.Gw)}if(S==rS.tP||S==rS.E_){this.bW=Q.ml.Zr;this.dr()}if(S==rS.li)this.dr()};
NY.prototype.dr=function(){if(this.bW)this.enable();else{this.disable();return}if(!P.lG(this.iA))return;
var Q=this.Kv;for(var S=0;S<this.cw.length;S++){this.cw[S].L(this.bW);if(this.mq[S])this.mq[S].L(this.cw[S].xH())}var B=JSON.parse(JSON.stringify(this.bW));
B.Brsh.v.Dmtr.v.val=Math.min(B.Brsh.v.Dmtr.v.val,50);var y=new w(0,0,this.pr.width,this.pr.height),l=new Nl(B,this.Gw?this.Gw.gZ:null,this.Gw?this.Gw.JR:null,{Md:1},Q.Tq,Q.hB,y),D=40*P._(),R=300*P._();
l.moveTo(D,D);for(var S=0;S<=R;S+=10)l.lineTo(D+S,D+20*Math.sin(2*Math.PI*S/R));l.finish();var p=this.oX.createImageData(y.r,y.O);
k.oD(l.Du(),l.jH(),p.data,y);this.oX.putImageData(p,0,0)};NY.ZA=function(Q){NJ.call(this);this.Uv=Q;
this.p=P.P("div","");this.bW=null};NY.ZA.prototype=new NJ;NY.ZA.prototype.XO=function(Q){};NY.ZA.prototype.L=function(Q){this.bW=JSON.parse(JSON.stringify(Q));
this.p.setAttribute("class",this.xH()?"":"disabled");this.dr()};NY.ZA.prototype.ji=function(Q){};NY.ZA.prototype.xH=function(){return!1};
NY.ZA.prototype.b=function(){};NY.ZA.prototype.dr=function(){};NY.ZA.prototype._R=function(){this.B(new b("brushchange"))};
NY.tO=function(){NY.ZA.call(this,[15,0]);this.Gw=null;this.mCn=null;this.WH=new Ln(!0);this.p.appendChild(this.WH.p);
this.WH.w(P.E.Y,this.mvb,this);this.WH.p.style.height="10.7em";this.Fz=new mf([12,14,0],1,1e3," px",0,!0);
this.Fz.w(P.E.Y,this.mvx,this);this.Fm=new mf([12,15],0,359," \xB0");this.Fm.w(P.E.Y,this.mvS,this);
this.Fr=new mf([12,16],0,100," %");this.Fr.w(P.E.Y,this.mvK,this);this.FN=new mf([12,17],0,100," %");
this.FN.w(P.E.Y,this.mwh,this);this.FQ=new mf([12,18],1,300," %");this.FQ.w(P.E.Y,this.mwv,this);this.KW=[this.Fz,this.Fm,this.Fr,this.FN,this.FQ]};
NY.tO.prototype=new NY.ZA;NY.tO.prototype.b=function(){this.Fz.b();this.Fm.b();this.Fr.b();this.FN.b();
this.FQ.b()};NY.tO.prototype.xH=function(){return!0};NY.tO.prototype.XO=function(Q){this.Gw=Q;var S=[],B=Math.floor(30*P._()),y=Math.floor(40*P._());
for(var l=0;l<Q.list.length;l++){var D=Q.list[l].v,R=Nl.xs(D,Q.gZ,Q.JR,B,y);S.push(R)}this.WH.Tf(S,null,B,y)};
NY.tO.prototype.dr=function(){var Q=this.bW.Brsh.v,S=Q.classID!=this.mCn;this.mCn=Q.classID;if(S)for(var B=0;
B<this.KW.length;B++)if(this.p.contains(this.KW[B].p))this.p.removeChild(this.KW[B].p);this.Fz.L(Q.Dmtr.v.val);
if(S)this.p.appendChild(this.Fz.p);this.Fm.L(Q.Angl.v.val);if(S)this.p.appendChild(this.Fm.p);if(Q.classID=="computedBrush"||Q.classID=="sampledBrush"){this.Fr.L(Q.Rndn.v.val);
if(S)this.p.appendChild(this.Fr.p)}if(Q.classID=="computedBrush"){this.FN.L(Q.Hrdn.v.val);if(S)this.p.appendChild(this.FN.p)}this.FQ.L(Q.Spcn.v.val);
if(S)this.p.appendChild(this.FQ.p)};NY.tO.prototype.mvb=function(Q){this.bW=this.Gw.list[this.WH.d()].v;
this._R()};NY.tO.prototype.mvx=function(Q){this.bW.Brsh.v.Dmtr.v.val=Q.target.d();this._R()};NY.tO.prototype.mvS=function(Q){this.bW.Brsh.v.Angl.v.val=Q.target.d();
this._R()};NY.tO.prototype.mvK=function(Q){this.bW.Brsh.v.Rndn.v.val=Q.target.d();this._R()};NY.tO.prototype.mwh=function(Q){this.bW.Brsh.v.Hrdn.v.val=Q.target.d();
this._R()};NY.tO.prototype.mwv=function(Q){this.bW.Brsh.v.Spcn.v.val=Q.target.d();this._R()};NY.UX=function(){NY.ZA.call(this,[15,1]);
this.S$=new mf([15,4,0],0,100," %");this.S$.w(P.E.Y,this.mwD,this);this.p.appendChild(this.S$.p);this.SS=new mf([15,4,1],0,100," %");
this.SS.w(P.E.Y,this.mwH,this);this.p.appendChild(this.SS.p);this.Kp=new mf([15,4,2],0,100," %");this.Kp.w(P.E.Y,this.mwS,this);
this.p.appendChild(this.Kp.p);this.Kr=new mf([15,4,3],0,100," %");this.Kr.w(P.E.Y,this.mwK,this);this.p.appendChild(this.Kr.p);
this.Kd=new mf([15,4,4],0,100," %");this.Kd.w(P.E.Y,this.mfy,this);this.p.appendChild(this.Kd.p)};NY.UX.prototype=new NY.ZA;
NY.UX.prototype.b=function(){this.S$.b();this.SS.b();this.Kp.b();this.Kr.b();this.Kd.b()};NY.UX.prototype.xH=function(){return this.bW.useTipDynamics.v};
NY.UX.prototype.ji=function(Q){this.bW.useTipDynamics.v=Q;p_.hO.hv(this.bW);this._R()};NY.UX.prototype.dr=function(){var Q=this.bW;
if(Q.useTipDynamics.v==!1)return;this.S$.L(Q.szVr.v.jitter.v.val);this.SS.L(Q.minimumDiameter.v.val);
this.Kp.L(Q.angleDynamics.v.jitter.v.val);this.Kr.L(Q.roundnessDynamics.v.jitter.v.val);this.Kd.L(Q.minimumRoundness.v.val)};
NY.UX.prototype.mwD=function(Q){this.bW.szVr.v.jitter.v.val=Q.target.d();this._R()};NY.UX.prototype.mwH=function(Q){this.bW.minimumDiameter.v.val=Q.target.d();
this._R()};NY.UX.prototype.mwS=function(Q){this.bW.angleDynamics.v.jitter.v.val=Q.target.d();this._R()};
NY.UX.prototype.mwK=function(Q){this.bW.roundnessDynamics.v.jitter.v.val=Q.target.d();this._R()};NY.UX.prototype.mfy=function(Q){this.bW.minimumRoundness.v.val=Q.target.d();
this._R()};NY.lh=function(){NY.ZA.call(this,[15,2]);this.Ky=new mf([15,5,0],0,1e3," %");this.Ky.w(P.E.Y,this.mfW,this);
this.p.appendChild(this.Ky.p);this.Ks=new mf([15,5,1],1,20);this.Ks.w(P.E.Y,this.mfn,this);this.p.appendChild(this.Ks.p);
this.Kt=new mf([15,5,2],0,100," %");this.Kt.w(P.E.Y,this.mfB,this);this.p.appendChild(this.Kt.p)};NY.lh.prototype=new NY.ZA;
NY.lh.prototype.b=function(){this.Ky.b();this.Ks.b();this.Kt.b()};NY.lh.prototype.xH=function(){return this.bW.useScatter.v};
NY.lh.prototype.ji=function(Q){this.bW.useScatter.v=Q;p_.hO.hv(this.bW);this._R()};NY.lh.prototype.dr=function(){var Q=this.bW;
if(Q.useScatter.v==!1)return;this.Ky.L(Q.scatterDynamics.v.jitter.v.val);this.Ks.L(Q.Cnt.v);this.Kt.L(Q.countDynamics.v.jitter.v.val)};
NY.lh.prototype.mfW=function(Q){this.bW.scatterDynamics.v.jitter.v.val=Q.target.d();this._R()};NY.lh.prototype.mfn=function(Q){this.bW.Cnt.v=Q.target.d();
this._R()};NY.lh.prototype.mfB=function(Q){this.bW.countDynamics.v.jitter.v.val=Q.target.d();this._R()};
NY.Ri=function(){NY.ZA.call(this,[15,3]);this.KH=new mf([15,6,0],0,100," %");this.KH.w(P.E.Y,this.mfl,this);
this.p.appendChild(this.KH.p);this.__=new mf([15,6,1],0,100," %");this.__.w(P.E.Y,this.mfH,this);this.p.appendChild(this.__.p);
this.mz=new mf([15,6,2],0,100," %");this.mz.w(P.E.Y,this.mfY,this);this.p.appendChild(this.mz.p);this.mM=new mf([15,6,3],0,100," %");
this.mM.w(P.E.Y,this.mUu,this);this.p.appendChild(this.mM.p)};NY.Ri.prototype=new NY.ZA;NY.Ri.prototype.b=function(){this.KH.b();
this.__.b();this.mz.b();this.mM.b()};NY.Ri.prototype.xH=function(){return this.bW.useColorDynamics.v};
NY.Ri.prototype.ji=function(Q){this.bW.useColorDynamics.v=Q;p_.hO.hv(this.bW);this._R()};NY.Ri.prototype.dr=function(){var Q=this.bW;
if(Q.useColorDynamics.v==!1)return;this.KH.L(Q.clVr.v.jitter.v.val);this.__.L(Q.H.v.val);this.mz.L(Q.Strt.v.val);
this.mM.L(Q.Brgh.v.val)};NY.Ri.prototype.mfl=function(Q){this.bW.clVr.v.jitter.v.val=Q.target.d();this._R()};
NY.Ri.prototype.mfH=function(Q){this.bW.H.v.val=Q.target.d();this._R()};NY.Ri.prototype.mfY=function(Q){this.bW.Strt.v.val=Q.target.d();
this._R()};NY.Ri.prototype.mUu=function(Q){this.bW.Brgh.v.val=Q.target.d();this._R()};function MP(){Nn.call(this,[9,0],!1,null,Nn.Dg.CF);
this.iA.setAttribute("style","min-width:200px;");this.fL=P.P("div","hpbody scrollable");this.fL.style.height="160px";
this.iA.appendChild(this.fL);this.mnt=-1;this.k_=[]}MP.prototype=new Nn("");MP.prototype.Cp=function(Q){P.EW(this.fL);
if(Q==null)return;var S=0;for(var B=0;B<Q.history.length;B++)if(B<=Q.GS&&!Q.history[B].Bv)S=B;for(var B=0;
B<Q.history.length;B++){var y=Q.history[B];if(y.Bv)continue;var l=new MI(y,B,S);l.parent=this;this.fL.appendChild(l.p);
this.k_.push(l)}if(Q.GS==Q.history.length-1)this.ad()};MP.prototype.ad=function(){this.fL.scrollTop=this.fL.scrollHeight};
MP.prototype.b=function(){Nn.prototype.b.call(this);for(var Q=0;Q<this.k_.length;Q++)this.k_[Q].b()};
function MI(Q,S,B){NJ.call(this);this.index=S;this.p=P.P("div",S==B?"listitem selected":"listitem");
this.Ns=Q.name;this.b();if(S>B)this.p.style.opacity=.4;this.p.addEventListener("click",this.OQ.bind(this),!1)}MI.prototype=new NJ;
MI.prototype.b=function(){this.p.textContent=Nd.get(this.Ns)};MI.prototype.OQ=function(Q){if(this.index==this.parent.mnt)return;
this.Fo({H:"h_itemchange",index:this.index})};MI.prototype.Fo=function(Q){var S=new b(P.E.D,!0);S.data=Q;
S.h=K.CF;this.B(S)};function Mg(){Nn.call(this,[9,10],!1,null,Nn.Dg.maJ);var Q=P.P("div","padded");this.iA.appendChild(Q);
this.Ki=new MM(256);Q.appendChild(this.Ki.p);this.mnX=[];this.ms=[];var S=["Mean:","Pixels:"];for(var B=0;
B<S.length;B++){var y=new RT(S[B]);this.mnX.push(y);Q.appendChild(y.p);var l=new RT("hi");this.ms.push(l);
Q.appendChild(l.p);P.XL(Q)}this.EJ=null}Mg.prototype=new Nn("");Mg.prototype.Cp=function(Q){this.EJ=Q;
this.FI()};Mg.prototype.FI=function(){var Q=this.EJ,M=0;if(!P.lG(this.iA))return;if(Q==null||Q.I.length==0){this.Ki.L(k.Qd(k.Q(4)));
this.ms[0].L("");this.ms[1].L("");return}var S=Q.qB(),B=new w(0,0,Q.r,Q.O),y=B.Z();if(Q.m){var l=Q.m.rect,D=k.Q(l.Z()*4);
k.oD(S,B,D,l);k.xY(Q.m.channel,D);S=D;B=l;var R=Q.m.channel;y=0;for(var p=0;p<R.length;p++)y+=R[p];y=Math.round(y/255)}var O=k.Qd(S);
this.Ki.L(O);for(var p=0;p<256;p++)M+=p*(.333*O[1][p]+.333*O[2][p]+.333*O[3][p]);this.ms[0].L((M/y).toFixed(1)+"");
this.ms[1].L(y+"")};Mg.prototype.on=function(Q,S){this.Ki.TB(MQ.Jv[Q.QD]["--text-color"])};Mg.prototype.b=function(){Nn.prototype.b.call(this);
this.Ki.b()};Mg.prototype.ad=function(){this.FI()};function pq(){Nn.call(this,[9,8],!1,null,Nn.Dg.mac);
this.op=P.P("div","padded");this.iA.appendChild(this.op);this.kQ=new QT(10);this.op.appendChild(this.kQ.p);
this.op.appendChild(P.P("hr"));this.Oa=new m$;this.Oa.parent=this;this.op.appendChild(this.Oa.El);this.kQ.w(P.E.Y,this.mpn,this);
this.Oa.w(P.E.Y,this.mpn,this)}pq.prototype=new Nn("");pq.prototype.mpn=function(Q){var S;if(Q.target==this.kQ)S=this.kQ.d();
else{var B=this.Oa.d();S=Math.round(B.t)<<16|Math.round(B.e)<<8|Math.round(B.R)}var y=new b(P.E.T,!0);
y.data={H:P.l.Kk,yQ:rS.li,Di:0,z:S};this.B(y)};pq.prototype.on=function(Q,S){var B=Q.Tq,y=S==rS.E_;if(S==rS.li||y){this.kQ.L(B);
this.Oa.L({t:B>>>16&255,e:B>>>8&255,R:B>>>0&255,MX:"Color #"+k.eb(B)})}if(S==rS.JK||y){var l=Q.mCE;this.Oa.XO(l)}};
function rT(){Nn.call(this,[12,72],!1,null,Nn.Dg.mvf);this.mN=null;this.ME=null;this.fL=P.P("div","lpbody scrollable");
this.Cq=P.P("div","lpfoot");this.iA.appendChild(this.fL);this.iA.appendChild(this.Cq);this.ka=[];this.w("click",this.FV,this);
this.qb=[];this.R_();this.muw=new RW([{name:"Merge Channels",_A:!0}]);this.muw.w("select",this.oa,this)}rT.prototype=new Nn("");
rT.prototype.oa=function(Q){var S=new b(P.E.T,!0);S.data={H:P.l.ND,yc:"mergechannels"};this.B(S)};rT.prototype.WA=function(){return this.muw};
rT.prototype.R_=function(){var Q=["Save Selection as Channel",[5,3],[5,4]];for(var S=0;S<Q.length;S++){var B=new Nw("W",!1,Q[S]);
this.qb.push(B);P.jX(B.p,this.FJ.bind(this));this.Cq.appendChild(B.p)}};rT.prototype.FJ=function(Q){var S=0;
for(var B=0;B<this.qb.length;B++)if(this.qb[B].p==Q.currentTarget){S=B;break}var y=new b(P.E.RK,!0),l={classID:"null"};
if(S==0)l.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(S==1)l.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else l.null=mg.KG("Chnl",!0);y.data={QF:["duplicate","make","delete"][S],$o:l};this.B(y)};rT.prototype.KR=function(Q){var S=this.ka,B=S[Q];
if(B==null){var y=P.P("canvas");B=y.getContext("2d");S.push(B)}return B};rT.prototype.FV=function(Q){var S=this.mN.slice(0),B=Q.data.d_,y=S[0]+S[1]+S[2],l=this.ME;
if(-5<B&&B<0){var D=-B-1;if(Q.data.kf){if(D==0)S=y==3?[0,0,0]:[1,1,1];else{if(S[D-1]==0)S[D-1]=1;else if(!0)S[D-1]=0}}else{if(D==0)S=[1,1,1];
else{S=[0,0,0];S[D-1]=1}l.rL=[]}var R=new b(P.E.D,!0);R.h=K.yk;R.data={H:"setcls",T$:S};this.B(R);return}if(-1<B){var p=l.G[B],O=p.Wg==1?p.Tb():p.DG(l).k;
if(Q.data.kf)O.TX=!O.TX;else{for(var M=0;M<l.Ka.length;M++)l.Ka[M].TX=!1;l.rL=[]}}else{var U=-B-5,O=l.Ka[U];
if(Q.data.kf)O.TX=!O.TX;else{for(var M=0;M<l.Ka.length;M++)l.Ka[M].TX=!1;O.TX=!0;l.rL=[U]}}l.rr=l.ha=!0};
rT.prototype.ad=function(){this.hb()};rT.prototype.Cp=function(Q){this.ME=Q;this.hb()};rT.prototype.hb=function(){var Q=this.ME,S=this.fL,p=34,O=34,T=4;
P.EW(S);if(Q==null||!P.lG(S))return;var B=Q.r,y=Q.O,l=new w(0,0,B,y),D=this.mN=Q.u.T$.slice(0),R=D[0]+D[1]+D[2];
if(B>y)O=Math.round(O*y/B);else p=Math.round(p*B/y);var M=["RGB"].concat(Nf.Xb);for(var U=0;U<4;U++){var m=this.KR(U);
k.Fb.kc(m,p,O,l,Q.qB(),l,!1,U==0?null:U-1);var Y=U==0?R==3:D[U-1]==1,x=new MF(-1-U,!0,!0,m,M[U],Y,Y);
x.parent=this;S.appendChild(x.p)}for(var U=0;U<Q.I.length;U++){var $=Q.G[Q.I[U]],L=$.Wg;if(L!=1&&L!=3)continue;
var s=L==1?$.Tb():$.DG(Q).k,m=this.KR(T+U);T++;k.Fb.iX(m,p,O,l,s);var x=new MF(Q.I[U],!0,!0,m,$.getName()+(L==1?"":" Filter")+" Mask",!0,s.TX);
x.parent=this;S.appendChild(x.p)}for(var U=0;U<Q.Ka.length;U++){var s=Q.Ka[U],m=this.KR(T+U);k.Fb.iX(m,p,O,l,s);
var x=new MF(-5-U,!0,s.name=="Quick Mask",m,s.name,Q.rL.indexOf(U)!=-1,s.TX,K.Sb,{H:z.Xa,Di:"rnm",d_:U});
x.parent=this;S.appendChild(x.p)}};rT.prototype.Kl=function(Q,S){this.fL.style.height=S-9-25+"px"};rT.prototype.b=function(){Nn.prototype.b.call(this);
this.hb();var Q=["lrs/mask","lrs/newlayer","lrs/bin"];for(var S=0;S<this.qb.length;S++){var B=this.qb[S];
B.CE(P.tC(Q[S]))}};function MF(Q,S,B,y,l,D,R,p,O){NJ.call(this);this.p=P.P("div","layeritem");this.mnO=Q;
this.mni=S;this.mnk=B;this.Gb=y;this.mnI=p;this.mnH=O;this.jE=P.P("div",D?"head selected":"head");this.jE.setAttribute("style","height: "+40+"px");
var M=P.P("div","headL"),U=P.P("div","headR"),m=15;this.p.appendChild(this.jE);this.jE.appendChild(M);
this.jE.appendChild(U);this.af=P.P("div","eye");if(1<P._()&&P._()<1.5)m=m/P._();this.af.setAttribute("style","background-size: "+m+"px "+m+"px;");
this.af.style.opacity=R?1:.2;if(S)M.appendChild(this.af);this.rD=P.P("div","thumb");this.rD.appendChild(y.canvas);
M.appendChild(this.rD);this.gd=P.P("div","label");if(B)this.gd.style.fontStyle="italic";this.gd.textContent=Nd.get(l);
M.appendChild(this.gd);this.jE.addEventListener("click",this.mU$.bind(this),!1)}MF.prototype=new NJ;
MF.prototype.lq=function(Q){var S=new b(P.E.D,!0);S.h=this.mnI;S.data=this.mnH;S.data.name=Q;this.B(S)};
MF.prototype.mU$=function(Q){var S=Q.ctrlKey||Q.metaKey,B=this.mnO;if(!this.mnk&&Q.detail==2&&Q.target==this.gd){var y=new Nn.OI(this.gd,this.lq.bind(this))}else if(S&&Q.target==this.Gb.canvas){var l=0;
if(Q.shiftKey)l++;if(Q.altKey)l+=2;var D=new b(P.E.D,!0);D.h=K.wl;if(this.mni)D.data={H:"fromchannel",oG:[B,0,l]};
else D.data={H:"fromlayer",oG:[B,2,l]};this.B(D)}else{var R=new b("click",!0);R.data={d_:B,kf:Q.target==this.af,mnS:S};
this.B(R)}};function QJ(){Nn.call(this,[8,9],!1,null,Nn.Dg.Yj);this.mN=null;this.ME=null;this.qb=[];
this.fL=P.P("div","lpbody scrollable");this.Cq=P.P("div","lpfoot");this.iA.appendChild(this.fL);this.iA.appendChild(this.Cq);
this.iA.addEventListener("click",this.mUX.bind(this),!1);this.ka=[];this.w("click",this.FV,this);this.R_()}QJ.prototype=new Nn("");
QJ.prototype.R_=function(){var Q=[[5,3],[5,4]];for(var S=0;S<Q.length;S++){var B=new Nw("W",!1,Q[S]);
this.qb.push(B);P.jX(B.p,this.FJ.bind(this));this.Cq.appendChild(B.p)}};QJ.prototype.FJ=function(Q){var S=0;
for(var B=0;B<this.qb.length;B++)if(this.qb[B].p==Q.currentTarget){S=B;break}var y=new b(P.E.D,!0);y.h=K.RA;
y.data={H:"pathedit",Di:["new","del"][S]};this.B(y)};QJ.prototype.KR=function(Q){var S=this.ka,B=S[Q];
if(B==null){var y=P.P("canvas");B=y.getContext("2d");S.push(B)}return B};QJ.prototype.mUX=function(Q){if(Q.target==this.fL){var S=this.ME;
S.lW=[];S.KC=[];S.ha=!0;S.rr=!0}};QJ.prototype.FV=function(Q){var S=Q.data.d_,B=this.ME,y=Q.data.mnS,l=0,D,R;
if(S<0){l=-1-S;D=B.lW;R=B.KC}else{var p=B.sH()[0];for(var O=0;O<p.length;O++){var M=p[O].d_;if(M==S)break;
if(M>=0)l++}D=B.KC;R=B.lW}if(y){var U=D.indexOf(l);if(U==-1)D.push(l);else D.splice(U,1)}else{while(D.length!=0)D.pop();
while(R.length!=0)R.pop();D.push(l)}B.ha=!0;B.rr=!0};QJ.prototype.ad=function(){this.hb()};QJ.prototype.Cp=function(Q){this.ME=Q;
this.hb()};QJ.prototype.hb=function(){var Q=this.ME,S=this.fL,p=34,O=34;P.EW(S);if(Q==null||!P.lG(S))return;
var B=Q.r,y=Q.O,l=new w(0,0,B,y),D=this.mN=Q.u.T$.slice(0),R=D[0]+D[1]+D[2];if(B>y)O=Math.round(O*y/B);
else p=Math.round(p*B/y);var M=Q.sH(),U=M[0];for(var m=0;m<U.length;m++){var Y=U[m],x=this.KR(m);k.Fb.mck(x,p,O,l,Y.add.vmsk);
var T=new MF(Y.d_,!1,Y.d_>=-1,x,Y.name,M[1].indexOf(m)!=-1,!1,K.RA,{H:"pathedit",Di:"rnm",d_:Y.d_});
T.parent=this;S.appendChild(T.p)}};QJ.prototype.Kl=function(Q,S){this.fL.style.height=S-9-25+"px"};QJ.prototype.b=function(){Nn.prototype.b.call(this);
this.hb();var Q=["lrs/newlayer","lrs/bin"];for(var S=0;S<this.qb.length;S++){var B=this.qb[S];B.CE(P.tC(Q[S]))}};
function Mv(Q){Nn.call(this,[9,Q?4:5],!1,null,Q?Nn.Dg.maj:Nn.Dg.mvQ);this.iA.setAttribute("style","min-width:240px;");
this.mEz=Q;this.mv=null;this.Kv=null}Mv.prototype=new Nn("");Mv.prototype.OH=function(){this.mv=new Mn;
var Q=this.mv,S=this.iA;Q.parent=this;if(this.mEz){var B=P.P("div","marged");S.appendChild(B);B.appendChild(Q.SH.p);
S.appendChild(P.P("hr"));var y=P.P("div","marged");S.appendChild(y);y.appendChild(Q.KQ.p);y.appendChild(Q.KU.p);
var l=P.P("div","marged");S.appendChild(l);l.appendChild(Q.mL.p);S.appendChild(P.P("hr"));var D=P.P("div","marged");
S.appendChild(D);D.appendChild(Q.sL.p);D.appendChild(Q.sc.p);var R=P.P("div","marged");S.appendChild(R);
R.appendChild(Q.sd.p);R.appendChild(Q.md.p);S.appendChild(P.P("hr"));var p=P.P("div","marged");S.appendChild(p);
p.appendChild(Q.HL.p);p.appendChild(Q.Hq.p);p.appendChild(Q.HV.p);p.appendChild(Q.Hh.p);p.appendChild(Q.Hf.p);
p.appendChild(Q.Hu.p);p.appendChild(Q.HU.p);p.appendChild(Q.H$.p)}else{var B=P.P("div","marged");S.appendChild(B);
B.appendChild(Q.lo.p);B.appendChild(Q.lb.p);B.appendChild(Q.lk.p);B.appendChild(Q.mdO.p);B.appendChild(Q.myR.p);
B.appendChild(Q.mdB.p);B.appendChild(Q.myJ.p);S.appendChild(P.P("hr"));var y=P.P("div","marged");S.appendChild(y);
y.appendChild(Q.hq.p);y.appendChild(Q.hh.p);y.appendChild(Q.hu.p);S.appendChild(P.P("hr"));var l=P.P("div","marged");
S.appendChild(l);l.appendChild(Q.hS.p);l.appendChild(Q.Cu.p);l.appendChild(Q.sy.p)}};Mv.prototype.ad=function(){if(!P.lG(this.iA))return;
if(this.mv==null){this.OH();if(this.Kv)this.mv.gS(this.Kv);this.mv.b()}};Mv.prototype.b=function(){Nn.prototype.b.call(this);
if(this.mv)this.mv.b()};Mv.prototype.on=function(Q,S){this.Kv=Q;if(S!=rS.E_&&S!=rS.Vq&&S!=rS.tn&&S!=rS.Yu)return;
if(this.mv)this.mv.gS(Q)};function MB(){Nn.call(this,[13,0],!1,null,Nn.Dg.li);this.kU=0;this.mgm=0;this.Kv=null;
var Q=P.P("div","flexrow padded");this.iA.appendChild(Q);var S=P.P("div");Q.appendChild(S);this.kn=[];
for(var B=0;B<2;B++){var y=new RU;this.kn.push(y);y.w("click",this.mUi,this);S.appendChild(y.p)}this.OU=new rt(192);
this.OU.w(P.E.Y,this.Wt,this);Q.appendChild(this.OU.p)}MB.prototype=new Nn("");MB.prototype.mUi=function(Q){this.kU=this.kn.indexOf(Q.currentTarget);
this.FI()};MB.prototype.Wt=function(Q){var S=this.OU.d();this.OU.L(S);var B=Math.round(S.t*255)<<16|Math.round(S.e*255)<<8|Math.round(S.R*255),y=new b(P.E.T,!0);
y.data={H:P.l.Kk,yQ:rS.li,Di:this.kU,z:B};this.B(y);this.mgm=Date.now()};MB.prototype.FI=function(){var Q=this.Kv,S=this.kU,B=[Q.Tq,Q.hB];
for(var y=0;y<2;y++){var l=this.kn[y],D=l.p.style;l.TB(B[y]);if(y==S)delete D.borderColor;else D.borderColor="var(--bg-color)"}var R=B[S];
if(Date.now()-this.mgm>100)this.OU.L({t:(R>>>16)/255,e:(R>>>8&255)/255,R:(R&255)/255})};MB.prototype.on=function(Q,S){this.Kv=Q;
if(S==rS.E_||S==rS.li)this.FI()};MB.prototype.ad=function(){this.FI()};function Lt(){Nn.call(this,"CSS",!1,null,Nn.Dg.CSS);
this.EJ=null;var Q=P.P("div","padded");this.iA.appendChild(Q);this.Dl=P.P("textarea");this.Dl.setAttribute("rows",16);
this.Dl.setAttribute("style","display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
Q.appendChild(this.Dl)}Lt.prototype=new Nn("");Lt.prototype.Cp=function(Q){this.EJ=Q;this.FI()};Lt.prototype.on=function(Q,S){if(S==rS.tn)this.FI()};
Lt.prototype.FI=function(){var Q=this.EJ;if(Q==null||Q.I.length==0)return;if(!P.lG(this.iA))return;var S=Q.G[Q.I[0]],B=CSS.mLJ(S,Q);
if(B.length!=0)this.Dl.value=B.join(";\n")+";";else this.Dl.value=""};Lt.prototype.ad=function(){this.FI()};
function mJ(){Nn.call(this,[9,6],!1,null,Nn.Dg.maq);this.iA.setAttribute("style","min-width:240px;");
this.EJ=null;this.Kv=null;var Q=P.P("div","marged row");this.iA.appendChild(Q);var S=P.P("div","cell");
S.setAttribute("style","width:10em");Q.appendChild(S);var B=P.P("div","cell");B.setAttribute("style","width:10em");
Q.appendChild(B);this.mEm=new RT("R:");this.mEQ=new RT("G:");this.mEc=new RT("B:");this.iA.appendChild(P.P("hr",""));
var y=P.P("div","marged row");this.iA.appendChild(y);var S=P.P("div","cell");S.setAttribute("style","width:10em");
var B=P.P("div","cell");B.setAttribute("style","width:10em");y.appendChild(S);y.appendChild(B);this.O$=new RT("");
S.appendChild(this.O$.p);P.XL(S);this.Oj=new RT("");S.appendChild(this.Oj.p);this.QX=new RT("");B.appendChild(this.QX.p);
P.XL(B);this.ay=new RT("");B.appendChild(this.ay.p);this.O$.L("X: 100 px");this.Oj.L("Y: 100 px");this.QX.L("W: 0");
this.ay.L("H: 0")}mJ.prototype=new Nn("");mJ.prototype.Uy=function(Q,S,B,y,l){var D=Q.u.FD(l.x,l.y),R=new v(Math.floor(D.x),Math.floor(D.y));
if(!1){var p=0,O=0,M=0;if(!l.qv&&!Q.mfm()&&new w(0,0,Q.r,Q.O)._D(R)){var U=Q.qB(),m=Q.r*R.y+R.x<<2;p=U[m+0];
O=U[m+1];M=U[m+2]}this.mEm.L("R: "+p);this.mEQ.L("G: "+O);this.mEc.L("B: "+M)}this.O$.L("X: "+k.hs.vH(R.x,Q.LY,B,Q.r));
this.Oj.L("Y: "+k.hs.vH(R.y,Q.LY,B,Q.O));this.Fu()};mJ.prototype.Fu=function(){var Q=this.EJ,S=this.Kv,B=0,y=0;
if(Q&&S){if(Q.u.M_){B=Q.u.M_.r;y=Q.u.M_.O}else if(Q.m){B=Q.m.rect.r;y=Q.m.rect.O}B=k.hs.vH(Math.abs(B),Q.LY,S,Q.r);
y=k.hs.vH(Math.abs(y),Q.LY,S,Q.O)}this.QX.L(Nd.get([12,41]).charAt(0)+": "+B);this.ay.L(Nd.get([12,42]).charAt(0)+": "+y)};
mJ.prototype.b=function(){Nn.prototype.b.call(this);this.Fu()};mJ.prototype.Cp=function(Q,S,B){this.EJ=Q;
this.Kv=B;this.Fu()};function Re(){Nn.call(this,[9,1],!1,null,Nn.Dg.Sb);this.Oi=null;this.SB=null;this.aN=null;
this.jE=P.P("div","lphead");this.fL=P.P("div","lpbody scrollable");this.Cq=P.P("div","lpfoot");this.al=new ND(null,No.qu,!1,No.KM);
this.al.w(P.E.Y,this.mUZ,this);this.jE.appendChild(this.al.p);this.OZ=new NP([12,0],0,100,"%",0);this.OZ.w(P.E.Y,this.mnC,this);
this.OZ.parent=this;this.jE.appendChild(this.OZ.p);this.FL=new Qi("<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />",[[12,76,2],[12,40],[7,0]]);
this.FL.w(P.E.Y,this.mnw,this);this.jE.appendChild(this.FL.p);this.Fd=new NP([12,26],0,100,"%",0);this.Fd.w(P.E.Y,this.mn$,this);
this.Fd.parent=this;this.qb=[];this.R_();this.iA.appendChild(this.jE);this.iA.appendChild(this.fL);this.iA.appendChild(this.Cq);
this.iA.addEventListener("contextmenu",RM.hp,!1);var Q=[{name:[14,10]},{name:[14,11],Uw:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],Uw:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",o:function(D){return{o:D.G[D.I[0]].add.SoLd!=null}},Uw:!0},{name:[6,8],o:function(D){var R=D.G[D.I[0]];
if(R.add.TySh||R.add.SoLd||R.add.SoCo||R.add.GdFl||R.add.PtFl)return{o:!0};return{o:!1}}},{name:[6,34],o:function(D){var R=D.G[D.I[0]];
return{o:R.add.lmfx!=null&&!R.So()}}},{name:[6,40],Uw:!0,o:function(D){var R=D.G[D.I[0]];return{o:R.add.TySh!=null}}},{name:"",Uw:!0,o:function(D){var R=D.G[D.I[0]],p=R.add.TySh,O=p?p.Nd:null;
return{o:p!=null&&O.Curve==null,os:Nd.get(p&&rA.Ry(O)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],Uw:!0,o:function(D){return{o:D.Ok(D.I[0]),MH:D.G[D.I[0]].J$}}},{name:[11,6],Uw:!0,sub:[{name:[5,1],o:function(D){var R=D.G[D.I[0]];
return{o:R.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],o:function(D){var R=D.G[D.I[0]];return{o:R.add.lmfx!=null}}}]},{name:[6,10],o:function(D){return{o:D.I.length==1&&D.I[0]!=0&&!D.G[D.I[0]].So()}}},{name:[6,12,0],o:function(D){return{o:D.I.length>1||D.G[D.I[0]].So()}}},{name:[6,12,1],Uw:!0},{name:[13,0],sub:function(){var D=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],R=[];
for(var p=0;p<D.length;p++)R.push({name:D[p]});return R}()}];this.SY=[null,{f:P.E.D,h:K.wl,U:{H:"fromlayer",oG:[null,0,0]}},z.m$,{f:P.E.T,U:{H:P.l.ND,yc:"duplinto"}},z.ej,{f:P.E.RK,U:{QF:"newPlacedLayer"}},z.Vf,z.Dk,z.VU,z.mzJ,{f:P.E.D,h:K.yC,U:{H:"switchPntPrgr"}},z.Xp,null,z.XM,z.mr,z.Vn,z.mk];
this.ov=new RW(Q);this.ov.w("select",this.oa,this);var S=[{name:[6,45],o:function(D){var R=D.G[D.I[0]];
return{o:R.DG(D).k==null}}},{name:[6,47]}];this.mEd=[z.OX,z.V$];this.ks=new RW(S);this.ks.w("select",this.oa,this);
var B=[{name:"enab/disab",o:function(D){return{os:Nd.get(D.G[D.I[0]].Tb().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],o:function(D){return{o:D.pD(!1,!0)}}}];
this.mEg=[z.XJ,z.Cy,z.Vs];this.k$=new RW(B);this.k$.w("select",this.oa,this);var y=[{name:"enab/disab",o:function(D){return{os:Nd.get(D.G[D.I[0]].DG(D).k.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.mEW=[z.my,z.OD];this.kt=new RW(y);this.kt.w("select",this.oa,this);var l=[{name:"enab/disab",o:function(D){return{os:Nd.get(D.G[D.I[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.mEG=[z.CR,z.CV];this.kX=new RW(l);this.kX.w("select",this.oa,this);this.kD=new RW(mL.myL(!0),mL.mVu(!0));
this.mga=new RW(mL.meK(),mL.myz());this.w("rclick",this.mUk,this)}Re.prototype=new Nn("");Re.prototype.jD=function(){return new v(253,0)};
Re.prototype.oa=function(Q){var S=Q.target.Jk(),B=S[0],y;if(Q.target==this.ov)y=this.SY;if(Q.target==this.ks)y=this.mEd;
if(Q.target==this.k$)y=this.mEg;if(Q.target==this.kX)y=this.mEG;if(Q.target==this.kt)y=this.mEW;if(Q.target==this.kD)y=this.mvI;
if(Q.target==this.mga)y=this.mvH;if(y[B]==null){if(B==0){var l=new b(P.E.T,!0);l.data={H:P.l.ND,yc:"layerstyle",$:this.SB.I[0]};
this.B(l)}else{var D=new b(P.E.D,!0);D.h=K.Qn;D.data={H:["st_copy","st_paste","st_clear"][S[1]],$:this.SB.I[0]};
this.B(D)}return}if(y[B].f!=null){var R=y[B],D=new b(R.f,!0);D.h=R.h;D.data=R.U;Q.target.B(D);return}var D=new b(P.E.D,!0);
if(Q.target==this.kD)D.data=y[B];else D.data={H:y[B]};if(y[B]==z.mk)D.data.maT=S[1];D.h=K.Sb;Q.target.B(D)};
Re.prototype.mUk=function(Q){var S=this.SB,B=Q.data,l;if(S.I.indexOf(B.$)==-1){var y={H:z.XA,$:Q.target.KV.index,wQ:B.Wg};
this.Fo(y)}if(S.I.indexOf(B.$)==-1)return;if(B.Wg==1){l=this.k$}else if(B.Wg==2){l=this.kX}else if(B.Wg==3){l=this.kt}else if(B.mzf){l=this.ks}else{l=this.ov}l.b();
l.update(S);l.parent=this;var D=new b(P.E.T,!0);D.data={H:P.l.ow,qr:l,x:B.eG.x+1,y:B.eG.y+1};this.B(D)};
Re.prototype.b=function(){Nn.prototype.b.call(this);this.al.b();this.OZ.b();this.FL.b();this.Fd.b();
if(this.SB)this.Cp(this.SB);var Q="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var S=0;S<this.qb.length;S++){var B=this.qb[S];B.CE(P.tC(Q[S]))}};Re.prototype.Cp=function(Q,S){if(Q==null)P.Te(this.iA,"disabled");
else P.Dt(this.iA,"disabled");this.SB=Q;this.aN=S;if(this.Oi!=null){this.fL.removeChild(this.Oi.fL);
this.Oi=null}if(Q==null)return;this.Oi=new RM(Q.root,this,Q,{mn:0});this.fL.appendChild(this.Oi.fL);
if(Q.I.length==0)P.Te(this.jE,"disabled");else{P.Dt(this.jE,"disabled");if(Q.I.length==1&&Q.fi)this.Oi.mdT(Q.I);
var B=Q.G[Q.I[0]];if(B.So()){this.al.fB([[15,10,27]].concat(No.qu),[1].concat(No.KM));var y=No.ea.indexOf(B.wk);
this.al.L(y+1)}else{this.al.fB(No.qu,No.KM);var y=No.ea.indexOf(B.wk);this.al.L(y)}this.OZ.L(Math.round(100*B.opacity/255));
this.FL.L([B.s$(1),B.s$(2),B.s$(31)]);this.Fd.L(Math.round(100*(B.add.iOpa!=null?B.add.iOpa/255:1)))}};
Re.prototype.Kl=function(Q,S){var B=this.jE.getBoundingClientRect().height;B=Math.max(B,52);if(B>68)B=Math.max(B,76);
var y=S-(B+34);this.fL.style.height=y+"px"};Re.prototype.mUZ=function(Q){this.Fo({H:z.XD,ao:this.al.d()})};
Re.prototype.mnC=function(Q){this.Fo({H:z.Xx,ao:Math.round(255*this.OZ.d()/100)})};Re.prototype.mnw=function(Q){this.Fo({H:z.Cl,ao:[this.FL.d(),[1,2,31]]})};
Re.prototype.mn$=function(Q){this.Fo({H:z.Og,ao:Math.round(255*this.Fd.d()/100)})};Re.prototype.mnZ=function(Q){this.mQA(Q,this.kD)};
Re.prototype.mEp=function(Q){this.mQA(Q,this.mga)};Re.prototype.mQA=function(Q,S){var B=Q.currentTarget;
if(P.lG(S.p))return;Q.stopPropagation();var y=B.getBoundingClientRect();S.b();S.update(this.SB);S.parent=this;
var l=new b(P.E.T,!0);l.data={H:P.l.ow,qr:S,x:y.left,y:y.top,mmV:!0};this.B(l)};Re.prototype.mEV=function(Q){this.Fo({H:z.mMY})};
Re.prototype.mEa=function(Q){this.Fo({H:z.Of})};Re.prototype.mzv=function(Q){this.Fo({H:z.eT})};Re.prototype.mzw=function(Q){this.Fo({H:z.ej})};
Re.prototype.mz$=function(Q){this.Fo({H:z.hF})};Re.prototype.Fo=function(Q){var S=new b(P.E.D,!0);S.data=Q;
S.h=K.Sb;this.B(S)};Re.prototype.R_=function(){var Q=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],S=[this.mz$,this.mEp,this.mnZ,this.mEV,this.mEa,this.mzv,this.mzw],B=this.mzt.bind(this);
for(var y=0;y<Q.length;y++){var l=new Nw("W",!1,Q[y]);this.qb.push(l);P.jX(l.p,S[y].bind(this));this.Cq.appendChild(l.p);
if(y>=Q.length-3){var D=l.p;D.addEventListener("drop",B,!1);D.addEventListener("dragover",function(R){R.preventDefault();
l.Cx()}.bind(this),!1);D.addEventListener("dragenter",RM.hp,!1);D.addEventListener("dragleave",function(R){l.fO()}.bind(this),!1)}}};
Re.prototype.mzt=function(Q){RM.hp(Q);var S=0,B=this.qb;while(B[S].p!=Q.currentTarget)S++;B[S].fO();
var y=Q.dataTransfer.getData("Text");if(y=="")return;var y=JSON.parse(y);if(y.ok=="l"){var l={H:[z.mD,z.m$,z.ej][S-4]};
if(this.SB.I.indexOf(y.sA)==-1)l.$=y.sA;this.Fo(l)}if(S!=6)return;if(y.ok=="sm"||y.ok=="s"){var D=new b(P.E.D,!0);
D.h=K.Qn;D.data={H:y.ok=="sm"?"st_clear":"st_delsingle",$:y.sA,sA:y.QK};this.B(D)}if(y.ok=="fm"||y.ok=="f"){this.Fo({H:y.ok=="fm"?z.V$:z.mRa,src:y.sA,QK:y.QK})}if(y.ok=="m"||y.ok=="vm"){this.Fo({H:y.ok=="m"?z.Cy:z.CV,$:y.sA})}};
function RM(Q,S,B,y){NJ.call(this);this.parent=S;this.KV=Q;this.kj=[];this.p=P.P("div","layeritem");
var l=Q.$,Z=15,F=!1;this.jE=P.P("div",B.I.indexOf(Q.index)!=-1?"head selected":"head");if(Q.$.add.artb!=null)P.Te(this.jE,"artb");
this.jE.setAttribute("style","height: "+(l.mrK+10)+"px");var D=P.P("div","headL"),R=P.P("div","headR"),p=P.P("div","lpineck");
this.fL=P.P("div","lpibody");this.p.appendChild(this.jE);this.jE.appendChild(D);this.jE.appendChild(R);
if(l.Df()||l.as())if(l.Kc())this.p.appendChild(p);var O=this.jE;O.setAttribute("draggable","true");O.addEventListener("dragstart",this.FF.bind(this),!1);
O.addEventListener("drop",this.Vh.bind(this),!1);O.addEventListener("dragover",this.Fa.bind(this),!1);
O.addEventListener("dragenter",RM.hp,!1);O.addEventListener("dragleave",this.F_.bind(this),!1);var M=[],U=[],m=P.P("div");
this.af=P.P("div","eye");m.appendChild(this.af);var Y=P.P("div","space");this.gd=P.P("div","label");
this.gd.textContent=l.getName();this.ko=P.P("div","lock");this.mR=P.P("div","arfx");var x=this.mml.bind(this),T=this.mMc.bind(this);
this.jE.addEventListener("click",T,!1);this.jE.addEventListener("contextmenu",x,!1);var $=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],L=l.add.lclr==null?0:$[l.add.lclr];
if(L==0)L=y.mn;var s=[L>>16,L>>8&255,L&255];for(var j=0;j<3;j++){s[j]=Math.round(.5*s[j]+.5*220)}if(1<P._()&&P._()<1.5)Z=Z/P._();
m.setAttribute("style","background-color:rgba("+s.join(",")+","+(L==0?0:1)+");");this.af.setAttribute("style","background-size: "+Z+"px "+Z+"px;");
var e=this.mzk.bind(this);m.addEventListener("mousedown",e,!1);m.addEventListener("mouseover",e,!1);
this.gd.addEventListener("click",this.mmE.bind(this),!1);this.mR.addEventListener("click",this.mm$.bind(this),!1);
M[0]=m;M[1]=Y;M[10]=this.gd;if(l.So()){var J=P.P("div","arrow"),N=P.P("div","folder");J.addEventListener("click",this.mmN.bind(this),!1);
M[2]=J;M[3]=N;if(l.add.lsct==NI.YG){for(var j=Q.children.length-1;j>=0;j--){var E=new RM(Q.children[j],S,B,{mn:L});
this.kj.push(E);this.fL.appendChild(E.p)}this.p.appendChild(this.fL)}J.setAttribute("class",l.add.lsct==NI.YG?"open":"closed")}else{this.rD=P.P("div","thumb");
M[5]=this.rD;this.rD.appendChild(l.pd.canvas)}var h=l.Tb();if(h){this.mQ=P.P("div","chain");this.ak=P.P("div","thumb");
this.ak.setAttribute("draggable","true");this.ak.appendChild(Q.$.mRj.canvas);this.mQ.style.opacity=h.om?1:0;
this.mQ.addEventListener("click",this.mmR.bind(this),!1)}var o=l.iG()&&l.add.vmsk;if(l.add.vmsk&&!o){this.mu=P.P("div","chain");
this.rT=P.P("div","thumb");this.rT.setAttribute("draggable","true");this.rT.appendChild(Q.$.mQe.canvas);
this.mu.style.opacity=l.add.vmsk.om?1:0;this.mu.addEventListener("click",this.mmf.bind(this),!1)}if(l.as()&&l.DG(B).k){this.OA=P.P("div","thumb");
this.OA.appendChild(Q.$.mcz.canvas);this.OA.addEventListener("click",T,!1);this.OA.addEventListener("contextmenu",x,!1)}if(l.Df()){p.addEventListener("contextmenu",x,!1);
var V=new Re.Ia(Nd.get([12,1]),"sm","layerstyle",Q.depth,0,null);V.parent=this;p.appendChild(V.p);var n=l.add.lmfx,t=n.masterFXSwitch.v;
V.SO(t);for(var j=0;j<rx.order.length;j++){var q=n[rx.or[j]].v;if(q.length==0)continue;for(var u=0;u<q.length;
u++){var V=new Re.Ia(Nd.get(rx.names[j]),"s","layerstyle",Q.depth,1,[j,u]);V.SO(t&&q[u].v.enab.v);V.parent=this;
p.appendChild(V.p)}}}if(l.as()){var V=new Re.Ia(Nd.get([12,55]),"fm",null,Q.depth,0,-1,l.DG(B).k?this.OA:null);
V.parent=this;p.appendChild(V.p);this.mgl=V.p;this.mgl.addEventListener("contextmenu",x,!1);var n=l.add.SoLd.filterFX.v,g=n.filterFXList.v,t=n.enab.v;
V.SO(t);for(var j=g.length-1;j>=0;j--){var r=g[j].v,f=r.filterID.v,I=X.cA(f);if(Nf.to[I])I=Nf.to[I];
var d=r.Nm.v;if(m_.names[I])d=Nd.get(m_.names[I]);if(Nf.names[I])d=Nd.get(Nf.names[I]);var a=H[I]?"afw_"+I:null,V=new Re.Ia(d,"f",a,Q.depth,1,j);
V.SO(t&&r.enab.v);V.parent=this;p.appendChild(V.p)}}if(B.G.indexOf(l)==B.I[0]){var c=l.Wg,_;if(c<=0)_=this.rD;
else if(c==1)_=this.ak;else if(c==3)_=this.OA;if(_)_.setAttribute("class","thumb active");if(l.de&&this.rT)this.rT.setAttribute("class","thumb active")}m.style.opacity=l.qm()?1:.25;
Y.setAttribute("style","width:"+Math.max(0,Q.depth-1)*18+"px");var C=l.add.lspf!=null&&l.add.lspf!=0;
this.ko.style.opacity=l.s$(31)?1:.5;M[4]=l.J$?P.P("div","clipp"):null;M[6]=h?this.mQ:null;M[7]=h?this.ak:null;
M[8]=l.add.vmsk&&!o?this.mu:null;M[9]=l.add.vmsk&&!o?this.rT:null;var i=l.Gl,rP=B.I;if(i!=0)for(var j=0;
j<rP.length;j++)if(B.G[rP[j]].Gl==i){F=!0;break}U[0]=F?P.P("div","link"):null;U[1]=C?this.ko:null;U[2]=l.Df()?P.P("div","lrfx"):null;
U[3]=l.Df()||l.as()?this.mR:null;this.mR.setAttribute("class",l.Kc()?"arfx open  gsicon":"arfx closed  gsicon");
var rH=M;for(var j=0;j<rH.length;j++)if(rH[j])D.appendChild(rH[j]);rH=U;for(var j=0;j<rH.length;j++)if(rH[j])R.appendChild(rH[j])}RM.prototype=new NJ;
RM.prototype.mdT=function(Q){var S=this.KV.index;if(Q.indexOf(S)!=-1){if(this.p.scrollIntoView)this.p.scrollIntoView({block:"nearest"})}for(var B=0;
B<this.kj.length;B++)this.kj[B].mdT(Q)};RM.hp=function(Q){Q.stopPropagation();Q.preventDefault()};RM.mnT=function(Q){Q.stopPropagation()};
RM.GJ=function(Q,S){var B=S.getBoundingClientRect();return(Q.clientY-B.top)/B.height};RM.prototype.FF=function(Q){Q.stopPropagation();
var S=Q.target==this.ak?"m":Q.target==this.rT?"vm":"l";Q.dataTransfer.setData("Text",JSON.stringify({ok:S,sA:this.KV.index}))};
RM.prototype.F_=function(Q){RM.hp(Q);this.BL()};RM.prototype.Vh=function(Q){RM.hp(Q);this.BL();var S=Q.dataTransfer.getData("Text"),B=this.parent.SB,y=RM.GJ(Q,this.jE),l=this.KV.index;
if(y>.8){var D=!0,R=B.root.Ob(l);while(R.parent!=null){var p=R.parent,O=p.children;if(O.indexOf(R)!=0)D=!1;
R=R.parent}if(D){l=0;y=1}}if(S==""){P.mhX(Q,this,this.parent.aN.indexOf(B),l+(y>.5?0:1))}else if(S!="--panel"){var S=JSON.parse(S),M=S.ok;
if(M=="l")this.Fo({H:z.ue,source:S.sA,target:l,OR:y});else if(M=="m"||M=="vm")this.Fo({H:M=="m"?z.DA:z.OM,src:S.sA,bM:l,Vl:Q.altKey});
else RM.meD(Q,S,this)}};RM.meD=function(Q,S,B,y){var l=S.ok,D=B.KV.index,R=S.sA;if(l=="s"||l=="sm")B.Fo({H:z.OE,src:R,bM:D,QK:S.QK,Vl:Q.altKey});
if(l=="f"||l=="fm")B.Fo({H:z.mRm,src:R,bM:D,QK:S.QK,xJ:y==null?0:y,Vl:Q.altKey})};RM.prototype.Fa=function(Q){RM.hp(Q);
var S=RM.GJ(Q,this.jE);this.BL();var B="border-"+(S>.5?"bottom":"top");if(this.KV.$.So()&&.5<S&&S<.8)B="border";
this.jE.style[B]="0.2em solid rgba(0,0,0,0.5)"};RM.prototype.BL=function(Q){this.jE.style.border="none"};
RM.myr=-1;RM.Fv=!1;RM.myc=function(Q){RM.Fv=!1;document.body.removeEventListener("mouseup",RM.myc)};
RM.prototype.mzk=function(Q){if(Q.button!=0)return;if(Q.type=="mousedown"){RM.Fv=!0;document.body.addEventListener("mouseup",RM.myc,!1)}if(Q.type=="mouseover"&&(!RM.Fv||RM.myr==this.KV.index))return;
Q.stopPropagation();Q.preventDefault();this.Fo({H:z.eo,$:this.KV.index});RM.myr=this.KV.index};RM.prototype.mmN=function(Q){this.Fo({H:z.mRz,$:this.KV.index})};
RM.prototype.mmR=function(Q){this.Fo({H:z.mV,$:this.KV.index})};RM.prototype.mmf=function(Q){this.Fo({H:z.ON,$:this.KV.index})};
RM.prototype.mmE=function(Q){if(Q.detail==1)return;this.jE.setAttribute("draggable","false");var S=new Nn.OI(this.gd,this.lq.bind(this))};
RM.prototype.lq=function(Q){this.Fo({H:z.uy,$:this.KV.index,name:Q})};RM.prototype.mm$=function(Q){this.Fo({H:z.mVD,$:this.KV.index})};
RM.prototype.mml=function(Q){if(this.mhQ(Q,Q.target,this.Wg(Q)))return;if(Q.button!=2)return;var S=new b("rclick",!0);
S.data={$:this.KV.index,Wg:this.Wg(Q),eG:P.Jo(Q,document.body),mzf:Q.currentTarget==this.mgl};this.B(S)};
RM.prototype.Wg=function(Q){var S=Q.target,B=S.parentNode;return B==this.rT?2:B==this.ak?1:B==this.rD?0:B==this.OA?3:-1};
RM.prototype.mMc=function(Q){var S=Q.target,M=0;if(S==this.af||S==this.mR||S==this.mQ||S==this.mu||S.tagName&&S.tagName.toLowerCase()=="input")return;
var B=this.Wg(Q),y=this.parent.SB,l=this.KV.index,D=y.G[l];if(S==this.ko){this.Fo({H:z.Cl,$:l,ao:[[0,0,0,0,0],[0,1,2,3,31]]});
return}if(Q.button==0&&Q.detail==2){if(S==this.gd)return;var R=new b(P.E.T,!0),p=new b(P.E.RK,!0);if(B==0&&(Nf.get(D.add)||D.add.SoCo||D.add.GdFl||D.add.PtFl))R.data={H:P.l.WI,yc:Nn.Dg.jO};
else if(B!=0&&B!=-1)R.data={H:P.l.WI,yc:Nn.Dg.jO};else if(B==0&&D.add.SoLd)p.data={QF:"placedLayerEditContents",$o:{classID:"placedLayerEditContents"}};
else if(B==0&&D.add.TySh)R.data={H:P.l.oE,h:K.yC};else R.data={H:P.l.ND,yc:"layerstyle",$:l};this.B(p.data?p:R);
if(B==0&&D.add.TySh){var O=new b(P.E.D,!0);O.h=K.yC;O.data={H:"editCurr",x$:l};this.B(O)}return}if(this.mhQ(Q,S,B))return;
if(Q.button!=0)return;var U={H:z.XA,$:l,wQ:B};this.Fo(U);if(Q.altKey){if(B==1||B==3){var O=new b(P.E.D,!0);
O.h=K.Gu;O.data={H:"mskView",z:M!=0?0:Q.shiftKey?1:2};this.B(O)}else{this.Fo({H:z.Xp,$:l})}return}};
RM.prototype.mhQ=function(Q,S,B){if((Q.ctrlKey||Q.metaKey)&&(B==0||B==1||B==2)){var y=0;if(Q.shiftKey)y++;
if(Q.altKey)y+=2;var l=new b(P.E.D,!0);l.h=K.wl;l.data={H:"fromlayer",oG:[this.KV.index,B,y]};this.B(l);
return!0}return!1};RM.prototype.Fo=function(Q){var S=new b(P.E.D,!0);S.data=Q;S.h=K.Sb;this.B(S)};Re.Ia=function(Q,S,B,y,l,D,R){NJ.call(this);
this.mgo=S;this.mg=B;this.index=D;this.p=P.P("div","styleitem");this.jE=P.P("div","head");this.Fe=P.P("div","eye gsicon");
this.gd=P.P("div","label");this.p.appendChild(this.jE);this.jE.appendChild(this.Fe);if(R){this.ak=R;
this.jE.appendChild(this.ak);this.jE.setAttribute("style","height: "+(R.firstChild.height/P._()+10)+"px")}this.gd.innerHTML=Q;
this.p.setAttribute("style","margin-left: "+(24+y*16+l*22)+"px");this.jE.appendChild(this.gd);this.Fe.addEventListener("click",this.mMq.bind(this),!1);
var p=this.p;p.setAttribute("draggable","true");p.addEventListener("dragstart",this.FF.bind(this),!1);
if(!0){p.addEventListener("drop",this.Vh.bind(this),!1);p.addEventListener("dragover",this.Fa.bind(this),!1);
p.addEventListener("dragenter",RM.hp,!1);p.addEventListener("dragleave",this.F_.bind(this),!1)}this.p.addEventListener("click",this.sn.bind(this),!1)};
Re.Ia.prototype=new NJ;Re.Ia.prototype.FF=function(Q){Q.stopPropagation();Q.dataTransfer.setData("Text",JSON.stringify({ok:this.mgo,sA:this.parent.KV.index,QK:this.index}))};
Re.Ia.prototype.F_=function(Q){RM.hp(Q);this.BL()};Re.Ia.prototype.Vh=function(Q){RM.hp(Q);this.BL();
var S=Q.dataTransfer.getData("Text");if(S=="")return;var S=JSON.parse(S);RM.meD(Q,S,this.parent,this.index+(RM.GJ(Q,this.jE)>.5?0:1))};
Re.Ia.prototype.Fa=function(Q){RM.hp(Q);var S=RM.GJ(Q,this.jE)>.5;this.BL();var B="border-"+(S?"bottom":"top");
this.jE.style[B]="0.2em solid rgba(0,0,0,0.5)"};Re.Ia.prototype.BL=function(Q){this.jE.style.border="none"};
Re.Ia.prototype.SO=function(Q){var S=15;if(1<P._()&&P._()<1.5)S=S/P._();this.Fe.setAttribute("style","background-size: "+S+"px "+S+"px;");
this.Fe.style.opacity=Q?1:.2};Re.Ia.prototype.sn=function(Q){if(Q.target==this.Fe)return;if(Q.detail!=1&&this.mg!=null){var S=new b(P.E.T,!0);
if(this.mg.indexOf("afw_")==0)S.data={H:P.l.ND,yc:this.mg,hf:{$:this.parent.KV.index,index:this.index}};
else S.data={H:P.l.ND,yc:this.mg,$:this.parent.KV.index,index:this.index};this.B(S)}};Re.Ia.prototype.mMq=function(Q){var S={fm:z.mP,f:z.Mz,sm:z.mC,s:z.mF}[this.mgo];
this.parent.Fo({H:S,$:this.parent.KV.index,index:this.index})};function mb(){Nn.call(this,"Guide Guy",!1,null,Nn.Dg.mvV);
this.EJ=null;this.eW=[];var Q=P.P("div","form padded");this.iA.appendChild(Q);Q.setAttribute("style","width:200px");
this.iA.appendChild(Q);var S=P.P("canvas"),B=S.getContext("2d");S.width=S.height=160;var y=[32,0,16,160,0,32,160,16,0,112,160,16],l="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),D=[0,0,0,0,0,0,0,0,0,0];
for(var R=0;R<10;R++){B.clearRect(0,0,160,160);B.setTransform(1,0,0,1,80,80);B.rotate((R&3)*Math.PI/2);
B.translate(-80,-80);B.fillStyle="rgba(0,0,0,0.3)";if(R<4){for(var p=0;p<12;p+=4){B.fillStyle=p==0?"#000000":"rgba(0,0,0,0.3)";
B.fillRect(y[p],y[p+1],y[p+2],y[p+3])}}else if(R<6){var O=8*6;B.fillRect(0,0,O,160);B.fillRect(8*7,0,O,160);
B.fillStyle="#000000";B.fillRect(8*14,0,O,160)}else if(R<8){B.fillRect(0,0,16,160);B.fillRect(160-16,0,16,160);
B.fillRect(32,0,160-64,160);B.fillStyle="#000000";B.fillRect(32,80-8,160-64,8*1)}else{B.fillRect(0,0,8*7,160);
B.fillRect(8*13,0,160,160);B.fillStyle="#000000";B.fillRect(8*7,80-8,8*6,8*1)}var M="<img src=\""+S.toDataURL()+"\" class=\"autoscale gsicon\" /> ",U=new NP(M,0,200,R==4||R==5?null:"px",null,null,null,4,l[R]);
U.parent=this;U.w(P.E.Y,this.mM_,this);U.L(D[R]);U.b();this.eW.push(U);Q.appendChild(U.p)}var m=["Add Guides","Clear Guides"];
this.oU=[];for(var R=0;R<m.length;R++){var Y=new Nw(m[R],!0,null,!0);this.oU.push(Y);Y.w("click",this.jb,this);
Q.appendChild(Y.p)}for(var R=0;R<6;R++){B.setTransform(1,0,0,1,80,80);B.rotate(Math.floor(R/3)*Math.PI/2);
B.translate(-80,-80);B.clearRect(0,0,160,160);B.fillStyle="rgba(0,0,0,0.3)";B.fillRect(0,0,160,160);
B.clearRect(16,16,128,128);B.fillStyle="#000000";var x=R%3;B.fillRect([0,9,18][x]*8,0,16,160);var M="<img src=\""+S.toDataURL()+"\" class=\"autoscale gsicon\" /> ",Y=new Nw(M,!1,null,!1);
this.oU.push(Y);Y.w("click",this.jb,this);Q.appendChild(Y.p)}}mb.prototype=new Nn("");mb.prototype.mM_=function(Q){var S=this.eW,B=S.indexOf(Q.target),y=Math.floor(B/2),l=B&1,D=[];
for(var R=0;R<4;R++)D.push(S[2*R+l].d());var p=-1;if(y==2&&D[2]!=0&&D[3]!=0&&D[4]!=0)p=4;if(y==3&&D[3]!=0&&D[2]!=0&&D[4]!=0)p=4;
if(y==4&&D[4]!=0&&D[2]!=0&&D[3]!=0)p=3;if(p!=-1)S[2*p+l].L(0)};mb.prototype.jb=function(Q){var S=this.EJ,B=this.oU.indexOf(Q.target),y=[[],[]];
if(S==null)return;var l=S.m?S.m.rect:new w(0,0,S.r,S.O),D=l.r,R=l.O;if(B==0){var p=[[],[]];for(var O=0;
O<this.eW.length;O++)p[O&1].push(this.eW[O].d());y=[mb.mCj(p[0],l.x,l.x+D),mb.mCj(p[1],l.y,l.y+R)];K.Ku.yq(y,S.WM)}else if(B==1){}else{B-=2;
var M=Math.floor(B/3),y=[[],[]];y[M].push([l.x,l.x+D/2,l.x+D,l.y,l.y+R/2,l.y+R][B]);K.Ku.yq(y,S.WM)}var U=function(m,Y){return m-Y};
y[0].sort(U);y[1].sort(U);this.mMn(y)};mb.prototype.mnK=function(Q){var S=this.mwd.indexOf(Q.target)};
mb.prototype.mMn=function(Q){var S=new b(P.E.D,!0);S.h=K.vc;S.data={H:"gids",GA:Q};this.B(S)};mb.mCj=function(Q,S,B){var y=[],l=Q[2],D=Q[3],R=Q[4],p=0;
if(l==0)p++;if(D==0)p++;if(R==0)p++;if(p>1&&l==0&&D==0){if(Q[0]!=0)y.push(S+Q[0]);if(Q[1]!=0)y.push(B-Q[1]);
return y}var O=B-S-Q[0]-Q[1];if(l==0){if(R==0){l=Math.floor(O/D);R=(O-l*D)/(l-1)}else{l=1;while(D*l+R*(l-1)+D+R<=O)l++}}else if(l!=0&&D!=0){if(l*D>O)l=Math.floor(O/D);
R=(O-l*D)/(l-1)}y.push(S+Q[0],B-Q[1]);var D=(O-R*(l-1))/l;for(var M=1;M<l;M++){if(R==0)y.push(S+Q[0]+M*D);
else y.push(S+Q[0]+M*D+(M-1)*R,S+Q[0]+M*D+M*R)}return y};mb.prototype.Cp=function(Q){this.EJ=Q};function Rc(){Nn.call(this,[9,2],!1,null,Nn.Dg.jO);
this.mgT=null;this.CB=null;this.Kv=null;this.mgi=-1}Rc.prototype=new Nn("");Rc.prototype.OH=function(){this.op=P.P("div","padded");
this.op.style.width="22em";this.iA.appendChild(this.op);var Q=P.P("span","fitem");this.op.appendChild(Q);
this.fy=[new Nw([0,3]),new Nw([12,73]),new Nw([12,91,0])];for(var S=0;S<this.fy.length;S++){var B=this.fy[S];
B.w("click",this.mMx,this);Q.appendChild(B.p)}this.op.appendChild(P.P("hr"));this.BN=new Rc.Uo;this.BN.parent=this;
this.F$=new Rc.Be;this.F$.parent=this;this.kT=new Rc.VO;this.kT.parent=this;this.mWL=[this.BN,this.F$,this.kT];
this.op.appendChild(this.BN.p)};Rc.prototype.mMx=function(Q){var S=this.fy.indexOf(Q.currentTarget);
this.jY(S);this.mWY(S==1?this.F$.FB:-1)};Rc.prototype.jY=function(Q){for(var S=0;S<3;S++){this.fy[S].fO();
var B=this.mWL[S].p;if(B.parentNode==this.op&&S!=Q)this.op.removeChild(B);if(B.parentNode!=this.op&&S==Q)this.op.appendChild(B)}this.fy[Q].Cx()};
Rc.prototype.mWY=function(Q){var S=this.CB.I[0],B=this.CB.G[S],y=Q+1;if(Q==1&&B.de)return;var l=new b(P.E.D,!0);
l.h=K.Sb;if(Q!=1&&B.de){l.data={H:z.XA,$:S,wQ:2};this.B(l)}l.data={H:z.XA,$:S,wQ:y};this.B(l)};Rc.prototype.b=function(){Nn.prototype.b.call(this);
if(this.op==null)return;this.Cp(this.CB);for(var Q=0;Q<3;Q++){this.fy[Q].b();this.mWL[Q].b()}};Rc.prototype.ad=function(){if(!P.lG(this.iA))return;
if(this.op==null){this.OH();this.on(this.Kv,rS.E_);this.Cp(this.mgT);this.b()}};Rc.prototype.Cp=function(Q){this.mgT=Q;
if(this.op==null)return;this.BN.Cp(Q);this.F$.Cp(Q);this.kT.Cp(Q);if(Q==null||Q.I.length==0){P.Te(this.iA,"disabled");
this.CB=null;return}else P.Dt(this.iA,"disabled");var S=Q.I[0],B=Q.G[S],y=Q.sH(),l=y[0],D=y[1];if(D.length!=0){var R=l[D[0]],p=R.add.vogk,O=!1;
if(p)for(var M=0;M<p.length;M++){var U=p[M].v,m=U.keyShapeInvalidated;if(m&&m.v||U.keyOriginType==null)continue;
O=!0;S=R.d_}}if(Q!=this.CB||this.mgi!=S){this.CB=Q;this.mgi=S;if(O)this.jY(2);else if(B.Wg<1&&!B.de)this.jY(0);
else this.jY(1)}this.fy[1].Rv(this.F$.FB!=-1);this.fy[2].Rv(O)};Rc.prototype.on=function(Q,S){this.Kv=Q;
if(this.BN)this.BN.on(Q,S)};Rc.Uo=function(){NJ.call(this);this.p=P.P("div","form");this.mWv=new RT("Hello");
this.p.appendChild(this.mWv.p);this.m_=null;this.m_E=null;this.CB=null;this.mGh=-1;this.mGF=null;this.Jx=new RU(!0);
this.Jx.parent=this;this.Jx.w(P.E.Y,this.mMP,this);this.SJ=P.P("div","marged hiline");this.SJ.appendChild(this.Jx.p);
this.tz=new Rw("GrFl",!0);this.tz.parent=this;this.tz.w(P.E.Y,this.mMI,this);this.Vk=P.P("div","marged hiline");
var Q="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var S=0;S<Q.length;S++){var B=this.tz.Wh[Q[S]].p;
this.Vk.appendChild(B)}this.tA=new Rw("patternFill",!0);this.tA.parent=this;this.tA.w(P.E.Y,this.mMS,this);
this.hM=P.P("div","marged hiline");var Q=["Ptrn","Scl","Algn","phase"];for(var S=0;S<Q.length;S++){var B=this.tA.Wh[Q[S]].p;
this.hM.appendChild(B)}this.cZ={};for(var y in Nf.names){if(H[y]==null)continue;this.cZ[y]=new H[y];
this.cZ[y].w(P.E.Y,this.mpm,this);this.cZ[y].parent=this}};Rc.Uo.prototype=new NJ;Rc.Uo.prototype.b=function(){for(var Q in this.cZ)this.cZ[Q].b();
this.tz.b();this.tA.b()};Rc.Uo.prototype.mMP=function(Q){var S=this.CB,B=S.I[0];if(S.G[B].add.SoCo==null)return;
var y=JSON.parse(JSON.stringify(S.G[B].add.SoCo));y.Clr.v=this.Jx.d();this.FU({Vx:1,DW:y})};Rc.Uo.prototype.mMI=function(Q){var S=this.CB,B=S.I[0];
if(S.G[B].add.GdFl==null)return;this.FU({Vx:2,DW:this.tz.d()})};Rc.Uo.prototype.mMS=function(Q){this.FU({Vx:3,DW:this.tA.d()})};
Rc.Uo.prototype.FU=function(Q){this.m_l(K.Sb,{H:z.un,$s:[this.CB.I[0]],Hr:!0,z:Q})};Rc.Uo.prototype.mpm=function(Q){this.m_l(K.Gf,{H:"edit_layer",z:this.m_E.d()})};
Rc.Uo.prototype.m_l=function(Q,S){var B=new b(P.E.D,!0);B.h=Q;B.data=S;this.B(B)};Rc.Uo.prototype.Cp=function(Q){var S=Nd.get([0,3]),B=null;
this.CB=Q;if(Q&&Q.G.length>0&&Q.I.length!=0){var y=Q.G[Q.I[0]],l=Nf.get(y.add);if(l!=null&&this.cZ[l]!=null){B=this.cZ[l].p;
this.m_E=this.cZ[l];this.cZ[l].L(y.add[l]);if(Q.I[0]!=this.mGh){var D=Q.qB(Q.I[0]-1);this.mGF=k.Qd(D)}this.cZ[l].FS(this.mGF);
S=Nd.get(Nf.names[l])}if(y.add.SoCo){B=this.SJ;this.Jx.L(y.add.SoCo.Clr.v);S=Nd.get([6,48,0,0])}if(y.add.GdFl){B=this.Vk;
this.tz.update(Q,y.add.GdFl);S=Nd.get([6,48,0,1])}if(y.add.PtFl){B=this.hM;this.tA.update(Q,y.add.PtFl);
S=Nd.get([6,48,0,2])}this.mGh=Q.I[0]}if(B!=this.m_){if(this.m_)this.p.removeChild(this.m_);if(B!=null)this.p.appendChild(B);
this.m_=B}this.mWv.L(S)};Rc.Uo.prototype.on=function(Q,S){this.tz.on(Q,S);this.tA.on(Q,S);for(var B in this.cZ)this.cZ[B].on(Q,S)};
Rc.Be=function(){NJ.call(this);this.p=P.P("div","form");this.CB=null;this.FB=0;var Q=P.P("span","fitem");
this.p.appendChild(Q);this.fy=[new Nw([6,2]),new Nw([6,3]),new Nw([6,50])];for(var S=0;S<this.fy.length;
S++){var B=this.fy[S];B.w("click",this.mpM,this);Q.appendChild(B.p)}this.Nx=new mf([12,74],0,255);this.Nx.w(P.E.Y,this.hC,this);
this.p.appendChild(this.Nx.p);this.QU=new mf([7,6],0,500,"px",2,!0);this.QU.w(P.E.Y,this.hC,this);this.p.appendChild(this.QU.p)};
Rc.Be.prototype=new NJ;Rc.Be.prototype.hC=function(Q){var S=this.Nx.d(),B=this.QU.d(),y=new b(P.E.D,!0);
y.h=K.Sb;y.data={H:z.OO,OG:this.CB.I[0],gn:{Un:this.FB,Nx:S,QU:B}};this.B(y)};Rc.Be.prototype.b=function(){for(var Q=0;
Q<this.fy.length;Q++)this.fy[Q].b();this.Nx.b();this.QU.b()};Rc.Be.prototype.Cp=function(Q){this.CB=Q;
this.hb()};Rc.Be.prototype.mpM=function(Q){this.hb(this.fy.indexOf(Q.currentTarget));this.parent.mWY(this.FB)};
Rc.Be.prototype.hb=function(Q){var S=this.CB,B=this.fy;for(var y=0;y<3;y++){var l=B[y];l.fO();l.qG()}if(S==null||S.G.length==0||S.I.length==0)return;
var D=-1,R=S.G[S.I[0]];if(R.as()&&R.DG(S).k!=null){B[2].yn();D=2}if(R.add.vmsk){B[1].yn();D=1}if(R.Tb()){B[0].yn();
D=0}if(Q!=null)D=Q;else if(R.de)D=1;else if(R.Wg==3)D=2;else if(R.Wg==1)D=0;this.FB=D;if(D==-1){this.Nx.qG();
this.QU.qG();return}var p=R.mrN(D);this.Nx.yn();this.QU.yn();this.Nx.L(p.Nx);this.QU.L(p.QU);B[D].Cx()};
Rc.VO=function(){NJ.call(this);this.p=P.P("div","form");this.kZ=1;this.mU=P.P("div");this.$x=this.mGC(["W","H","X","Y"],[12,51],this.mU);
this.mt=P.P("div");var Q=["\u250F","\u2513","\u2517","\u251B"];this._z=this.mGC(Q,[12,91,2],this.mt)};
Rc.VO.prototype=new NJ;Rc.VO.prototype.b=function(){P.lV(this.$x[0],this.$x[1]);for(var Q=2;Q<5;Q++){this.$x[Q].b()}this._z[4].b()};
Rc.VO.prototype.mGC=function(Q,S,B){var y=P.P("div","numlist");B.appendChild(y);var l=[];for(var D=0;
D<4;D++){var R=new NP(Q[D],0,0,null,1,!1,!0);R.w(P.E.Y,this.mpp,this);y.appendChild(R.p);l.push(R);if(D==1||D==3)P.XL(y)}l[4]=new mM(S);
l[4].L(!0);B.appendChild(l[4].p);return l};Rc.VO.prototype.Ug=function(Q,S){for(var B=0;B<4;B++)Q[B].L(S[B])};
Rc.VO.prototype.mzW=function(Q){var S=[];for(var B=0;B<4;B++)S[B]=Q[B].d();return S};Rc.VO.prototype.mpp=function(Q){var S=this.$x.indexOf(Q.currentTarget),B=this._z.indexOf(Q.currentTarget),y=[null,null,null,null],l=[null,null,null,null];
if(S!=-1){var D=this.mzW(this.$x),R=this.$x[4].d();D[0]=Math.max(1,D[0]);D[1]=Math.max(1,D[1]);if(R&&S==0)D[1]=D[0]/this.kZ;
if(R&&S==1)D[0]=D[1]*this.kZ;y[0]=D[2];y[1]=D[3];y[2]=y[0]+D[0];y[3]=y[1]+D[1]}if(B!=-1){var D=this.mzW(this._z);
l[B]=Math.max(0,D[B]);if(this._z[4].d())for(var p=0;p<4;p++)l[p]=l[B];var O=l[3];l[3]=l[2];l[2]=O}var M=new b(P.E.D,!0);
M.h=K.Sb;M.data={H:z.Ou,ML:y,mGk:l};this.B(M)};Rc.VO.prototype.Cp=function(Q){if(Q==null)return;var S=this.mU.parentNode!=null,B=this.mt.parentNode!=null,y=k.SI.aX(Q),l=y[0],D=y[1];
if(l){if(!S)this.p.appendChild(this.mU);this.kZ=(l[2]-l[0])/(l[3]-l[1]);this.Ug(this.$x,[l[2]-l[0],l[3]-l[1],l[0],l[1]])}else if(S)this.p.removeChild(this.mU);
if(D){if(!B)this.p.appendChild(this.mt);var R=D[2];D[2]=D[3];D[3]=R;this.Ug(this._z,D)}else if(B)this.p.removeChild(this.mt)};
function RC(Q){Nn.call(this,Q.name,!0);this.SB=Q;this.pn=null;this.gA=!1;this.ll={x:0,y:0,qv:!1};this.mO=!0;
this._m=document.createElement("canvas");this._M=this._m.getContext("2d");this.yt=document.createElement("canvas");
this.S=this.yt.getContext("2d");var S=16,B=k.Q(16*16*4);k.jk(B,S,S,8,0,0);this.ke=k.scale.vY(B,S,S);
this.mmO=this.Gg.bind(this);this._r=this.Re.bind(this);this.mGo=this.ss.bind(this);this.uW=0;var y=this.iA;
P.jX(y,this.mmO);P.rm(y,this._r);y.addEventListener("wheel",this.NN.bind(this),!1);y.addEventListener("contextmenu",this.mpr.bind(this),!1);
this.Eu=0;this.kx="";this.PK=4;P.XW(y)}RC.prototype=new Nn;RC.prototype.mda=function(){if(this.SB.By())return window.confirm(Nd.get([22,6,3])+" "+this.SB.name+". "+Nd.get([22,6,4]));
return!0};RC.prototype.JG=function(Q){Q.preventDefault()};RC.prototype.Gg=function(Q){var S=Q.button!=null&&Q.button!=0?"rdown":"down";
this.gA=!0;var B=new b("mouse",!0);B.action=S;this.oq(Q,B);this.B(B);P.j_(this.iA,this._r);P.rm(window,this._r);
P.NP(window,this.mGo)};RC.prototype.Re=function(Q){var S=new b("mouse",!0);S.action="move";this.oq(Q,S);
this.B(S)};RC.prototype.ss=function(Q){var S=Q.button!=null&&Q.button!=0?"rup":"up";this.gA=!1;var B=new b("mouse",!0);
B.action=S;this.oq(Q,B);this.B(B);P.j_(window,this._r);P.oe(window,this.mGo);P.rm(this.iA,this._r)};
RC.prototype.NN=function(Q){this.JG(Q);if(Q.deltaX==0&&Q.deltaY==0||Date.now()-this.uW<50)return;this.uW=Date.now();
var S=new b("mouse",!0);S.action="scroll";this.oq(Q,S);this.B(S)};RC.prototype.mpr=function(Q){Q.stopPropagation();
Q.preventDefault()};RC.prototype.oq=function(Q,S){if(S.action!="up"){var B=P._(),y=P.Jo(Q,this.iA);this.ll=S.sh={x:B*y.x,y:B*y.y,qv:this.gA};
var l=P.Jo(Q,document.body);S.sh.Pz=l.x;S.sh.in=l.y}else this.ll=S.sh={x:this.ll.x,y:this.ll.y,qv:this.gA};
S.sh.eE=1;if(Q.pressure!=null&&Q.pressure!=0)S.sh.eE=Q.pressure*2;if(Q.deltaX!=null){S.bA=new v(Q.deltaX*.5,Q.deltaY*.5)}};
RC.prototype.on=function(Q,S){this.pn=Q};RC.prototype.Cp=function(Q){this.ad();this.FI()};RC.prototype.Kl=function(Q,S){if(Q<=0||S<=0)return;
this.QP=Q;this.Kj=S;var B=this.SB,y=P._();B.u.S.r=Math.floor(Q*y);B.u.S.O=Math.floor(S*y);P.tM(this.yt,Q,S);
P.tM(this._m,Q,S);P.tM(W.kE(),Q,S);if(B.u.C==0)B.u.C=K.hT.uC(B.r,B.O,Q*y,S*y);this.mO=!0;this.FI()};
RC.prototype.ad=function(){var Q=this.iA.firstChild;if(!W.Kf&&Q==W.kE()||W.Kf&&Q==this.yt)this.iA.removeChild(Q);
this.iA.appendChild(W.Kf?W.kE():this.yt)};RC.prototype.FI=function(){if(W.Kf!=this.PK){this.Eu=0;this.kx="";
this.mO=!0}this.PK=W.Kf;if(this.pn==null)return;if(W.Kf)this.mpN();else this.mpI();var Q=this.SB;this.Eu=Q.u.C;
this.kx=JSON.stringify(Q.u.T$);this.mO=!1};RC.prototype.mpN=function(){if(W.Kf&&RC.mam==null)RC.mam=new RC.if(!1);
if(W.Kf&&RC.maC==null)RC.maC=new RC.if(!0);var Q=this.SB,p;if(Q.pk==null)return;var S=Q.u,B=S.S.r,y=S.S.O,l=W.Gb;
this.S.clearRect(0,0,S.S.r,S.S.O);var D=this.mRh(Q);if(S.qo==null)S.qo=new W.rp(S.S.r,S.S.O);if(D)S.qo.set(this.yt);
else{W.gP(S.qo);W.oJ(0)}var R=new w(0,0,Q.r*S.C,Q.O*S.C);R.x=Math.round((B-Q.r*S.C)/2+S.a.x);R.y=Math.round((y-Q.O*S.C)/2+S.a.y);
var O=[0,0,0,0],M=[];if(Q.add.artd){O=RC.mpu(Q);var U=Q.r,m=Q.O;p=RC.maC;for(var Y=0;Y<Q.G.length;Y++){var x=Q.G[Y];
if(x.add.artb==null||!x.qm())continue;var T=x.ma();M.push(T.x/U,T.y/m,T.r/U,T.O/m)}if(M.length>32*4)M=M.slice(0,32*4);
while(M.length<32*4)M.push(0,0,0,0)}else p=RC.mam;W.Hb(B,y);W.oJ(0);W.Hb(B,y);p.FZ();p.sK(S.qo.MW,Q.pk.MW,new Float32Array([R.x/B,R.y/y,R.r/B,R.O/y]),new Float32Array([8/B,8/y]),Q.r,Q.O,1/Q.u.C,B,y,new Float32Array(M),new Float32Array(O),new Float32Array(k.Sl.Qk(k.Sl.Rb(S.T$))));
l.drawArrays(l.TRIANGLES,0,6)};RC.mpu=function(Q){var S=Q.add.artd;if(S.canvasColor==null)return[0,0,0,0];
var B=S.canvasColor.v,y=[B.Rd.v/255,B.Grn.v/255,B.Bl.v/255,1];for(var l=0;l<4;l++)y[l]=Math.min(1,y[l]);
return y};RC.prototype.mpI=function(){var Q=this.SB;if(Q.buffer==null)return;var S=Q.u,B=S.S.r,y=S.S.O;
this._M.clearRect(0,0,S.S.r,S.S.O);if(Q.add.artd==null){this.S.clearRect(0,0,S.S.r,S.S.O)}else{var l=RC.mpu(Q);
this.S.fillStyle="#"+k.eb(l[0]*255<<16|l[1]*255<<8|l[2]*255);this.S.fillRect(0,0,S.S.r,S.S.O)}var D=S.gV(),R=S.S.nG(D);
this.S.save();this.S.translate(D.x,D.y);if(Q.add.artd==null){this.S.fillStyle=this.ke;this.S.fillRect(0,0,D.r,D.O)}else{this.S.fillStyle="#ffffff";
this.S.scale(S.C,S.C);for(var p=0;p<Q.G.length;p++){var O=Q.G[p];if(O.add.artb==null||!O.qm())continue;
var M=O.ma();this.S.fillRect(M.x,M.y,M.r,M.O)}}this.S.restore();var U=Q.r!=S.lz.r||Q.O!=S.lz.O;if(U)S.lz.yZ(0,0,Q.r,Q.O);
var m=JSON.stringify(S.T$);if(S.C<=1){if(S.C!=this.Eu||m!=this.kx||Q.Ty){if(S.C!=this.Eu||S.Fc==null||U)S.Fc=this.S.createImageData(Math.max(1,D.r),Math.max(1,D.O));
if(S.C<1){var Y=k.rX(Q.buffer,new w(0,0,Q.r,Q.O),S.C,new Uint8Array(S.Fc.data.buffer))}else k.MK(Q.buffer,S.Fc.data);
k.Sl.RZ(S.Fc.data,S.Fc.data,k.Sl.Rb(S.T$))}this._M.putImageData(S.Fc,D.x,D.y);this.S.drawImage(this._m,R.x,R.y,R.r,R.O,R.x,R.y,R.r,R.O)}else{var x=S.BJ(),T=new w(0,0,x.r*S.C,x.O*S.C);
T.x=x.x*S.C+D.x;T.y=x.y*S.C+D.y;if(S.C!=this.Eu||this.mO){S.CG=k.Q(x.Z()*4);S.Fc=this.S.createImageData(T.r,T.O)}k.set(S.CG,0);
k.oD(this.SB.buffer,new w(0,0,Q.r,Q.O),S.CG,x);k.scale.LR(S.CG,x.r,x.O,S.Fc.data,T.r,T.O,S.C);k.Sl.RZ(S.Fc.data,S.Fc.data,k.Sl.Rb(S.T$));
this._M.putImageData(S.Fc,T.x,T.y);this.S.drawImage(this._m,0,0)}this.mRh(Q)};RC.prototype.mRh=function(Q){var S=Q.u,B=S.T$[0]+S.T$[1]+S.T$[2],y=!1,l=[];
for(var D=0;D<Q.I.length;D++){var R=Q.G[Q.I[D]],p=R.Wg;if(p!=1&&p!=3)continue;var O=p==1?R.Tb():R.DG(Q).k;
if(O.TX)l.push(O)}for(var D=0;D<Q.Ka.length;D++)if(Q.Ka[D].TX)l.push(Q.Ka[D]);for(var D=0;D<l.length;
D++){var O=l[D],M=Math.round(O.mn.R)<<16|Math.round(O.mn.e)<<8|Math.round(O.mn.t);this.myf(O.channel,O.rect,S,l.length==1&&B==0?2:1,O.color,M);
y=!0}var U=this.pn;y=this.mrc(Q,this.S,S)||y;if(Q.m&&U.fn&&U.Ke.Zd){this.myf(Q.m.channel,Q.m.rect,S,0,0,0);
y=!0}return y};RC.prototype.myf=function(Q,S,B,y,l,D){var R=B.gV(),p,O,M;if(B.C<=1){p=S.clone();p.x=Math.round(p.x*B.C);
p.y=Math.round(p.y*B.C);p.r=Math.floor(p.r*B.C);p.O=Math.floor(p.O*B.C);O=Q;if(B.C<1){if(B.AQ==null||B.AQ.length<S.Z()>>>1){console.log("here");
B.AQ=k.Q(S.Z()>>>1)}O=B.AQ;var U=k.xb(Q,S,B.C,O);p.r=U.rect.r;p.O=U.rect.O}if(B.XR==null||B.XR.length!=p.Z()*4)B.XR=k.Q(p.Z()*4);
else k.St(B.XR,0);var m=B.S.clone();m.offset(-R.x,-R.y);M=p.nG(m)}else{var Y=B.BJ();p=new w(Y.x*B.C,Y.y*B.C,Y.r*B.C,Y.O*B.C);
if(B.XR==null||B.XR.length!=p.Z()*4){B.AQ=k.Q(p.Z());B.XR=k.Q(p.Z()*4)}var x=k.Q(Y.Z());k.set(x,l);k.ht(Q,S,x,Y);
k.scale.ie(x,Y.r,Y.O,B.AQ,p.r,p.O,B.C);k.St(B.XR,0);O=B.AQ}var T=W.Kf?65535:16777215;D=D&T;if(y==0)k.m.mrd(O,B.XR,p,T,M);
else{var $=R.x,L=R.y,s=R.r,j=R.O;M=p.nG(new w(0,0,s,j));if(B.C<=1){var Z=l<<16|l<<8|l;if(W.Kf)Z=Z&16776960;
this.S.fillStyle=y==2?"#"+k.eb(Z):"rgba("+(D&255)+","+(D>>>8&255)+","+(D>>>16&255)+","+.5*(1-l/255)+")";
var e=$,J=e+M.x,N=J+M.r,E=e+s,h=L,o=h+M.y,V=o+M.O,n=h+j;this.S.fillRect($,h,s,o-h);this.S.fillRect($,o,J-e,V-o);
this.S.fillRect(N,o,E-N,V-o);this.S.fillRect($,V,s,n-V)}k.m.mri(O,B.XR,p,T,M,y,D)}if(B.C<=1)this._M.clearRect(0,0,B.S.r,B.S.O);
if(p.Z()!=0){var t=new ImageData(new Uint8ClampedArray(B.XR.buffer),p.r,p.O);this._M.putImageData(t,R.x+p.x,R.y+p.y);
this.S.drawImage(this._m,0,0)}};RC.prototype.mrc=function(Q,S,B){var y=Q.J.LC||Q.J.pN||Q.J.Pg||Q.J.wo.length!=0||Q.J.nQ.length!=0,l=this.pn,D=l.Ke,R=B.gV(),p=new Nu(B.C,0,0,B.C,R.x+.5,R.y+.5),O=MQ.Jv[l.QD],M=Math.round(12*P._());
S.fillStyle="#333300";S.font=M+"px sans-serif";if(Q.add.artd)for(var U=0;U<Q.G.length;U++){var m=Q.G[U];
if(m.add.artb==null||!m.qm())continue;var Y=m.ma(),x=new v(Y.x,Y.y);x=p.Dv(x);S.fillText(m.getName(),Math.round(x.x),Math.round(x.y-6));
y=!0}S.fillStyle=W.Kf?"rgba(0,0,255,1)":"rgba(0,0,0,0.4)";S.strokeStyle=W.Kf?"#0000ff":"#000000";if(l.fn&&D.SX){var T=Q.sH(),$=T[0],L=T[1];
for(var s=0;s<L.length;s++){var m=$[L[s]],j=m.add.vmsk,Z=j.A;S.lineWidth=.5;var e=k.i.vn(Z);this.Ga(e,p,S);
S.stroke();y=!0;var J=Math.round(3*P._()),N=Z.length-3,E=S.lineWidth;S.lineWidth=1.2;for(var U=0;U<j.KZ.length;
U++){var h=k.c.IB(Z,j.KZ[U]);if(h==null)continue;var o=R.x+h.x*B.C,V=R.y+h.y*B.C;S.beginPath();var n=U==0;
if(j.UF)n=!n;if(n){S.moveTo(o-J,V-J);S.lineTo(o+J,V+J);S.moveTo(o-J,V+J);S.lineTo(o+J,V-J);S.stroke()}else{S.arc(o,V,J*1,0,2*Math.PI);
S.fill()}y=!0}S.lineWidth=E;if(Q.I.length!=1)continue;var t=-1;for(var U=0;U<Z.length;U++){if(Z[U].type>5)continue;
if(Z[U].type==0||Z[U].type==3){if(Z[U].GL!=-1)t++;continue}if(j.I.indexOf(t)!=-1){var o=R.x+Z[U].v.x*B.C,V=R.y+Z[U].v.y*B.C;
S.fillRect(Math.round(o-J+.5),Math.round(V-J+.5),2*J-1,2*J-1)}if(j.GV.indexOf(U)!=-1){var q=[Z[U].v];
S.beginPath();S.moveTo(R.x+Z[U].G$.x*B.C,R.y+Z[U].G$.y*B.C);S.lineTo(R.x+Z[U].v.x*B.C,R.y+Z[U].v.y*B.C);
S.lineTo(R.x+Z[U].RQ.x*B.C,R.y+Z[U].RQ.y*B.C);S.stroke();if(!Z[U].v.UH(Z[U].G$))q.push(Z[U].G$);if(!Z[U].v.UH(Z[U].RQ))q.push(Z[U].RQ);
for(var u=0;u<q.length;u++){var h=q[u],o=R.x+h.x*B.C,V=R.y+h.y*B.C;if(u==0&&(Z[U].type==2||Z[U].type==5))S.fillRect(Math.round(o-1.2*J),Math.round(V-1.2*J),Math.round(2.4*J),Math.round(2.4*J));
else{S.beginPath();S.arc(o,V,J*1.2,0,2*Math.PI);S.fill()}}}y=!0}}}S.lineWidth=1;if(Q.J.LC){this.Ga(Q.J.LC,p,S);
S.fill()}if(Q.J.pN){this.Ga(Q.J.pN,p,S);S.stroke()}for(var g in Q.J.fA)if(Q.J.fA[g].pN){this.Ga(Q.J.fA[g].pN,p,S);
S.stroke()}S.beginPath();var J=4*P._(),r=Q.J.La;for(var U=0;U<r.length;U+=2){y=!0;var o=R.x+r[U]*B.C,V=R.y+r[U+1]*B.C;
S.rect(o-J+.5,V-J+.5,2*J-1,2*J-1)}S.stroke();S.beginPath();var J=4*P._(),r=Q.J.mwg;for(var U=0;U<r.length;
U+=2){y=!0;var o=R.x+r[U]*B.C,V=R.y+r[U+1]*B.C;S.moveTo(o+J-.5,V);S.arc(o,V,J-.5,0,2*Math.PI)}S.fill();
if(Q.J.wo.length!=0){for(var U=0;U<Q.J.wo.length;U++){var f=Q.J.wo[U],I=f[1];S.putImageData(new ImageData(new Uint8ClampedArray(f[0].buffer),I.r,I.O),I.x,I.y)}}if(Q.J.Dx){y=!0;
var d=Q.J.Dx,a=d.kS,e={F:[],M:[]};for(var U=0;U<d.kA.length;U++)k.i.concat(e,k.i.wS(d.kA[U]));e.M=e.M.concat(a);
for(var U=0;U<a.length;U+=4)e.F.push("M","L");S.strokeStyle=W.Kf?"#dd3300":"#dd3333";this.Ga(e,p,S);
S.stroke();var c=P._();for(var U=0;U<a.length;U+=4){var o=a[U],V=a[U+1],_=a[U+2],C=a[U+3],F=Math.sqrt((C-V)*(C-V)+(_-o)*(_-o));
F=k.hs.vH(F,Q.LY,l,V==C?Q.r:Q.O);var i=new v((o+_)/2,(V+C)/2);i=p.Dv(i);S.fillStyle=W.Kf?"#dd3300":"#dd3333";
var rP=S.measureText(F),rH=rP.width;S.fillRect(i.x-rH/2-2.5*c,i.y-7.5*c,rH+5*c,15*c);S.fillStyle=W.Kf?"#ffff00":"#ffffff";
S.fillText(F,i.x-rH/2,i.y+4*c)}}if(l.fn){S.lineWidth=1;if(D.Zp){var rK=k.hs.Iy(D.WK,Q,D.Fg),rY=rK;if(D.Fg==4)rY*=Q.O/Q.r;
this.rw(Q,R,S,rK,rY,"#808000",D.IZ);y=!0}if(D.BQ&&Q.u.C>7){this.rw(Q,R,S,1,1,"rgba(128,128,0,0.5)",D.IZ);
y=!0}if(D.WM){S.beginPath();S.strokeStyle=W.Kf?"#00ff00":"#00ffff";for(var U=0;U<Q.WM[0].length;U++){var Nc=Math.round(Q.u.tL(Q.WM[0][U],0).x)+.5;
S.moveTo(Nc,0);S.lineTo(Nc,Q.u.S.O)}for(var U=0;U<Q.WM[1].length;U++){var G=Math.round(Q.u.tL(0,Q.WM[1][U]).y)+.5;
S.moveTo(0,G);S.lineTo(Q.u.S.r,G)}S.closePath();S.stroke()}var rI=Q.$q;if(D.$q&&rI.length!=0){var rb=S.font;
S.font=Math.round(M*.8)+"px sans-serif";var Nr=[],Nz=[];for(var U=0;U<rI.length;U++){var NL=K.GM.fm(rI,U);
Nr.push(NL);if(Q.FY.indexOf(U)!=-1)Nz.push(NL)}Nr.reverse();var Nm=Date.now();Nr=k.rect.Ie([0,0,Q.r,Q.O],Nr);
S.translate(.5,.5);for(var u=0;u<2;u++)for(var U=0;U<Nr.length;U++){var NN=Nr[U],t=NN[4],Ne=t!=null?rI[t]:null;
if(Ne&&u==0||Ne==null&&u==1)continue;var Ny=Q.u.tL(NN[0],NN[1]),NG=Q.u.tL(NN[2],NN[3]),o=Math.round(Ny.x),V=Math.round(Ny.y),_=Math.round(NG.x),C=Math.round(NG.y),NC=Ne?"#008888":"#999999";
if(W.Kf)NC=NC.slice(0,5)+"00";S.strokeStyle=S.fillStyle=NC;S.beginPath();S.moveTo(o,V);S.lineTo(_,V);
S.lineTo(_,C);S.lineTo(o,C);S.closePath();S.stroke();var Ng=U+1,rP=S.measureText(Ng),rH=rP.width;S.fillRect(o-.5,V-.5,Math.round(rH+M/2),M);
S.fillStyle=W.Kf?"#ffff00":"#ffffff";S.fillText(Ng,o+M/4,Math.round(V+M*.8)-.5)}for(var U=0;U<Nz.length;
U++){var NN=Nz[U],Ny=Q.u.tL(NN[0],NN[1]),NG=Q.u.tL(NN[2],NN[3]),o=Math.round(Ny.x),V=Math.round(Ny.y),_=Math.round(NG.x),C=Math.round(NG.y);
S.strokeStyle=S.fillStyle=W.Kf?"#00aa00":"#00aaaa";S.beginPath();S.moveTo(o,V);S.lineTo(_,V);S.lineTo(_,C);
S.lineTo(o,C);S.closePath();S.stroke();var NM=[o,V,_,V,_,C,o,C];for(var NQ=0;NQ<NM.length;NQ+=2){var Nc=NM[NQ],G=NM[NQ+1],NR=NM[NQ+2&7],NV=NM[NQ+3&7];
S.fillRect(Nc-2.5,G-2.5,4,4);S.fillRect(Math.round((Nc+NR)/2)-2.5,Math.round((G+NV)/2)-2.5,4,4)}}S.translate(-.5,-.5);
S.font=rb;y=!0}}S.strokeStyle=W.Kf?"#ff0000":"#ff00ff";if(Q.J.Pg){this.Ga(Q.J.Pg,p,S);S.stroke()}if(l.If){if(Q.u.aK==null||Q.u.aK.width!=Q.u.S.r||Q.u.Ln.height!=Q.u.S.O){Q.u.aK=S.createImageData(Q.u.S.r,k.hs.RW);
Q.u.Ln=S.createImageData(k.hs.RW,Q.u.S.O)}var O=MQ.Jv[l.QD],B=Q.u,md=B.C*Q.r/2,NW=B.C*Q.O/2,Nh=[1,Q.LY,Q.LY/2.54,Q.LY/25.4,Q.r/100][D.vP],Nt=B.C,NU=B.a.clone();
B.C*=Nh;B.a.x+=md*Nh-md;B.a.y+=NW*Nh-NW;k.hs.mMO(B,O["--text-color"],O["--bg-input"]);B.C=Nt;B.a=NU;
var Mw=RG.mRR(B.C,W.Kf);if(W.Kf){k.St(Q.u.Ln.data,0,4278255615);k.St(Q.u.aK.data,0,4278255615)}S.putImageData(Q.u.Ln,0,0);
S.putImageData(Q.u.aK,0,0);S.putImageData(Mw,0,Q.u.S.O-Mw.height);S.fillStyle="#000000"}if(Q.J.nQ.length!=0){for(var U=0;
U<Q.J.nQ.length;U++){var f=Q.J.nQ[U],I=f[1];S.putImageData(new ImageData(new Uint8ClampedArray(f[0].buffer),I.r,I.O),I.x,I.y)}}return y||l.If||Q.WM[0].length+Q.WM[1].length>0};
RC.prototype.rw=function(Q,S,B,y,l,D,R){while(y*Q.u.C<4){y*=2;l*=2}var p=S.x,O=p+S.r,M=S.y,U=M+S.O;B.beginPath();
B.strokeStyle=D;for(var m=0;m<=Q.r;m+=y){var Y=Math.round(Q.u.tL(m,0).x)+.5;B.moveTo(Y,M);B.lineTo(Y,U)}if(R==0){for(var x=0;
x<=Q.O;x+=l){var T=Math.round(Q.u.tL(0,x).y)+.5;B.moveTo(p,T);B.lineTo(O,T)}}else{l*=Math.sqrt(4/3);
var $=(O-p)*(l/(2*y)),L=l*Math.floor(Q.r/l);for(var x=-L;x<=Q.O+L;x+=l){var T=Math.round(Q.u.tL(0,x).y)+.5,s=T-$,j=T+$;
this.mJW(B,p,M,O,U,T,s);this.mJW(B,p,M,O,U,T,j)}}B.closePath();B.stroke()};RC.prototype.mJW=function(Q,S,B,y,l,D,R){var p=S,O=y,M=D,U=R,m=0,Y=1,x=O-p,T=U-M,$,L,s;
for(var j=0;j<4;j++){if(j==0){$=-x;L=-(S-p)}if(j==1){$=x;L=y-p}if(j==2){$=-T;L=-(B-M)}if(j==3){$=T;L=l-M}s=L/$;
if($==0&&L<0)return!1;if($<0){if(s>Y)return!1;else if(s>m)m=s}else if($>0){if(s<m)return!1;else if(s<Y)Y=s}}var Z=p+m*x,e=M+m*T,J=p+Y*x,N=M+Y*T;
Q.moveTo(Z,e);Q.lineTo(J,N)};RC.prototype.Ga=function(Q,S,B){B.beginPath();var y=k.i.clone(Q);k.i.V(y.M,S,y.M);
Typr.U.pathToContext({cmds:y.F,crds:y.M},B)};RC.if=function(Q){W.qg.call(this);this.mmB=Q;var S="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform vec4 bgClr; \t\t\tuniform mat4 ctrn; \t\t\t"+(Q?"uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+W.wq.HS+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(Q?"\t\t\t\t\tbool inr = false; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tinr = inr || ( ar.z!=0.0 && in01(nsc/ar.zw) );\t\t\t\t\t}\t\t\t\t\tvec4 BG = inr ? vec4(1.0,1.0,1.0,1.0) : bgClr; \t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b != 0.0) outc = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\tgl_FragColor = simpleBlend((1.0-src.b)*src.rgga,outc); \t\t\t\t\t\t\t}",B="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.SZ(S,B)};RC.if.prototype=new W.qg;RC.if.prototype.sK=function(Q,S,B,y,l,D,R,p,O,M,U,m){this.Gp("srct gsize source target imgSizeZoom cnvSize ars bgClr ctrn".split(" "));
var Y=W.Gb,x=this.og;Y.uniform4fv(x.srct,B);Y.uniform2fv(x.gsize,y);Y.uniform3f(x.imgSizeZoom,l,D,R);
Y.uniform2f(x.cnvSize,p,O);Y.uniform4fv(x.bgClr,U);Y.uniformMatrix4fv(x.ctrn,!1,m);if(this.mmB)Y.uniform4fv(x.ars,M);
Y.uniform1i(x.source,0);Y.uniform1i(x.target,1);Y.activeTexture(Y.TEXTURE0);Y.bindTexture(Y.TEXTURE_2D,Q);
Y.activeTexture(Y.TEXTURE1);Y.bindTexture(Y.TEXTURE_2D,S);Y.activeTexture(Y.TEXTURE0)};function Mo(){Nn.call(this,[9,7],!1,null,Nn.Dg.mav);
this.iA.setAttribute("style","min-width:240px;");this.CB=null;this._N=-1;this.mmj=[];this.fL=P.P("div","scrollable");
this.fL.style.height="160px";this.iA.appendChild(this.fL);this.Cq=P.P("div","lpfoot");this.iA.appendChild(this.Cq);
this.oU=[];var Q=["reload","lrs/newlayer","lrs/bin"],S=[[5,10],[5,3],[5,4]];for(var B=0;B<Q.length;B++){var y=new Nw("<img src=\""+PIMG[Q[B]]+"\" class=\"gsicon\" />",!1,S[B]);
y.w("click",this.mrn,this);this.Cq.appendChild(y.p);this.oU.push(y)}}Mo.prototype=new Nn("");Mo.prototype.Fo=function(Q){var S=new b(P.E.D,!0);
S.data=Q;S.h=K.EF;this.B(S)};Mo.prototype.mrn=function(Q){var S=this.oU.indexOf(Q.currentTarget);if(S!=1)if(this._N==-1)return;
this.Fo({H:["updLC","addLC","delLC"][S],d_:this._N});if(S==2)this._N=-1};Mo.prototype.b=function(){Nn.prototype.b.call(this);
for(var Q=0;Q<this.oU.length;Q++)this.oU[Q].b()};Mo.prototype.Cp=function(Q){if(Q==null)P.Te(this.iA,"disabled");
else P.Dt(this.iA,"disabled");this.CB=Q;P.EW(this.fL);if(Q==null)return;var S=Q.qC.lastAppliedComp?Q.qC.lastAppliedComp.v:0,B=Q.qC.list.v.slice(0);
B.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var y=0;y<B.length;
y++){var l=B[y].v,D=new py(l.Nm.v,l.compID.v,l.capturedInfo.v,S,this._N);D.w("activate",this.Ru,this);
D.parent=this;this.fL.appendChild(D.p);this.mmj.push(D)}};Mo.prototype.Ru=function(Q){this._N=Q.currentTarget.d_;
this.Cp(this.CB)};function py(Q,S,B,y,l){NJ.call(this);this.d_=S;this.p=P.P("div","head listitem"+(S==l?" selected":""));
var D=S==y,R=new Nw("<b>"+(D?"\u2713":"\u2014")+"</b>");if(D)R.Cx();this.p.appendChild(R.p);R.w("click",this.tx,this);
var p=this.XP=P.P("span");p.textContent=Q;this.p.appendChild(p);this.oU=[];if(S!=0){this.p.addEventListener("mouseup",this.Ru.bind(this),!1);
this.maW=P.P("span","headR");this.p.appendChild(this.maW);var O=["lrs/eye","pos","lrs/fx"],M=["Visibility","Position","Appearance"];
for(var U=0;U<O.length;U++){var m=new Nw("<img src=\""+PIMG[O[U]]+"\" class=\"autoscale gsicon\" />",!1,M[U]);
if((B>>U&1)==0)m.p.setAttribute("style","opacity:0.3");m.w("click",this.mrb,this);this.maW.appendChild(m.p);
this.oU.push(m)}}}py.prototype=new NJ;py.prototype.Ru=function(Q){if(Q.target!=this.XP&&Q.target!=this.p)return;
if(Q.detail==1)this.B(new b("activate",!1));else{var S=new Nn.OI(this.XP,this.lq.bind(this))}};py.prototype.mrb=function(Q){var S=this.oU.indexOf(Q.currentTarget);
this.Fo({H:"editLC",m__:S,d_:this.d_})};py.prototype.lq=function(Q){this.Fo({H:"editLC",wa:Q,d_:this.d_})};
py.prototype.tx=function(Q){this.Fo({H:"setLC",d_:this.d_})};py.prototype.Fo=function(Q){var S=new b(P.E.D,!0);
S.data=Q;S.h=K.EF;this.B(S)};function Qc(){Nn.call(this,[9,11],!1,null,Nn.Dg.mvy);var Q=P.P("div","padded");
Q.setAttribute("style","min-width:15em");this.iA.appendChild(Q);var S=P.P("div");Q.appendChild(S);S.setAttribute("style","cursor:grab;");
this.MJ=P.P("canvas");this.MJ.width=100;S.appendChild(this.MJ);P.jX(this.MJ,this.RG.bind(this));this.mB=new rO(null,0,K.hT.te.length-1);
this.mB.w(P.E.Y,this.mrH,this);Q.appendChild(this.mB.p);this.mvF=this.Bl.bind(this);this.mvX=this.Bo.bind(this);
this.EJ=null}Qc.prototype=new Nn("");Qc.prototype.Kl=function(Q,S){this.FI()};Qc.prototype.mrH=function(Q){var S=this.mB.d(),B=this.EJ,y=K.hT.te[K.hT.te.length-1-S],l=new b(P.E.D,!0);
l.h=K.Gu;l.data={H:"zoom",C:y};this.B(l)};Qc.prototype.RG=function(Q){if(this.EJ==null)return;P.rm(window,this.mvF);
P.NP(window,this.mvX)};Qc.prototype.Bl=function(Q){var S=P.Jo(Q,this.MJ),B=this.EJ,y=this.MJ.width,l=this.MJ.height,D=(S.x*P._()-y/2)/y,R=(S.y*P._()-l/2)/l,p=P._()*B.u.C,O=Math.round(-B.u.C*B.r*D),M=Math.round(-B.u.C*B.O*R);
K.Ct.$p(B,O,M)};Qc.prototype.Bo=function(Q){P.j_(window,this.mvF);P.oe(window,this.mvX)};Qc.prototype.Cp=function(Q){if(Q==null&&this.EJ!=null)this.MJ.width=100;
this.EJ=Q;this.FI()};Qc.prototype.FI=function(){var Q=this.EJ,B=0;if(Q==null||Q.u.C==0)return;if(!P.lG(this.iA))return;
this.mB.L(K.hT.te.length-1-K.hT.yG(Q.u.C));var S=300*P._(),y=[Q.qB(),new w(0,0,Q.r,Q.O)];k.rt(y);while(Math.max(y[B+1].r,y[B+1].O)>S){B+=2}var l=y[B],D=y[B+1],R=D.r,p=D.O,O=this.MJ;
O.width=R;O.height=p;P.eu(O,R,p);var M=O.getContext("2d"),U=M.createImageData(R,p);k.MK(l,U.data);M.putImageData(U,0,0);
var m=Q.u.BJ(),Y=R/Q.r;M.scale(Y,Y);M.lineWidth=4/Y;M.strokeStyle="#ff0000";M.strokeRect(m.x,m.y,m.r,m.O)};
Qc.prototype.on=function(Q,S){};Qc.prototype.ad=function(){this.FI()};function pn(Q){Nn.call(this,Q.name,!1,Q.icon,"plg_"+Q.name);
if(!Q.url.startsWith("http"))return;var S=P.P("iframe","padded");S.setAttribute("src",Q.url);S.setAttribute("style","width:"+Q.width+"px; height:"+Q.height+"px");
this.iA.appendChild(S)}pn.prototype=new Nn("");function mX(){Nn.call(this,[9,12],!1,null,Nn.Dg.FG);this.Kv=null;
this.eV=new mH(K.Kz);this.eV.parent=this;var Q=P.P("div","padded");Q.setAttribute("style","width:20em");
this.iA.appendChild(Q);Q.appendChild(this.eV.El)}mX.prototype=new Nn("");mX.prototype.ad=function(){this.eV.XO(this.Kv.mb)};
mX.prototype.on=function(Q,S){this.Kv=Q;if(S==rS.E_||S==rS.FG)this.eV.XO(Q.mb)};mX.prototype.Kl=function(Q,S){this.eV.meE(this.Kv.Ht)};
mX.prototype.b=function(){Nn.prototype.b.call(this);this.eV.b()};function mc(){NJ.call(this);this.h=0;
this.Ud=null;this.p=P.P("div","toolconf");this.eV=null;this.kP=null;this.body=new P.P("div","body")}mc.prototype=new NJ;
mc.prototype.mrS=function(Q,S){this.h=Q;this.Ud=S;if(K.nx[Q]){var B=this.eV=new mH(Q);this.p.appendChild(B.p);
B.parent=this}else{this.kP=P.P("div");this.p.appendChild(this.kP)}this.p.appendChild(this.body);this.b()};
mc.prototype.m_j=function(Q,S){};mc.prototype.m_H=function(Q){};mc.prototype.on=function(Q,S){if(S==rS.E_||S==rS.FG)if(this.eV)this.eV.XO(Q.mb)};
mc.prototype.Qv=function(Q){};mc.prototype.b=function(){if(this.eV)this.eV.b();else this.kP.innerHTML=P.tC(this.Ud,null,"toolicon");
this.Tc()};mc.prototype.Tc=function(){};function RR(Q){mc.call(this);if(Q==null)return;this.Kv=null;
this.eW={};for(var S=0;S<Q.length;S++){var B=Q[S],y=null;if(B=="brush"){y=new pM}if(B=="bmode"){y=new ND([12,19,0],No.qu,!1,No.KM)}if(B=="bmode0"){y=new ND([12,19,0],No.qu.slice(23),!1)}if(B=="emode"){y=new ND([12,36],[[9,3],[10,38]])}if(B=="opacity"){y=new NP([12,0],0,100,"%");
y.L(100)}if(B=="flow"){y=new NP([12,63],0,100,"%");y.L(100)}if(B=="smth"){y=new NP([19,3,0],0,100,"%");
y.L(0)}if(B=="samp"){y=new ND("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(B=="wconf"){y=new Ls;
y.L([40,!0,!0])}if(B=="strn"){y=new NP([12,64],1,100,"%");y.L(50)}if(B=="smode"){y=new ND([12,36],[[19,7,0],[19,7,1]]);
y.L(1)}if(B=="pdetail"){y=new mM([12,65]);y.Cx()}if(B=="rng"){y=new ND([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
y.L(1)}if(B=="expo"){y=new NP([12,5],0,100,"%");y.L(50)}if(B=="algnd"){y=new mM([12,75]);y.L(!1)}if(B=="sfrom"){y=new ND([12,70],[[17,1],[17,3],[17,0]])}if(B=="qsmode"){y=new R$([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(B=="redge"){y=new Nw([7,11],!1,null,!0)}if(B=="setop"){y=new LC}if(B=="patch"){y=new R$(null,[[12,70],[12,71]])}if(B=="prsr"){y=new Qi(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
y.L([!1,!0])}y.parent=this;this.body.appendChild(y.p);this.eW[B]=y;if(B=="brush")y.w(P.E.Y,this.mmb,this);
else if(B=="redge")y.w("click",this.Fn,this);else y.w(P.E.Y,this.tB,this)}}RR.prototype=new mc;RR.prototype.m_j=function(Q,S){Q=Q[1];
var B=this.eW;if(Q.Md)B.bmode.L(No.oM.indexOf(Q.Md.v.BlnM));if(Q.Opct)B.opacity.L(Q.Opct.v);if(Q.flow)B.flow.L(Q.flow.v);
if(Q.Brsh)B.brush.L(Q,S.ml.gZ,S.ml.JR);if(Q.FrgC){var y=k.Kg.RT(Q.FrgC.v),l=new b(P.E.T,!0);l.data={H:P.l.Kk,yQ:rS.li,Di:0,z:y.t<<16|y.e<<8|y.R};
this.B(l)}this.mmb();this.tB()};RR.prototype.m_H=function(){if(K.nx[this.h]==null)return null;var Q=this.eW,S=JSON.parse(JSON.stringify(Q.brush.d()));
S.classID=K.nx[this.h][1][0];if(Q.bmode)S.Md={t:"enum",v:{BlnM:No.oM[Q.bmode.d()]}};if(Q.opacity)S.Opct={t:"long",v:Q.opacity.d()};
if(Q.flow)S.flow={t:"long",v:Q.flow.d()};var B=this.Kv.Tq;B={t:B>>>16,e:B>>>8&255,R:B&255};S.FrgC={t:"Objc",v:k.Kg.Od(B)};
return["Brush Preset "+S.Brsh.v.Dmtr.v.val,S]};RR.prototype.Fn=function(){var Q=new b(P.E.T,!0);Q.data={H:P.l.ND,yc:"redge"};
this.B(Q)};RR.prototype.Tc=function(){for(var Q in this.eW)this.eW[Q].b()};RR.prototype.Qv=function(Q){if(Q.mWh=="showBrushOpts"){this.eW.brush.mp$(Q.eG.x,Q.eG.y)}for(var S in Q.gB){var B=Q.gB[S];
if(S!="qsmode")B*=100;if(this.eW[S])this.eW[S].L(B)}};RR.prototype.on=function(Q,S){mc.prototype.on.call(this,Q,S);
this.Kv=Q;var B=this.eW.brush;if(B==null)return;if(S==rS.E_||S==rS.Kz)B.XO(Q.ml);if(S==rS.tP){B.L(Q.ml.Zr,Q.ml.gZ,Q.ml.JR)}};
RR.prototype.mmb=function(){var Q=new b(P.E.T,!0);Q.data={H:P.l.Kk,yQ:rS.tP,bW:this.eW.brush.d()};this.B(Q)};
RR.prototype.tB=function(){var Q=new b(P.E.T,!0);Q.data={H:P.l.eF,h:this.h};for(var S in this.eW){if(S=="brush"||S=="redge")continue;
var B=this.eW[S].d();if(["opacity","flow","smth","strn","expo"].indexOf(S)!=-1)Q.data[S]=B/100;else if(S=="bmode")Q.data.bmode=No.ea[B];
else if(S=="bmode0")Q.data.bmode=No.ea[23+B];else Q.data[S]=B}this.B(Q)};function my(Q){mc.call(this);
if(Q)return;this.data={H:P.l.eF,po:"front",Mu:0,Es:[10,!0,!0],qt:{xQ:0,x:1,y:1}};this._d=new LC;this.body.appendChild(this._d.p);
this._d.w(P.E.Y,this.wv,this);this.BV=new NP([7,6],0,100," px");this.BV.parent=this;this.BV.L(0);this.body.appendChild(this.BV.p);
this.BV.w(P.E.Y,this.wv,this);this.kK=new Nw([7,11],!1,null,!0);this.body.appendChild(this.kK.p);this.kK.w("click",this.Fn,this)}my.prototype=new mc;
my.prototype.Qv=function(Q){if(Q.po!=null)this._d.L(Q.po);else{var S=my.Zm;if(S==null){var B=mA.mVL(!0);
S=my.Zm=new RW(B.items,B.SY)}S.b();S.parent=this;S.update(Q.wJ,Q.pn);var y=new b(P.E.T,!0);y.data={H:P.l.ow,qr:S,x:Q.fv.Pz+2,y:Q.fv.in+1};
this.B(y)}};my.prototype.Tc=function(){this.BV.b();this._d.b();this.kK.b()};my.prototype.Fn=function(){var Q=new b(P.E.T,!0);
Q.data={H:P.l.ND,yc:"redge"};this.B(Q)};my.prototype.wv=function(){var Q=new b(P.E.T,!0);this.data.h=this.h;
this.data.po=this._d.d();this.data.Mu=this.BV.d();Q.data=this.data;this.B(Q)};function pX(){RR.call(this,["brush","strn"])}pX.prototype=new RR;
function pD(){RR.call(this,"brush bmode opacity flow smth prsr".split(" "))}pD.prototype=new RR;function pO(){RR.call(this,["brush","bmode0","samp","wconf"])}pO.prototype=new RR;
function pB(){RR.call(this,["brush"])}pB.prototype=new RR;function pl(){RR.call(this,"brush bmode opacity flow smth prsr".split(" "))}pl.prototype=new RR;
function pj(){RR.call(this,["brush","rng","expo"])}pj.prototype=new RR;function po(){RR.call(this,"brush bmode opacity flow algnd sfrom".split(" "))}po.prototype=new RR;
function Md(Q){mc.call(this);if(Q==null)return;var S=P.P("span","fitem");this.body.appendChild(S);var B=[[17,0],[17,1],[11,12,0],[17,2]];
this.fy=[];for(var y=0;y<B.length;y++){var l=new Nw(B[y],!1,null,!0);this.fy.push(l);l.w("click",this.mNV,this);
if(!Q||y==1)S.appendChild(l.p)}this.qt=new QV;this.qt.w(P.E.Y,this.mNG,this);if(!Q)this.body.appendChild(this.qt.p);
this.BM=new mY;this.BM.w("click",this.JS,this)}Md.prototype=new mc;Md.prototype.Tc=function(){this.BM.b();
for(var Q=0;Q<this.fy.length;Q++)this.fy[Q].b();this.qt.b()};Md.prototype.Qv=function(Q){var S=this.BM.p;
if(Q.Zy)this.body.appendChild(S);else if(this.body.contains(S))this.body.removeChild(S);if(Q.qt)this.qt.L(Q.qt)};
Md.prototype.JS=function(Q){var S={H:P.l.eF,h:this.h,QQ:this.BM.d()?"commit":"cancel"},B=new b(P.E.T,!0);
B.data=S;this.B(B)};Md.prototype.mNV=function(Q){Q.target.p.blur();var S={H:P.l.eF,h:this.h,QQ:"cropby",mqe:this.fy.indexOf(Q.target)},B=new b(P.E.T,!0);
B.data=S;this.B(B)};Md.prototype.mNG=function(Q){var S={H:P.l.eF,h:this.h,QQ:"config",gi:{oj:this.qt.d()}},B=new b(P.E.T,!0);
B.data=S;this.B(B)};function pi(){Md.call(this,!1)}pi.prototype=new Md;function pk(){Md.call(this,!0)}pk.prototype=new Md;
function pZ(){RR.call(this,["brush","rng","expo"])}pZ.prototype=new RR;function pb(){RR.call(this,"brush emode opacity flow smth prsr".split(" "))}pb.prototype=new RR;
function px(){RR.call(this,["brush","samp","wconf"])}px.prototype=new RR;function pP(){my.call(this);
this.qt=new QV;this.qt.w(P.E.Y,this.Fs,this);this.body.appendChild(this.qt.p)}pP.prototype=new my(!0);
pP.prototype.Fs=function(Q){this.data.qt=this.qt.d();this.wv()};pP.prototype.Tc=function(){my.prototype.Tc.call(this);
this.qt.b()};function pI(){mc.call(this);this.mA=new ND([12,20],["1x1","3x3","5x5","11x11","31x31"]);
this.mA.w(P.E.Y,this.tB,this);this.body.appendChild(this.mA.p)}pI.prototype=new mc;pI.prototype.tB=function(Q){var S=new b(P.E.T,!0);
S.data={H:P.l.eF,h:this.h,Zq:[1,3,5,11,31][this.mA.d()]};this.B(S)};pI.prototype.Tc=function(){this.mA.b()};
function pd(){mc.call(this);this.rP=new LZ(!1);this.rP.parent=this;this.rP.w(P.E.Y,this.hC,this);this.body.appendChild(this.rP.p);
this.rP.L(JSON.parse(rx.ls.mpg).v);this.mK=new ND(null,rx.Kg.names.slice(0,5));this.mK.w(P.E.Y,this.hC,this);
this.body.appendChild(this.mK.p);this.MM=new ND([12,19,0],No.qu,null,No.KM);this.MM.w(P.E.Y,this.hC,this);
this.body.appendChild(this.MM.p);this.KE=new NP([12,0],0,100,"%");this.KE.parent=this;this.KE.w(P.E.Y,this.hC,this);
this.body.appendChild(this.KE.p);this.KE.L(100);this.Mp=new mM([12,23,0]);this.Mp.w(P.E.Y,this.hC,this);
this.body.appendChild(this.Mp.p)}pd.prototype=new mc;pd.prototype.Tc=function(){this.mK.b();this.MM.b();
this.KE.b();this.Mp.b()};pd.prototype.on=function(Q,S){mc.prototype.on.call(this,Q,S);var B=S==rS.li;
this.rP.WR(Q.Tq,Q.hB);if(B||S==rS.Jw||S==rS.E_)this.rP.XO(Q.YR)};pd.prototype.hC=function(){var Q=new b(P.E.T,!0);
Q.data={H:P.l.eF,h:this.h};Q.data.yQ={Kg:this.rP.d(),style:rx.Kg.types[this.mK.d()],reverse:this.Mp.xH(),mqB:No.ea[this.MM.d()],opacity:this.KE.d()/100};
this.B(Q)};function pA(){mc.call(this)}pA.prototype=new mc;function pY(){RR.call(this,["brush","algnd","sfrom"])}pY.prototype=new RR;
function pV(){mc.call(this);this.mE=new Mn;this.mE.parent=this;this.body.appendChild(this.mE.SH.p);this.body.appendChild(this.mE.KQ.p);
this.body.appendChild(this.mE.md.p);var Q=P.P("span","fitem");this.body.appendChild(Q);Q.appendChild(this.mE.lo.p);
Q.appendChild(this.mE.lb.p);Q.appendChild(this.mE.lk.p);this.mx=new Nw([11,9],!1,null,!0);this.mx.w("click",this.mNw,this);
this.body.appendChild(this.mx.p);this.BM=new mY;this.BM.w("click",this.JS,this)}pV.prototype=new mc;
pV.prototype.Tc=function(){this.BM.b();this.mE.b();this.mx.b()};pV.prototype.mNw=function(Q){var S={H:P.l.eF,h:this.h,QQ:"showwarp"},B=new b(P.E.T,!0);
B.data=S;this.B(B)};pV.prototype.Qv=function(Q){if(Q.QQ=="showactive")this.body.appendChild(this.BM.p);
if(Q.QQ=="hideactive")this.body.removeChild(this.BM.p)};pV.prototype.on=function(Q,S){mc.prototype.on.call(this,Q,S);
if(S!=rS.E_&&S!=rS.Vq&&S!=rS.tn&&S!=rS.Yu)return;this.mE.gS(Q)};pV.prototype.JS=function(Q){var S={H:P.l.eF,h:this.h,QQ:this.BM.d()?"commit":"cancel"},B=new b(P.E.T,!0);
B.data=S;this.B(B)};function pK(){my.call(this)}pK.prototype=new my(!0);function MH(){mc.call(this);
var Q=[],B="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this._g=new mM([12,85]);this._g.w(P.E.Y,this.tB,this);Q.push(this._g.p);this._F=new mM([20,1]);this._F.w(P.E.Y,this.tB,this);
Q.push(this._F.p);this._G=new mM([12,83]);this._G.w(P.E.Y,this.tB,this);Q.push(this._G.p);var S=P.P("span","fitem");
Q.push(S);this.mwM=new ND("Scale for exported files",["1x","2x","3x","4x"],!0);S.appendChild(this.mwM.p);
this.ZM=new Nw(B+" PNG",!1,null,!0);S.appendChild(this.ZM.p);this.ZM.w("click",this.FX,this);this.mfw=new Nw(B+" SVG",!1,null,!0);
S.appendChild(this.mfw.p);this.mfw.w("click",this.FX,this);var y=P.P("span","fitem");Q.push(y);var l=P.P("span","fitem");
Q.push(l);this.oU=[];for(var D=0;D<8;D++){var R=D==3||D==7?[20,4,6]:[20,4,D<3?D:D-1],p=new Nw("Hi",!1,R);
(D<4?y:l).appendChild(p.p);p.w("click",this.FX,this);this.oU.push(p)}for(var D=0;D<Q.length;D++)this.body.appendChild(Q[D]);
this.mfU=Q}MH.prototype=new mc;MH.prototype.Qv=function(Q){var S=Q.bp,B=Q.mFy;this._g.L(S.fb);this._F.L(S.fH);
this._G.L(S.Dx);if(B){P.EW(this.body);for(var y=0;y<B.length;y++)if(B[y]==1&&this.mfU[y])this.body.appendChild(this.mfU[y])}};
MH.prototype.FX=function(Q){var S=this.oU.indexOf(Q.target),B;if(S==-1)B={H:P.l.eF,h:this.h,Di:Q.target==this.ZM?"getPNG":"getSVG",mgf:this.mwM.d()+1};
else B={H:P.l.eF,h:this.h,Di:"algn",z:S};var y=new b(P.E.T,!0);y.data=B;this.B(y)};MH.prototype.tB=function(Q){var S=new b(P.E.T,!0);
S.data={H:P.l.eF,h:this.h,Di:"prms",fb:this._g.xH(),fH:this._F.xH(),Dx:this._G.xH()};this.B(S)};MH.prototype.Tc=function(){this._g.b();
this._F.b();this._G.b();var Q="h0 h1 h2 hG v0 v1 v2 vG".split(" ");for(var S=0;S<8;S++){this.oU[S].CE(P.tC("align/"+Q[S],null,"autoscale"))}};
function rm(){my.call(this);var Q=this.MF=new Ls;Q.parent=this;Q.w(P.E.Y,this.mNf,this);this.body.appendChild(Q.p)}rm.prototype=new my(!0);
rm.prototype.mNf=function(Q){this.data.Es=this.MF.d();this.wv()};rm.prototype.Tc=function(){my.prototype.Tc.call(this);
this.MF.b()};function rM(){RR.call(this,["setop","patch"])}rM.prototype=new RR;function rp(){RR.call(this,["bmode","opacity","wconf"])}rp.prototype=new RR;
function rr(){my.call(this)}rr.prototype=new my(!0);function rN(){my.call(this)}rN.prototype=new my(!0);
function rR(){my.call(this);this.qt=new QV;this.qt.w(P.E.Y,this.Fs,this);this.body.appendChild(this.qt.p)}rR.prototype=new my(!0);
rR.prototype.Fs=function(Q){this.data.qt=this.qt.d();this.wv()};rR.prototype.Tc=function(){my.prototype.Tc.call(this);
this.qt.b()};function pe(){mc.call(this);this.GN=[new Ry("X",null,3),new Ry("Y",null,3),new Ry("W",null,3),new Ry("H",null,3),new Ry([12,15],null,4),new Ry([12,80,0],null,4),new Nw([15,7,6],!1,null,!0)];
for(var Q=0;Q<this.GN.length;Q++){var S=this.GN[Q];this.body.appendChild(S.p)}this.GN[6].w("click",this.mRB,this);
this.MN=0}pe.prototype=new mc;pe.prototype.mRB=function(Q){if(this.MN==0){return}var S=new b(P.E.D,!0);
S.h=K.fM;S.data={H:"rot",$a:[2,5],z:-this.MN};this.B(S)};pe.prototype.Qv=function(Q){var S=Q.mFC,B=Q.LF,y=B.x-S.x,l=B.y-S.y,D=this.GN;
this.MN=-Math.atan2(l,y);D[0].L(S.x);D[1].L(S.y);D[2].L(y);D[3].L(l);D[4].L((this.MN*180/Math.PI).toFixed(2));
D[5].L(Math.sqrt(y*y+l*l).toFixed(2))};pe.prototype.Tc=function(){var Q=this.GN;for(var S=0;S<Q.length;
S++)Q[S].b();P.lV(Q[2],Q[3])};function rL(){RR.call(this,["brush","strn","pdetail"])}rL.prototype=new RR;
function rc(){RR.call(this,["brush"]);this.mnV=[];var Q=[[7,12]];for(var S=0;S<Q.length;S++){var B=new Nw(Q[S],!1,null,!0);
this.mnV.push(B);B.parent=this;this.body.appendChild(B.p);B.w("click",this.mRK,this)}}rc.prototype=new RR;
rc.prototype.mRK=function(Q){var S=this.mnV.indexOf(Q.currentTarget),B=new b(P.E.RK,!0);B.data=K.KT.bH("contentAware");
this.B(B)};function rd(){RR.call(this,["brush","strn"])}rd.prototype=new RR;function re(){RR.call(this,["brush","flow","smode"])}re.prototype=new RR;
function pg(){mc.call(this);this.SD=!1;var Q=P.P("span","fitem");this.body.appendChild(Q);this._a=new R$(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
Q.appendChild(this._a.p);this._a.w(P.E.Y,this.tB,this);this.MR=new Nw([20,2]);this.body.appendChild(this.MR.p);
this.MR.w("click",this.mNA,this);this.ZR=new Nw([20,3]);this.body.appendChild(this.ZR.p);this.ZR.w("click",this.mNA,this)}pg.prototype=new mc;
pg.prototype.Tc=function(){this.MR.b();this.ZR.b()};pg.prototype.tB=function(){var Q={H:P.l.eF,h:this.h,ig:this._a.d()==0},S=new b(P.E.T,!0);
S.data=Q;this.B(S)};pg.prototype.Qv=function(Q){if(this.SD!=Q.SD)this._a.L(1-this._a.d());this.SD=Q.SD};
pg.prototype.mNA=function(Q){var S=new b(P.E.D,!0);S.h=K.Gu;S.data={H:"adapt",z:Q.target==this.MR?"pixel":"fitscr"};
this.B(S)};function mC(Q,S){mc.call(this);if(Q==null)return;this.eW={};var B=[[12,76,0],[12,76,1]];if(S==null)B.push([12,76,2]);
for(var y=0;y<Q.length;y++){var l=Q[y],D=null;if(l=="tmode"){D=new ND(null,B);D.L(1)}if(l=="binop"){D=new ND(null,[[18,1],[18,2],[18,3],[18,4]]);
D.qG()}if(l=="pshape")D=new ND(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);if(l=="shape")D=new Rx([12,76,1]);
if(l=="crad"){D=new NP([12,94,0],0,50,"px");D.L(0)}if(l=="cstr"){D=new QV}if(l=="irad"){D=new NP([12,94,1],0,100,"%");
D.L(40)}if(l=="length"){D=new NP([12,80,0],4,40);D.L(4)}if(l=="sides"){D=new NP([12,78],3,30);D.L(5)}if(l=="width"){D=new NP([12,41],1,100,"px");
D.L(5)}if(l=="tsiz"){D=new NP("Tip Size",100,500,"%");D.L(300)}if(l=="tolr"){D=new NP([12,24],0,100);
D.L(5)}if(l=="fstyle"){D=new pr([12,26])}if(l=="sstyle"){D=new QX}if(l=="psnap"){D=new mM([8,10])}D.parent=this;
this.body.appendChild(D.p);this.eW[l]=D;D.w(P.E.Y,this.tB,this)}}mC.prototype=new mc;mC.prototype.mQz=function(Q){return null};
mC.prototype.mQG=function(){if(this.eW.pshape==null)return;var Q=this.mQz(this.eW.pshape.d());if(Q==null)return;
P.EW(this.body);for(var S=0;S<Q.length;S++){var B=Q[S];this.body.appendChild(this.eW[B].p)}};mC.prototype.Tc=function(){for(var Q in this.eW){this.eW[Q].b()}};
mC.prototype.tB=function(Q){var S=new b(P.E.T,!0);if(Q.target==this.eW.fstyle){S.data={H:P.l.Kk,yQ:rS.VJ,z:this.eW.fstyle.d()};
this.B(S);return}if(Q.target==this.eW.sstyle){S.data={H:P.l.Kk,yQ:rS.AI,z:this.eW.sstyle.d()};this.B(S);
return}if(this.eW.tmode&&this.eW.binop){if(this.eW.tmode.d()==0)this.eW.binop.yn();else this.eW.binop.qG()}S.data={H:P.l.eF,h:this.h};
for(var B in this.eW)if(B!="sstyle")S.data[B]=this.eW[B].d();this.B(S);if(Q.target==this.eW.pshape)this.mQG()};
mC.prototype.on=function(Q,S){mc.prototype.on.call(this,Q,S);var B=this.eW.fstyle,y=this.eW.sstyle;if(B)B.on(Q,S);
if(y)y.on(Q,S);if(S==rS.E_||S==rS.tg)if(Q.yS.length!=0&&this.eW.shape){this.eW.shape.XO(Q.yS)}if(S==rS.E_||S==rS.VJ)if(B)B.L(null,Q.yi,Q.mEJ);
if(S==rS.E_||S==rS.AI)if(y)y.L(null,Q.yD,Q.mzD)};function rJ(){mC.call(this,["tmode","fstyle","sstyle","binop"],!0)}rJ.prototype=new mC;
function rV(){mC.call(this,["tmode","fstyle","sstyle","binop","tolr"])}rV.prototype=new mC;function pH(){mC.call(this,["fstyle","sstyle"]);
this.mfG=null;this.mmy=null;this.mmg=null;this.aA=new ND("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.Gh=new Nw("\u25BC");this.Gh.Cx();this.vz=new Nw("\u25B2");this.vz.Cx();this.ZV=[this.aA,this.Gh,this.vz];
for(var Q=0;Q<this.ZV.length;Q++){var S=this.ZV[Q];this.body.appendChild(S.p);S.parent=this;S.w(Q==0?P.E.Y:"click",this.$Y,this)}}pH.prototype=new mC;
pH.prototype.Qv=function(Q){if(Q.QQ=="main"){var S=this.ZV,B=Q.ZJ;if(B&&B.I.length==1){this.mmy=B.clone();
this.mmg=JSON.stringify(Q.SI);var y=B.I[0],l=k.c.Tm(B.A);this.aA.yn();if(y>0)this.Gh.yn();else this.Gh.qG();
if(y<l-1)this.vz.yn();else this.vz.qG();var D=k.c.rN(B.A,y),R=B.A[D];this.aA.CE("Path "+(y+1));this.aA.L([3,0,1,2][R.GL])}else{for(var p=0;
p<S.length;p++)S[p].qG()}}};pH.prototype.Tc=function(){mC.prototype.Tc.call(this);this.aA.b()};pH.prototype.$Y=function(Q){if(Q.target==this.aA||Q.target==this.Gh||Q.target==this.vz){var S={},B=this.mmy,y=B.A,l=JSON.parse(this.mmg),D=B.I[0],R=k.c.rN(y,D),p=y[R];
if(Q.target==this.aA){var O=this.aA.d();if(O<4)p.GL=[1,2,3,0][O];else{if(k.c.Tm(y)<=1)return;B.A=k.c.LX(y);
B.I=[0];B.GV=[];l=[k.SI.VE()]}}else{var M=Q.target==this.Gh?-1:1,U=Math.min(D,D+M),m=Math.max(D,D+M),Y=k.c.rN(y,U),x=k.c.rN(y,m);
if(Y==-1||x==-1)return;var T=x+k.c.Li(y,m),$=l[U];l[U]=l[m];l[m]=$;var L=y.slice(0,Y),s=y.slice(Y,x),j=y.slice(x,T),Z=y.slice(T);
B.A=L.concat(j.concat(s.concat(Z)));B.I[0]+=M}S.ZJ=B;S.SI=l;var e=new b(P.E.T,!0);e.data={H:P.l.eF,h:this.h,oG:S};
this.B(e)}};function rC(){mC.call(this,["fstyle","sstyle","psnap"])}rC.prototype=new mC;function ru(){mC.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}ru.prototype=new mC;
function rg(){mC.call(this,["tmode","fstyle","sstyle","binop","cstr"])}rg.prototype=new mC;function rW(){mC.call(this,"tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
this.mmo=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]];this.mQG()}rW.prototype=new mC;
rW.prototype.mQz=function(Q){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.mmo[Q])};
function rF(){mC.call(this,["tmode","fstyle","sstyle","binop","width"])}rF.prototype=new mC;function r_(){mC.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}r_.prototype=new mC;
function rG(){my.call(this)}rG.prototype=new my(!0);function ra(){RR.call(this,["brush","qsmode","redge"])}ra.prototype=new RR;
function rv(){mc.call(this)}rv.prototype=new mc;function rw(){mc.call(this);this.Gh=new Nw("\u25BC");
this.Gh.Cx();this.vz=new Nw("\u25B2");this.vz.Cx();var mq=[this.Gh,this.vz];for(var Q=0;Q<2;Q++){var S=mq[Q];
this.body.appendChild(S.p);S.w("click",this.$Y,this)}}rw.prototype=new mc;rw.prototype.$Y=function(Q){var S=new b(P.E.T,!0);
S.data={H:P.l.eF,h:this.h,Di:"reorder",dir:Q.target==this.Gh?-1:1};this.B(S)};function Mb(Q){mc.call(this);
if(window.Typr==null||Q)return;this.tc=null;this.mmW=P.P("span","");this.mmA=P.P("span","");var S=1;
this.$D={PW:new M$(null,24),O$:new NP("X",0,0,"px",0,!1,!0,4),Oj:new NP("Y",0,0,"px",0,!1,!0,4),QX:new NP("W",0,0,["%","px"],0,!1,!0,4),b_:new Nw("\u2261",null,[12,51],null),ay:new NP("H",0,0,["%","px"],0,!1,!0,4),mmT:new NP("\u2221",0,0,"\xB0",S,!1,!0),mmi:new NP("\u25B1 X",-85,85,"\xB0",S,!1,!0),mmk:new NP("\u25B1 Y",-85,85,"\xB0",S,!1,!0),PU:new ND(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.$D.PU.L(1);for(var B in this.$D){this.mmW.appendChild(this.$D[B].p);var y=this.$D[B]==this.$D.b_?"click":P.E.Y;
this.$D[B].w(y,this.mQa,this)}this.MF=new Lb(!0,!0,!0);this.MF.w(P.E.Y,this.mQv,this);this.MF.parent=this;
var l=this.mmA,D=this.MF;l.appendChild(D.GG.p);l.appendChild(D.mi.p);l.appendChild(D.Gn.p);l.appendChild(D.Gs.p);
l.appendChild(D.Gt.p);this.mx=new Nw([11,9]);this.mx.w("click",this.mQO,this);this.BM=new mY;this.BM.w("click",this.JS,this)}Mb.prototype=new mc;
Mb.prototype.Qv=function(Q){if(Q.fv){var S=Mb,B=S.Zm;if(B==null)B=S.Zm=new RW(S.mLs(),S.mLk());B.b();
B.parent=this;B.update(Q.wJ,Q.pn);var y=new b(P.E.T,!0);y.data={H:P.l.ow,qr:B,x:Q.fv.Pz+2,y:Q.fv.in+1};
this.B(y);return}P.EW(this.body);this.tc=Q;if(Q.$D){var l=Q.$D.q,D=Q.$D.Sl.clone(),R=Math.atan2(-D.R,D.n),p=new Nu;
p.rotate(-R);D.concat(p);var O=this.$D;O.PW.L(Q.$D.Xo);O.O$.L(Q.$D.lC.x);O.Oj.L(Q.$D.lC.y);O.QX.L(D.n*(O.QX.Fq()=="%"?100:l.r));
O.ay.L(D.en*(O.ay.Fq()=="%"?100:l.O));O.mmT.L(-R*180/Math.PI);O.mmi.L(0*180/Math.PI);O.mmk.L(Math.atan(D.ce)*180/Math.PI);
this.body.appendChild(this.mmW);this.mx.fO()}if(Q.bk){this.MF.L(Q.bk);this.body.appendChild(this.mmA);
this.mx.Cx()}this.body.appendChild(this.BM.p);if(Q.m_m)this.body.appendChild(this.mx.p)};Mb.prototype.mQa=function(Q){var S=this.$D,B=this.tc.$D.q;
if(Q.target==S.b_)S.b_.L(!S.b_.d());if(S.b_.xH()){var y=S.ay,l=S.QX,D=B.O,R=B.r;if(Q.target==S.QX){y=S.QX;
l=S.ay;D=B.r;R=B.O}var p=y.d()/(y.Fq()=="%"?100:D);p*=l.Fq()=="%"?100:R;l.L(p)}var O=[];for(var M in S)if(S[M]!=S.b_&&S[M]!=S.PW){var p=S[M].d();
if((S[M]==S.QX||S[M]==S.ay)&&p==0){p=.1;S[M].L(p)}if(S[M]==S.QX&&S[M].Fq()=="px")p/=B.r/100;if(S[M]==S.ay&&S[M].Fq()=="px")p/=B.O/100;
O.push(p)}var U=new v(O[0],O[1]);if(Q.target==S.PW){this.GU({QQ:"ctyp",Xo:S.PW.d()})}else if(Q.target==S.O$||Q.target==S.Oj){this.GU({QQ:"cen",lC:U})}else{var m=this.tc.$D.Sl.clone(),Y=m.clone(),x=Math.atan2(-m.R,m.n);
Y.translate(-U.x,-U.y);Y.rotate(-x);var T=new Nu(Y.n,Y.R,Y.ce,Y.en,0,0);T.SD();Y.concat(T);Y.concat(new Nu(O[2]/100,Math.tan(O[5]*Math.PI/180),Math.tan(O[6]*Math.PI/180),O[3]/100,0,0));
Y.rotate(-O[4]*Math.PI/180);Y.translate(U.x,U.y);this.tc.$D.Sl=Y;this.GU({QQ:"trn",$D:Y,ff:this.$D.PU.d()})}};
Mb.prototype.mQv=function(Q){this.GU({QQ:"wrp",bk:this.MF.d()})};Mb.prototype.mQO=function(Q){this.GU({QQ:"switchWarp"})};
Mb.prototype.JS=function(Q){this.GU({QQ:this.BM.d()?"commit":"cancel"})};Mb.prototype.GU=function(Q){Q.H=P.l.eF;
Q.h=this.h;var S=new b(P.E.T,!0);S.data=Q;this.B(S)};Mb.prototype.Tc=function(){var Q=this.$D;for(var S in Q)Q[S].b();
P.lV(Q.QX,Q.ay);this.BM.b();this.MF.b();this.mx.b()};Mb.mLs=function(){return[{name:[5,9],yd:"Shift+Alt+Ctrl + T",Uw:!0},{name:[2,9]},{name:[11,9],o:function(Q){if(Q==null||Q.I.length!=1)return{o:!1};
var S=Q.G[Q.I[0]];return{o:S.add.TySh==null&&!S.So()}},Uw:!0},{name:"90\xB0 \u21BB",o:function(Q){return{os:Nd.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",o:function(Q){return{os:Nd.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",o:function(Q){return{os:Nd.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]};
Mb.mLk=function(){return[{f:P.E.D,h:K.fM,U:{H:"again"}},{f:P.E.T,U:{H:P.l.oE,h:K.fM,bp:{aD:1}}},{f:P.E.T,U:{H:P.l.oE,h:K.fM,bp:{aD:2}}},{f:P.E.D,h:K.fM,U:{H:"rot",$a:[2,5],z:-Math.PI/2}},{f:P.E.D,h:K.fM,U:{H:"rot",$a:[2,5],z:-3*Math.PI/2}},{f:P.E.D,h:K.fM,U:{H:"rot",$a:[2,5],z:Math.PI}},{f:P.E.D,h:K.fM,U:{H:"scl",$a:[2,6,[22,4,2]],z:new v(-1,1)}},{f:P.E.D,h:K.fM,U:{H:"scl",$a:[2,6,[22,4,3]],z:new v(1,-1)}}]};
function rU(){Mb.call(this)}rU.prototype=new Mb(!0);function rn(){Mb.call(this)}rn.prototype=new Mb(!0);
function Mi(){NJ.call(this);this.p=P.P("div","cmanager");this.QP=0;this.Kj=0;this.rH=[];this.Zh={};this.ZC=P.P("div","alertcont");
this.p.appendChild(this.ZC);this.mpG=P.P("div","alertcont");this.p.appendChild(this.mpG);this.BE=P.P("div","alertcont");
this.mpT=0;this.Bt=-1;this.mrW=null;this.qX=null;var Q=this.mfZ=P.P("div","alertpanel");Q.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.BE.appendChild(Q);var S=this.FT=P.P("input");S.setAttribute("type","text");S.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
S.addEventListener("input",this.mQx.bind(this),!1);S.addEventListener("keydown",this.mLM.bind(this),!1);
Q.appendChild(S);var B=this.mrl=P.P("div","contextpanel scrollable");B.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
B.addEventListener("click",this.mLy.bind(this),!1);Q.appendChild(B);P.jX(document.body,this.mLw.bind(this))}Mi.prototype=new NJ;
Mi.prototype._L=function(){if(P.lG(this.BE))this.p.removeChild(this.BE)};Mi.prototype.mQo=function(Q,S){var B=this.mrW=[];
for(var y=0;y<mA.data.length;y++){var l=mA.data[y],D=[Nd.get(l.name)],R=[y];Mi.mLY(l.items,D,R,B,Q,S)}var p=mB.Il;
for(var y=0;y<p.length;y+=3){B.push([["Tools",Nd.get(p[y])],[-1,p[y+2]]])}this.p.appendChild(this.BE);
var O=this.FT;O.focus();O.select();this.FI()};Mi.prototype.mQx=function(Q){this.Bt=-1;this.FI()};Mi.prototype.FI=function(){var Q=this.FT.value.toLowerCase().trim().replace(/  +/g," "),S=this.mrW,B=[],y=[],l=Q.split(" ");
if(Q!="")for(var D=0;D<S.length;D++){var R=S[D][0],p=[],O=0;for(var M=0;M<R.length;M++)p[M]=-1;for(var U=0;
U<l.length;U++)for(var M=0;M<R.length;M++){var m=R[M].toLowerCase().indexOf(l[U]);if(m!=-1){p[M]=[m,m+l[U].length];
O++;break}}if(O==l.length){B.push(S[D]);y.push(p)}}var Y=[],x=this.mrl;P.EW(x);for(var D=0;D<B.length;
D++){var T=B[D][0],m=y[D],$="enab",s="";if(D==this.Bt)$+=" active";var L=P.P("div",$);Y.push(L);x.appendChild(L);
for(var M=0;M<T.length;M++){var j=m[M],Z=l[M],e=T[M];if(j!=-1)e=e.slice(0,j[0])+"<span style=\"color:black\">"+e.slice(j[0],j[1])+"</span>"+e.slice(j[1]);
s+=e;if(M<T.length-1)s+=" \uFE65 "}L.innerHTML=s}this.qX=[B,Y]};Mi.prototype.mLM=function(Q){var S=A.GW,B=Q.code;
if(S(B,A.fr))this._L();var y=S(B,A.SV),l=S(B,A.Sk),D=S(B,A._o);if(y||l){this.Bt=Math.max(0,Math.min(this.qX[0].length-1,this.Bt+(y?-1:1)));
this.FI()}if(D&&this.Bt!=-1)this.mde(this.Bt)};Mi.mLY=function(Q,S,B,y,l,D){for(var R=0;R<Q.length;R++){var p=Q[R],O=S.slice(0),M=B.slice(0),U=Nd.get(p.name);
if(p.o){var m=p.o(l,D,R);if(m.os)U=m.os;if(m.o==!1)continue}O.push(U);M.push(R);if(p.sub)Mi.mLY(p.sub,O,M,y,l,D);
else y.push([O,M])}};Mi.prototype.mLy=function(Q){var S=Q.target;if(S.tagName.toLowerCase()=="span")S=S.parentNode;
var B=this.qX[1].indexOf(S);this.mde(B)};Mi.prototype.mde=function(Q){var S=this.qX[0][Q][1];if(S[0]==-1){var B=new b(P.E.T,!0);
B.data={H:P.l.oE,h:S[1]};this.B(B)}else{var y=mA.data[S[0]].SY[S[1]];for(var l=2;l<S.length;l++)y=y.sub[S[l]];
var D=new b(y.f,!0);D.h=y.h;D.data=y.U;this.B(D)}this._L()};Mi.prototype.Kl=function(Q,S){this.QP=Q;
this.Kj=S;this.mrl.style["max-height"]=S-120+"px"};Mi.prototype.mLV=function(Q){var S=P.P("div","alertpanel");
S.textContent=Nd.get(Q);this.ZC.appendChild(S);this.Zh[JSON.stringify(Q)]=S};Mi.prototype.mLF=function(Q){var S=this.Zh[JSON.stringify(Q)];
this.ZC.removeChild(S);delete this.Zh[JSON.stringify(Q)]};Mi.prototype.alert=function(Q,S){var B=this.mpG;
for(var y=0;y<B.children.length;y++)if(B.children[y].textContent==Q)return;var l=P.P("div","alertpanel tpanel");
l.textContent=Q;l.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");B.appendChild(l);if(S==null)S=1500;
var D=S,R=Math.max(Date.now()+D,this.mpT+D);setTimeout(function(){l.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){B.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},R-Date.now()-30);
setTimeout(function(){B.removeChild(B.firstChild);B.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},R-Date.now());
this.mpT=R};Mi.prototype.mLw=function(Q){var S=this.rH;for(var B=S.length-1;B>=0;B--){var y=S[B],l=Q.target;
while(l!=null){if(l==y.p){this.oh(y);return}l=l.parentNode}}this.oh();var D=Q.target;while(D!=this.BE&&D!=document.body)D=D.parentNode;
if(D!=this.BE)this._L()};Mi.prototype.oh=function(Q){var S=this.rH;for(var B=0;B<S.length;B++){if(Q&&Q.mdy(S[B]))continue;
var y=S[B].p;y.style.height="auto";P.Dt(y,"scrollable");this.p.removeChild(y);S.splice(B,1);B--}};Mi.prototype.mLX=function(Q){this.oh(Q.qr);
var S=Q.qr,B=S.p;if(this.rH.indexOf(S)!=-1)return;this.rH.push(S);this.p.appendChild(S.p);var y=this.QP,l=this.Kj,D=Q.x,R=Q.y,p=this.p.getBoundingClientRect(),O=S instanceof RW;
if(O||Q.mMR){var M=S.gL(),U=S.mht();if(O)M=Math.min(M,200);if(R+U<l){D=Math.min(D,y-M-5)}else{if(D+M<y){R=Math.min(R,l-U-5)}else if(U<R){R=R-U-2;
D=Math.min(D,y-M-5)}else{D=D-M;R=Math.min(R,l-U-5)}}if(Q.mmV)R=Math.max(2,Q.y-U-2);if(Q.mMM)R=Q.y}R=Math.max(2,R);
var top=Math.round(R-p.y+this.p.offsetTop);B.style.position="absolute";B.style["z-index"]=10;B.style.left=Math.round(D)+"px";
B.style.top=top+"px";if(R+S.mht()>l-3){B.style.height=l-3-R+"px";P.Te(B,"scrollable")}};Mi.prototype.mdE=function(Q){var S=Q.qr,B=this.rH.indexOf(S);
if(B==-1)return;this.rH.splice(B,1);var y=S.p;this.p.removeChild(S.p)};Mi.prototype.gI=function(){var Q=this.rH;
return Q.length==0?null:Q[Q.length-1]};Mi.prototype.meu=function(){this.mdE({qr:this.gI()})};function rs(){NJ.call(this);
this.p=P.P("div","confbar")}rs.prototype=new NJ;rs.prototype.mcL=function(Q){Q.parent=this;P.EW(this.p);
this.p.appendChild(Q.p)};function Nx(){NJ.call(this);this.Kv=null;this.NM=P.P("input","");this.NM.setAttribute("type","file");
this.NM.setAttribute("multiple","");this.NM.addEventListener("change",function(Q){this._y(Q.target.files,null,this.ZF,null);
this.ZF=null}.bind(this),!1);document.body.appendChild(this.NM);this.NM.setAttribute("style","display:none");
this.mRU=[];this.Zu=!1;this.mQQ={};this.ZF=null}Nx.prototype=new NJ;Nx.mcq=function(Q){try{navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},Q.type,{value:Q,enumerable:!0}))])}catch(Rf){console.error(Rf,Rf.message)}};
Nx.mcJ=function(Q,S){try{navigator.clipboard.read().then(function(B){for(var y=0;y<B.length;y++){try{var l=B[y];
for(var D=0;D<l.types.length;D++){var R=l.types[D];if(R!="image/png")continue;l.getType(R).then(function(p){new Response(p).arrayBuffer().then(function(O){Nx.GD({name:"image.png"},O,Q,S)})})}}catch(Rf){console.error(Rf,Rf.message)}}})}catch(Rf){console.error(Rf,Rf.message)}};
Nx.mEr=function(Q){navigator.permissions.query({name:"clipboard-read"}).then(function(S){Q(S.state)})};
Nx.prototype._c=function(Q){if(Q==null)Q=[23,5];var S=JSON.stringify(Q),B=this.mQQ;if(B[S]==null)B[S]=0;
if(B[S]==0){var y=new b(P.E.T,!0);y.data={H:P.l.uq,_p:Q};this.B(y)}B[S]++};Nx.prototype._e=function(Q){if(Q==null)Q=[23,5];
var S=JSON.stringify(Q),B=this.mQQ;if(B[S]==null)B[S]=0;B[S]--;if(B[S]==0){var y=new b(P.E.T,!0);y.data={H:P.l.uJ,_p:Q};
this.B(y)}};Nx.prototype.mcV=function(Q,S){var B=this.NM;if(S)B.setAttribute("accept",S);else B.removeAttribute("accept");
var y=document.createEvent("MouseEvents");y.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
B.dispatchEvent(y);this.ZF=Q};Nx.prototype.RD=function(Q){this.mRU.push(Q);this.mel()};Nx.prototype.mel=function(){var Q=this.mRU;
if(Q.length==0||this.Zu)return;this.Zu=!0;var S=Q.shift();this._c();if(S.DS==null)S.DS={};var B=new XMLHttpRequest;
B.MQ=S;var y=S.url;if(S.Pa)y="mirror.php?url="+encodeURIComponent(y);B.open("GET",y);B.responseType="arraybuffer";
B.onload=this.mVC.bind(this);B.send()};Nx.prototype._y=function(Q,S,B,y){for(var l=0;l<Q.length;l++){this._c();
var D=Q[l],R=new FileReader;R.MQ=D;R.MQ.$h=B;R.MQ.VL=y;R.mMr=S;R.onload=this.mVC.bind(this);R.onerror=function(p){this._e()}.bind(this);
R.readAsArrayBuffer(D)}this.NM.value=null};Nx.prototype.mcB=function(Q){var S=Q.NV.iK,B=Nx.oC(Q,S);pv.jy(function(){var y=new XMLHttpRequest,l="https://www.googleapis.com/upload/drive/v3/files/"+Q.NV.file.id+"?uploadType=media"+"&"+pv.rF();
y.open("PATCH",l,!0);y.addEventListener("load",function(D){var R=JSON.parse(D.target.response);alert(R.name+" updated")});
y.send(B);alert("Saving \""+Q.NV.file.name+"\" to Google Drive ...")})};Nx.prototype.mcK=function(Q,S){var B=Q.qB(),y=S[0],l=Nx.oC(Q,y);
if(window.parent!=window)window.parent.postMessage(l,"*")};Nx.prototype.mdq=function(Q,S){this._c("Saving ...");
this.Kv=S;setTimeout(Nx.mdJ.bind({mc:Q,caller:this}),50)};Nx.oC=function(Q,S,B){var y=S.split(":"),l=y[0],D=null;
if(y.length==2){if(l=="jpg"||l=="webp")D=[Math.round(100*parseFloat(y[1]))];if(l=="psd")D=[!0,!0]}var R=Np.jw(Q,l.toUpperCase(),null,null,D,B);
return R};Nx.mdJ=function(){var Q=this.mc,S=this.caller,B=Q.DS._O,y=B.formats,l,D;Q.qB();var R=Date.now();
if(B.version==1){var p=[],O=0,m=0;for(var M=0;M<y.length;M++){var U=Nx.oC(Q,y[M],S.Kv);p.push(U);O+=U.byteLength}l=new Uint8Array(2e3+O);
var Y="{ \"source\": "+JSON.stringify(Q._w)+", \"versions\": [\n";for(var M=0;M<y.length;M++){var x=new Uint8Array(p[M]);
Y+="\t{\"format\": \""+y[M].split(":")[0]+"\", \"start\": "+m+", \"size\": "+x.length+" }"+(M+1<y.length?", ":"")+"\n";
l.set(x,2e3+m);m+=p[M].byteLength}Y+="] }";var T=X.cb(Y,l,0);for(var M=T;M<2e3;M++)l[M]=32;D="application/octet-stream"}else{var $=new R_,L=0,s="",j=encodeURIComponent;
s="p="+j("{ \"source\": "+JSON.stringify(Q._w)+", \"versions\": [");X.NF($,L,s);L+=s.length;for(var M=0;
M<y.length;M++){s=j(" {\"format\": \""+y[M].split(":")[0]+"\", \"data\": \"");X.NF($,L,s);L+=s.length;
var U=Nx.oC(Q,y[M],S.Kv),Z=Nx.mdo(U,U.byteLength),T=Z.length;$.vq(L,T);for(var e=0;e<T;e++){$.vq(L,3);
var J=Z[e];if(J==43){$.data[L]=37;$.data[L+1]=50;$.data[L+2]=66;L+=3}else if(J==47){$.data[L]=37;$.data[L+1]=50;
$.data[L+2]=70;L+=3}else if(J==61){$.data[L]=37;$.data[L+1]=51;$.data[L+2]=68;L+=3}else{$.data[L]=J;
L++}}s=j("\" }"+(M+1<y.length?", ":""));X.NF($,L,s);L+=s.length}s=j("] }");X.NF($,L,s);L+=s.length;l=$.data.slice(0,L);
D="application/x-www-form-urlencoded"}var N=new XMLHttpRequest;N.open("POST",B.url,!0);if(D)N.setRequestHeader("Content-Type",D);
N.addEventListener("load",Nx.mdf.bind(this));N.send(new Blob([l.buffer]))};Nx.mdf=function(Q){this.caller._e("Saving ...");
var S=Q.target.response;if(S.charAt(0)=="{"){S=JSON.parse(S);if(S.newSource)this.mc._w=S.newSource;if(S.message)alert(S.message,2e3);
if(S.script){var B=new b(P.E.T,!0);B.data={H:P.l.Dw,aR:S.script};this.caller.B(B)}}else alert("Saved. Response: "+S,1500)};
Nx._J=function(Q){var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=new Uint8Array(Q),y=B.length,l=y%3,D=y-l,R=[],p=0,O=0,M=0;
for(var U=0;U<D;U+=3){p=B[U];O=B[U+1];M=B[U+2];R.push(S[p>>2]+S[(p&3)<<4|O>>4]+S[(O&15)<<2|M>>6]+S[M&63])}if(l==1){p=B[D];
R.push(S[p>>2]+S[(p&3)<<4]+"==")}if(l==2){p=B[D];O=B[D+1];R.push(S[p>>2]+S[(p&3)<<4|O>>4]+S[(O&15)<<2]+"=")}var m=R.join("");
return m};Nx.mdo=function(Q,S){var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=new Uint8Array(64),O=0,M=0,U=0,Y=0;
for(var l=0;l<64;l++)y[l]=B.charCodeAt(l);var D=new Uint8Array(Q),R=S%3,p=S-R,m=new Uint8Array(Math.floor(S/3)*4+(R==0?0:4));
for(var l=0;l<p;l+=3){O=D[l];M=D[l+1];U=D[l+2];m[Y]=y[O>>>2];m[Y+1]=y[(O&3)<<4|M>>>4];m[Y+2]=y[(M&15)<<2|U>>>6];
m[Y+3]=y[U&63];Y+=4}if(R==1){O=D[p];m[Y]=y[O>>2];m[Y+1]=y[(O&3)<<4];m[Y+2]=61;m[Y+3]=61}if(R==2){O=D[p];
M=D[p+1];m[Y]=y[O>>2];m[Y+1]=y[(O&3)<<4|M>>4];m[Y+2]=y[(M&15)<<2];m[Y+3]=61}return m};Nx.prototype.mVC=function(Q){var S,B=Q.target.MQ;
if(Q.target instanceof XMLHttpRequest)S=Q.target.response;else S=Q.target.result;Nx.mVP(B,S,this,Q.target.mMr);
this._e();if(Q.target instanceof XMLHttpRequest){this.Zu=!1;this.mel()}};Nx.mVP=function(Q,S,B,y){if(window.location.href.indexOf("photopea.com")==-1)Nx.GD(Q,S,B,y);
else{try{Nx.GD(Q,S,B,y)}catch(Rf){if(Rf=="low_ram"){}else{var l="Unexpected file structure. Please, send your file to support@photopea.com and we will solve it.";
if(Np.Ge(S)=="eps")l="We support only basic EPS files. Convert your file into PDF (with any online converter) and open the PDF in Photopea.";
window.myn(l,1e4)}}}};Nx.GD=function(Q,S,B,y){var l;if(Q.name)l=Q.name.split(".")[0];else{if(Q.url.substring(0,5)=="data:"||Q.url.indexOf("googleapis")!=-1)l="image";
else l=Q.url.substring(Q.url.lastIndexOf("/")+1).split(".")[0];l=l.slice(0,50)}var D=new Uint8Array(S),R=Np.Ge(S),p=window.ga;
if(p&&R!=null&&Np.hG(R))p("send","event","Formats",R);if(R==null)R=X.Ly(D,0,4);if(R=="json"){var O="";
for(var M=0;M<D.length;M++)O+=String.fromCharCode(D[M]);O=decodeURIComponent(escape(O));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(O));return}if(R=="html"){var O=X.nl(D,0,D.length),U=new DOMParser,m=U.parseFromString(O,"text/html"),Y=m.getElementsByTagName("meta");
for(var M=0;M<Y.length;M++){var x=Y[M],T=x.getAttribute("property"),$=x.getAttribute("content"),L=null;
if(T=="og:image")L=$;if(T==null&&$&&$.startsWith("0;url=/imgres?")){var s=$.slice(14).split("&");for(var j=0;
j<s.length;j++)if(s[j].startsWith("imgurl"))L=decodeURIComponent(s[j].slice(7))}if(L==null)continue;
var Z=new b(P.E.T,!0);Z.data={H:P.l.fd,yQ:{url:L,Pa:!0,$h:Q.$h}};B.B(Z)}return}if(Np.hG(R)){var e,J=Np.hG(R);
if(Q.$h!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(R)!=-1){var Z=new b(P.E.T,!0);Z.data={H:P.l.ud,target:Q.$h,x$:Q.VL,SB:S,Uv:l};
B.B(Z);return}if(J.oc){e=new mV(l+(R=="psd"?"":"-"+R)+".psd");J.tm(S,e,!0)}else{var N=J.tm(S);if(N[0].t33421||N[0].t50706){k.raw.normalize(N[0],S);
console.log(N[0]);var Z=new b(P.E.T,!0);Z.data={H:P.l.mRc,Pb:N[0]};B.B(Z);return}if(y){y(new Uint8Array(N[0].data),N[0].iQ);
return}e=Nx.o$(l,N)}e.DS=Q.DS;e._w=Q.url;e.rE=Q.rE;e.NV=Q.NV;if(e.NV)e.NV.iK=R;if(e.G.length!=0){var Z=new b(P.E.T,!0);
Z.data={H:Q.$h==null?P.l.DJ:P.l.ud,target:Q.$h,x$:Q.VL,SB:e};B.B(Z)}return}var E=new b(P.E.T,!0);E.data={H:P.l.mqt,mMJ:S,wW:Q.name};
var h=Q instanceof File&&Q.mQC!=!0,Z=new b(P.E.T,!0);Z.data={H:P.l.Kk,DS:"add",yQ:null,cU:null,mQg:Q.mQC};
if(R=="zip"){var o=Date.now(),V=UZIP.parse(S),n="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var t in V){var q=!1;for(var M=0;M<n.length;M++)if(t.toLowerCase().endsWith("."+n[M]))q=!0;if(t.startsWith("__MACOSX/")||V[t].length==0)q=!0;
if(q)continue;var u=t.split("/").pop();Nx.mVP({name:u},V[t].buffer,B,y)}}else if(R=="jsx"){var O=X.nl(new Uint8Array(S));
Z.data={H:P.l.Dw,aR:O};B.B(Z)}else if(R=="otf"){if(h)B.B(E);var g=Typr.parse(S);Z.data.yQ=rS.tn;for(var M=0;
M<g.length;M++){Z.data.cU=g[M];B.B(Z)}}else if(R=="asl"){if(h)B.B(E);var g=QZ.fY(S);Z.data.yQ=rS.tJ;
Z.data.cU=g.il;B.B(Z);Z.data.yQ=rS.A$;Z.data.cU=g.dR;B.B(Z)}else if(R=="tpl"){var g=Lm.fY(S);Z.data.yQ=rS.Kz;
Z.data.cU={gZ:g.gZ,JR:g.JR,list:[]};B.B(Z);Z.data.yQ=rS.FG;Z.data.cU=g.list;B.B(Z)}else{var r="";for(var f in rS.Ms)if(rS.Ms[f][0]==R)r=f;
if(r!=""){if(h)B.B(E);Z.data.cU=rS.Ms[r][2].fY(S,Q.name?Q.name:Q.url);Z.data.yQ=r;B.B(Z)}else alert("Unknown file format: "+JSON.stringify(R))}};
Nx.prototype.mdZ=function(Q){var S=new XMLHttpRequest;S.open("POST","https://api.imgur.com/3/image",!0);
S.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");S.setRequestHeader("Content-type","application/x-www-form-urlencoded");
S.setRequestHeader("Accept","application/json");S.addEventListener("load",this.meN);S.send("type=base64&image="+encodeURIComponent(Nx._J(Q)));
alert("Saving to Imgur ...",4e3)};Nx.prototype.meN=function(Q){var S=JSON.parse(Q.target.response);if(S.success)window.open(S.data.link,"Imgur")};
Nx.o$=function(Q,S){var B=S[0].Uk&&S[0].Uk.startsWith("_a_"),y,l=new mV(Q+".psd"),D=new w(0,0,1,1);if(B){y=l.oz();
y.add.lsct=NI.YG;y.pM(Q);y.wk="pass";y.$N=24;y.SO(!0);l.G.push(l.rg())}for(var R=0;R<S.length;R++){var p=S[R];
D=D.wM(p.iQ);var O=l.oz();O.SO(R==0);O.pM(S.length==1?"Background":"Layer "+R);if(p.LY)l.LY=p.LY;if(p.Uk)O.pM(p.Uk);
O.rect=p.iQ.clone();O.buffer=new Uint8Array(p.data);k.aH(O);l.G.push(O)}if(B)l.G.push(y);l.I=[B?l.G.length-1:0];
l.r=D.r;l.O=D.O;l.buffer=k.Q(D.Z()*4);l.s();return l};Nx.save=function(Q,S){var B=new Uint8Array(Q),y=document.createElement("a");
if(typeof y.download=="string"){var l=new Blob([B]),D=window.URL.createObjectURL(l);y.href=D;y.download=S;
document.body.appendChild(y);y.click();document.body.removeChild(y)}else{var R="data:application/octet-stream;base64,"+Nx._J(Q);
window.open(R)}};function R_(){this.size=16;this.data=k.Q(16)}R_.prototype.vq=function(Q,S){if(Q+S<=this.size)return;
var B=this.size;while(Q+S>this.size)this.size*=2;var y=k.Q(this.size);for(var l=0;l<B;l++)y[l]=this.data[l];
this.data=y};function ml(Q){NJ.call(this);this.oB=ml.oB++;this.Mc=Q;this.mMV=this.meJ.bind(this);this.mQW=this.meG.bind(this);
this.mMh=this.Rk.bind(this);this.mMf=this.men.bind(this);this.mQ$=this.mes.bind(this);this.mMU=this.meX.bind(this);
this._B=0;this.mQP=0;this.BO=0;this.p=P.P("div","panelblock");this.Nh=P.P("div","block");this.Me=P.P("div","collapsed");
this.p.appendChild(this.Nh);this.Ci=-1;this._l=!0;this.WV=P.P("div","panelhead");this.Nh.appendChild(this.WV);
this._W(this.WV);this.ZG=new Nw("\u2261");this.ZG.p.setAttribute("style","position:absolute; right:0;");
this.ZG.w("click",this.mey,this);this.fL=P.P("div","");this.Nh.appendChild(this.fL);this.KW=[];this.Mq=null;
this.GR=null}ml.oB=0;ml.prototype=new NJ;ml.prototype.mey=function(Q){var S=this.KW[this.Ci].WA(),B=Q.currentTarget.p.getBoundingClientRect();
S.b();S.parent=this;var y=new b(P.E.T,!0);y.data={H:P.l.ow,qr:S,x:B.left,y:B.top+B.height+2};this.B(y)};
ml.prototype.RB=function(Q){var S=this.Nh,B=this.WV,y=this.fL;if(P.lG(B))S.removeChild(B);if(P.lG(y))S.removeChild(y);
if(Q==0)S.appendChild(B);S.appendChild(y);this.BO=Q};ml.hp=function(Q){Q.stopPropagation();Q.preventDefault()};
ml.prototype.meJ=function(Q){var S=Q.dataTransfer.types;if(S[1]!=null&&S[1]!=this.oB+"")return;ml.hp(Q);
var B=Q.currentTarget;if(Q.target==B)P.Te(B,"highlight")};ml.prototype.meG=function(Q){ml.hp(Q);var S=Q.currentTarget;
if(Q.target==S)P.Dt(S,"highlight")};ml.prototype._W=function(Q){Q.addEventListener("dragenter",this.mMV,!1);
Q.addEventListener("dragleave",this.mQW,!1);Q.addEventListener("dragover",ml.hp,!1);Q.addEventListener("drop",this.mMh,!1);
Q.addEventListener("dragstart",function(S){S.dataTransfer.setData("Text","--panel");S.dataTransfer.setData(this.oB+"","")}.bind(this),!1)};
ml.prototype.Rk=function(Q){this.mQW(Q);var S=null,B=Q.currentTarget,y=this.maF(B);if(B==this.fL&&this.Ci!=-1)S=this.Ci;
else if(B==this.WV)S=null;else if(y!=-1)S=y;var l=Q.dataTransfer.getData("Text");if(l==""||l.startsWith("http"))P.mhX(Q,this,S);
else if(l=="--panel"){var D=P.Jo(Q,B),mq=this.KW,R=mq.slice(0),p=this.Ci,O=y==-1?mq.length:D.x<B.getBoundingClientRect().width/2?y:y+1;
if(p==O||p+1==O||B==this.fL)return;var M=p<O?O-1:O,U=mq[p];mq.splice(p,1);mq.splice(M,0,U);P.EW(this.WV);
for(var m=0;m<mq.length;m++)this.WV.appendChild(mq[m].qZ);this.tl(M);var Y=[];for(var p=0;p<mq.length;
p++)Y[p]=R.indexOf(mq[p]);var x=new b("shuffleItems",!1);x.data={mpi:Y};this.B(x)}else if(S!=null&&this instanceof mo){var x=new b(P.E.T,!0);
x.data={H:P.l.me_,mry:S};this.B(x)}};ml.prototype._f=function(){return null};ml.prototype.mWl=function(){if(this._f()){this.GR=this._f();
this.fL.appendChild(this.GR)}};ml.prototype.mea=function(){if(this.GR){this.fL.removeChild(this.GR);
this.GR=null}};ml.prototype.maF=function(Q){var S=this.KW;for(var B=0;B<S.length;B++)if(S[B].qZ==Q)return B;
return-1};ml.prototype._E=function(){for(var Q=0;Q<this.KW.length;Q++)this.KW[Q].cj.fO()};ml.prototype.jD=function(){var Q=new v(0,0);
for(var S=0;S<this.KW.length;S++){var B=this.KW[S].jD();Q.x=Math.max(Q.x,B.x);Q.y=Math.max(Q.y,B.y)}return Q};
ml.prototype.Rx=function(){return this.Ci};ml.prototype.aU=function(){if(this._l)return;this._l=!0;this.p.removeChild(this.Me);
this.p.appendChild(this.Nh)};ml.prototype.collapse=function(){if(!this._l)return;this._l=!1;this.p.appendChild(this.Me);
this.p.removeChild(this.Nh)};ml.prototype.mev=function(){return 26+this.fL.getBoundingClientRect().height};
ml.prototype.Kl=function(Q,S){this.WV.setAttribute("style","max-width: "+Q+"px");var B=0;if(this.BO==0){B=this.WV.getBoundingClientRect().height;
B=Math.max(B,26)}if(this.Ci!=-1)this.KW[this.Ci].Kl(Q,S-B);return S-B};ml.prototype.on=function(Q,S){this.KW[this.Ci].on(Q,S)};
ml.prototype.Cp=function(Q,S){this.KW[this.Ci].Cp(Q)};ml.prototype.Qe=function(Q){this.mea();if(this.KW.indexOf(Q)!=-1){this.tl(this.KW.indexOf(Q));
return}Q.parent=this;this.KW.push(Q);this.WV.appendChild(Q.qZ);Q.qZ.addEventListener("mouseover",this.mMf,!1);
this._W(Q.qZ);this.Me.appendChild(Q.cj.p);Q.cj.w("click",this.mrD,this);Q.w("select",this.mvq,this);
Q.w(P.E.Dq,this.mzS,this);this.tl(this.KW.length-1)};ml.prototype.men=function(Q){if(Q.buttons==0)return;
var S=Q.currentTarget,B=S,y=0;while((B=B.previousSibling)!=null)y++;this.mQP=y;S.addEventListener("mouseout",this.mQ$,!1);
this._B=setTimeout(this.mMU,700)};ml.prototype.mes=function(Q){var S=Q.currentTarget,B=S,y=0;while((B=B.previousSibling)!=null)y++;
S.removeEventListener("mouseout",this.mQ$);clearTimeout(this._B)};ml.prototype.meX=function(Q){this.B(new b(P.E.mRq,!1))};
ml.prototype.meB=function(Q){return this.mQP};ml.prototype.Q_=function(Q){var S=new b(P.E.Dq,!1);S.data={TV:Q};
this.B(S);var B=this.KW[Q];this.KW.splice(Q,1);this.WV.removeChild(B.qZ);this.Me.removeChild(B.cj.p);
B.qZ.setAttribute("class","");B.cj.removeEventListener("click",this.mrD,this);B.cj.fO();B.removeEventListener("activate",this.mvq);
B.removeEventListener(P.E.Dq,this.mzS);var y=this.Ci;if(Q<y)y--;else if(Q==y&&Q==this.KW.length)y--;
this.tl(y);if(this.KW.length==0)this.mWl()};ml.prototype.mei=function(){return this.KW.length};ml.prototype.Fp=function(){if(this.KW.length!=0)this.KW[this.Ci].Fp()};
ml.prototype.tl=function(Q,S){if(S==null)S=!0;for(var B=0;B<this.KW.length;B++)this.KW[B].qZ.setAttribute("class","");
if(this.Mq)this.fL.removeChild(this.Mq);this.Mq=null;this.Ci=Q;if(Q==-1)return;var y=this.KW[this.Ci];
this.Mq=y.iA;this.fL.appendChild(y.iA);y.qZ.setAttribute("class","active");if(!this._l){this.B(new b("showFloat"));
this.KW[Q].cj.Cx()}if(S)this.B(new b(P.E.Y,!1));y.ad();var l=this.ZG.p;if(l.parentNode)this.WV.removeChild(l);
if(y.WA())this.WV.appendChild(l);var D=new b(P.E.T,!0);D.data={H:P.l.ro};this.B(D)};ml.prototype.mvq=function(Q){if(this.Mc&&!this.Mc.m_F())return;
var S=this.KW.indexOf(Q.currentTarget);this.tl(S)};ml.prototype.mzS=function(Q){if(this.Mc&&!this.Mc.m_F())return;
var S=this.KW.indexOf(Q.currentTarget);this.Q_(S)};ml.prototype.mrD=function(Q){var S=this.KW.indexOf(Q.currentTarget.parent);
if(this.KW[S].cj.xH())this.B(new b("hideFloat"));else this.tl(S)};ml.prototype.mEN=function(Q){this.B(Q)};
function mo(Q){ml.call(this,Q);this.QP=0;this.Kj=0;this.Gy=null;this.Gq=P.P("div");this.Gq[P.Nw("$y+[145/+AC7")](P.Nw("$(0&\""),P.Nw("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
P.NP(this.WV,this.mek.bind(this));this.Mg=0;this.mLL=this.my$.bind(this);this._W(this.fL);this.Ma=P.P("div","intro");
this.NC=["default;"];this.Ac=new P.lM(this.fL);var S=P.P("ul");S.setAttribute("style","margin:0;  padding:164px 0px 0 113px; font-size:1.8em;");
this.Ma.appendChild(S);this.oU=[];var B=[[11,7],[1,6],"pea.psd","milk.sketch"],y=P.P("li");for(var l=0;
l<B.length;l++){if(l==2){var D=new Nw("Demo: ");y.appendChild(D.p)}var R=B[l],p=new Nw(R);p.w("click",this.myN,this);
y.appendChild(p.p);this.oU.push(p);if(l==0||l==1||l==3||l==B.length-1){S.appendChild(y);y=P.P("li")}}var O=P.P("div");
O.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");this.Ma.appendChild(O);
this.mUn={};var M=["en"],U=navigator.languages;if(U)for(var l=0;l<U.length;l++){var m=U[l].split("-")[0].toLowerCase();
if(M.indexOf(m)==-1)M.push(m)}}mo.prototype=new ml;mo.prototype.mek=function(Q){if(Q.target!=this.WV)return;
var S=this.Mg;this.Mg=Date.now();if(Date.now()-S>300)return;var B=new b(P.E.T,!0);B.data={H:P.l.ND,yc:"newproject"};
this.B(B)};mo.prototype.mwI=function(Q){var S=Q.currentTarget,B;if(S.mL_!=null){var y=Nd.bS(S.mL_);if(y!=-1)B={H:P.l.Kk,yQ:rS.XE,lang:y};
else B={H:P.l.FR,link:"https://www.photopea.com/translate?lang="+S.mL_}}else B={H:P.l.Kk,yQ:rS.SR,QD:S.mUs};
var l=new b(P.E.T,!0);l.data=B;this.B(l)};mo.prototype.NU=function(Q,S){if(S)this.NC.push(Q);else{var B=this.NC.length-1;
if(this.NC[B]==Q)return;this.NC[B]=Q}this.WJ()};mo.prototype.mym=function(){this.NC.pop();this.WJ()};
mo.prototype.WJ=function(){var Q=this.NC[this.NC.length-1];this.Ac.Cp(Q,this.Ys)};mo.prototype.myN=function(Q){var S=this.oU.indexOf(Q.target),B=new b(P.E.T,!0);
if(S==0)B.data={H:P.l.ND,yc:"newproject"};if(S==1)B.data={H:P.l.Ds};if(S>1)B.data={H:P.l.fd,yQ:{url:["images/pea.psd","images/milk.sketch"][S-2]}};
this.B(B)};mo.prototype.b=function(){for(var Q=0;Q<this.oU.length;Q++)this.oU[Q].b()};mo.prototype.Cp=function(Q,S){for(var B=0;
B<S.length;B++){var y=S[B];this.KW[B].hj(y.name+(y.By()?" *":""))}ml.prototype.Cp.call(this,Q,S)};mo.prototype.my_=function(Q){this.p.appendChild(this.Gq);
var S=Q[0],B=Q[1],y=Q[2];this.Gy=S;this.Gq[y](S);S[y](B);this.Kl(this.QP,this.Kj)};mo.prototype.myG=function(){if(this.Gy){this.p.removeChild(this.Gq);
this.Gq.removeChild(this.Gy);this.Gy=null;this.Kl(this.QP,this.Kj)}};mo.prototype._f=function(){return this.Ma};
mo.prototype.Kl=function(Q,S){this.QP=Q;this.Kj=S;if(this.Gy!=null)S-=100;S=ml.prototype.Kl.call(this,Q,S);
this.Ys="height:"+S+"px; width:"+Q+"px; overflow:hidden; position:relative;";this.WJ();var B=512,y=410,l=1,D="";
if(Q<B||S<y){if(Q/B<S/y)l=Q/B;else l=S/y}D+="background-image:url("+PIMG.intro+"); background-size: "+B+"px "+y+"px;";
D+="position:relative; top:"+Math.round((S-y)/2)+"px;  left: "+Math.round((Q-B)/2)+"px; width:"+B+"px; height:"+y+"px;";
if(l!=1)D+="transform: scale("+l+","+l+");";if(this.Ma)this.Ma.setAttribute("style",D)};mo.prototype.Qe=function(Q){ml.prototype.Qe.call(this,Q);
P.NP(Q.qZ,this.mLL)};mo.prototype.Q_=function(Q){var S=this.KW[Q];P.oe(S.qZ,this.mLL);ml.prototype.Q_.call(this,Q)};
mo.prototype.my$=function(Q){var S=this.Mg;this.Mg=Date.now();if(Date.now()-S>300)return;var B=this.maF(Q.currentTarget),y=this.KW[B].SB.name,l=new b(P.E.T,!0),D={f:P.E.D,h:K.Sb,U:{H:z.mj}};
l.data={H:P.l.ND,yc:"namewindow",Zx:y.slice(0,y.length-4),mER:D};this.B(l)};function mh(){NJ.call(this);
MQ.mVi(1);this.p=P.P("div","flexrow photopea");this.Z$=P.P("div");this.p.appendChild(this.Z$);this.ll={x:0,y:0,qv:!1};
this.jQ=!1;this.Mf=!1;this.Zt=null;this.mL$=0;this.mLb=0;this.BO=0;this.mcG=!1;if(P.Oh(27))P.Xf=window;
else P.Xf=this.p;window.myn=window.alert;window.alert=function(Z,e){this.VS.alert(Z,e);console.log("Alert: "+Z)}.bind(this);
window.onmessage=function(Z){if(Z.data instanceof ArrayBuffer){var e=Np.Ge(Z.data),J=Np.hG(e);Nx.GD({url:"file"},Z.data,this);
if(J==null)this.QO()}else if(Z.data instanceof Object||Z.data.startsWith("{")||Z.data.startsWith("amp-")||Z.data.startsWith("0=goog")||Z.data.startsWith("3PCoo")){}else{var N=new b(P.E.T,!0);
N.data={H:P.l.Dw,aR:Z.data};this.B(N);this.QO()}}.bind(this);window.onbeforeunload=function(Z){for(var l=0;
l<this.oo.length;l++)if(this.oo[l].By())return this.oo[l].name}.bind(this);window.onblur=function(Z){var e=this.VS;
while(e.gI())e.meu()}.bind(this);var Q=this,O="",M="";if(window.indexedDB&&(!LX.au()||document.hasStorageAccess==null)){var S={vq:window.indexedDB.open("pp",1)};
S.vq.onupgradeneeded=function(Z){var e=Z.target.result,J=e.createObjectStore("rsrc",{keyPath:"k"})};
S.vq.onsuccess=function(Z){var e=Q.CZ.av.NK=Z.target.result,J=e.transaction(["rsrc"],"readwrite").objectStore("rsrc"),N=J.get("fs0");
N.onsuccess=function(Z){if(Z.target.result){var E=Q.CZ.av.WP=Z.target.result.fset;for(var h in E){Nx.GD({url:h,mQC:!0},E[h],Q)}}}}}var B=["rksyuzpxz8y|px|v@u\x80\x84}\x8A\x88\x88\x8EI\x7F\x8C\x8B"],y=P.Xf[P.wP("YcVg^U]b",11)][P.wP("oaa_kj\\h",3)];
for(var l=0;l<B.length;l++){var D=P.jJ(B[l],2);if(y.indexOf(D)!=-1){var R=P.Xf[P.jJ("hti|unx\x7F",4)][P.jJ("esi\x7F",3)],p=P.mWS("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
P.EW(R);R[P.jJ("lrskyP]WW",3)]=p;return}}this.Il={mcn:[{h:K.Gu,Nn:!1,yd:[A.m_p,A.tD]},{h:K.yk,Nn:!1,yd:[A.tD]},{h:K.nk,Nn:!0,yd:[A.DQ],Gv:[K.e_]},{h:K.e_,Nn:!0,yd:[A.DQ],Gv:[K.nk]},{h:K.EL,Nn:!0,yd:[A.DQ],Gv:[K.RA,K.ev,K.yz]},{h:K.RA,Nn:!0,yd:[A.DQ],Gv:[K.EL,K.Ec,K.ew,K.Ey,K.Ed,K.ef]},{h:K.vc,Nn:!0,yd:[A.DQ]}],$C:[[{h:new K.Ku,SP:MH}],[{h:new K.IN,SP:rR},{h:new K.QB,SP:pP}],[{h:new K.bK,SP:pK},{h:new K.wK,SP:rr},{h:new K.lX,SP:rN}],[{h:new K.tu,SP:rG},{h:new K.IY,SP:ra},{h:new K.lv,SP:rm}],[{h:new K.ck,SP:pi},{h:new K.cK,SP:pk},{h:new K.GM,SP:rv},{h:new K.LD,SP:rw}],[{h:new K._q,SP:pI},{h:new K.Wv,SP:pe}],"---",[{h:new K.HO,SP:rc},{h:new K.yM,SP:pY},{h:new K.tN,SP:rM},{h:new K.sO,SP:pB}],[{h:new K.sg,SP:pD},{h:new K.sT,SP:pl},{h:new K.sw,SP:pO}],[{h:new K.$z,SP:po}],[{h:new K.sP,SP:pb},{h:new K.sS,SP:px}],[{h:new K.fI,SP:pd},{h:new K.Hm,SP:rp}],[{h:new K.su,SP:pX},{h:new K.$b,SP:rL},{h:new K.$K,SP:rd}],[{h:new K.sx,SP:pZ},{h:new K.sb,SP:pj},{h:new K.td,SP:re}],"---",[{h:new K.MY,SP:pV}],[{h:new K.sl,SP:rJ},{h:new K.yv,SP:rV}],[{h:new K.Lm,SP:pH},{h:new K.PC,SP:rC}],[{h:new K.Rect,SP:ru},{h:new K.TJ,SP:rg},{h:new K.LV,SP:rF},{h:new K.yO,SP:rW},{h:new K.yB,SP:r_}],"---",[{h:new K.Ct,SP:pA}],[{h:new K.hT,SP:pg}]],ZX:[],keys:[A.EA,A.Sx,A.iu,A.tk,A.J_,A.JC,null,A.EP,A.Ei,A.EH,A.E,A.Eb,null,A.EI,null,A.K,A.VF,A.l,A.og,null,A.Ex,A.XT],cB:[{h:new K.uT,SP:rU},{h:new K.ui,SP:rn}],Zj:[{h:new mw.Fl},{h:new mw.History},{h:new mw.LS},{h:new mw.OL},{h:new mw.ZE},{h:new mw.t$}],map:{},ZT:null,GT:null,Mn:null};
for(var l=0;l<this.Il.$C.length;l++){var U=this.Il.$C[l];if(U=="---")continue;var m=this.Il.keys[l];
for(var Y=0;Y<U.length;Y++){this.Il.map[U[Y].h.id]=U[Y];U[Y].NX=l;U[Y].mc$=Y;var x=Nd.get(U[Y].h.name);
M+="<li>"+U[Y].h.id+": "+x+"</li>";O+="\t"+JSON.stringify(U[Y].h.name)+", "+(m?"\""+m.Cm+"\"":"null")+", "+U[Y].h.id+", // "+x+"\n"}this.Il.ZX[l]=0}for(var l=0;
l<this.Il.cB.length;l++)this.Il.map[this.Il.cB[l].h.id]=this.Il.cB[l];for(var l=0;l<this.Il.Zj.length;
l++)this.Il.map[this.Il.Zj[l].h.id]=this.Il.Zj[l];this.CZ={mdC:!1,Ht:null,ml:{JR:[],gZ:[],list:[],Zr:null},mb:[],mUf:[],YR:[],ix:[],tv:[],mCE:[],mUA:[],mUY:[],yS:[Le.yh()],Zn:[],AB:[],Ss:null,yi:{Vx:1,DW:JSON.parse(JSON.stringify(rx.Xc[0]))},yD:JSON.parse(JSON.stringify(rx.xD.default)),mEJ:[null].concat(rx.Xc),mzD:[null].concat(rx.Xc),Tt:new NZ,sR:{vA:[],EQ:null,Kb:null},Hi:[],Tq:16711680,hB:0,If:!1,fn:!0,Ke:{WM:!0,Zp:!1,Zd:!0,SX:!0,BQ:!0,$q:!0,WK:20,Fg:0,IZ:0,vP:0},bc:!0,Pw:[!0,!0,!0,!0,!0],cw:[0,1,2,3,5,6,7,9,10,16,17],QD:1,Gi:!0,BB:{},lr:!0,compact:!1,Ma:!0,GZ:null,av:{mqT:!1,mJ_:!1,WP:{},NK:null},mVq:0,$l:null,mnR:null,Gx:null};
this.mVt={q:new w,vT:new v};this.CZ.sR=rA.mrF();this.CZ.Tt.w(P.E.T,this.mLc,this);var T=navigator.languages;
if(T&&T.length!=0){var $=T[0];Nd.rh($)}this.DZ=new A;this.NA=new mA;this.GI=new rs;this.lL=new ML(!0);
this.qk=new LE(this.Il,!0);this.dG=new rD;this.$$=new mo(this);this.va=P.P("div");this.Mi=!1;P.Te(this.$$.p,"mainblock");
var L=this.Z$;L.addEventListener("drop",this.$$.Vh,!1);L.addEventListener("dragover",mo.hp,!1);L.addEventListener("dragenter",mo.hp,!1);
L.addEventListener("dragleave",mo.hp,!1);this.lL.parent=this.NA.parent=this.GI.parent=this.qk.parent=this.dG.parent=this.$$.parent=this;
this.$$.w(P.E.Y,this.maR,this);this.$$.w(P.E.Dq,this.mqg,this);this.$$.w("shuffleItems",this.mqW,this);
this.$$.w(P.E.mRq,this.mqF,this);this.w("mouse",this.mzN,this);this.w(P.E.D,this.Ox,this);this.w(P.E.RK,this.mqq,this);
this.w(P.E.T,this.mLc,this);document.body.addEventListener("keydown",this.gu.bind(this),!1);window.addEventListener("keyup",this.oI.bind(this),!1);
window.addEventListener("resize",this.iR.bind(this),!1);window.addEventListener("paste",this.myH.bind(this),!1);
window.addEventListener("copy",this.myx.bind(this),!1);window.addEventListener("blur",function(Z){this.DZ.reset()}.bind(this),!1);
window.addEventListener("beforeinstallprompt",function(Z){if(window.innerWidth>400)Z.preventDefault();
this.CZ.GZ=Z}.bind(this));if(this.CZ.lr&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(Z){if(Z.mnv){console.log("Service worker installing")}else if(Z.mna){console.log("Service worker installed")}else if(Z.active){console.log("Service worker active")}}).catch(function(Z){console.log("Registration failed with "+Z)})}this.Zk=0;
this.oo=[];this.ee=new Nx;this.ee.parent=this;this.fG=new QC;this.fG.parent=this;L.appendChild(this.fG.p);
this.VS=new Mi;this.VS.parent=this;L.appendChild(this.VS.p);L.appendChild(this.lL.p);var s=this.YV=P.P("div");
s.appendChild(this.NA.p);s.appendChild(this.GI.p);this.lL.mJ$(s);var j=this.mrq=P.P("div","flexrow");
L.appendChild(j);j.appendChild(this.qk.p);j.appendChild(this.$$.p);j.appendChild(this.dG.p);this.ee.RD({url:"rsrc/basic/basic.zip"});
this.Qw(K.vc);N_.SZ(this.myj.bind(this));this.mVB=this.RN.bind(this);window.requestAnimationFrame(this.mVB)}mh.prototype=new NJ;
mh.prototype.QO=function(){if(window.parent!=window)window.parent.postMessage("done","*")};mh.prototype.myj=function(){var Q=N_.Qz();
if(Q!=null&&Q.globals!=null)this._$(Q.globals);else this.mcG=!0;if(!LX.au()||!this.CZ.lr){this.mNm();
this._s()}else{var S=P.jJ("SIIFs",-5)+P.jJ("qnQerwhwy",-3),B=P.D_(P.Xf[S]),y=P.jJ(P.Oh(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
B[y](P.wP("vxik",-10),this.myo.bind(this));B[P.jJ("|~t~",13)](P.jJ("ML\\",6),P.wP("o_me*^hej$_gb`",1));
B[P.jJ("wjtk",4)]()}this.jQ=!0;this.QO()};mh.prototype.myo=function(Q){var S=JSON.parse(Q.target[P.wP("|n{wuswh",-10)]),B=P.Xf[P.jJ("Lj~p",8)][P.wP("ddk",10)]()/1e3,y=P.Xf[P.wP("YcVg^U]b",11)][P.wP("oaa_kj\\h",3)],l=!1;
for(var D in S)if(D.indexOf(".")!=-1&&y.indexOf(D)!=-1&&parseInt(S[D])>B)l=!0;if(l)this.CZ.lr=!1;this.mNm();
this._s()};mh.prototype._s=function(Q){this.Mf=!0;if(!this.CZ.Ma)this.$$.Ma=null;else this.$$.mWl();
this.GB(rS.E_);this.b();this.iR();this.dG.Cp(this.TZ(),this.oo,this.CZ)};mh.prototype._$=function(Q){var S=this.CZ;
if(Q.fcolor!=null)S.Tq=Q.fcolor;if(Q.bcolor!=null)S.hB=Q.bcolor;if(Q.rulers!=null)S.If=Q.rulers;if(Q.extras!=null)S.fn=Q.extras;
if(Q.favFam!=null)S.Hi=Q.favFam;if(Q.panels!=null)S.cw=Q.panels;if(Q.eparams){var B=Q.eparams,y=S.Ke;
if(B.guides!=null)y.WM=B.guides;if(B.grid!=null)y.Zp=B.grid;if(B.gsize!=null)y.WK=B.gsize;if(B.gunits!=null)y.Fg=B.gunits;
if(B.gtype!=null)y.IZ=B.gtype;if(B.runits!=null)y.vP=B.runits;if(B.sels!=null)y.Zd=B.sels;if(B.paths!=null)y.SX=B.paths;
if(B.pgrid!=null)y.BQ=B.pgrid;if(B.slices!=null)y.$q=B.slices}if(Q.lang!=null)Nd.rh(Q.lang);if(Q.theme!=null)S.QD=Q.theme;
if(Q.topt||S.Zb){var l=Q.topt?Q.topt:{},D=S.Zb?S.Zb:{};for(var R in this.Il.map){if(R>=100)continue;
var p="t"+R;this.Il.map[R].h.pz(l[p],D[p],this)}}};mh.prototype.mNm=function(){if(this.CZ.mdC)return;
this.CZ.mdC=!0;var Q=null,S=window.location.href,B=S.indexOf("="),y=S.indexOf("#");if(B!=-1)Q=S.substring(S.indexOf("?")+1,B);
if(y!=-1){Q="p";B=y}if(Q=="p"||Q=="state"){var l=S.substring(B+1,S.length);l=JSON.parse(decodeURI(l));
if(Q=="p"){if(l.server)this.Zt=l.server;if(l.resources)for(var D=0;D<l.resources.length;D++)this.ee.RD({url:l.resources[D]});
if(l.files)for(var D=0;D<l.files.length;D++)this.ee.RD({url:l.files[D],DS:{_O:l.server,mVk:l.script}});
if(l.environment==null)l.environment={};var R=l.environment;if(R.plugins!=null)this.dG.mJl(R.plugins);
if(R.localsave!=null)this.CZ.Gi=R.localsave;if(R.customIO!=null)this.CZ.BB=R.customIO;if(R.vmode!=null){var p=R.vmode;
if(p==1)this.CZ.compact=!0;if(p==2)this.RB(1)}if(R.intro!=null)this.CZ.Ma=R.intro;if(R.menus!=null)this.CZ.mru=R.menus;
if(R.tmnu!=null)this.CZ.Zb=R.tmnu;if(R.panels!=null)this.CZ.cw=R.panels;if(R.showtools!=null)this.CZ.mCR=R.showtools;
if(R.phrases!=null)Nd.mnY(R.phrases);if(R.autosave!=null){window.setInterval(function(){var U=new b(P.E.T);
U.data={H:P.l.DT};this.B(U)}.bind(this),R.autosave*1e3)}if(R.icons!=null){for(var O in R.icons)if(R.icons[O].indexOf("\"")==-1){PIMG[O]=R.icons[O];
PIMG["__"+O]=!0}}this._$(R);if(l.files==null&&l.script){N$.uM(l.script,this);this.QO()}}else if(Q=="state"){var M=this.ee;
if(l.action=="create"){var U=new b(P.E.T);U.data={H:P.l.ND,yc:"newproject",mnp:l.folderId};this.B(U)}if(l.action=="open"){for(var D=0;
D<l.ids.length;D++)pv.jy(function(){var T="https://www.googleapis.com/drive/v3/files/"+this.mrB+"?"+pv.rF(),$=new XMLHttpRequest;
$.open("GET",T);$.send();$.onload=function(L){var s=JSON.parse(L.target.response);M.RD({url:T+"&alt=media",name:s.name,NV:{file:s,iK:""}})}}.bind({mrB:l.ids[D]}));
alert("Loading files from Google Drive ...")}}}else{var m=S.split("/"),Y=m.pop(),x=m.pop();if(x!=null&&Y!=null&&x.endsWith("photopea.com")&&Y.length==2){Nd.rh(Y);
this.b();this.iR()}}};mh.prototype.b=function(){var Q=document.getElementById("cap");if(Q){var S=Q.getElementsByTagName("h1")[0],l=0,p=0,O=0;
S.textContent=Nd.get([0,17,0]);var B=Q.getElementsByTagName("p"),y=P.mVO(Nd.get([0,17,1])),D=["PSD","XCF","Sketch","XD","CDR"];
for(var R=0;R<D.length;R++)y=y.replace(D[R],"<b>"+D[R]+"</b>");y+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
B[0].innerHTML=y;y=Nd.get([0,17,2])+" "+Nd.get([0,17,3]);for(var R=0;R<y.length;R++){var M=y[R];if(M=="<")p++;
if(M==">")O++}if(p*O==9){var U=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var R=0;R<3;R++){var m=y.indexOf("<",l),Y=y.indexOf(">",l),x=y.slice(0,m)+"<a href=\""+U[R]+"\" target=\"_blank\">"+y.slice(m+1,Y)+"</a>";
l=x.length;y=x+y.slice(Y+1)}B[1].innerHTML=y}}var T=document.getElementById("sponsors");if(T)T.textContent=Nd.get([0,17,4]);
this.lL.b();this.NA.b();this.dG.b();this.qk.b();this.fG.b();this.$$.b();for(var $ in this.Il.map)if(this.Il.map[$].vB)this.Il.map[$].vB.b()};
mh.prototype.mNH=function(){return P.Xf[P.jJ("ptih|ryy",4)][P.jJ("q|pr",9)].indexOf("full")!=-1};mh.prototype.Kl=function(Q,S){Q=Math.floor(Q);
S=Math.floor(S);var B=P.lU,y=B("WUMK&AM"),l=B("b`bRH"),D=P.Xf[B("S[L[PEKN")],R=!this.Mf||this.mNH()||!this.CZ.lr||N_.vX(),U=0;
if(!R&&LX.au()){if(this.mCC==null)this.mCC=Math.random()<.3;R=this.mCC}if(this.ZP==null)this.ZP=Q<500?0:Q<1600?1:2;
var p=this.ZP;if(R){if(P.Xf[y]&&this.Mf)P.Xf[y]()}else{if(p==0)S-=60;else Q-=p==1?175:315}this.lL.mCP=this.CZ.lr&&this.Mf;
if(R&&this.Mi){this.p[B("aQVUYE B@@5")](this.va);P.EW(this.va);this.$$.myG();this.Mi=!1}if(!R&&!this.Mi){var O=LX.xz();
if(O!=0&&!this.mcG){P.Xf[P.Nw("$y+n&-(5>@")](LX.xM,6*(Q<50?200:1e3))}this.myT(Q,S);var M=p==0?D[B("Q[M_")]:this.p;
M.appendChild(this.va);this.va[B("bQ]'WTOC9IE3")](l,B("_MMJLNDgKCAh")+(p==0?10:2)+B("_d$fcOS?I:==Bb-+# ~$N"));
this.va[l][B("_MMJLND&<:E")]=(p==0?0:15)+B("_d");this.Mi=!0}if(P.lG(this.NA.p))U+=31;if(P.lG(this.GI.p))U+=32;
this.lL.Kl(Q,U);var m=S-U,Y=B("fUMZK"),x=B("WQRMKT"),T=B("_d");this.va[l][x]=(p==0?100>>>1:S-3)+T;this.va[l][Y]=(p==0?Q:6*Math.pow(10,2))+T;
this.qk.Kl(Q,m);this.dG.Kl(Q,m);this.$$.Kl(Q-this.qk.gL()-this.dG.gL(),m);this.VS.Kl(Q,S);this.fG.Kl(Q,S)};
mh.prototype.myT=function(Q,S){var B=function(){var l=new b(P.E.T);l.data={H:P.l.ND,yc:"account"};this.B(l)}.bind(this),y=LX.mEv(Q,S,this.va,B,this.ZP);
if(y)this.$$.my_(y)};mh.prototype.iR=function(Q){var S=window.innerWidth,B=window.innerHeight;this.Kl(S,B)};
mh.prototype.myx=function(Q){console.log("systemCopy")};mh.prototype.myH=function(Q){console.log("systemPaste");
if(!Q.clipboardData)return;var S=Q.target.tagName.toLowerCase();if(this.Go.indexOf(S)!=-1)return;var B=Q.clipboardData.items;
if(B==null)return;var y=this.mqy.bind(this);for(var l=0;l<B.length;l++){var D=B[l],R=D.getAsFile();if(D.type.indexOf("text")!=-1){D.getAsString(this.myA.bind(this))}if(D.type.indexOf("image")!=-1){if(R.size==this.CZ.mVq)return;
this.CZ.mVq=R.size;if(R){R.name="image.png";this.ee._y([R],y)}}}};mh.prototype.myA=function(Q){if(Q.startsWith("http")){if(Q==this.CZ.mCI)return;
this.CZ.mCI=Q;var S=new b(P.E.T,!0);S.data={H:P.l.fd,yQ:{url:Q,Pa:!0}};this.B(S)}};mh.prototype.mqy=function(Q,S){var B={buffer:Q,rect:S},y=this.CZ;
if(window.ClipboardItem&&!1){var l=this.mVt,D=l.q;if(D.r==S.r&&D.O==S.O){B.rect=D;B.vT=l.vT}}else{if(y.$l){var R=new b(P.E.D,!0);
R.h=K.CF;R.data={H:"h_stepbck"};this.B(R)}}y.$l=B;var R=new b(P.E.T,!0);R.data={H:P.l.W$,mNQ:!0};this.B(R)};
mh.hp=function(Q){Q.stopPropagation();Q.preventDefault()};mh.prototype.mRd=function(){if(Date.now()-this.mLb>1e3){if(this.fG.gI()!=null)alert(Nd.get([15,7,8]));
else alert("Escape or Confirm the current action (in the top menu).");this.mLb=Date.now()}};mh.prototype.Ox=function(Q){var S=this.TZ();
if(S==null){alert(Nd.get([15,7,7]));return}if(this.fG.TA()&&Q.qi!=!0){this.mRd();return}var B=this.Il,y=this.CZ.Ht;
if(y!=Q.h&&B.map[y].h.TA()&&Q.h!=K.yk&&Q.h!=K.Gu){console.log("disabling",y);B.map[y].h.disable(S,this,this.CZ,this.DZ)}var l=this.Il.map[Q.h].h;
l.Ox(Q.data,this,S,this.DZ,this.CZ);S.ha=!0};mh.prototype.mqq=function(Q){var S=this.CZ;if(Q.data.eq!=!0)mg.mvm({QF:Q.data.QF,$o:Q.data.$o},this,S,this.TZ());
var B=S.Ss,y=S.AB;if(B==null)return;var l={mFz:!1,iT:"Step",m_B:0,o:!0,exp:!1,QF:Q.data.QF};if(B[2]==null)B[2]=y[B[0]].S[B[1]].S.length-1;
if(Q.data.$o)l.$o=JSON.parse(JSON.stringify(Q.data.$o));y[B[0]].S[B[1]].S.splice(B[2]+1,0,l);B[2]++;
this.GB(rS.D)};mh.prototype.mLc=function(Q){var S=Q.data.H;if(S==P.l.me_){this.mfz(Q.data.mry)}if(S==P.l.mLo){this.b();
this.iR()}if(S==P.l.ro)this.iR();if(S==P.l.mdM)if(this.CZ.GZ){this.CZ.GZ.prompt();this.CZ.GZ=null}if(S==P.l.ow)this.VS.mLX(Q.data);
if(S==P.l.rb)this.VS.mdE(Q.data);if(S==P.l.uq)this.VS.mLV(Q.data._p);if(S==P.l.uJ)this.VS.mLF(Q.data._p);
if(S==P.l.uL)this.VS.oh();if(S==P.l.qL)this.$$.NU(Q.data.YT,Q.data.push);if(S==P.l.mc_)this.$$.mym();
if(S==P.l.uu)this.$$.Q_(this.oo.indexOf(Q.data.mc));if(S==P.l.rI){var B=this.TZ(),y=k.clone(B.qB()),l=B.G[B.I[0]],D=new w(0,0,B.r,B.O),R=mV._H()+"-d71c-11e5-b1ae-a548a96e5f9f",p=new b(P.E.T,!0);
if(Q.data.yQ==0){var O={q:D,name:B.name.split(".")[0],Ko:y,id:R};p.data={H:P.l.Kk,DS:"add",yQ:rS.tJ,cU:[O]};
this.B(p)}if(Q.data.yQ==1){var M=k.Q(D.Z()*4);k.St(M,4294967295);k.X.Rc("norm",y,D,M,D,D,1);var U=k.Q(D.Z());
k.pE(M,U);k.SD(U);var m=k.p$(U,D);if(m.Kq())m=D;var Y=k.Q(m.Z());k.ht(U,D,Y,m);var x={q:m,id:R,channel:Y},T=p_.pe(R),$=T.Brsh.v;
$.Dmtr.v.val=m.r;$.Spcn.v.val=10;p.data={H:P.l.Kk,DS:"add",yQ:rS.Kz,cU:{list:[{t:"Objc",v:T}],gZ:[x],JR:[]}};
this.B(p);p.data={H:P.l.Kk,yQ:rS.tP,bW:T};this.B(p)}if(Q.data.yQ==2){var L={dy:l.getName(),ox:R,ML:new w(0,0,B.r,B.O),A:l.add.vmsk.clone().A};
k.c.ZU(L.A,new Nu(1/B.r,0,0,1/B.O,0,0));p.data={H:P.l.Kk,DS:"add",yQ:rS.tg,cU:[L]};this.B(p)}}if(S==P.l.fd)this.ee.RD(Q.data.yQ);
if(S==P.l.Ds){var s=this.CZ.BB.open,j=Q.data.mVV;if(s&&j!=!0){var p=new b(P.E.T,!0);p.data={H:P.l.Dw,aR:s};
this.B(p)}else this.ee.mcV(j?this.$$.Rx():null,Q.data.mfj)}if(S==P.l.us){var Z=Q.data.mMN,e=this.oZ(Z);
if(Z==rS.A$){var D=new mV;for(var J=0;J<e.length;J++){var N=e[J].rG.Lefx;if(N)Nq.mFW(N,D,this.CZ.tv)}e={il:D.add.Patt?D.add.Patt:[],dR:e}}if(Z==rS.FG){var E=this.CZ.ml;
e={gZ:[],JR:[],list:e};console.log(e)}if(Z==rS.D)e=e[Q.data.sA];var h=rS.Ms[Z],y=h[2].Oo(e);Nx.save(y,h[1]+"."+h[0])}if(S==P.l.mqt){var o=this.CZ.av;
if(o.NK&&!o.mqT){o.mJ_=window.confirm("Load \""+Q.data.wW+"\" also next time you use Photopea?\nManage it in Edit - Local Storage.");
o.mqT=!0}if(o.mJ_){o.WP[Q.data.wW]=Q.data.mMJ;var p=new b(P.E.T);p.data={H:P.l.Kk,yQ:rS.Xs};this.B(p)}}if(S==P.l.mMt){var B=this.TZ(),t="<!DOCTYPE HTML>";
if(B==null)return;var V=Np.jq(B.qB().buffer,B.r,B.O),n=window.open();t+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";
t+="<body><img src=\""+V+"\" /></body>";t+="</html>";n.document.write(t)}if(S==P.l.mcl){var B=this.TZ();
if(B==null)return;if(B.Ty){B.re()}var q=this.CZ.BB.publish;if(q){var p=new b(P.E.T,!0);p.data={H:P.l.Dw,aR:q};
this.B(p);return}var u=Np.jw(B,"png");if(confirm("Your picture will be published at Imgur.com under a public URL (known only to you). Proceed?"))this.ee.mdZ(u)}if(S==P.l.DT){var g=this.CZ.BB.save,B=this.TZ(),r=!1;
if(B==null)return;if(B.Ty){B.re()}if(B.rE){if(this.oo.indexOf(B.rE.ZD)!=-1){var y=new Uint8Array(Np.PSD.Ba(B)),p=new b(P.E.D,!0);
p.data={H:z.K$,SB:B.rE.ZD,data:y,id:B.rE.mCH};p.h=K.Sb;this.B(p);alert("Smart Object updated")}r=!0}else if(B.NV){this.ee.mcB(B);
r=!0}else if(B.DS&&B.DS._O){this.ee.mdq(B,this.CZ);r=!0}else if(Q.data.mFN){this.ee.mcK(B,Q.data.mFN);
r=!0}else if(g){var p=new b(P.E.T,!0);p.data={H:P.l.Dw,aR:g};this.B(p);r=!0}if(r){B.q$=B.GS;B.rr=!0}else{var p=new b(P.E.T,!0);
p.data={H:P.l.lt};this.B(p)}}if(S==P.l.lt){if(!this.CZ.Gi){alert("function is disabled");return}var g=this.CZ.BB.saveAs;
if(g){var p=new b(P.E.T,!0);p.data={H:P.l.Dw,aR:g};this.B(p);return}var p=new b(P.E.D,!0);p.data={H:z.Vt};
p.h=K.Sb;this.B(p);var B=this.TZ();if(B.Ty){B.re()}if(B.G.length>8e3&&!confirm("Your document has "+B.G.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var f=B.mzn()||B.rE&&B.rE.ZD.mzn();if(this.mNH())f=!1;var I=new P.Xf[(P.wP("Gc"+(P.Oh(31)?"ue":"ve"),-3))]()[P.jJ("edtNkqyykz",-2)]();
if(f&&!N_.vX()&&I>2*15){P.Xf[P.ur("clh]]c[",3)](P.ur("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-I+4*15)+P.ur(" rs}\x89\x8D\x83\x96V",-5));
return}var y=Np.PSD.Ba(B);Nx.save(y,B.name);B.q$=B.GS;B.rr=!0}if(S==P.l.FR)window.open(Q.data.link,"_blank");
if(S==P.l.mNI){if(this.fG.TA()){this.mRd();return}var B=this.TZ(),l=B.G[B.I[0]],d=B.q_(l.add.SoLd.Idnt.v);
for(var J=0;J<this.oo.length;J++){var a=this.oo[J].rE;if(a!=null&&a.mCH==d.LB&&a.ZD==B){this.$$.tl(J);
return}}Nx.GD({name:d.oK,rE:{mCH:l.add.SoLd.Idnt.v,ZD:B}},d.raw.buffer,this)}if(S==P.l.uc){this.mqJ()}if(S==P.l.DY){this.mLK(Q.data.aO,Q.data.LZ)}if(S==P.l.W$){this.mqC(Q.data.mNQ)}if(S==P.l.Dw){N$.uM(Q.data.aR,this)}if(S==P.l.WI){var c=parseFloat(Q.data.yc);
if(this.CZ.cw.indexOf(c)==-1){var p=new b(P.E.T,!0);p.data={H:P.l.Kk,yQ:rS.Vz,z:c,DS:"add"};this.B(p)}this.dG.mJj(Q.data.yc)}if(S==P.l.uk){this.VS.mQo(this.TZ(),this.CZ)}if(S==P.l.ND){if(!this.CZ.Gi&&Q.data.window=="saveforweb"){alert("function is disabled");
return}this.fG.mhh(Q.data.yc,this.TZ(),Q.data,this.oo,this.DZ)}if(S==P.l.rx)Nx.save(Q.data.data,Q.data.name);
if(S==P.l.DJ){if(!this.fG.TA()||Q.qi)this.mqu(Q.data.SB)}if(S==P.l.mRc){this.fG.mhh("rawpea",null,Q.data,this.oo,this.DZ)}if(S==P.l.ud){this.$$.tl(Q.data.target);
var p=new b(P.E.D,!0);p.data={H:z.mzA,SB:Q.data.SB,Uv:Q.data.Uv,x$:Q.data.x$};p.h=K.Sb;this.B(p);this.Qw(K.fM)}if(S==P.l.mLE){W.Kf=!W.Kf;
if(this.oo.length>0)this.TZ().s()}if(S==P.l.mUl){var _=N_.Qz();if(_!=null&&_.globals!=null)this._$(_.globals);
this._s()}if(S==P.l.mLx){this.ee._y(Q.data.data,null,Q.data.$h,Q.data.VL)}if(S==P.l.oE){if(!this.fG.gI()!=null)this.Qw(Q.data.h,Q.data.bp)}if(S==P.l.mmJ){if(this.Il.ZT)this.Qw(this.Il.ZT)}if(S==P.l.eF){var C=this.Il.map[Q.data.h].h,B=this.TZ();
C.sv(Q.data,this,B,this.DZ,this.CZ);if(B)B.ha=!0;this.mhS()}if(S==P.l.tE){var F=this.Il.map[Q.data.h];
this.mCF(F);F.vB.Qv(Q.data)}if(S==P.l.Kk){var B=this.TZ(),i=Q.data.yQ,rP=Q.data.cU,rH=this.CZ;if(Q.data.DS=="set"){var rK=K.Nk(rP);
if(rH.Ht!=rK)this.Qw(rK);this.Il.map[rK].vB.m_j(rP,rH)}if(Q.data.DS=="add"){var h=rS.Ms[i];if(i==rS.Vz){rH.cw.push(Q.data.z);
rH.cw.sort(function(Ng,NM){return Ng-NM})}else if(h==null){if(rP)rH.Tt.m_e(rP,Q.data.mQg)}else{var rY=this.oZ(i);
if(i==rS.Kz){rY.gZ=rY.gZ.concat(rP.gZ);rY.JR=rY.JR.concat(rP.JR);rY=rY.list;rP=rP.list}if(i==rS.A$&&B){for(var J=0;
J<rP.length;J++){var N=rP[J].rG.Lefx;if(N)Nq.mUt(N,B,rH.tv)}}if(i==rS.FG&&rP==null){var D=this.Il.map[rH.Ht].vB.m_H();
if(D==null)return;rP=[D]}for(var J=0;J<rP.length;J++)rY.push(rP[J]);if(Q.data.mQg!=!0)if(rY.length!=rP.length||i==rS.JK||i==rS.A$||i==rS.D)alert(Nd.get(h[3])+" "+Nd.get([23,1])+".")}}if(Q.data.DS=="del"){if(i==rS.Vz){rH.cw.splice(rH.cw.indexOf(Q.data.z),1)}else{var h=rS.Ms[i],Nc=Q.data.XZ,rY=this.oZ(i);
if(i==rS.Kz)rY=rY.list;for(var J=0;J<Nc.length;J++)rY[Nc[J]]=null;for(var J=0;J<rY.length;J++)if(rY[J]==null){rY.splice(J,1);
J--}alert(Nd.get(h[3])+" deleted.")}}if(Q.data.DS=="rnm"){var h=rS.Ms[i],rY=this.oZ(i);if(i==rS.Kz)rY=rY.list;
if(rY[Q.data.XZ[0]]==null)return;h[2].hj(rY[Q.data.XZ[0]],Q.data.z)}if(i==rS.VJ){var G=Q.data.z;rH.yi=G;
rH.mEJ[G.Vx]=G.DW}if(i==rS.AI){var G=Q.data.z;rH.yD=G;var rI=G.strokeEnabled.v,rb=G.strokeStyleContent.v,Nr=rI?{Vx:1+rx.xD.Uc.indexOf(rb.classID),DW:rb}:{Vx:0};
rH.mzD[Nr.Vx]=Nr.DW}if(i==rS.Vq){rH.sR=Q.data.sR}if(i==rS.tP){rH.ml.Zr=Q.data.bW}if(i==rS.Yu){rH.Hi=Q.data.ao}if(i==rS.li){var Nz,NL="Clrs";
if(Q.data.Di<2){var Nm=Q.data.z,NN=Q.data.Di==0,Ne=k.Kg.Od({t:Nm>>>16,e:Nm>>>8&255,R:Nm&255});if(NN)rH.Tq=Nm;
else rH.hB=Nm;NL=NN?"FrgC":"BckC";Nz={QF:"set",$o:{__name:"Set",classID:"setd",T:{t:"Objc",v:Ne}}}}if(Q.data.Di==2){var Ny=rH.Tq;
rH.Tq=rH.hB;rH.hB=Ny;Nz={QF:"exchange",$o:{__name:"Exchange",classID:"Exch"}}}if(Q.data.Di==3){rH.Tq=0;
rH.hB=16777215;if(B!=null&&B.I.length!=0&&B.G[B.I[0]].Wg==1){var Ny=rH.Tq;rH.Tq=rH.hB;rH.hB=Ny}Nz={QF:"reset",$o:{__name:"Reset",classID:"Rset"}}}if(Nz){Nz.$o.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:NL}}]};
var F=this.VB();F.VP=this;F.track(Nz)}}if(i==rS.XC){rH.If=!rH.If;this.iR()}if(i==rS.VW){rH.fn=!rH.fn;
this.iR()}var NG=rH.Ke;if(i==rS.XU){NG.Zd=!NG.Zd;this.iR()}if(i==rS.Yj){NG.SX=!NG.SX;this.iR()}if(i==rS.YO){NG.WM=!NG.WM;
this.iR()}if(i==rS.Xu){NG.Zp=!NG.Zp;this.iR()}if(i==rS.qs){NG.BQ=!NG.BQ;this.iR()}if(i==rS.Xg){NG.$q=!NG.$q;
this.iR()}if(i==rS.Yg){rH.Ke=Q.data.ao;this.iR()}if(i==rS.Um){rH.bc=!rH.bc;this.iR()}if(i==rS.YS){rH.Pw[Q.data.HR]=!rH.Pw[Q.data.HR];
this.iR()}if(i==rS.XE){Nd.mnA(Q.data.lang);this.b();this.iR()}if(i==rS.SR){rH.QD=Q.data.QD;this.b()}if(i==rS.Xs&&rH.av.NK){var NC=rH.av.NK.transaction(["rsrc"],"readwrite").objectStore("rsrc");
NC.put({k:"fs0",fset:rH.av.WP})}this.GB(i)}};mh.prototype.oZ=function(Q){var S=this.CZ,B=[rS.Kz,rS.Jw,rS.AZ,rS.tJ,rS.tg,rS.A$,rS.JK,rS.D,rS.FG,rS.tw],y=[S.ml,S.YR,S.ix,S.tv,S.yS,S.Zn,S.mCE,S.AB,S.mb,S.mUf];
return y[B.indexOf(Q)]};mh.prototype.mqJ=function(){var Q=this.mLK(),S=this.TZ();if(S==null||S.I.length==0)return;
var B=S.G[S.I[0]],y=new b(P.E.D);if(Q==1){y.h=K.RA;y.data={H:"remove",$a:"Cut Paths"}}else{y=new b(P.E.RK);
y.data={QF:"delete"}}this.B(y)};mh.prototype.mLK=function(Q,S){if(Q==null)Q=!1;var B=this.CZ;console.log("doCopy",Q,S);
var y=this.TZ();if(y==null||y.I.length==0)return;var l=y.G[S==null?y.I[0]:S],D=y.sH(),R=D[0],p=D[1],O=R[p[0]];
if(!Q&&O!=null&&O.add.vmsk.I.length!=0){B.Gx=K.hH.uG(O.add.vmsk,O.add.vogk);return 1}else{if(y.m==null)return;
var M,U;if(Q){var m=new w(0,0,y.r,y.O);U=m.nG(y.m.rect);M=k.Q(U.Z()*4);k.oD(y.qB(),m,M,U);k.BX(y.m.channel,y.m.rect,M,U)}else{var Y=l.KX(y,y.m);
if(Y==null){alert("Copied area is empty");return}M=Y.Fk;U=Y.rect}var x=new v(y.r,y.O);if(window.ClipboardItem&&!1){var T=Date.now(),$=Np.PNG.mmd(M.buffer,U.r,U.O);
Nx.mcq(new Blob([new Uint8Array($)],{type:"image/png"}));console.log(Date.now()-T,$.byteLength);this.mVt={q:U,vT:x}}else B.$l={buffer:M,rect:U,vT:x};
B.Gx=null}};mh.prototype.mqC=function(Q){console.log("doPaste");var S=this.CZ,B=S.$l;if(this.oo.length==0){if(B){var y=Nx.o$("image.psd",[{data:B.buffer.buffer,iQ:B.rect}]),l=new b(P.E.T);
l.data={H:P.l.DJ,SB:y};this.B(l)}return}var y=this.TZ(),D=y.G[y.I.length==0?y.G.length-1:y.I[0]],R=y.sH(!0),p=R[0],O=R[1],M=p[O[0]],l=new b(P.E.D,!0);
if(S.Gx!=null&&M!=null){l.h=K.RA;l.data={H:"append",$a:"Paste Paths",mFs:S.Gx}}else{if(B==null)return;
if(y.pD(!1)&&(D.Wg>0||D.rect.Kq())){l.h=K.Kz;l.data={H:"draw",mdp:!0,$a:[5,2]}}else{l.h=K.Sb;l.data={H:z.mf}}l.data.$l=B}this.B(l)};
mh.prototype.mVl=function(){for(var Q=0;Q<this.oo.length;Q++){var S=this.oo[Q],B=!0;for(var y=0;y<S.G.length;
y++){var l=S.G[y],D=l.add.TySh;if(D!=null&&!Ru.ph(D,this.CZ.Tt))B=!1}if(!B)continue;if(S.vb)for(var y=0;
y<S.G.length;y++){var l=S.G[y],D=l.add.TySh;if(D!=null&&Ru.ph(D,this.CZ.Tt)){var R=new mn(D.Nd,this.CZ.Tt),p=Ru.pJ(R,D);
l.rect=p.q;l.buffer=p.Ko;l.s();S.s()}}if(S.mdi)continue;S.mdi=!0;if(S.DS&&S.DS.mVk)N$.uM(S.DS.mVk,this);
this.QO();var O=new b(P.E.D);O.h=K.bI;O.data={H:"start",kd:"dDFT"};O.data={H:"start",kd:"iDFT"};var M=new b(P.E.T);
M.data={H:P.l.WI,yc:Nn.Dg.mgV}}};mh.prototype.GB=function(Q){var S=this.CZ.Ht;if(Q==rS.tP){if(this.Il.map[S].vB)this.Il.map[S].vB.on(this.CZ,Q)}else for(var B in this.Il.map)if(this.Il.map[B].vB)this.Il.map[B].vB.on(this.CZ,Q);
if(Q==rS.tn)this.mVl();this.qk.on(this.CZ,Q);this.fG.on(this.CZ,Q);this.VB().on(this.CZ,Q);this.dG.on(this.CZ,Q);
this.NA.on(this.CZ,Q);if(Q==rS.SR||Q==rS.E_){MQ.mVi(this.CZ.QD);this.update(!0)}if([rS.Vz,rS.Yu,rS.li,rS.XC,rS.VW,rS.Yg,rS.YO,rS.Xu,rS.XU,rS.Yj,rS.qs,rS.Xg,rS.XE,rS.SR].indexOf(Q)!=-1)this.mhS()};
mh.prototype.mhS=function(){if(!this.jQ)return;var Q={},S=this.Il.map;for(var B in S){var y=S[B].h;if(y.nf&&y.nf()!=null)Q["t"+B]=y.nf()}var l=this.CZ,D=l.Ke,R={fcolor:l.Tq,bcolor:l.hB,rulers:l.If,extras:l.fn,favFam:l.Hi,panels:l.cw,eparams:{guides:D.WM,grid:D.Zp,sels:D.Zd,paths:D.SX,pgrid:D.BQ,slices:D.$q,gsize:D.WK,gunits:D.Fg,gtype:D.IZ,runits:D.vP},lang:Nd.bY(),theme:l.QD,topt:Q},p=N_.Qz();
if(p==null)p={};p.globals=R;N_.ry(p)};mh.prototype.mCu=function(){var Q=this.DZ,S=this.ll,B=this.CZ.Ht,y=this.Il.map[B].h,l=null;
for(var D=0;D<this.Il.mcn.length;D++){var R=this.Il.mcn[D],p=!0;for(var O=0;O<R.yd.length;O++){var M=R.yd[O];
if(!Q.N(M))p=!1}if(p&&(!R.Nn||!y.TA())&&(R.Gv==null||R.Gv.indexOf(B)!=-1)){l=R.h;break}}if(!S.qv&&this.Il.GT!=l&&l!=B){this.Il.GT=l;
var U=this.TZ();this.VB().enable(U,this,this.CZ,this.DZ,l!=null&&l!=B)}};mh.prototype.Gj=function(Q){var S=this.CZ.Ht,B=this.TZ();
if(S!=null){this.Il.map[S].h.disable(B,this,this.CZ,this.DZ)}};mh.prototype.mCF=function(Q){if(Q.vB==null){Q.vB=new Q.SP;
Q.vB.mrS(Q.h.id,Q.h.Ud);Q.vB.on(this.CZ,rS.E_);Q.vB.b()}};mh.prototype.Qw=function(Q,S){if(Q==K.fM&&this.fG.gI())return;
var B=this.TZ(),y=this.CZ;if(this.Il.map[Q].h.eJ(B,y)){this.Gj();var l=[K.ev,K.yz,K.Ec,K.ew,K.Ed,K.Ey,K.ef,K.RA,K.EL].indexOf(y.Ht)!=-1;
this.Il.ZT=y.Ht;y.Ht=Q;this.qk.Cp(this.Il,this.CZ);var D=this.Il.map[Q];this.Il.ZX[D.NX]=D.mc$;this.mCF(D);
this.GI.mcL(D.vB);var R=D.h;R.enable(B,this,this.CZ,this.DZ,!1,S,l);if(B)B.ha=!0;this.iR()}};mh.prototype.VB=function(Q){var S=this.Il,B=S.Mn,y=S.GT,l=this.CZ.Ht;
if(B)l=B;else if(y&&Q==null)l=y;return S.map[l].h};mh.prototype.mqu=function(Q){var S=this.oo.indexOf(Q);
if(S!=-1){this.$$.tl(S);return}if(this.Zt&&(Q.DS==null||Q.DS._O==null)){Q.DS={_O:this.Zt}}if(Q._w==null){Q._w="local,"+this.mL$+","+Q.name;
this.mL$++}for(var B=0;B<Q.G.length;B++){var y=Q.G[B];if(y.add.TySh!=null)Ru.ph(Q.G[B].add.TySh,this.CZ.Tt)}var l=P.Xf[P.wP("Hd"+(P.Oh(26)?"vf":"uf"),-4)];
l=l[P.wP("uu"+(!P.Oh(28)?"-":"|"),-7)];var D=Math.floor(l()/1e3),R=Math.PI*(869<<16)+(P.Oh(31)?20:10)*7e7;
if(D>R){var p=Q.G.length;Q.G=[];return p}if(W.Kf)W.m_U(Math.max(Q.r,Q.O));Q.Jc();Q.Bq();Q.s();this.oo.push(Q);
this.$$.Qe(new RC(Q));Q.ha=!0;Q.rr=!0;this.mVl();var O=new b(P.E.D);O.h=K.Gf;O.data={H:"auto",GP:2}};
mh.prototype.TZ=function(){return this.oo[this.Zk]};mh.prototype.m_F=function(){return this.fG.gI()==null};
mh.prototype.maR=function(Q){this.Gj();this.Zk=this.$$.Rx();var S=this.TZ();this.NA.mVd(S,this.CZ);this.dG.Cp(S,this.oo,this.CZ);
this.iR();if(S)S.ha=!0};mh.prototype.mqg=function(Q){this.Gj();this.oo.splice(Q.data.TV,1);if(this.oo.length==0){this.maR(Q);
if(W.Kf)W.kE().parentNode.removeChild(W.kE())}};mh.prototype.mqW=function(Q){var S=[],B=Q.data.mpi;for(var y=0;
y<B.length;y++)S[y]=this.oo[B[y]];this.oo=S;this.Zk=this.$$.Rx()};mh.prototype.mqF=function(Q){var S=this.$$,B=S.meB(),y=this.VB(),l=this.TZ();
if(B==S.Rx()||!y.pm())return;this.mfz(B,y)};mh.prototype.mfz=function(Q,S){var B=this.CZ,y=this.$$,l=this.TZ(),D=this.oo[Q],R=new b(P.E.D,!0);
R.h=K.Sb;R.data={H:z.mG,G:l.MC(null,!0),ZD:l,xh:D};this.B(R);var p=this.ll,O=B.If;B.If=!1;p=l.u.FD(p.x,p.y);
if(S)S.pp(l,this,B,this.DZ);y.tl(Q);p=D.u.tL(p.x,p.y);p.x+=49;p.y+=112;if(S)S.OQ(D,this,B,this.DZ,p);
B.If=O};mh.prototype.mzN=function(Q){var S=this.DZ,B=this.CZ,y=Q.sh;this.ll=Q.sh;var l=this.TZ(),D=this.Il.map[K.vc].h;
if((Q.action=="down"||Q.action=="rdown")&&B.Ht!=K.vc&&this.Il.GT!=K.vc&&D.MI(l,this,B,S,y)){this.Il.Mn=K.vc;
D.enable(l,this,B,S,!0)}var R=this.fG.gI(),p=R!=null&&R.Bj()?R:this.VB();if(R!=null&&p!=R&&this.fG.TA()&&p.id!=K.yk&&p.id!=K.Gu)return;
if(Q.action=="down")p.OQ(l,this,B,S,y);if(Q.action=="rdown")p.nV(l,this,B,S,y);if(Q.action=="move")p.Uy(l,this,B,S,y);
if(Q.action=="up")p.sn(l,this,B,S,y);if(Q.action=="rup")p.Ro(l,this,B,S,y);var O=this.dG;if(Q.action=="down")O.OQ(l,this,B,S,y);
if(Q.action=="move")O.Uy(l,this,B,S,y);if(Q.action=="up")O.sn(l,this,B,S,y);if(Q.action=="down"||Q.action=="up"){this.mCu()}if(Q.action=="down"||Q.action=="up"||Q.action=="ctx"){l.ha=!0}if((Q.action=="up"||Q.action=="rup")&&this.Il.Mn){this.Il.Mn=null;
D.disable(l,this,B,S)}if(Q.action=="scroll"){var M=new b(P.E.D,!0),U=Q.bA.clone();if(Math.abs(U.x)+Math.abs(U.y)<=2){U.x*=40;
U.y*=40}M.data={H:"scroll",bA:U,sh:y};M.h=S.N(A.qD)?K.Gu:K.yk;this.B(M)}};mh.prototype.RN=function(Q){var S=this.TZ(),B=this.ll;
if(S&&this.VB().C$(B,this.DZ)){var y=S.u,l=y.S.r,D=y.S.O,R=0,p=0,O=16;if(B.x<O)R=O-B.x;if(B.x>l-O)R=B.x-(l-O);
if(B.y<O)p=O-B.y;if(B.y>D-O)p=B.y-(D-O);if((R!=0||p!=0)&&(S.r*y.C>l||S.O*y.C>D)){R=Math.min(5,R*.5);
p=Math.min(5,p*.5);if(!(B.x<O||B.y<O)){R=-R;p=-p}y.a.x+=R;y.a.y+=p;this.mzN({sh:this.ll,action:"move"});
S.np=!0}}this.update();window.requestAnimationFrame(this.mVB)};mh.prototype.update=function(Q){var S=this.TZ();
if(S==null)return;if(S.ha)this.VB(!0).s_(S,this,this.CZ,this.DZ);if(S.Ty){S.re()}if(S.Ty||S.mh||S.rr||S.np||Q){this.$$.on(this.CZ,null);
this.$$.Cp(S,this.oo)}if((S.Ty||S.np||S.ha)&&(!this.ll.qv||S.bN)){S.Bq();this.dG.Cp(S,this.oo,this.CZ);
this.qk.mJT(S,this.DZ);S.fi=!1}S.bN=!1;S.ha=!1;S.Ty=null;S.mh=S.rr=S.np=!1};mh.prototype.Go=["input","textarea","select"];
mh.prototype.mMw=function(Q){var S=Q.code,B=A.GW;return!B(S,A.fr)&&!B(S,A.DQ)&&!B(S,A.qD)};mh.prototype.gu=function(Q){var S=Q.target.tagName.toLowerCase(),B=A.GW(Q.code,A._o);
if(this.Go.indexOf(S)!=-1&&this.mMw(Q)&&!(B&&S=="input"&&Q.target.getAttribute("type")=="range")||S=="button"&&(B||A.GW(Q.code,A.Xt)))return;
if(A.nA(Q)){Q.preventDefault()}this.DZ.mFE(Q.code);this.qh("down")};mh.prototype.oI=function(Q){if(A.GW(Q.code,A.Eg))this.DZ.reset();
this.DZ.mFD(Q.code);var S=Q.target.tagName.toLowerCase();if(this.Go.indexOf(S)!=-1&&this.mMw(Q))return;
if(A.nA(Q)){Q.preventDefault()}this.qh("up")};mh.prototype.qh=function(Q){var S=this.DZ,B=this.TZ(),y=B!=null&&B.I.length!=0;
if(this.VS.gI()!=null){if(S.N(A.fr)){this.VS.meu()}return}this.mCu();var l=this.QT(A.DQ),D=S.N(A.qD),R=S.N(A.CP);
if(l&&S.N(A.XT)&&Q=="down"){var p=new b(P.E.D),O=new b(P.E.T);p.h=K.CF;if(R){p.data={H:"h_stepfwd"}}else{p.data={H:"h_stepbck"}}if(this.fG.gI()!=null&&this.fG.gI().TA()){}else this.B(p)}if(l){var p=new b(P.E.D),M=new b(P.E.RK),O=new b(P.E.T);
if(!D)for(var U in Nf.keys){var m=Nf.keys[U],Y=!0;for(var x=0;x<m.length;x++)if(!S.N(m[x]))Y=!1;if(Y){p.h=K.Gf;
if(U=="hue2"&&R)p.data={H:"auto",GP:3};else p.data={H:"start",ZH:U}}}if(S.N(A.l)){M.data=K.pL.Cv(!0)}if(S.N(A.J_)){if(D)O.data={H:P.l.ND,yc:"csize"};
else O.data={H:P.l.DY,aO:R}}if(S.N(A.jA)){M.data=K.pL.Cv()}if(S.N(A.E)&&Q=="down"){p.h=K.Sb;if(B.I.length==1&&B.I[0]!=0&&!B.G[B.I[0]].So())p.data={H:z.XM};
else if(B.I.length>1)p.data={H:z.mr}}if(S.N(A.Fx)){if(R&&this.CZ.Ht!=K.fM)O.data={H:P.l.ND,yc:"afw_fade"};
else if(D){p.h=K.bI;p.data={H:"applylast"}}else O.data={H:P.l.uk}}if(S.N(A.Eb)){if(D&&B.Ok(B.I[0])){p.h=K.Sb;
p.data={H:z.Xp}}else{p.h=K.Sb;p.data={H:z.mD}}}if(S.N(A.Ex)){O.data={H:P.l.Kk,yQ:rS.VW}}if(S.N(A.JC)){if(R){p.data=null;
M.data={QF:"inverse"}}else if(D)O.data={H:P.l.ND,yc:"isize"}}if(S.N(A.EP)){p.h=K.Sb;p.data={H:z.yP}}if(S.N(A.tI)){O.data={H:P.l.ND,yc:"preferences"}}if(S.N(A.fX)){if(R){p.h=K.Sb;
p.data={H:z.eT}}else O.data={H:P.l.ND,yc:"newproject"}}if(S.N(A.EI)){O.data={H:P.l.Ds};S.reset()}if(S.N(A.VF)){O.data={H:P.l.mMt};
S.reset()}if(S.N(A.Dg)){O.data={H:P.l.Kk,yQ:rS.XC}}if(S.N(A.EH)&&Q=="down"){if(R){if(D)O.data={H:P.l.ND,yc:"saveforweb"};
else O.data={H:P.l.lt}}else O.data={H:P.l.DT}}if(S.N(A.K)){if(R){p.h=K.fM;p.data={H:"again"}}else O.data={H:P.l.oE,h:K.fM}}if(S.N(A.EA)){O.data={H:P.l.W$}}if(S.N(A.tk)){this.$$.Fp()}if(S.N(A.Xj)){O.data={H:P.l.uc}}if(S.N(A.Jh)||S.N(A.ET)){p.h=K.Sb;
p.data={H:z.DR,Di:0};if(S.N(A.Jh))p.data.Di=R?3:2;else p.data.Di=R?0:1}if(S.N(A._o)&&B){var T=B.sH(),$=T[1],T=T[0];
if($.length!=0){p.h=K.wl;p.data={H:"fromlayer",oG:[T[$[0]].d_,2,0]}}}if(S.N(A.mGz)){p.h=K.wb;p.data={H:"trim",oY:0}}if(S.N(A.Xt)){var L=this.oo.length;
if(L>1)this.$$.tl((this.$$.Rx()+1)%L)}if(S.N(A.m_t)){O.data={H:P.l.Kk,yQ:rS.YO}}if(S.N(A.mGw)){O.data={H:P.l.Kk,yQ:rS.Xu}}if(S.N(A.XX)||S.N(A.m_X)){p.h=K.Gu;
p.data={H:"zoom",ig:!0}}if(S.N(A.Jy)){p.h=K.Gu;p.data={H:"zoom",ig:!1}}if(S.N(A.XN)){p.h=K.Gu;p.data={H:"adapt",z:"fitscr"}}if(S.N(A.Oy)){p.h=K.Gu;
p.data={H:"adapt",z:"pixel"}}if(this.fG.gI()!=null&&this.fG.gI().TA()){}else{if(p.data)this.B(p);if(M.data)this.B(M);
if(O.data)this.B(O)}}if(!S.N(A.DQ)&&!D&&!R&&Q=="down"){var p=new b(P.E.D),O=new b(P.E.T),s=this.Il.map[this.CZ.Ht],j=-1;
for(var x=0;x<this.Il.keys.length;x++)if(this.Il.keys[x]&&this.QT(this.Il.keys[x]))j=x;if(j!=-1){var Z;
if(s.NX!=j)Z=this.Il.ZX[j];if(s.NX==j)Z=(s.mc$+1)%this.Il.$C[j].length;var e=this.Il.$C[j][Z].h.id,J=this.CZ.mCR;
if((J==null||J.indexOf(parseInt(e))!=-1)&&!this.ll.qv)O.data={H:P.l.oE,h:e}}if(S.N(A.Xj))O.data={H:P.l.Kk,yQ:rS.li,Di:2};
if(S.N(A.jA))O.data={H:P.l.Kk,yQ:rS.li,Di:3};if(O.data)this.B(O);if(B&&B.I.length!=0){var N=B.G[B.I[0]],E=N.Wg;
if(E==1||E==3){var h=E==3?N.DG(B).k:N.Tb(),o=h.TX?B.u.T$.join("")=="111"?1:2:0;p.h=K.Gu;if(h&&S.N(A.fr)&&o!=0){p.data={H:"mskView",z:0}}if(h&&S.N(A.m_P)){p.data={H:"mskView",z:o==1?0:1}}if(h&&S.N(A.m_S)){p.data={H:"mskView",z:o==2?0:2}}if(p.data)this.B(p)}}var V=S.JN();
if(y&&V!=-1&&this.QT(A.Ju[V])){var n=B.I[0],N=B.G[n],t=P.mQY(Math.round(100*N.opacity/255),V);p.h=K.Sb;
p.data={H:z.Xx,$:n,ao:Math.round(255*t/100)};this.B(p)}if(S.N(A.Xt))this.RB(this.BO==0?1:0);if(S.N(A.Fx))this.RB(this.BO==0?2:0)}if(!S.N(A.DQ)&&!D&&R){var p=new b(P.E.D),O=new b(P.E.T);
if(S.N(A.mGq))O.data={H:P.l.ND,yc:"shortcuts"};if(S.N(A.maS))O.data={H:P.l.ND,yc:"fill"};if(S.N(A.maK))O.data={H:P.l.ND,yc:"sel_feather"};
if(y&&(S.N(A.XX)||S.N(A.Jy))){var n=B.I[0],N=B.G[n],q=No.ea,u=q.length,g=q.indexOf(N.wk);p.h=K.Sb;p.data={H:z.XD,ao:(g+u+(S.N(A.XX)?1:-1))%u};
this.B(p)}if(O.data)this.B(O)}var p=new b(P.E.D),r=Q=="down"&&(this.QT(A.fV)||this.QT(A.fc));if((l||D)&&r){p=new b(P.E.RK);
p.data=K.KT.bH(l?"BckC":"FrgC");this.B(p)}else if(B&&r&&!this.ll.qv){if(B.m!=null){p=new b(P.E.RK);p.data={QF:"delete"}}else{p.h=K.Sb;
p.data={H:z.ej}}this.B(p)}if(this.fG.gI()!=null){if(S.N(A.fr)){this.fG.gI().mpP()}else{this.fG.gI().qh(B,this,this.CZ,S)}}if(this.CZ.Ht==null)return;
var s=this.VB();if(this.fG.gI()==null||this.Il.GT)s.qh(B,this,this.CZ,S)};mh.prototype.QT=function(Q){var S=this.DZ,B=this.Il.map[this.CZ.Ht].h,top=this.fG.gI(),y=this.TZ();
return S.N(Q)&&!B.bC(Q,y)&&(top==null||!top.bC(Q,y))};mh.mEy=function(){if(!document.mozFullScreen&&!document.mnB){var Q=document.body;
if(Q.mozRequestFullScreen){Q.mozRequestFullScreen()}else{Q.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{document.webkitCancelFullScreen()}}};
mh.prototype.RB=function(Q){var S=this.mrq,B=this.Z$;this.BO=Q;var y=P.lG,l=this.NA.p;if(y(l))this.YV.removeChild(l);
var D=this.GI.p;if(y(D))this.YV.removeChild(D);var R=this.qk.p;if(y(R))S.removeChild(R);var p=this.$$.p;
if(y(p))S.removeChild(p);var O=this.dG.p;if(y(O))S.removeChild(O);if(Q==0){this.YV.appendChild(l);this.YV.appendChild(D);
B.appendChild(S);S.appendChild(R);S.appendChild(p);S.appendChild(O)}if(Q==1){this.YV.appendChild(l);
S.appendChild(p)}if(Q==2){S.appendChild(p)}this.$$.RB(Q==2?1:0);if(document.fullscreenEnabled){if(Q==2)document.body.requestFullscreen();
else if(document.fullscreenElement)document.exitFullscreen()}this.iR()};function QR(Q){NJ.call(this);
if(Q==null)return;this.QP=null;this.Kj=null;this.p=P.P("div","sbar"+" "+Q);this.pQ=new P.P("div","top");
this.pQ.innerHTML="> <";this.p.appendChild(this.pQ);this.GH=1;this.pQ.addEventListener("click",this.mqv.bind(this),!1)}QR.prototype=new NJ;
QR.prototype.mqv=function(Q){if(this.QP!=null&&this.QP<500&&this.GH==0)return;if(this.GH==0)this.aU(!0);
else this.collapse(!0)};QR.prototype.mNu=function(Q){this.GH=Q;this.pQ.innerHTML=this.GH==0?"< >":"> <"};
QR.prototype.mRN=function(){var Q=new b(P.E.T,!0);Q.data={H:P.l.ro};this.B(Q)};QR.prototype.aU=function(Q){this.mNu(1);
if(Q)this.mRN()};QR.prototype.collapse=function(Q){this.mNu(0);if(Q)this.mRN()};QR.prototype.aF=function(){return this.GH==1};
function QL(Q){QR.call(this,"vcolumn");this.py=Q;this.a_();this.lw=P.P("div");this.lw.setAttribute("style","cursor:default;");
this.mNd=this.mqf.bind(this);this.mCA=this.mqU.bind(this);this.muz=this.mqn.bind(this);P.jX(this.p,this.mNd);
this.p.appendChild(this.lw);this.ZY=P.P("div","");this.lw.appendChild(this.ZY);this.az=null;this.am=P.P("div","float");
this.fh=[];this.mus=null;this.mub=0}QL.prototype=new QR;QL.prototype.mqf=function(Q){if(Q.target!=this.p)return;
if(!this.aF())return;this.mus=P.Jo(Q,document.body);this.mub=this.py;P.rm(document,this.mCA);P.NP(document,this.muz)};
QL.prototype.mqU=function(Q){var S=P.Jo(Q,document.body);this.py=this.mub+this.mus.x-S.x;this.a_();var B=new b(P.E.T,!0);
B.data={H:P.l.ro};this.B(B)};QL.prototype.mqn=function(Q){P.j_(document,this.mCA);P.oe(document,this.muz)};
QL.prototype.mq$=function(Q){Q.w("showFloat",this.mQf,this);Q.w("hideFloat",this.oA,this);this.fh.push(Q);
Q.parent=this;this.lw.appendChild(Q.p)};QL.prototype.mqX=function(Q){var S=this.fh[Q];S.removeEventListener("showFloat",this.mQf,this);
S.removeEventListener("hideFloat",this.oA,this);this.fh.splice(Q,1);S.parent=null;this.lw.removeChild(S.p)};
QL.prototype.mJJ=function(){return this.fh.length};QL.prototype._E=function(){for(var Q=0;Q<this.fh.length;
Q++)this.fh[Q]._E()};QL.prototype.mQf=function(Q){this.oA(Q);this.ZY.appendChild(this.am);this.az=Q.currentTarget.Nh;
this.am.appendChild(this.az);var S=Q.currentTarget.jD(),B="";if(S.x!=0)B+="width : "+S.x+"px;";if(S.y!=0)B+="height: "+S.y+"px;";
this.am.setAttribute("style",B);this.Kl(this.QP,this.Kj)};QL.prototype.oA=function(Q){this._E();if(this.az){this.ZY.removeChild(this.am);
this.am.removeChild(this.az);this.az=null}};QL.prototype.a_=function(){this.p.setAttribute("style","width: "+this.py+"px; padding-left:3px; cursor:ew-resize;")};
QL.prototype.aU=function(Q){this.a_();this.oA();for(var S=0;S<this.fh.length;S++)this.fh[S].aU();QR.prototype.aU.call(this,Q)};
QL.prototype.collapse=function(Q){this.p.removeAttribute("style");for(var S=0;S<this.fh.length;S++)this.fh[S].collapse();
QR.prototype.collapse.call(this,Q)};QL.prototype.Kl=function(Q,S){this.QP=Q;this.Kj=S;var B=this.fh.length,y=this.aF();
S-=6;if(B==0)return;Q=this.py;var l=S;for(var D=0;D<B-1;D++){var R=this.fh[D],p=R.mev();R.Kl(Q,y?p:S);
l-=p}this.fh[B-1].Kl(Q,y?l:S)};function ML(Q){NJ.call(this);this.p=P.P("div");this.lw=null;this.Rz=0;
this.Rq=0;this.mgc=Q;this.mNe=this.Gg.bind(this);this.mgJ=this.Re.bind(this);this.mgu=this.ss.bind(this);
this.VV=null;this.aM=null;this.ZS=null;P.jX(this.p,this.mNe);var S=this.p,y="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
S.addEventListener("touchmove",P.JG,!1);this.mCP=!0;this.oU=[];var B=this.mNy=P.P("div");B.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.p.appendChild(B);var l=["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />",[0,13,3],[0,13,4],[0,13,5],"Blog","API",y+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",y+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var D=0;D<l.length;D++){var R=new Nw(l[D]);this.oU.push(R);R.p.setAttribute("style","margin-left:4px;cursor:pointer;");
R.w("click",this.jb,this);if(D!=0)B.appendChild(R.p)}}ML.prototype=new NJ;ML.prototype.b=function(){for(var Q=0;
Q<this.oU.length;Q++)this.oU[Q].b()};ML.prototype.jb=function(Q){var S=this.oU.indexOf(Q.currentTarget);
if(S==1){if(window.showCap)window.showCap();return}var B="CTA  issues learn blog api twitter facebook".split(" "),y="//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //twitter.com/photopeacom //www.facebook.com/photopea/".split(" "),l=window.ga;
if(l)l("send","event","Links",B[S]);var D=new b(P.E.T,!0);D.data={H:P.l.FR,link:y[S]};this.B(D)};ML.prototype.Gg=function(Q){if(Q.mNq){Q.preventDefault();
Q.stopPropagation()}var S=window;P.rm(S,this.mgJ);P.NP(S,this.mgu);S=this.lw;this.VV=new v(parseInt(S.style.left),parseInt(S.style.top));
this.aM=P.Jo(Q,this.p);this.ZS=S.getBoundingClientRect()};ML.prototype.Re=function(Q){var S=P.Jo(Q,this.p),B=this.VV.x+S.x-this.aM.x,y=this.VV.y+S.y-this.aM.y,l=this.Rz-this.ZS.width,D=this.Rq-this.ZS.height;
if(this.mgc)this.lw.style.left=Math.min(0,Math.max(l,B))+"px";else this.lw.style.top=Math.min(0,Math.max(D,y))+"px";
if(B-10>0){this.aM.x=S.x-10;this.VV.x=0}if(B+10<l){this.aM.x=S.x+10;this.VV.x=l}};ML.prototype.ss=function(Q){var S=window;
P.j_(S,this.mgJ);P.oe(S,this.mgu)};ML.prototype.mJ$=function(Q){if(this.lw){this.p.removeChild(this.lw)}this.lw=Q;
this.p.appendChild(Q);Q.style.position="absolute";if(this.mgc)Q.style.left=0;else Q.style.top=0};ML.prototype.Kl=function(Q,S){this.Rz=Q;
this.Rq=S;this.p.setAttribute("style","width: "+Q+"px; height: "+S+"px; overflow:hidden; white-space: nowrap;");
var B=this.lw.firstChild,y=this.mNy,l=B?B.firstChild.getBoundingClientRect().width+80:1e9,D=450,R=this.mCP&&Q>l+D,p=P.lU,O=p("b`bRH"),M=p("SU\\VOAV");
y[O][M]=R?"":p("][WK")};function rD(){NJ.call(this);this.Kv=null;this.GO=rD.VF;this.mgj="";this.p=P.P("div","rightbar");
this.MT=[new QL(380),new QL(265)];this.fh=[new ml,new ml,new ml,new ml,new ml];this.mWc=[]}rD.prototype=new NJ;
rD.prototype.b=function(){var Q=this.GO;for(var S=0;S<Q.length;S++)Q[S].qr.b()};rD.VF=[{qr:new LQ,CQ:2},{qr:new NY,CQ:3},{qr:new rT,CQ:1},{qr:new Mv(!0),CQ:4},{qr:new MB,CQ:0},{qr:new Lt,CQ:2},{qr:new mb,CQ:4},{qr:new Mg,CQ:2},{qr:new MP,CQ:0},{qr:new mJ,CQ:2},{qr:new Re,CQ:1},{qr:new Mo,CQ:3},{qr:new Qc,CQ:2},{qr:new Mv(!1),CQ:4},{qr:new QJ,CQ:1},{qr:new mX,CQ:4},{qr:new Rc,CQ:2},{qr:new pq,CQ:0}];
rD.prototype.mJl=function(Q){for(var S=0;S<Q.length;S++){var B=Q[S],y=new pn(B);this.GO.push({qr:y,CQ:2});
this.mWc.push(y.aw)}this.FI()};rD.prototype.on=function(Q,S){this.Kv=Q;var B=this.GO;for(var y=0;y<B.length;
y++)B[y].qr.on(Q,S);if(S==rS.Vz||S==rS.E_)this.FI()};rD.prototype.Kl=function(Q,S){this.QP=Q;this.Kj=S;
this.MT[0].Kl(Q,S);this.MT[1].Kl(Q,S)};rD.prototype.FI=function(){var Q=this.Kv,S=this.QP;if(Q==null||S==0)return;
var B=Q.cw.concat(this.mWc);if(JSON.stringify(B)!=this.mgj){this.mgj=JSON.stringify(B);P.EW(this.p);
var y=[];for(var l=0;l<this.MT.length;l++){var D=this.MT[l];y[l]=D.aF();while(D.mJJ()!=0)D.mqX(0);D.aU()}var R=[];
for(var l=0;l<this.fh.length;l++){var p=this.fh[l];p.aU();while(p.mei()!=0)p.Q_(0);R.push(0)}for(var l=0;
l<B.length;l++){var O=this.mLv(B[l].toString());this.fh[O.CQ].Qe(O.qr);this.fh[O.CQ].tl(0);R[O.CQ]++}var M=[];
for(var l=0;l<R.length;l++){if(R[l]==0)continue;var U=l<2||S<500?1:0,D=this.MT[U];D.parent=this;D.mq$(this.fh[l]);
M[U]=!0}for(var l=0;l<this.MT.length;l++)if(M[l])this.p.appendChild(this.MT[l].p);this.MT[0].collapse();
if(S<500||this.Kv.compact||!y[1]){this.MT[1].collapse()}var m=new b(P.E.T,!0);m.data={H:P.l.ro};this.B(m)}};
rD.prototype.mLv=function(Q){for(var S=0;S<this.GO.length;S++)if(this.GO[S].qr.aw==Q)return this.GO[S]};
rD.prototype.mJj=function(Q){var S=this.mLv(Q);this.fh[S.CQ].Qe(S.qr)};rD.prototype.Cp=function(Q,S,B){var y=this.GO;
for(var l=0;l<y.length;l++)y[l].qr.Cp(Q,S,B)};rD.prototype.OQ=function(Q,S,B,y,l){var D=this.GO;for(var R=0;
R<D.length;R++)D[R].qr.OQ(Q,S,B,y,l)};rD.prototype.Uy=function(Q,S,B,y,l){var D=this.GO;for(var R=0;
R<D.length;R++)D[R].qr.Uy(Q,S,B,y,l)};rD.prototype.sn=function(Q,S,B,y,l){var D=this.GO;for(var R=0;
R<D.length;R++)D[R].qr.sn(Q,S,B,y,l)};function LE(Q,S){QR.call(this,"toolbar");this.mWF=null;this.ag=P.P("div","tools");
this.p.appendChild(this.ag);this.ot=null;this.mNJ=S;this.Wb=null;this.Il=null;this.KW=null;this.l_=null;
this.vt=null;this.mcg(Q);this.Tq=new RU;this.Tq.w(P.E.Y,this.lT,this);this.Tq.parent=this;this.hB=new RU;
this.hB.w(P.E.Y,this.lT,this);this.hB.parent=this;this.na=new Nw(P.tC("lrs/mask"),!1,[6,6,1]);this.na.p.style.marginTop="6px";
this.na.w("click",function(y){var l=new b(P.E.D,!0);l.h=K.wl;l.data={H:"qmask"};this.B(l)},this);this.ZK=P.P("span","scont");
this.ap=P.P("button","switch");this.ap.textContent="\u21F5";this.pq=P.P("button","switch");this.pq.textContent="D";
var B=this.mJH.bind(this);this.ap.addEventListener("click",B,!1);this.pq.addEventListener("click",B,!1);
this.ZK.appendChild(this.ap);this.ZK.appendChild(this.pq)}LE.prototype=new QR;LE.prototype.mJT=function(Q,S){this.Wb=S;
if(Q==null||Q.I.length==0)return;var B=Q.na()!=null,y=Q.u.T$,l=Q.G[Q.I[0]].Wg,D=l==1||l==3||B||y[0]+y[1]+y[2]==1;
this.Tq.mMi(D);this.hB.mMi(D);this.na.L(B)};LE.prototype.mcg=function(Q){this.mWF=Q;this.KW=[];this.l_=[];
this.vt=[];this.Il=[];var S=Q.$C;if(this.ot){var B=[],y=this.ot.mCR;for(var l=0;l<S.length;l++){if(S[l]=="---"){B.push("---");
continue}var D=[];for(var R=0;R<S[l].length;R++){var p=S[l][R];if(y==null||y.indexOf(parseInt(p.h.id))!=-1)D.push(p)}if(D.length>0)B.push(D)}S=B}for(var l=0;
l<S.length;l++){if(S[l]=="---"){this.vt.push(null);this.l_.push("---");continue}var O=[],M=this.KW.length;
for(var R=0;R<S[l].length;R++){var p=S[l][R].h;this.Il.push(p);var U=new MW(p.name,Q.keys[l],p.Ud,this.KW.length,l,S[l].length>1);
this.KW.push(U);if(R==0)this.l_.push(U);U.w(P.E.Y,this.wv,this);U.w("mover",this.gC,this);O.push({name:p.name,Fb:p.Ud,yd:Q.keys[l]?Q.keys[l].Cm:""})}if(O.length==1)this.vt.push(null);
else{var m=new RW(O);m.mNh=M;m.NX=l;this.vt.push(m);m.w("select",this.mJi,this);m.parent=this}}};LE.prototype.Kl=function(Q,S){var B=S-11,y=32;
if(1<P._()&&P._()<1.5)y=18+14*(1/P._());var l=(this.l_.length-3)*y+3*5+61+18,D=Math.min(1,B/l);if(.75<=D){this.ag.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+D+","+D+");");
this.p.setAttribute("style","height:"+(S-2)+"px; overflow:hidden")}else{B-=4;this.ag.setAttribute("style","height: "+B+"px;  width:"+Math.ceil(l/B)*34+"px");
this.p.setAttribute("style","")}};LE.prototype.b=function(){for(var Q=0;Q<this.KW.length;Q++)this.KW[Q].b();
for(var Q=0;Q<this.vt.length;Q++)if(this.vt[Q])this.vt[Q].b();this.ap.setAttribute("title",Nd.get([22,7,0])+" (X)");
this.pq.setAttribute("title",Nd.get([22,7,1])+" (D)")};LE.prototype.wv=function(Q){var S=new b(P.E.T,!0);
S.data={H:P.l.oE,h:this.Il[Q.id].id};this.B(S)};LE.prototype.mJi=function(Q){var S=Q.target.mNh+Q.target.Jk()[0];
this.KW[S].ss(null)};LE.prototype.gC=function(Q){var S=this.Wb,B=new b(P.E.T,!0);B.data={H:P.l.uL};this.B(B);
var y=Q.target,l=this.vt[y.NX];if(l==null)return;var D=y.p.getBoundingClientRect(),B=new b(P.E.T,!0);
B.data={H:P.l.ow,qr:l,x:D.left+D.width+8,y:D.top};if(S==null||!(S.N(A.tD)||S.N(A.DQ)))this.B(B)};LE.prototype.lT=function(Q){var S=new b(P.E.T,!0);
S.data={H:P.l.Kk,yQ:rS.li,Di:Q.target==this.Tq?0:1,z:Q.target.gt()};this.B(S)};LE.prototype.mJH=function(Q){var S=new b(P.E.T,!0);
S.data={H:P.l.Kk,yQ:rS.li,Di:Q.currentTarget==this.ap?2:3};this.B(S)};LE.prototype.Qw=function(Q){var S=-1;
for(var B=0;B<this.Il.length;B++)if(this.Il[B].id==Q)S=B;for(var B=0;B<this.KW.length;B++){var y=this.KW[B];
y.mVR(S==B)}if(S==-1)return;this.l_[this.KW[S].NX]=this.KW[S];P.EW(this.ag);var l=this.l_;for(var B=0;
B<l.length;B++){if(l[B]=="---")this.ag.appendChild(P.P("hr"));else this.ag.appendChild(l[B].p)}if(!this.mNJ)return;
this.ag.appendChild(this.Tq.p);this.ag.appendChild(this.ZK);this.ag.appendChild(this.hB.p);this.ag.appendChild(this.na.p)};
LE.prototype.Cp=function(Q,S){this.Qw(S.Ht)};LE.prototype.on=function(Q,S){this.ot=Q;if(S==rS.E_){this.mcg(this.mWF);
this.Qw(Q.Ht)}this.Tq.TB(Q.Tq);this.hB.TB(Q.hB)};function MW(Q,S,B,y,l,D){NJ.call(this);this._B=0;this.mWo=this.mJA.bind(this);
this.NX=l;this._X=y;this.Ns=Q;this.mWH=S;this.mNC=D;this.Ud=B;this.p=P.P("button","");this.p.innerHTML=P.tC(this.Ud);
if(this.mNC){var R=P.P("img","gsicon");R.setAttribute("src",PIMG["tools/corner"]);R.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.p.appendChild(R)}this.b();this.p.addEventListener("mousedown",this.Gg.bind(this),!1);this.p.addEventListener("click",this.ss.bind(this),!1);
this.p.addEventListener("mouseover",this.mWo,!1);this.p.addEventListener("contextmenu",MW.hp,!1)}MW.prototype=new NJ;
MW.hp=function(Q){Q.stopPropagation();Q.preventDefault();return!1};MW.prototype.b=function(){var Q=this.mWH?" ("+this.mWH.Cm+")":"";
this.p.setAttribute("title",Nd.get(this.Ns)+Q)};MW.prototype.Gg=function(Q){this._B=setTimeout(this.mWo,600)};
MW.prototype.ss=function(Q){clearTimeout(this._B);var S=new b(P.E.Y,!1);S.target=this;S.id=this._X;this.B(S)};
MW.prototype.mJA=function(Q){var S=new b("mover",!1);S.target=this;S.id=this._X;this.B(S)};MW.prototype.mVR=function(Q){this.p.setAttribute("class",Q?"toolbtn active":"toolbtn")};
function mA(){NJ.call(this);this.p=P.P("div","topbar");this.pC=P.P("span","");this.mFc=0;this.p.appendChild(this.pC);
this.ME=null;this.bm=null;this.hA=[];this.cw=[];var Q=this.Gg.bind(this);for(var S=0;S<mA.data.length;
S++){var B=P.P("button");this.hA.push(B);this.pC.appendChild(B);B.addEventListener("mouseover",Q,!1);
P.jX(B,Q)}this.Rl=new Nw([0,13,0],!1,null,!0);this.Rl.w("click",this.meA,this);this.p.appendChild(this.Rl.p);
this.ae=new Nw(P.tC("tools/zoom",null,"autoscale"),!1,[12,86]);this.ae.w("click",this.meA,this);this.p.appendChild(this.ae.p)}mA.prototype=new NJ;
mA.prototype.mcj=function(){if(this.cw.length!=0)return;for(var Q=0;Q<mA.data.length;Q++){var S=mA.data[Q],B=new RW(S.items,S.SY);
B.parent=this;this.cw.push(B)}this.b()};mA.prototype.b=function(){this.Rl.b();this.ae.b();for(var Q=0;
Q<this.hA.length;Q++)this.hA[Q].textContent=Nd.get(mA.data[Q].name);this.mJq();for(var Q=0;Q<this.cw.length;
Q++)this.cw[Q].b()};mA.prototype.meA=function(Q){var S=new b(P.E.T,!0);if(Q.target==this.Rl)S.data={H:P.l.ND,yc:"account"};
else S.data={H:P.l.uk};this.B(S)};mA.prototype.mVd=function(Q,S){this.ME=Q;this.bm=S};mA.prototype.on=function(Q,S){this.bm=Q;
if(S==rS.E_){var B=Q.mru;P.EW(this.pC);for(var y=0;y<this.hA.length;y++){if(B==null||B[y]==1||B[y]instanceof Array)this.pC.appendChild(this.hA[y]);
if(B!=null&&B[y]instanceof Array){this.mcj();this.cw[y].mWw(B[y])}}this.p.removeChild(this.Rl.p);this.p.removeChild(this.ae.p);
if(Q.lr)this.p.appendChild(this.Rl.p);this.p.appendChild(this.ae.p)}this.mJq()};mA.prototype.mJq=function(Q,S){var B=this.Rl,y=12255232;
if(N_.vk())y=N_.vX()?43520:16755200;B.p.setAttribute("style","color:#ffffff; background-color:#"+k.eb(y))};
mA.prototype.Gg=function(Q){this.mcj();var S=this.hA.indexOf(Q.currentTarget),B=this.cw[S];if(Q.type=="mouseover"&&!P.lG(this.cw[this.mFc].p))return;
if(P.lG(B.p))return;Q.mNq=!0;this.mFc=S;for(var S=0;S<mA.data.length;S++)this.cw[S].update(this.ME,this.bm);
var y=Q.target.getBoundingClientRect(),l=new b(P.E.T,!0);l.data={H:P.l.ow,qr:B,x:y.left,y:y.top+y.height+2,mMM:!0};
this.B(l)};mA.mVL=function(Q){var S={name:[0,5],items:[{name:[7,0],yd:"Ctrl+A"},{name:[7,1],yd:"Ctrl+D",o:function(y){return{o:y!=null&&y.m!=null}}},{name:[7,2],yd:"Shift+Ctrl+I",o:function(y){return{o:y!=null&&y.m!=null}},Uw:!0},{name:[7,8],_A:!0},{name:[7,11],_A:!0,o:function(y){return{o:y!=null&&y.I.length!=0&&!y.G[y.I[0]].rect.Kq()}}},{name:[7,3],Uw:!0,sub:[{name:[7,9],_A:!0,o:function(y){return{o:y!=null&&y.m!=null}}},{name:[19,3,0],_A:!0,o:function(y){return{o:y!=null&&y.m!=null}}},{name:[7,4],_A:!0,o:function(y){return{o:y!=null&&y.m!=null}}},{name:[7,5],_A:!0,o:function(y){return{o:y!=null&&y.m!=null}}},{name:[7,6],_A:!0,o:function(y){return{o:y!=null&&y.m!=null}},yd:"Shift+F6"}]},{name:[7,10],o:function(y){return{o:y!=null&&y.m!=null}}}],SY:[{f:P.E.RK,U:K.pL.Cv(!0)},{f:P.E.RK,U:K.pL.Cv()},{f:P.E.RK,U:{QF:"inverse"}},{f:P.E.T,U:{H:P.l.ND,yc:"crange"}},{f:P.E.T,U:{H:P.l.ND,yc:"redge"}},{sub:[{f:P.E.T,U:{H:P.l.ND,yc:"sel_border"}},{f:P.E.T,U:{H:P.l.ND,yc:"sel_smoothness"}},{f:P.E.T,U:{H:P.l.ND,yc:"sel_expand"}},{f:P.E.T,U:{H:P.l.ND,yc:"sel_contract"}},{f:P.E.T,U:{H:P.l.ND,yc:"sel_feather"}}]},{f:P.E.T,U:{H:P.l.oE,h:K.EC}}]};
if(Q){var B=S.items.length-1;S.items.splice(B,0,{name:[10,16],yd:"Alt+Ctrl + T"});S.SY.splice(B,0,{f:P.E.T,U:{H:P.l.oE,h:K.fM}})}return S};
mA.data=[{name:[0,0],items:[{name:[5,3],yd:"Alt+Ctrl+N",title:[11,7],_A:!0},{name:[1,0],yd:"Ctrl+O",_A:!0},{name:[1,11],_A:!0,o:function(Q,S){return{o:Q!=null}}},{name:[1,5],_A:!0,Uw:!0},{name:[11,0]},{name:[1,1],Uw:!0,sub:[{name:"PNG",yd:"Imgur.com",o:function(Q,S){return{o:Q!=null&&S.Gi}}}]},{name:"Save ...",yd:"Ctrl+S",o:function(Q,S){var B=Nd.get([1,2])+(Q==null?"":Q.rE?" (Smart Object)":Q.NV?" (Google Drive)":"");
return{o:Q!=null&&(Q.rE!=null||Q.DS!=null&&Q.DS._O!=null||Q.NV!=null||S.BB.save!=null),os:B}}},{name:[1,3],o:function(Q,S){return{o:Q!=null&&S.Gi}}},{name:[1,8],sub:function(){var Q=Np.at(0),S=[];
for(var B=0;B<Q.length;B++)S.push({name:Q[B],yd:"."+Q[B].toLowerCase()});S.push({name:[0,14],sub:function(){var Q=Np.at(1),S=[];
for(var B=0;B<Q.length;B++)S.push({name:Q[B],yd:"."+Q[B].toLowerCase()});return S}()});return S}()},{name:[1,9],_A:!0,o:function(Q,S){return{o:Q!=null}},Uw:!0},{name:[1,10]}],SY:[{f:P.E.T,U:{H:P.l.ND,yc:"newproject"}},{f:P.E.T,U:{H:P.l.Ds}},{f:P.E.T,U:{H:P.l.Ds,mVV:!0}},{f:P.E.T,U:{H:P.l.ND,yc:"open_from_url"}},{f:P.E.T,U:{H:P.l.ND,yc:"camera"}},{sub:[{f:P.E.T,U:{H:P.l.mcl}}]},{f:P.E.T,U:{H:P.l.DT}},{f:P.E.T,U:{H:P.l.lt}},{sub:function(){var Q=Np.at(0),S=[];
for(var B=0;B<Q.length;B++)S.push({f:P.E.T,U:{H:P.l.ND,yc:"saveforweb",AD:B}});S.push({sub:function(){var y=Np.at(0).length,Q=Np.at(1),S=[];
for(var B=0;B<Q.length;B++)S.push({f:P.E.T,U:{H:P.l.ND,yc:"saveforweb",AD:y+B}});return S}()});return S}()},{f:P.E.T,U:{H:P.l.ND,yc:"eassets"}},{f:P.E.T,U:{H:P.l.ND,yc:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],yd:"Shift+Ctrl + Z"},{name:[2,1],yd:"Ctrl + Z",Uw:!0},{name:[2,11],yd:"Shift+Ctrl + F",Uw:!0,_A:!0,o:function(Q,S){return{o:M_.mFB(Q)&&S.Ht!=K.fM}}},{name:[5,0],yd:"Ctrl + X"},{name:[5,1],yd:"Ctrl + C"},{name:[5,7],yd:"Shift + Ctrl + C"},{name:[5,2],yd:"Ctrl + V",o:function(Q,S){return{o:window.ClipboardItem||S.$l!=null||S.Gx!=null||S.mCI!=null}}},{name:[2,2],o:function(Q){return{o:Q!=null&&Q.m!=null}},yd:"Delete",Uw:!0},{name:[2,3],o:function(Q){return{o:Q!=null}},_A:!0,yd:"Shift + F5"},{name:[14,9],o:function(Q){return{o:Q!=null}},_A:!0,Uw:!0},{name:[10,16],yd:"Alt+Ctrl + T"},{name:[2,4],sub:Mb.mLs()},{name:[2,10],Uw:!0},{name:[12,87],sub:[{name:[12,62],o:function(Q){return{o:Q!=null}}},{name:[9,3],o:function(Q){return{o:Q!=null}}},{name:[10,31],o:function(Q){return{o:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].add.vmsk!=null}}}]},{name:[12,79],_A:!0,yd:"Ctrl + K"},{name:[1,13],_A:!0}],SY:[{f:P.E.D,h:K.CF,U:{H:"h_undoredo"}},{f:P.E.D,h:K.CF,U:{H:"h_stepfwd"}},{f:P.E.D,h:K.CF,U:{H:"h_stepbck"}},{f:P.E.T,U:{H:P.l.ND,yc:"afw_fade"}},{f:P.E.T,U:{H:P.l.uc}},{f:P.E.T,U:{H:P.l.DY}},{f:P.E.T,U:{H:P.l.DY,aO:!0}},{f:P.E.T,U:{H:P.l.W$}},{f:P.E.RK,U:{QF:"delete"}},{f:P.E.T,U:{H:P.l.ND,yc:"fill"}},{f:P.E.T,U:{H:P.l.ND,yc:"stroke"}},{f:P.E.T,U:{H:P.l.oE,h:K.fM}},{sub:Mb.mLk()},{f:P.E.D,h:K.Sb,U:{H:z.mzM}},{sub:[{f:P.E.T,U:{H:P.l.rI,yQ:0}},{f:P.E.T,U:{H:P.l.rI,yQ:1}},{f:P.E.T,U:{H:P.l.rI,yQ:2}}]},{f:P.E.T,U:{H:P.l.ND,yc:"preferences"}},{f:P.E.T,U:{H:P.l.ND,yc:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var Q=[];
for(var S in Nf.names){Q.push({name:Nf.names[S],_A:H[S]!=null,yd:A.mFj(Nf.keys[S]),Uw:Nf.jj.indexOf(S)!=-1});
if(S=="selc")Q.push({name:[19,7,0],yd:"Ctrl+Shift + U"})}return Q}()},{name:[4,16,0],o:function(Q){return{o:Q!=null&&Q.pD(!1)}}},{name:[4,16,1],o:function(Q){return{o:Q!=null&&Q.pD(!1)}}},{name:[4,16,2],o:function(Q){return{o:Q!=null&&Q.pD(!1)}},Uw:!0},{name:[11,11],o:function(Q){return{o:Q!=null&&Q.pD(!1)}},Uw:!0},{name:[11,3],_A:!0,yd:"Alt+Ctrl+C"},{name:[11,10],_A:!0,yd:"Alt+Ctrl+I"},{name:[2,4],sub:[{name:"90\xB0 \u21BB",o:function(Q){return{os:Nd.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",o:function(Q){return{os:Nd.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",o:function(Q){return{os:Nd.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]},{name:[11,12,1],o:function(Q){return{o:Q!=null&&Q.m!=null}}},{name:[11,12,0],o:function(Q){return{o:Q!=null}},yd:"Ctrl + ."}],SY:[{sub:function(){var Q=[];
for(var S in Nf.names){Q.push({f:P.E.D,h:K.Gf,U:{H:"start",ZH:S}});if(S=="selc")Q.push({f:P.E.RK,U:{QF:"desaturate"}})}return Q}()},{f:P.E.D,h:K.Gf,U:{H:"auto",GP:0}},{f:P.E.D,h:K.Gf,U:{H:"auto",GP:1}},{f:P.E.D,h:K.Gf,U:{H:"auto",GP:2}},{f:P.E.T,U:{H:P.l.ND,yc:"vbitmap"}},{f:P.E.T,U:{H:P.l.ND,yc:"csize"}},{f:P.E.T,U:{H:P.l.ND,yc:"isize"}},{sub:[{f:P.E.D,h:K.wb,U:{H:"rot",$a:[2,5],z:-Math.PI/2}},{f:P.E.D,h:K.wb,U:{H:"rot",$a:[2,5],z:-3*Math.PI/2}},{f:P.E.D,h:K.wb,U:{H:"rot",$a:[2,5],z:Math.PI}},{f:P.E.D,h:K.wb,U:{H:"scl",$a:[2,6,[22,4,2]],z:new v(-1,1)}},{f:P.E.D,h:K.wb,U:{H:"scl",$a:[2,6,[22,4,3]],z:new v(1,-1)}}]},{f:P.E.D,h:K.wb,U:{H:"cropbysel",oY:0}},{f:P.E.D,h:K.wb,U:{H:"trim",oY:0}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],yd:"Ctrl + J"}]},{name:[6,0],yd:"Ctrl + J"},{name:[11,4],o:function(Q){return{o:Q!=null}}},{name:[5,4],Uw:!0},{name:[11,6],Uw:!0,o:function(Q){return{o:Q!=null&&Q.I.length!=0}},sub:mL.meK(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],Uw:!0,sub:mL.myL()},{name:[6,2],sub:[{name:[6,4],o:function(Q){return{o:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].Tb()==null}}},{name:[6,5,0],o:function(Q){return{o:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].Tb()==null}}},{name:[6,5,1],o:function(Q){return{o:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].Tb()==null&&Q.m!=null}}},{name:[6,5,2],o:function(Q){return{o:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].Tb()==null&&Q.m!=null}}},{name:[6,5,3],o:function(Q){return{o:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].Tb()==null}},Uw:!0},{name:[5,4],o:function(Q){return{o:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].Tb()!=null}}},{name:[5,8],o:function(Q){return{o:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].Tb()!=null&&Q.pD(!1,!0)}}},{name:"Enable/Disable",o:function(Q){return{os:Nd.get([5,5])+"/"+Nd.get([5,6]),o:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].Tb()!=null}}}]},{name:[6,3],sub:[{name:[6,4],o:function(Q){return{o:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].add.vmsk==null}}},{name:[6,5,0],o:function(Q){return{o:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].add.vmsk==null}}},{name:[5,4],o:function(Q){return{o:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].add.vmsk!=null}}},{name:"Enable/Disable",o:function(Q){return{os:Nd.get([5,5])+"/"+Nd.get([5,6]),o:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].add.vmsk!=null}}}]},{name:[6,6,0],yd:"Alt+Ctrl+G",Uw:!0,o:function(Q){return{MH:Q!=null&&Q.I.length!=0&&Q.G[Q.I[0]].J$,o:Q!=null&&Q.Ok(Q.I[0])}}},{name:[6,7]},{name:[6,8],o:function(Q){if(Q==null||Q.I.length==0)return{o:!1};
var S=Q.G[Q.I[0]];if(S.add.TySh||S.add.SoLd||S.add.SoCo||S.add.GdFl||S.add.PtFl)return{o:!0};return{o:!1}}},{name:[6,34],Uw:!0,o:function(Q){if(Q==null||Q.I.length==0)return{o:!1};
var S=Q.G[Q.I[0]];return{o:S.add.lmfx!=null&&!S.So()}}},{name:[6,9],Uw:!0,yd:"Ctrl+G"},{name:[6,55],Uw:!0,sub:[{name:[6,56,0],yd:"Shift+Ctrl+]"},{name:[6,56,1],yd:"Ctrl+]"},{name:[6,56,2],yd:"Ctrl+["},{name:[6,56,3],yd:"Shift+Ctrl+["}]},{name:"Animation",sub:[{name:[18,5]}]},{name:[6,10],o:function(Q){return{o:Q!=null&&Q.I.length==1&&Q.I[0]!=0&&!Q.G[Q.I[0]].So()}},yd:"Ctrl+E"},{name:[6,12,0],o:function(Q){return{o:Q!=null&&Q.I.length!=0&&(Q.I.length>1||Q.G[Q.I[0]].So())}}},{name:[6,12,1]}],SY:[{sub:[{f:P.E.D,h:K.Sb,U:{H:z.eT}},{f:P.E.D,h:K.Sb,U:{H:z.Of}},{f:P.E.D,h:K.Sb,U:{H:z.yP}}]},{f:P.E.D,h:K.Sb,U:{H:z.m$}},{f:P.E.T,U:{H:P.l.ND,yc:"duplinto"}},{f:P.E.D,h:K.Sb,U:{H:z.ej}},{sub:mL.myz(!0)},{sub:[{f:P.E.D,h:K.Ec,U:{H:"newfill",ok:0}},{f:P.E.RK,U:K.sE.bH(1)},{f:P.E.RK,U:K.sE.bH(2)}]},{sub:mL.mVu()},{sub:[{f:P.E.D,h:K.Sb,U:{H:z.UY,aD:"RvlA"}},{f:P.E.D,h:K.Sb,U:{H:z.UY,aD:"HdAl"}},{f:P.E.D,h:K.Sb,U:{H:z.UY,aD:"RvlS"}},{f:P.E.D,h:K.Sb,U:{H:z.UY,aD:"HdSl"}},{f:P.E.D,h:K.Sb,U:{H:z.UY,aD:"Trns"}},{f:P.E.D,h:K.Sb,U:{H:z.Cy}},{f:P.E.D,h:K.Sb,U:{H:z.Vs}},{f:P.E.D,h:K.Sb,U:{H:z.XJ}}]},{sub:[{f:P.E.D,h:K.Sb,U:{H:z.XV,mVE:!1}},{f:P.E.D,h:K.Sb,U:{H:z.XV,mVE:!0}},{f:P.E.D,h:K.Sb,U:{H:z.CV}},{f:P.E.D,h:K.Sb,U:{H:z.CR}}]},{f:P.E.D,h:K.Sb,U:{H:z.Xp}},{f:P.E.RK,U:{QF:"newPlacedLayer"}},{f:P.E.D,h:K.Sb,U:{H:z.Dk}},{f:P.E.D,h:K.Sb,U:{H:z.VU}},{f:P.E.D,h:K.Sb,U:{H:z.mD}},{sub:[{f:P.E.D,h:K.Sb,U:{H:z.DR,Di:0}},{f:P.E.D,h:K.Sb,U:{H:z.DR,Di:1}},{f:P.E.D,h:K.Sb,U:{H:z.DR,Di:2}},{f:P.E.D,h:K.Sb,U:{H:z.DR,Di:3}}]},{sub:[{f:P.E.D,h:K.Sb,U:{H:z.mWs}}]},{f:P.E.D,h:K.Sb,U:{H:z.XM}},{f:P.E.D,h:K.Sb,U:{H:z.mr}},{f:P.E.RK,U:{QF:"flattenImage"}}]},mA.mVL(!1),function(){var Q={name:[0,6],items:[{name:[24,18,4],yd:"Alt + Ctrl + F",Uw:!0}],SY:[{f:P.E.D,h:K.bI,U:{H:"applylast"}}]};
for(var S=0;S<m_.tT.length;S++){var B=m_.tT[S];if(B.DW!=null){Q.items.push({name:m_.names[B.DW],_A:!0,Uw:B.Uw});
Q.SY.push({f:P.E.D,h:K.bI,U:{H:"start",kd:B.DW}});continue}var y={name:B.MX,sub:[]};Q.items.push(y);
var l={sub:[]};Q.SY.push(l);for(var D=0;D<B.Ux.length;D++){var R={name:m_.names[B.Ux[D]],_A:m_.yh(B.Ux[D])!=null};
y.sub.push(R);var p={f:P.E.D,h:K.bI,U:{H:"start",kd:B.Ux[D]}};l.sub.push(p)}}return Q}(),{name:[0,7],items:[{name:[8,0],yd:"Ctrl + +"},{name:[8,1],yd:"Ctrl + -"},{name:[20,3],yd:"Ctrl + 0"},{name:[20,2],yd:"Ctrl + 1",Uw:!0},{name:"Extras",yd:"Ctrl + H",o:function(Q,S){return{MH:S.fn}}},{name:[8,12],Uw:!0,sub:[{name:[17,2],o:function(Q,S){return{o:S.fn,MH:S.Ke.Zd}}},{name:[8,9],o:function(Q,S){return{o:S.fn,MH:S.Ke.SX}}},{name:[8,2],o:function(Q,S){return{o:S.fn,MH:S.Ke.WM}},yd:"Ctrl + ;"},{name:[8,4],o:function(Q,S){return{o:S.fn,MH:S.Ke.Zp}},yd:"Ctrl + '"},{name:[8,8],o:function(Q,S){return{o:S.fn,MH:S.Ke.BQ}}},{name:[8,11,0],o:function(Q,S){return{o:S.fn,MH:S.Ke.$q}}}]},{name:[8,3],o:function(Q,S){return{MH:S.If}},yd:"Ctrl + R",Uw:!0},{name:[8,5],o:function(Q,S){return{MH:S.bc}}},{name:[8,6],Uw:!0,sub:[{name:[8,2],o:function(Q,S){return{MH:S.Pw[0]}}},{name:[8,4],o:function(Q,S){return{MH:S.Pw[1]}}},{name:[8,11,0],o:function(Q,S){return{MH:S.Pw[3]}}},{name:[8,7],o:function(Q,S){return{MH:S.Pw[4]}}}]},{name:[11,15,0],o:function(Q,S){return{o:Q!=null}}},{name:[11,14],o:function(Q,S){return{o:Q!=null}},_A:!0},{name:[11,15,1],o:function(Q,S){return{o:Q!=null&&Q.I.length!=0}}}],SY:[{f:P.E.D,h:K.Gu,U:{H:"zoom",ig:!0}},{f:P.E.D,h:K.Gu,U:{H:"zoom",ig:!1}},{f:P.E.D,h:K.Gu,U:{H:"adapt",z:"fitscr"}},{f:P.E.D,h:K.Gu,U:{H:"adapt",z:"pixel"}},{f:P.E.T,U:{H:P.l.Kk,yQ:rS.VW}},{sub:[{f:P.E.T,U:{H:P.l.Kk,yQ:rS.XU}},{f:P.E.T,U:{H:P.l.Kk,yQ:rS.Yj}},{f:P.E.T,U:{H:P.l.Kk,yQ:rS.YO}},{f:P.E.T,U:{H:P.l.Kk,yQ:rS.Xu}},{f:P.E.T,U:{H:P.l.Kk,yQ:rS.qs}},{f:P.E.T,U:{H:P.l.Kk,yQ:rS.Xg}}]},{f:P.E.T,U:{H:P.l.Kk,yQ:rS.XC}},{f:P.E.T,U:{H:P.l.Kk,yQ:rS.Um}},{sub:[{f:P.E.T,U:{H:P.l.Kk,yQ:rS.YS,HR:0}},{f:P.E.T,U:{H:P.l.Kk,yQ:rS.YS,HR:1}},{f:P.E.T,U:{H:P.l.Kk,yQ:rS.YS,HR:3}},{f:P.E.T,U:{H:P.l.Kk,yQ:rS.YS,HR:4}}]},{f:P.E.D,h:K.vc,U:{H:"gids",GA:[[],[]]}},{f:P.E.T,U:{H:P.l.ND,yc:"addguides"}},{f:P.E.D,h:K.vc,U:{H:"gidsFromLayer"}}]},function(){var Q={name:[0,8],items:[],SY:[]};
for(var S=0;S<rD.VF.length;S++){var B=rD.VF[S];Q.items.push({name:B.qr.name});Q.SY.push({f:P.E.T,U:{H:P.l.WI,yc:B.qr.aw}})}return Q}(),function(){var Q={name:[0,14],items:[],SY:[]},S={name:[0,9],sub:[]};
Q.items.push(S);var B={sub:[]};Q.SY.push(B);var y=Nd.mnd();for(var l=0;l<y.length;l++){var D=y[l],R=D.code,p=Nd.bS(R);
S.sub.push({name:D.name,yd:R,o:function(O,M){return{MH:this.yd==Nd.bY()}}});B.sub.push({f:P.E.T,U:{H:P.l.Kk,yQ:rS.XE,lang:p}})}S.sub.push({name:[0,12]});
B.sub.push({f:P.E.T,U:{H:P.l.FR,link:"https://www.photopea.com/translate/"}});var S={name:[0,15],sub:[]};
Q.items.push(S);var B={sub:[]};Q.SY.push(B);for(var l=0;l<MQ.Jv.length;l++){S.sub.push({name:MQ.Jv[l].name,o:function(O,M){return{MH:this.name==MQ.Jv[M.QD].name}}});
B.sub.push({f:P.E.T,U:{H:P.l.Kk,yQ:rS.SR,QD:l}})}Q.items.push({name:"Install Photopea",o:function(O,M){return{o:M.GZ!=null}}});
Q.SY.push({f:P.E.T,U:{H:P.l.mdM}});Q.items.push({name:[11,13]});Q.SY.push({f:P.E.T,U:{H:P.l.ND,yc:"shortcuts"}});
Q.items.push({name:[0,16],o:function(O){return{MH:W.Kf,o:W.HT}}});Q.SY.push({f:P.E.T,U:{H:P.l.mLE}});
return Q}()];function QC(){NJ.call(this);this.p=P.P("div","");this.Rz=0;this.Rq=0;this.Kv=null;this.CQ=P.P("div","");
this.CQ.setAttribute("style","width:200em; height:100em; position:absolute;");this.eO=[];this.Wa=[]}QC.prototype=new NJ;
QC.prototype.OH=function(){this.Wa=[new Rb,new pJ,new mu,new QE,new MS,new Qp,new Mk,new LM,new rl,new Lv,new mB,new Rj,new rE,new QI,new mL,new QK,new Mh,new MV,new Lg,new ph,new mx,new Lh,new Lr,new rB,new MT,new Qs,new LU,new mi,new mD("border",[7,9],"px"),new mD("smoothness",[19,3,0],"px"),new mD("expand",[7,4],"px"),new mD("contract",[7,5],"px"),new mD("feather",[7,6],"px"),new Mt("namewindow",[12,48])];
for(var Q in H)this.Wa.push(new M_(Q));for(var S=0;S<this.Wa.length;S++){var B=this.Wa[S];B.w(P.E.Dq,this.ab,this);
B.parent=this}};QC.prototype.Kl=function(Q,S){this.Rz=Q;this.Rq=S;for(var B=0;B<this.Wa.length;B++)this.mhi(this.Wa[B])};
QC.prototype.b=function(){for(var Q=0;Q<this.Wa.length;Q++)this.Wa[Q].b()};QC.prototype.gI=function(){return this.eO.length==0?null:this.eO[this.eO.length-1]};
QC.prototype.TA=function(){for(var Q=0;Q<this.eO.length;Q++)if(this.eO[Q].TA())return!0;return!1};QC.prototype.mhh=function(Q,S,B,y,l){if(this.Wa.length==0){this.OH();
this.Kl(this.Rz,this.Rq);this.b();if(this.Kv)this.on(this.Kv,rS.E_)}var D=null;if(typeof Q=="object"){D=Q;
if(!D.bQ(P.E.Dq,this.ab))D.w(P.E.Dq,this.ab,this);D.parent=this}else for(var R=0;R<this.Wa.length;R++)if(this.Wa[R].id==Q)D=this.Wa[R];
if(this.TA()&&D.TA()){alert("Finish the current action first");return}if(!D.UN(S))return;if(this.eO.indexOf(D)!=-1){if(Q=="colorpicker")D.Cp(S,B,y,l);
return}this.mhi(D);var p=this.eO.length-1;if(p>=0)P.Te(this.eO[p].p,"wdisabled");this.p.appendChild(D.p);
this.eO.push(D);D.Cp(S,B,y,l)};QC.prototype.mhi=function(Q){var S=this.Rz,B=this.Rq,y=Q.Rs(S,B);Q.p.style.left=y.x+"px";
Q.p.style.top=this.p.offsetTop+y.y+"px";Q.Kl(this.Rz-y.x*2,this.Rq-y.y*2-34)};QC.prototype.on=function(Q,S){this.Kv=Q;
for(var B=0;B<this.Wa.length;B++)this.Wa[B].on(Q,S)};QC.prototype.ab=function(Q){var S=this.eO.pop();
this.p.removeChild(S.p);var B=this.eO.length-1;if(B>=0)P.Dt(this.eO[B].p,"wdisabled");if(this.CQ.parentNode==this.p)this.p.removeChild(this.CQ)};
window.onload=function(){var Q=new mh;document.body.appendChild(Q.p)}}())